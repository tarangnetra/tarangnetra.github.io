function Tse(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Z$e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Og(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var FM={exports:{}},Dx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wQ;function Bse(){if(wQ)return Dx;wQ=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:a}}return Dx.Fragment=e,Dx.jsx=t,Dx.jsxs=t,Dx}var xQ;function Ise(){return xQ||(xQ=1,FM.exports=Bse()),FM.exports}var S=Ise(),jM={exports:{}},Si={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CQ;function kse(){if(CQ)return Si;CQ=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function C(Oe){return Oe===null||typeof Oe!="object"?null:(Oe=y&&Oe[y]||Oe["@@iterator"],typeof Oe=="function"?Oe:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function M(Oe,ze,ne){this.props=Oe,this.context=ze,this.refs=N,this.updater=ne||x}M.prototype.isReactComponent={},M.prototype.setState=function(Oe,ze){if(typeof Oe!="object"&&typeof Oe!="function"&&Oe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Oe,ze,"setState")},M.prototype.forceUpdate=function(Oe){this.updater.enqueueForceUpdate(this,Oe,"forceUpdate")};function D(){}D.prototype=M.prototype;function H(Oe,ze,ne){this.props=Oe,this.context=ze,this.refs=N,this.updater=ne||x}var q=H.prototype=new D;q.constructor=H,k(q,M.prototype),q.isPureReactComponent=!0;var $=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function he(Oe,ze,ne,ae,ve,Re){return ne=Re.ref,{$$typeof:r,type:Oe,key:ze,ref:ne!==void 0?ne:null,props:Re}}function le(Oe,ze){return he(Oe.type,ze,void 0,void 0,void 0,Oe.props)}function fe(Oe){return typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===r}function Ne(Oe){var ze={"=":"=0",":":"=2"};return"$"+Oe.replace(/[=:]/g,function(ne){return ze[ne]})}var W=/\/+/g;function ue(Oe,ze){return typeof Oe=="object"&&Oe!==null&&Oe.key!=null?Ne(""+Oe.key):ze.toString(36)}function de(){}function me(Oe){switch(Oe.status){case"fulfilled":return Oe.value;case"rejected":throw Oe.reason;default:switch(typeof Oe.status=="string"?Oe.then(de,de):(Oe.status="pending",Oe.then(function(ze){Oe.status==="pending"&&(Oe.status="fulfilled",Oe.value=ze)},function(ze){Oe.status==="pending"&&(Oe.status="rejected",Oe.reason=ze)})),Oe.status){case"fulfilled":return Oe.value;case"rejected":throw Oe.reason}}throw Oe}function Qe(Oe,ze,ne,ae,ve){var Re=typeof Oe;(Re==="undefined"||Re==="boolean")&&(Oe=null);var qe=!1;if(Oe===null)qe=!0;else switch(Re){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(Oe.$$typeof){case r:case e:qe=!0;break;case f:return qe=Oe._init,Qe(qe(Oe._payload),ze,ne,ae,ve)}}if(qe)return ve=ve(Oe),qe=ae===""?"."+ue(Oe,0):ae,$(ve)?(ne="",qe!=null&&(ne=qe.replace(W,"$&/")+"/"),Qe(ve,ze,ne,"",function(ot){return ot})):ve!=null&&(fe(ve)&&(ve=le(ve,ne+(ve.key==null||Oe&&Oe.key===ve.key?"":(""+ve.key).replace(W,"$&/")+"/")+qe)),ze.push(ve)),1;qe=0;var Ze=ae===""?".":ae+":";if($(Oe))for(var st=0;st<Oe.length;st++)ae=Oe[st],Re=Ze+ue(ae,st),qe+=Qe(ae,ze,ne,Re,ve);else if(st=C(Oe),typeof st=="function")for(Oe=st.call(Oe),st=0;!(ae=Oe.next()).done;)ae=ae.value,Re=Ze+ue(ae,st++),qe+=Qe(ae,ze,ne,Re,ve);else if(Re==="object"){if(typeof Oe.then=="function")return Qe(me(Oe),ze,ne,ae,ve);throw ze=String(Oe),Error("Objects are not valid as a React child (found: "+(ze==="[object Object]"?"object with keys {"+Object.keys(Oe).join(", ")+"}":ze)+"). If you meant to render a collection of children, use an array instead.")}return qe}function Ee(Oe,ze,ne){if(Oe==null)return Oe;var ae=[],ve=0;return Qe(Oe,ae,"","",function(Re){return ze.call(ne,Re,ve++)}),ae}function _e(Oe){if(Oe._status===-1){var ze=Oe._result;ze=ze(),ze.then(function(ne){(Oe._status===0||Oe._status===-1)&&(Oe._status=1,Oe._result=ne)},function(ne){(Oe._status===0||Oe._status===-1)&&(Oe._status=2,Oe._result=ne)}),Oe._status===-1&&(Oe._status=0,Oe._result=ze)}if(Oe._status===1)return Oe._result.default;throw Oe._result}var ke=typeof reportError=="function"?reportError:function(Oe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ze=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Oe=="object"&&Oe!==null&&typeof Oe.message=="string"?String(Oe.message):String(Oe),error:Oe});if(!window.dispatchEvent(ze))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Oe);return}console.error(Oe)};function We(){}return Si.Children={map:Ee,forEach:function(Oe,ze,ne){Ee(Oe,function(){ze.apply(this,arguments)},ne)},count:function(Oe){var ze=0;return Ee(Oe,function(){ze++}),ze},toArray:function(Oe){return Ee(Oe,function(ze){return ze})||[]},only:function(Oe){if(!fe(Oe))throw Error("React.Children.only expected to receive a single React element child.");return Oe}},Si.Component=M,Si.Fragment=t,Si.Profiler=i,Si.PureComponent=H,Si.StrictMode=n,Si.Suspense=c,Si.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Si.__COMPILER_RUNTIME={__proto__:null,c:function(Oe){return ce.H.useMemoCache(Oe)}},Si.cache=function(Oe){return function(){return Oe.apply(null,arguments)}},Si.cloneElement=function(Oe,ze,ne){if(Oe==null)throw Error("The argument must be a React element, but you passed "+Oe+".");var ae=k({},Oe.props),ve=Oe.key,Re=void 0;if(ze!=null)for(qe in ze.ref!==void 0&&(Re=void 0),ze.key!==void 0&&(ve=""+ze.key),ze)!V.call(ze,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ze.ref===void 0||(ae[qe]=ze[qe]);var qe=arguments.length-2;if(qe===1)ae.children=ne;else if(1<qe){for(var Ze=Array(qe),st=0;st<qe;st++)Ze[st]=arguments[st+2];ae.children=Ze}return he(Oe.type,ve,void 0,void 0,Re,ae)},Si.createContext=function(Oe){return Oe={$$typeof:o,_currentValue:Oe,_currentValue2:Oe,_threadCount:0,Provider:null,Consumer:null},Oe.Provider=Oe,Oe.Consumer={$$typeof:a,_context:Oe},Oe},Si.createElement=function(Oe,ze,ne){var ae,ve={},Re=null;if(ze!=null)for(ae in ze.key!==void 0&&(Re=""+ze.key),ze)V.call(ze,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=ze[ae]);var qe=arguments.length-2;if(qe===1)ve.children=ne;else if(1<qe){for(var Ze=Array(qe),st=0;st<qe;st++)Ze[st]=arguments[st+2];ve.children=Ze}if(Oe&&Oe.defaultProps)for(ae in qe=Oe.defaultProps,qe)ve[ae]===void 0&&(ve[ae]=qe[ae]);return he(Oe,Re,void 0,void 0,null,ve)},Si.createRef=function(){return{current:null}},Si.forwardRef=function(Oe){return{$$typeof:s,render:Oe}},Si.isValidElement=fe,Si.lazy=function(Oe){return{$$typeof:f,_payload:{_status:-1,_result:Oe},_init:_e}},Si.memo=function(Oe,ze){return{$$typeof:A,type:Oe,compare:ze===void 0?null:ze}},Si.startTransition=function(Oe){var ze=ce.T,ne={};ce.T=ne;try{var ae=Oe(),ve=ce.S;ve!==null&&ve(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(We,ke)}catch(Re){ke(Re)}finally{ce.T=ze}},Si.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Si.use=function(Oe){return ce.H.use(Oe)},Si.useActionState=function(Oe,ze,ne){return ce.H.useActionState(Oe,ze,ne)},Si.useCallback=function(Oe,ze){return ce.H.useCallback(Oe,ze)},Si.useContext=function(Oe){return ce.H.useContext(Oe)},Si.useDebugValue=function(){},Si.useDeferredValue=function(Oe,ze){return ce.H.useDeferredValue(Oe,ze)},Si.useEffect=function(Oe,ze,ne){var ae=ce.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(Oe,ze)},Si.useId=function(){return ce.H.useId()},Si.useImperativeHandle=function(Oe,ze,ne){return ce.H.useImperativeHandle(Oe,ze,ne)},Si.useInsertionEffect=function(Oe,ze){return ce.H.useInsertionEffect(Oe,ze)},Si.useLayoutEffect=function(Oe,ze){return ce.H.useLayoutEffect(Oe,ze)},Si.useMemo=function(Oe,ze){return ce.H.useMemo(Oe,ze)},Si.useOptimistic=function(Oe,ze){return ce.H.useOptimistic(Oe,ze)},Si.useReducer=function(Oe,ze,ne){return ce.H.useReducer(Oe,ze,ne)},Si.useRef=function(Oe){return ce.H.useRef(Oe)},Si.useState=function(Oe){return ce.H.useState(Oe)},Si.useSyncExternalStore=function(Oe,ze,ne){return ce.H.useSyncExternalStore(Oe,ze,ne)},Si.useTransition=function(){return ce.H.useTransition()},Si.version="19.1.1",Si}var EQ;function Fw(){return EQ||(EQ=1,jM.exports=kse()),jM.exports}var Z=Fw();const bo=Og(Z),Nse=Tse({__proto__:null,default:bo},[Z]);var QM={exports:{}},Ux={},HM={exports:{}},zM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SQ;function Pse(){return SQ||(SQ=1,(function(r){function e(Ee,_e){var ke=Ee.length;Ee.push(_e);e:for(;0<ke;){var We=ke-1>>>1,Oe=Ee[We];if(0<i(Oe,_e))Ee[We]=_e,Ee[ke]=Oe,ke=We;else break e}}function t(Ee){return Ee.length===0?null:Ee[0]}function n(Ee){if(Ee.length===0)return null;var _e=Ee[0],ke=Ee.pop();if(ke!==_e){Ee[0]=ke;e:for(var We=0,Oe=Ee.length,ze=Oe>>>1;We<ze;){var ne=2*(We+1)-1,ae=Ee[ne],ve=ne+1,Re=Ee[ve];if(0>i(ae,ke))ve<Oe&&0>i(Re,ae)?(Ee[We]=Re,Ee[ve]=ke,We=ve):(Ee[We]=ae,Ee[ne]=ke,We=ne);else if(ve<Oe&&0>i(Re,ke))Ee[We]=Re,Ee[ve]=ke,We=ve;else break e}}return _e}function i(Ee,_e){var ke=Ee.sortIndex-_e.sortIndex;return ke!==0?ke:Ee.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();r.unstable_now=function(){return o.now()-s}}var c=[],A=[],f=1,y=null,C=3,x=!1,k=!1,N=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function $(Ee){for(var _e=t(A);_e!==null;){if(_e.callback===null)n(A);else if(_e.startTime<=Ee)n(A),_e.sortIndex=_e.expirationTime,e(c,_e);else break;_e=t(A)}}function ce(Ee){if(N=!1,$(Ee),!k)if(t(c)!==null)k=!0,V||(V=!0,ue());else{var _e=t(A);_e!==null&&Qe(ce,_e.startTime-Ee)}}var V=!1,he=-1,le=5,fe=-1;function Ne(){return M?!0:!(r.unstable_now()-fe<le)}function W(){if(M=!1,V){var Ee=r.unstable_now();fe=Ee;var _e=!0;try{e:{k=!1,N&&(N=!1,H(he),he=-1),x=!0;var ke=C;try{t:{for($(Ee),y=t(c);y!==null&&!(y.expirationTime>Ee&&Ne());){var We=y.callback;if(typeof We=="function"){y.callback=null,C=y.priorityLevel;var Oe=We(y.expirationTime<=Ee);if(Ee=r.unstable_now(),typeof Oe=="function"){y.callback=Oe,$(Ee),_e=!0;break t}y===t(c)&&n(c),$(Ee)}else n(c);y=t(c)}if(y!==null)_e=!0;else{var ze=t(A);ze!==null&&Qe(ce,ze.startTime-Ee),_e=!1}}break e}finally{y=null,C=ke,x=!1}_e=void 0}}finally{_e?ue():V=!1}}}var ue;if(typeof q=="function")ue=function(){q(W)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,me=de.port2;de.port1.onmessage=W,ue=function(){me.postMessage(null)}}else ue=function(){D(W,0)};function Qe(Ee,_e){he=D(function(){Ee(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ee){Ee.callback=null},r.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Ee?Math.floor(1e3/Ee):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Ee){switch(C){case 1:case 2:case 3:var _e=3;break;default:_e=C}var ke=C;C=_e;try{return Ee()}finally{C=ke}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(Ee,_e){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var ke=C;C=Ee;try{return _e()}finally{C=ke}},r.unstable_scheduleCallback=function(Ee,_e,ke){var We=r.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?We+ke:We):ke=We,Ee){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ke+Oe,Ee={id:f++,callback:_e,priorityLevel:Ee,startTime:ke,expirationTime:Oe,sortIndex:-1},ke>We?(Ee.sortIndex=ke,e(A,Ee),t(c)===null&&Ee===t(A)&&(N?(H(he),he=-1):N=!0,Qe(ce,ke-We))):(Ee.sortIndex=Oe,e(c,Ee),k||x||(k=!0,V||(V=!0,ue()))),Ee},r.unstable_shouldYield=Ne,r.unstable_wrapCallback=function(Ee){var _e=C;return function(){var ke=C;C=_e;try{return Ee.apply(this,arguments)}finally{C=ke}}}})(zM)),zM}var TQ;function Ose(){return TQ||(TQ=1,HM.exports=Pse()),HM.exports}var qM={exports:{}},Pu={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BQ;function Mse(){if(BQ)return Pu;BQ=1;var r=Fw();function e(c){var A="https://react.dev/errors/"+c;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)A+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,A,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:c,containerInfo:A,implementation:f}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(c,A){if(c==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return Pu.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pu.createPortal=function(c,A){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(e(299));return a(c,A,null,f)},Pu.flushSync=function(c){var A=o.T,f=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=A,n.p=f,n.d.f()}},Pu.preconnect=function(c,A){typeof c=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,n.d.C(c,A))},Pu.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Pu.preinit=function(c,A){if(typeof c=="string"&&A&&typeof A.as=="string"){var f=A.as,y=s(f,A.crossOrigin),C=typeof A.integrity=="string"?A.integrity:void 0,x=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;f==="style"?n.d.S(c,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:y,integrity:C,fetchPriority:x}):f==="script"&&n.d.X(c,{crossOrigin:y,integrity:C,fetchPriority:x,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},Pu.preinitModule=function(c,A){if(typeof c=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var f=s(A.as,A.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&n.d.M(c)},Pu.preload=function(c,A){if(typeof c=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var f=A.as,y=s(f,A.crossOrigin);n.d.L(c,f,{crossOrigin:y,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},Pu.preloadModule=function(c,A){if(typeof c=="string")if(A){var f=s(A.as,A.crossOrigin);n.d.m(c,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:f,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else n.d.m(c)},Pu.requestFormReset=function(c){n.d.r(c)},Pu.unstable_batchedUpdates=function(c,A){return c(A)},Pu.useFormState=function(c,A,f){return o.H.useFormState(c,A,f)},Pu.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pu.version="19.1.1",Pu}var IQ;function z$(){if(IQ)return qM.exports;IQ=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qM.exports=Mse(),qM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kQ;function Lse(){if(kQ)return Ux;kQ=1;var r=Ose(),e=Fw(),t=z$();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function a(h){var m=h,b=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(b=m.return),h=m.return;while(h)}return m.tag===3?b:null}function o(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function s(h){if(a(h)!==h)throw Error(n(188))}function c(h){var m=h.alternate;if(!m){if(m=a(h),m===null)throw Error(n(188));return m!==h?null:h}for(var b=h,B=m;;){var U=b.return;if(U===null)break;var K=U.alternate;if(K===null){if(B=U.return,B!==null){b=B;continue}break}if(U.child===K.child){for(K=U.child;K;){if(K===b)return s(U),h;if(K===B)return s(U),m;K=K.sibling}throw Error(n(188))}if(b.return!==B.return)b=U,B=K;else{for(var xe=!1,He=U.child;He;){if(He===b){xe=!0,b=U,B=K;break}if(He===B){xe=!0,B=U,b=K;break}He=He.sibling}if(!xe){for(He=K.child;He;){if(He===b){xe=!0,b=K,B=U;break}if(He===B){xe=!0,B=K,b=U;break}He=He.sibling}if(!xe)throw Error(n(189))}}if(b.alternate!==B)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?h:m}function A(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=A(h),m!==null)return m;h=h.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ue(h){return h===null||typeof h!="object"?null:(h=W&&h[W]||h["@@iterator"],typeof h=="function"?h:null)}var de=Symbol.for("react.client.reference");function me(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===de?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case k:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case ce:return"Suspense";case V:return"SuspenseList";case fe:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case x:return"Portal";case q:return(h.displayName||"Context")+".Provider";case H:return(h._context.displayName||"Context")+".Consumer";case $:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case he:return m=h.displayName||null,m!==null?m:me(h.type)||"Memo";case le:m=h._payload,h=h._init;try{return me(h(m))}catch{}}return null}var Qe=Array.isArray,Ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},We=[],Oe=-1;function ze(h){return{current:h}}function ne(h){0>Oe||(h.current=We[Oe],We[Oe]=null,Oe--)}function ae(h,m){Oe++,We[Oe]=h.current,h.current=m}var ve=ze(null),Re=ze(null),qe=ze(null),Ze=ze(null);function st(h,m){switch(ae(qe,m),ae(Re,h),ae(ve,null),m.nodeType){case 9:case 11:h=(h=m.documentElement)&&(h=h.namespaceURI)?Mi(h):0;break;default:if(h=m.tagName,m=m.namespaceURI)m=Mi(m),h=Bi(m,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}ne(ve),ae(ve,h)}function ot(){ne(ve),ne(Re),ne(qe)}function yt(h){h.memoizedState!==null&&ae(Ze,h);var m=ve.current,b=Bi(m,h.type);m!==b&&(ae(Re,h),ae(ve,b))}function Pe(h){Re.current===h&&(ne(ve),ne(Re)),Ze.current===h&&(ne(Ze),Px._currentValue=ke)}var oe=Object.prototype.hasOwnProperty,pe=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,re=r.unstable_shouldYield,Ue=r.unstable_requestPaint,be=r.unstable_now,et=r.unstable_getCurrentPriorityLevel,Ke=r.unstable_ImmediatePriority,mt=r.unstable_UserBlockingPriority,_t=r.unstable_NormalPriority,Kt=r.unstable_LowPriority,Gt=r.unstable_IdlePriority,tr=r.log,ur=r.unstable_setDisableYieldValue,nt=null,rt=null;function Ht(h){if(typeof tr=="function"&&ur(h),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(nt,h)}catch{}}var Tt=Math.clz32?Math.clz32:St,Jt=Math.log,rr=Math.LN2;function St(h){return h>>>=0,h===0?32:31-(Jt(h)/rr|0)|0}var Vt=256,Nt=4194304;function yr(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Gr(h,m,b){var B=h.pendingLanes;if(B===0)return 0;var U=0,K=h.suspendedLanes,xe=h.pingedLanes;h=h.warmLanes;var He=B&134217727;return He!==0?(B=He&~K,B!==0?U=yr(B):(xe&=He,xe!==0?U=yr(xe):b||(b=He&~h,b!==0&&(U=yr(b))))):(He=B&~K,He!==0?U=yr(He):xe!==0?U=yr(xe):b||(b=B&~h,b!==0&&(U=yr(b)))),U===0?0:m!==0&&m!==U&&(m&K)===0&&(K=U&-U,b=m&-m,K>=b||K===32&&(b&4194048)!==0)?m:U}function Xt(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function on(h,m){switch(h){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(){var h=Vt;return Vt<<=1,(Vt&4194048)===0&&(Vt=256),h}function xn(){var h=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),h}function De(h){for(var m=[],b=0;31>b;b++)m.push(h);return m}function ye(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function we(h,m,b,B,U,K){var xe=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var He=h.entanglements,lt=h.expirationTimes,kt=h.hiddenUpdates;for(b=xe&~b;0<b;){var er=31-Tt(b),cr=1<<er;He[er]=0,lt[er]=-1;var Dt=kt[er];if(Dt!==null)for(kt[er]=null,er=0;er<Dt.length;er++){var jt=Dt[er];jt!==null&&(jt.lane&=-536870913)}b&=~cr}B!==0&&Se(h,B,0),K!==0&&U===0&&h.tag!==0&&(h.suspendedLanes|=K&~(xe&~m))}function Se(h,m,b){h.pendingLanes|=m,h.suspendedLanes&=~m;var B=31-Tt(m);h.entangledLanes|=m,h.entanglements[B]=h.entanglements[B]|1073741824|b&4194090}function Je(h,m){var b=h.entangledLanes|=m;for(h=h.entanglements;b;){var B=31-Tt(b),U=1<<B;U&m|h[B]&m&&(h[B]|=m),b&=~U}}function ut(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function xt(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function dt(){var h=_e.p;return h!==0?h:(h=window.event,h===void 0?32:mQ(h.type))}function tt(h,m){var b=_e.p;try{return _e.p=h,m()}finally{_e.p=b}}var At=Math.random().toString(36).slice(2),zt="__reactFiber$"+At,qt="__reactProps$"+At,or="__reactContainer$"+At,Sr="__reactEvents$"+At,Ir="__reactListeners$"+At,Rr="__reactHandles$"+At,Ln="__reactResources$"+At,kn="__reactMarker$"+At;function An(h){delete h[zt],delete h[qt],delete h[Sr],delete h[Ir],delete h[Rr]}function dn(h){var m=h[zt];if(m)return m;for(var b=h.parentNode;b;){if(m=b[or]||b[zt]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(h=a0(h);h!==null;){if(b=h[zt])return b;h=a0(h)}return m}h=b,b=h.parentNode}return null}function Dr(h){if(h=h[zt]||h[or]){var m=h.tag;if(m===5||m===6||m===13||m===26||m===27||m===3)return h}return null}function Qr(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h.stateNode;throw Error(n(33))}function gn(h){var m=h[Ln];return m||(m=h[Ln]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Rn(h){h[kn]=!0}var $i=new Set,Va={};function Yi(h,m){ba(h,m),ba(h+"Capture",m)}function ba(h,m){for(Va[h]=m,h=0;h<m.length;h++)$i.add(m[h])}var Wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},wA={};function ip(h){return oe.call(wA,h)?!0:oe.call(Zu,h)?!1:Wu.test(h)?wA[h]=!0:(Zu[h]=!0,!1)}function mi(h,m,b){if(ip(m))if(b===null)h.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":h.removeAttribute(m);return;case"boolean":var B=m.toLowerCase().slice(0,5);if(B!=="data-"&&B!=="aria-"){h.removeAttribute(m);return}}h.setAttribute(m,""+b)}}function Ga(h,m,b){if(b===null)h.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(m);return}h.setAttribute(m,""+b)}}function Es(h,m,b,B){if(B===null)h.removeAttribute(b);else{switch(typeof B){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(b);return}h.setAttributeNS(m,b,""+B)}}var Uo,Pa;function Xu(h){if(Uo===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);Uo=m&&m[1]||"",Pa=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uo+h+Pa}var rs=!1;function ns(h,m){if(!h||rs)return"";rs=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var B={DetermineComponentFrameRoot:function(){try{if(m){var cr=function(){throw Error()};if(Object.defineProperty(cr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(cr,[])}catch(jt){var Dt=jt}Reflect.construct(h,[],cr)}else{try{cr.call()}catch(jt){Dt=jt}h.call(cr.prototype)}}else{try{throw Error()}catch(jt){Dt=jt}(cr=h())&&typeof cr.catch=="function"&&cr.catch(function(){})}}catch(jt){if(jt&&Dt&&typeof jt.stack=="string")return[jt.stack,Dt.stack]}return[null,null]}};B.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(B.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(B.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=B.DetermineComponentFrameRoot(),xe=K[0],He=K[1];if(xe&&He){var lt=xe.split(`
`),kt=He.split(`
`);for(U=B=0;B<lt.length&&!lt[B].includes("DetermineComponentFrameRoot");)B++;for(;U<kt.length&&!kt[U].includes("DetermineComponentFrameRoot");)U++;if(B===lt.length||U===kt.length)for(B=lt.length-1,U=kt.length-1;1<=B&&0<=U&&lt[B]!==kt[U];)U--;for(;1<=B&&0<=U;B--,U--)if(lt[B]!==kt[U]){if(B!==1||U!==1)do if(B--,U--,0>U||lt[B]!==kt[U]){var er=`
`+lt[B].replace(" at new "," at ");return h.displayName&&er.includes("<anonymous>")&&(er=er.replace("<anonymous>",h.displayName)),er}while(1<=B&&0<=U);break}}}finally{rs=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?Xu(b):""}function Lh(h){switch(h.tag){case 26:case 27:case 5:return Xu(h.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 15:return ns(h.type,!1);case 11:return ns(h.type.render,!1);case 1:return ns(h.type,!0);case 31:return Xu("Activity");default:return""}}function lu(h){try{var m="";do m+=Lh(h),h=h.return;while(h);return m}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function Tn(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Cc(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Vl(h){var m=Cc(h)?"checked":"value",b=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),B=""+h[m];if(!h.hasOwnProperty(m)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var U=b.get,K=b.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return U.call(this)},set:function(xe){B=""+xe,K.call(this,xe)}}),Object.defineProperty(h,m,{enumerable:b.enumerable}),{getValue:function(){return B},setValue:function(xe){B=""+xe},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function Dn(h){h._valueTracker||(h._valueTracker=Vl(h))}function Ss(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var b=m.getValue(),B="";return h&&(B=Cc(h)?h.checked?"true":"false":h.value),h=B,h!==b?(m.setValue(h),!0):!1}function _n(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Rh=/[\n"\\]/g;function oi(h){return h.replace(Rh,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Ju(h,m,b,B,U,K,xe,He){h.name="",xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?h.type=xe:h.removeAttribute("type"),m!=null?xe==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+Tn(m)):h.value!==""+Tn(m)&&(h.value=""+Tn(m)):xe!=="submit"&&xe!=="reset"||h.removeAttribute("value"),m!=null?eh(h,xe,Tn(m)):b!=null?eh(h,xe,Tn(b)):B!=null&&h.removeAttribute("value"),U==null&&K!=null&&(h.defaultChecked=!!K),U!=null&&(h.checked=U&&typeof U!="function"&&typeof U!="symbol"),He!=null&&typeof He!="function"&&typeof He!="symbol"&&typeof He!="boolean"?h.name=""+Tn(He):h.removeAttribute("name")}function lf(h,m,b,B,U,K,xe,He){if(K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(h.type=K),m!=null||b!=null){if(!(K!=="submit"&&K!=="reset"||m!=null))return;b=b!=null?""+Tn(b):"",m=m!=null?""+Tn(m):b,He||m===h.value||(h.value=m),h.defaultValue=m}B=B??U,B=typeof B!="function"&&typeof B!="symbol"&&!!B,h.checked=He?h.checked:!!B,h.defaultChecked=!!B,xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"&&(h.name=xe)}function eh(h,m,b){m==="number"&&_n(h.ownerDocument)===h||h.defaultValue===""+b||(h.defaultValue=""+b)}function Gl(h,m,b,B){if(h=h.options,m){m={};for(var U=0;U<b.length;U++)m["$"+b[U]]=!0;for(b=0;b<h.length;b++)U=m.hasOwnProperty("$"+h[b].value),h[b].selected!==U&&(h[b].selected=U),U&&B&&(h[b].defaultSelected=!0)}else{for(b=""+Tn(b),m=null,U=0;U<h.length;U++){if(h[U].value===b){h[U].selected=!0,B&&(h[U].defaultSelected=!0);return}m!==null||h[U].disabled||(m=h[U])}m!==null&&(m.selected=!0)}}function Fo(h,m,b){if(m!=null&&(m=""+Tn(m),m!==h.value&&(h.value=m),b==null)){h.defaultValue!==m&&(h.defaultValue=m);return}h.defaultValue=b!=null?""+Tn(b):""}function Dh(h,m,b,B){if(m==null){if(B!=null){if(b!=null)throw Error(n(92));if(Qe(B)){if(1<B.length)throw Error(n(93));B=B[0]}b=B}b==null&&(b=""),m=b}b=Tn(m),h.defaultValue=b,B=h.textContent,B===b&&B!==""&&B!==null&&(h.value=B)}function wl(h,m){if(m){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=m;return}}h.textContent=m}var Uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fh(h,m,b){var B=m.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?B?h.setProperty(m,""):m==="float"?h.cssFloat="":h[m]="":B?h.setProperty(m,b):typeof b!="number"||b===0||Uh.has(m)?m==="float"?h.cssFloat=b:h[m]=(""+b).trim():h[m]=b+"px"}function cf(h,m,b){if(m!=null&&typeof m!="object")throw Error(n(62));if(h=h.style,b!=null){for(var B in b)!b.hasOwnProperty(B)||m!=null&&m.hasOwnProperty(B)||(B.indexOf("--")===0?h.setProperty(B,""):B==="float"?h.cssFloat="":h[B]="");for(var U in m)B=m[U],m.hasOwnProperty(U)&&b[U]!==B&&Fh(h,U,B)}else for(var K in m)m.hasOwnProperty(K)&&Fh(h,K,m[K])}function uf(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ec(h){return jh.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Sc=null;function md(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ts=null,Tc=null;function On(h){var m=Dr(h);if(m&&(h=m.stateNode)){var b=h[qt]||null;e:switch(h=m.stateNode,m.type){case"input":if(Ju(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),m=b.name,b.type==="radio"&&m!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+oi(""+m)+'"][type="radio"]'),m=0;m<b.length;m++){var B=b[m];if(B!==h&&B.form===h.form){var U=B[qt]||null;if(!U)throw Error(n(90));Ju(B,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(m=0;m<b.length;m++)B=b[m],B.form===h.form&&Ss(B)}break e;case"textarea":Fo(h,b.value,b.defaultValue);break e;case"select":m=b.value,m!=null&&Gl(h,!!b.multiple,m,!1)}}}var Bc=!1;function Qh(h,m,b){if(Bc)return h(m,b);Bc=!0;try{var B=h(m);return B}finally{if(Bc=!1,(Ts!==null||Tc!==null)&&(I1(),Ts&&(m=Ts,h=Tc,Tc=Ts=null,On(m),h)))for(m=0;m<h.length;m++)On(h[m])}}function Co(h,m){var b=h.stateNode;if(b===null)return null;var B=b[qt]||null;if(B===null)return null;b=B[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(h=h.type,B=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!B;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(n(231,m,typeof b));return b}var Ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(Ic)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){el=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{el=!1}var tl=null,Hh=null,$l=null;function Yl(){if($l)return $l;var h,m=Hh,b=m.length,B,U="value"in tl?tl.value:tl.textContent,K=U.length;for(h=0;h<b&&m[h]===U[h];h++);var xe=b-h;for(B=1;B<=xe&&m[b-B]===U[K-B];B++);return $l=U.slice(h,1<B?1-B:void 0)}function xl(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Wn(){return!0}function xA(){return!1}function Oa(h){function m(b,B,U,K,xe){this._reactName=b,this._targetInst=U,this.type=B,this.nativeEvent=K,this.target=xe,this.currentTarget=null;for(var He in h)h.hasOwnProperty(He)&&(b=h[He],this[He]=b?b(K):K[He]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?Wn:xA,this.isPropagationStopped=xA,this}return f(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),m}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Oa(rl),Ea=f({},rl,{view:0,detail:0}),th=Oa(Ea),kc,Nc,cu,Pc=f({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==cu&&(cu&&h.type==="mousemove"?(kc=h.screenX-cu.screenX,Nc=h.screenY-cu.screenY):Nc=kc=0,cu=h),kc)},movementY:function(h){return"movementY"in h?h.movementY:Nc}}),Oc=Oa(Pc),rh=f({},Pc,{dataTransfer:0}),is=Oa(rh),jo=f({},Ea,{relatedTarget:0}),Y=Oa(jo),Be=f({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Xe=Oa(Be),ct=f({},rl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),wt=Oa(ct),Zt=f({},rl,{data:0}),nr=Oa(Zt),Vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ur(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Bn[h])?!!m[h]:!1}function vi(){return Ur}var Sa=f({},Ea,{key:function(h){if(h.key){var m=Vr[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=xl(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?nn[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(h){return h.type==="keypress"?xl(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?xl(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),$a=Oa(Sa),Li=f({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=Oa(Li),lo=f({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),co=Oa(lo),nh=f({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uu=Oa(nh),gd=f({},Pc,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),CA=Oa(gd),Vi=f({},rl,{newState:0,oldState:0}),nl=Oa(Vi),Zn=[9,13,27,32],Ri=Ic&&"CompositionEvent"in window,si=null;Ic&&"documentMode"in document&&(si=document.documentMode);var Ya=Ic&&"TextEvent"in window&&!si,Mc=Ic&&(!Ri||si&&8<si&&11>=si),Wl=" ",EA=!1;function ih(h,m){switch(h){case"keyup":return Zn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Zl=!1;function zh(h,m){switch(h){case"compositionend":return as(m);case"keypress":return m.which!==32?null:(EA=!0,Wl);case"textInput":return h=m.data,h===Wl&&EA?null:h;default:return null}}function Af(h,m){if(Zl)return h==="compositionend"||!Ri&&ih(h,m)?(h=Yl(),$l=Hh=tl=null,Zl=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Mc&&m.locale!=="ko"?null:m.data;default:return null}}var Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ms(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!Wa[h.type]:m==="textarea"}function SA(h,m,b,B){Ts?Tc?Tc.push(B):Tc=[B]:Ts=B,m=Ds(m,"onChange"),0<m.length&&(b=new oo("onChange","change",null,b,B),h.push({event:b,listeners:m}))}var hu=null,bi=null;function Xl(h){Gn(h,0)}function ea(h){var m=Qr(h);if(Ss(m))return h}function os(h,m){if(h==="change")return m}var Au=!1;if(Ic){var Cl;if(Ic){var Bs="oninput"in document;if(!Bs){var du=document.createElement("div");du.setAttribute("oninput","return;"),Bs=typeof du.oninput=="function"}Cl=Bs}else Cl=!1;Au=Cl&&(!document.documentMode||9<document.documentMode)}function Lc(){hu&&(hu.detachEvent("onpropertychange",Ta),bi=hu=null)}function Ta(h){if(h.propertyName==="value"&&ea(bi)){var m=[];SA(m,bi,h,md(h)),Qh(Xl,m)}}function df(h,m,b){h==="focusin"?(Lc(),hu=m,bi=b,hu.attachEvent("onpropertychange",Ta)):h==="focusout"&&Lc()}function Jl(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return ea(bi)}function il(h,m){if(h==="click")return ea(m)}function ec(h,m){if(h==="input"||h==="change")return ea(m)}function yd(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Eo=typeof Object.is=="function"?Object.is:yd;function Rc(h,m){if(Eo(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var b=Object.keys(h),B=Object.keys(m);if(b.length!==B.length)return!1;for(B=0;B<b.length;B++){var U=b[B];if(!oe.call(m,U)||!Eo(h[U],m[U]))return!1}return!0}function ah(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function fu(h,m){var b=ah(h);h=0;for(var B;b;){if(b.nodeType===3){if(B=h+b.textContent.length,h<=m&&B>=m)return{node:b,offset:m-h};h=B}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=ah(b)}}function Dc(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Dc(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function oh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var m=_n(h.document);m instanceof h.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)h=m.contentWindow;else break;m=_n(h.document)}return m}function Ba(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}var al=Ic&&"documentMode"in document&&11>=document.documentMode,Qn=null,li=null,aa=null,Ni=!1;function ol(h,m,b){var B=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Ni||Qn==null||Qn!==_n(B)||(B=Qn,"selectionStart"in B&&Ba(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),aa&&Rc(aa,B)||(aa=B,B=Ds(li,"onSelect"),0<B.length&&(m=new oo("onSelect","select",null,m,b),h.push({event:m,listeners:B}),m.target=Qn)))}function tc(h,m){var b={};return b[h.toLowerCase()]=m.toLowerCase(),b["Webkit"+h]="webkit"+m,b["Moz"+h]="moz"+m,b}var Is={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionrun:tc("Transition","TransitionRun"),transitionstart:tc("Transition","TransitionStart"),transitioncancel:tc("Transition","TransitionCancel"),transitionend:tc("Transition","TransitionEnd")},qh={},TA={};Ic&&(TA=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Qo(h){if(qh[h])return qh[h];if(!Is[h])return h;var m=Is[h],b;for(b in m)if(m.hasOwnProperty(b)&&b in TA)return qh[h]=m[b];return h}var Nr=Qo("animationend"),gs=Qo("animationiteration"),Uc=Qo("animationstart"),BA=Qo("transitionrun"),dm=Qo("transitionstart"),kr=Qo("transitioncancel"),sh=Qo("transitionend"),ap=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function El(h,m){ap.set(h,m),Yi(m,[h])}var IA=new WeakMap;function ks(h,m){if(typeof h=="object"&&h!==null){var b=IA.get(h);return b!==void 0?b:(m={value:h,source:m,stack:lu(m)},IA.set(h,m),m)}return{value:h,source:m,stack:lu(m)}}var So=[],wi=0,kA=0;function NA(){for(var h=wi,m=kA=wi=0;m<h;){var b=So[m];So[m++]=null;var B=So[m];So[m++]=null;var U=So[m];So[m++]=null;var K=So[m];if(So[m++]=null,B!==null&&U!==null){var xe=B.pending;xe===null?U.next=U:(U.next=xe.next,xe.next=U),B.pending=U}K!==0&&op(b,U,K)}}function Vh(h,m,b,B){So[wi++]=h,So[wi++]=m,So[wi++]=b,So[wi++]=B,kA|=B,h.lanes|=B,h=h.alternate,h!==null&&(h.lanes|=B)}function vd(h,m,b,B){return Vh(h,m,b,B),Ho(h)}function pu(h,m){return Vh(h,null,null,m),Ho(h)}function op(h,m,b){h.lanes|=b;var B=h.alternate;B!==null&&(B.lanes|=b);for(var U=!1,K=h.return;K!==null;)K.childLanes|=b,B=K.alternate,B!==null&&(B.childLanes|=b),K.tag===22&&(h=K.stateNode,h===null||h._visibility&1||(U=!0)),h=K,K=K.return;return h.tag===3?(K=h.stateNode,U&&m!==null&&(U=31-Tt(b),h=K.hiddenUpdates,B=h[U],B===null?h[U]=[m]:B.push(m),m.lane=b|536870912),K):null}function Ho(h){if(50<Xv)throw Xv=0,vp=null,Error(n(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}var Ma={};function Lr(h,m,b,B){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(h,m,b,B){return new Lr(h,m,b,B)}function rc(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Sl(h,m){var b=h.alternate;return b===null?(b=Hr(h.tag,m,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=m,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&65011712,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,m=h.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function Gh(h,m){h.flags&=65011714;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,m=b.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function Za(h,m,b,B,U,K){var xe=0;if(B=h,typeof h=="function")rc(h)&&(xe=1);else if(typeof h=="string")xe=U1(h,b,ve.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case fe:return h=Hr(31,b,m,U),h.elementType=fe,h.lanes=K,h;case k:return Tl(b.children,U,K,m);case N:xe=8,U|=24;break;case M:return h=Hr(12,b,m,U|2),h.elementType=M,h.lanes=K,h;case ce:return h=Hr(13,b,m,U),h.elementType=ce,h.lanes=K,h;case V:return h=Hr(19,b,m,U),h.elementType=V,h.lanes=K,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case D:case q:xe=10;break e;case H:xe=9;break e;case $:xe=11;break e;case he:xe=14;break e;case le:xe=16,B=null;break e}xe=29,b=Error(n(130,h===null?"null":typeof h,"")),B=null}return m=Hr(xe,b,m,U),m.elementType=h,m.type=B,m.lanes=K,m}function Tl(h,m,b,B){return h=Hr(7,h,B,m),h.lanes=b,h}function Ns(h,m,b){return h=Hr(6,h,null,m),h.lanes=b,h}function _d(h,m,b){return m=Hr(4,h.children!==null?h.children:[],h.key,m),m.lanes=b,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}var nc=[],Di=0,ua=null,bd=0,ss=[],ls=0,lh=null,Fc=1,ic="";function ac(h,m){nc[Di++]=bd,nc[Di++]=ua,ua=h,bd=m}function ff(h,m,b){ss[ls++]=Fc,ss[ls++]=ic,ss[ls++]=lh,lh=h;var B=Fc;h=ic;var U=32-Tt(B)-1;B&=~(1<<U),b+=1;var K=32-Tt(m)+U;if(30<K){var xe=U-U%5;K=(B&(1<<xe)-1).toString(32),B>>=xe,U-=xe,Fc=1<<32-Tt(m)+U|b<<U|B,ic=K+h}else Fc=1<<K|b<<U|B,ic=h}function $h(h){h.return!==null&&(ac(h,1),ff(h,1,0))}function mu(h){for(;h===ua;)ua=nc[--Di],nc[Di]=null,bd=nc[--Di],nc[Di]=null;for(;h===lh;)lh=ss[--ls],ss[ls]=null,ic=ss[--ls],ss[ls]=null,Fc=ss[--ls],ss[ls]=null}var Xa=null,ha=null,Pi=!1,gu=null,Bl=!1,PA=Error(n(519));function yu(h){var m=Error(n(418,""));throw Il(ks(m,h)),PA}function sp(h){var m=h.stateNode,b=h.type,B=h.memoizedProps;switch(m[zt]=h,m[qt]=B,b){case"dialog":Er("cancel",m),Er("close",m);break;case"iframe":case"object":case"embed":Er("load",m);break;case"video":case"audio":for(b=0;b<Fr.length;b++)Er(Fr[b],m);break;case"source":Er("error",m);break;case"img":case"image":case"link":Er("error",m),Er("load",m);break;case"details":Er("toggle",m);break;case"input":Er("invalid",m),lf(m,B.value,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name,!0),Dn(m);break;case"select":Er("invalid",m);break;case"textarea":Er("invalid",m),Dh(m,B.value,B.defaultValue,B.children),Dn(m)}b=B.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||m.textContent===""+b||B.suppressHydrationWarning===!0||GA(m.textContent,b)?(B.popover!=null&&(Er("beforetoggle",m),Er("toggle",m)),B.onScroll!=null&&Er("scroll",m),B.onScrollEnd!=null&&Er("scrollend",m),B.onClick!=null&&(m.onclick=vs),m=!0):m=!1,m||yu(h)}function oc(h){for(Xa=h.return;Xa;)switch(Xa.tag){case 5:case 13:Bl=!1;return;case 27:case 3:Bl=!0;return;default:Xa=Xa.return}}function cs(h){if(h!==Xa)return!1;if(!Pi)return oc(h),Pi=!0,!1;var m=h.tag,b;if((b=m!==3&&m!==27)&&((b=m===5)&&(b=h.type,b=!(b!=="form"&&b!=="button")||Ei(h.type,h.memoizedProps)),b=!b),b&&ha&&yu(h),oc(h),m===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8)if(b=h.data,b==="/$"){if(m===0){ha=Iu(h.nextSibling);break e}m--}else b!=="$"&&b!=="$!"&&b!=="$?"||m++;h=h.nextSibling}ha=null}}else m===27?(m=ha,ds(h.type)?(h=rA,rA=null,ha=h):ha=m):ha=Xa?Iu(h.stateNode.nextSibling):null;return!0}function Ps(){ha=Xa=null,Pi=!1}function lp(){var h=gu;return h!==null&&(Vc===null?Vc=h:Vc.push.apply(Vc,h),gu=null),h}function Il(h){gu===null?gu=[h]:gu.push(h)}var sc=ze(null),To=null,vu=null;function ch(h,m,b){ae(sc,m._currentValue),m._currentValue=b}function lc(h){h._currentValue=sc.current,ne(sc)}function pf(h,m,b){for(;h!==null;){var B=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,B!==null&&(B.childLanes|=m)):B!==null&&(B.childLanes&m)!==m&&(B.childLanes|=m),h===b)break;h=h.return}}function mf(h,m,b,B){var U=h.child;for(U!==null&&(U.return=h);U!==null;){var K=U.dependencies;if(K!==null){var xe=U.child;K=K.firstContext;e:for(;K!==null;){var He=K;K=U;for(var lt=0;lt<m.length;lt++)if(He.context===m[lt]){K.lanes|=b,He=K.alternate,He!==null&&(He.lanes|=b),pf(K.return,b,h),B||(xe=null);break e}K=He.next}}else if(U.tag===18){if(xe=U.return,xe===null)throw Error(n(341));xe.lanes|=b,K=xe.alternate,K!==null&&(K.lanes|=b),pf(xe,b,h),xe=null}else xe=U.child;if(xe!==null)xe.return=U;else for(xe=U;xe!==null;){if(xe===h){xe=null;break}if(U=xe.sibling,U!==null){U.return=xe.return,xe=U;break}xe=xe.return}U=xe}}function OA(h,m,b,B){h=null;for(var U=m,K=!1;U!==null;){if(!K){if((U.flags&524288)!==0)K=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var xe=U.alternate;if(xe===null)throw Error(n(387));if(xe=xe.memoizedProps,xe!==null){var He=U.type;Eo(U.pendingProps.value,xe.value)||(h!==null?h.push(He):h=[He])}}else if(U===Ze.current){if(xe=U.alternate,xe===null)throw Error(n(387));xe.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(h!==null?h.push(Px):h=[Px])}U=U.return}h!==null&&mf(m,h,b,B),m.flags|=262144}function gf(h){for(h=h.firstContext;h!==null;){if(!Eo(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Os(h){To=h,vu=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function uo(h){return MA(To,h)}function _u(h,m){return To===null&&Os(h),MA(h,m)}function MA(h,m){var b=m._currentValue;if(m={context:m,memoizedValue:b,next:null},vu===null){if(h===null)throw Error(n(308));vu=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else vu=vu.next=m;return b}var fm=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(b,B){h.push(B)}};this.abort=function(){m.aborted=!0,h.forEach(function(b){return b()})}},cp=r.unstable_scheduleCallback,Mv=r.unstable_NormalPriority,La={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new fm,data:new Map,refCount:0}}function yf(h){h.refCount--,h.refCount===0&&cp(Mv,function(){h.controller.abort()})}var bu=null,up=0,jc=0,uh=null;function Vg(h,m){if(bu===null){var b=bu=[];up=0,jc=Cr(),uh={status:"pending",value:void 0,then:function(B){b.push(B)}}}return up++,m.then(Gg,Gg),m}function Gg(){if(--up===0&&bu!==null){uh!==null&&(uh.status="fulfilled");var h=bu;bu=null,jc=0,uh=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function LA(h,m){var b=[],B={status:"pending",value:null,reason:null,then:function(U){b.push(U)}};return h.then(function(){B.status="fulfilled",B.value=m;for(var U=0;U<b.length;U++)(0,b[U])(m)},function(U){for(B.status="rejected",B.reason=U,U=0;U<b.length;U++)(0,b[U])(void 0)}),B}var O=Ee.S;Ee.S=function(h,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&Vg(h,m),O!==null&&O(h,m)};var F=ze(null);function _(){var h=F.current;return h!==null?h:Ia.pooledCache}function l(h,m){m===null?ae(F,F.current):ae(F,m.pool)}function p(){var h=_();return h===null?null:{parent:La._currentValue,pool:h}}var v=Error(n(460)),E=Error(n(474)),I=Error(n(542)),R={then:function(){}};function j(h){return h=h.status,h==="fulfilled"||h==="rejected"}function G(){}function se(h,m,b){switch(b=h[b],b===void 0?h.push(m):b!==m&&(m.then(G,G),m=b),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,Ae(h),h;default:if(typeof m.status=="string")m.then(G,G);else{if(h=Ia,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=m,h.status="pending",h.then(function(B){if(m.status==="pending"){var U=m;U.status="fulfilled",U.value=B}},function(B){if(m.status==="pending"){var U=m;U.status="rejected",U.reason=B}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,Ae(h),h}throw X=m,v}}var X=null;function ee(){if(X===null)throw Error(n(459));var h=X;return X=null,h}function Ae(h){if(h===v||h===I)throw Error(n(483))}var Te=!1;function Ce(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Le(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Me(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function $e(h,m,b){var B=h.updateQueue;if(B===null)return null;if(B=B.shared,(da&2)!==0){var U=B.pending;return U===null?m.next=m:(m.next=U.next,U.next=m),B.pending=m,m=Ho(h),op(h,null,b),m}return Vh(h,B,m,b),Ho(h)}function Ge(h,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194048)!==0)){var B=m.lanes;B&=h.pendingLanes,b|=B,m.lanes=b,Je(h,b)}}function at(h,m){var b=h.updateQueue,B=h.alternate;if(B!==null&&(B=B.updateQueue,b===B)){var U=null,K=null;if(b=b.firstBaseUpdate,b!==null){do{var xe={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};K===null?U=K=xe:K=K.next=xe,b=b.next}while(b!==null);K===null?U=K=m:K=K.next=m}else U=K=m;b={baseState:B.baseState,firstBaseUpdate:U,lastBaseUpdate:K,shared:B.shared,callbacks:B.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=m:h.next=m,b.lastBaseUpdate=m}var ft=!1;function Ct(){if(ft){var h=uh;if(h!==null)throw h}}function pt(h,m,b,B){ft=!1;var U=h.updateQueue;Te=!1;var K=U.firstBaseUpdate,xe=U.lastBaseUpdate,He=U.shared.pending;if(He!==null){U.shared.pending=null;var lt=He,kt=lt.next;lt.next=null,xe===null?K=kt:xe.next=kt,xe=lt;var er=h.alternate;er!==null&&(er=er.updateQueue,He=er.lastBaseUpdate,He!==xe&&(He===null?er.firstBaseUpdate=kt:He.next=kt,er.lastBaseUpdate=lt))}if(K!==null){var cr=U.baseState;xe=0,er=kt=lt=null,He=K;do{var Dt=He.lane&-536870913,jt=Dt!==He.lane;if(jt?(zi&Dt)===Dt:(B&Dt)===Dt){Dt!==0&&Dt===jc&&(ft=!0),er!==null&&(er=er.next={lane:0,tag:He.tag,payload:He.payload,callback:null,next:null});e:{var $n=h,Fn=He;Dt=m;var Ua=b;switch(Fn.tag){case 1:if($n=Fn.payload,typeof $n=="function"){cr=$n.call(Ua,cr,Dt);break e}cr=$n;break e;case 3:$n.flags=$n.flags&-65537|128;case 0:if($n=Fn.payload,Dt=typeof $n=="function"?$n.call(Ua,cr,Dt):$n,Dt==null)break e;cr=f({},cr,Dt);break e;case 2:Te=!0}}Dt=He.callback,Dt!==null&&(h.flags|=64,jt&&(h.flags|=8192),jt=U.callbacks,jt===null?U.callbacks=[Dt]:jt.push(Dt))}else jt={lane:Dt,tag:He.tag,payload:He.payload,callback:He.callback,next:null},er===null?(kt=er=jt,lt=cr):er=er.next=jt,xe|=Dt;if(He=He.next,He===null){if(He=U.shared.pending,He===null)break;jt=He,He=jt.next,jt.next=null,U.lastBaseUpdate=jt,U.shared.pending=null}}while(!0);er===null&&(lt=cr),U.baseState=lt,U.firstBaseUpdate=kt,U.lastBaseUpdate=er,K===null&&(U.shared.lanes=0),Tf|=xe,h.lanes=xe,h.memoizedState=cr}}function Mt(h,m){if(typeof h!="function")throw Error(n(191,h));h.call(m)}function Qt(h,m){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)Mt(b[h],m)}var Ft=ze(null),Lt=ze(0);function Pt(h,m){h=Jh,ae(Lt,h),ae(Ft,m),Jh=h|m.baseLanes}function Br(){ae(Lt,Jh),ae(Ft,Ft.current)}function hr(){Jh=Lt.current,ne(Ft),ne(Lt)}var ir=0,It=null,sr=null,Tr=null,mr=!1,sn=!1,Cn=!1,rn=0,zr=0,Pr=null,bn=0;function xr(){throw Error(n(321))}function En(h,m){if(m===null)return!1;for(var b=0;b<m.length&&b<h.length;b++)if(!Eo(h[b],m[b]))return!1;return!0}function Wi(h,m,b,B,U,K){return ir=K,It=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Ee.H=h===null||h.memoizedState===null?vT:wf,Cn=!1,K=b(B,U),Cn=!1,sn&&(K=va(m,b,B,U)),ti(h),K}function ti(h){Ee.H=i1;var m=sr!==null&&sr.next!==null;if(ir=0,Tr=sr=It=null,mr=!1,zr=0,Pr=null,m)throw Error(n(300));h===null||cl||(h=h.dependencies,h!==null&&gf(h)&&(cl=!0))}function va(h,m,b,B){It=h;var U=0;do{if(sn&&(Pr=null),zr=0,sn=!1,25<=U)throw Error(n(301));if(U+=1,Tr=sr=null,h.updateQueue!=null){var K=h.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}Ee.H=TM,K=m(b,B)}while(sn);return K}function Vn(){var h=Ee.H,m=h.useState()[0];return m=typeof m.then=="function"?zn(m):m,h=h.useState()[0],(sr!==null?sr.memoizedState:null)!==h&&(It.flags|=1024),m}function Un(){var h=rn!==0;return rn=0,h}function Ai(h,m,b){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~b}function Aa(h){if(mr){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}mr=!1}ir=0,Tr=sr=It=null,sn=!1,zr=rn=0,Pr=null}function yn(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?It.memoizedState=Tr=h:Tr=Tr.next=h,Tr}function Nn(){if(sr===null){var h=It.alternate;h=h!==null?h.memoizedState:null}else h=sr.next;var m=Tr===null?It.memoizedState:Tr.next;if(m!==null)Tr=m,sr=h;else{if(h===null)throw It.alternate===null?Error(n(467)):Error(n(310));sr=h,h={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},Tr===null?It.memoizedState=Tr=h:Tr=Tr.next=h}return Tr}function Hn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zn(h){var m=zr;return zr+=1,Pr===null&&(Pr=[]),h=se(Pr,h,m),m=It,(Tr===null?m.memoizedState:Tr.next)===null&&(m=m.alternate,Ee.H=m===null||m.memoizedState===null?vT:wf),h}function qn(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return zn(h);if(h.$$typeof===q)return uo(h)}throw Error(n(438,String(h)))}function ci(h){var m=null,b=It.updateQueue;if(b!==null&&(m=b.memoCache),m==null){var B=It.alternate;B!==null&&(B=B.updateQueue,B!==null&&(B=B.memoCache,B!=null&&(m={data:B.data.map(function(U){return U.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),b===null&&(b=Hn(),It.updateQueue=b),b.memoCache=m,b=m.data[m.index],b===void 0)for(b=m.data[m.index]=Array(h),B=0;B<h;B++)b[B]=Ne;return m.index++,b}function gi(h,m){return typeof m=="function"?m(h):m}function us(h){var m=Nn();return ho(m,sr,h)}function ho(h,m,b){var B=h.queue;if(B===null)throw Error(n(311));B.lastRenderedReducer=b;var U=h.baseQueue,K=B.pending;if(K!==null){if(U!==null){var xe=U.next;U.next=K.next,K.next=xe}m.baseQueue=U=K,B.pending=null}if(K=h.baseState,U===null)h.memoizedState=K;else{m=U.next;var He=xe=null,lt=null,kt=m,er=!1;do{var cr=kt.lane&-536870913;if(cr!==kt.lane?(zi&cr)===cr:(ir&cr)===cr){var Dt=kt.revertLane;if(Dt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),cr===jc&&(er=!0);else if((ir&Dt)===Dt){kt=kt.next,Dt===jc&&(er=!0);continue}else cr={lane:0,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},lt===null?(He=lt=cr,xe=K):lt=lt.next=cr,It.lanes|=Dt,Tf|=Dt;cr=kt.action,Cn&&b(K,cr),K=kt.hasEagerState?kt.eagerState:b(K,cr)}else Dt={lane:cr,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},lt===null?(He=lt=Dt,xe=K):lt=lt.next=Dt,It.lanes|=cr,Tf|=cr;kt=kt.next}while(kt!==null&&kt!==m);if(lt===null?xe=K:lt.next=He,!Eo(K,h.memoizedState)&&(cl=!0,er&&(b=uh,b!==null)))throw b;h.memoizedState=K,h.baseState=xe,h.baseQueue=lt,B.lastRenderedState=K}return U===null&&(B.lanes=0),[h.memoizedState,B.dispatch]}function ui(h){var m=Nn(),b=m.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=h;var B=b.dispatch,U=b.pending,K=m.memoizedState;if(U!==null){b.pending=null;var xe=U=U.next;do K=h(K,xe.action),xe=xe.next;while(xe!==U);Eo(K,m.memoizedState)||(cl=!0),m.memoizedState=K,m.baseQueue===null&&(m.baseState=K),b.lastRenderedState=K}return[K,B]}function sl(h,m,b){var B=It,U=Nn(),K=Pi;if(K){if(b===void 0)throw Error(n(407));b=b()}else b=m();var xe=!Eo((sr||U).memoizedState,b);xe&&(U.memoizedState=b,cl=!0),U=U.queue;var He=oa.bind(null,B,U,h);if(Wh(2048,8,He,[h]),U.getSnapshot!==m||xe||Tr!==null&&Tr.memoizedState.tag&1){if(B.flags|=2048,RA(9,bf(),Hi.bind(null,B,U,b,m),null),Ia===null)throw Error(n(349));K||(ir&124)!==0||Qc(B,m,b)}return b}function Qc(h,m,b){h.flags|=16384,h={getSnapshot:m,value:b},m=It.updateQueue,m===null?(m=Hn(),It.updateQueue=m,m.stores=[h]):(b=m.stores,b===null?m.stores=[h]:b.push(h))}function Hi(h,m,b,B){m.value=b,m.getSnapshot=B,Hc(m)&&zc(h)}function oa(h,m,b){return b(function(){Hc(m)&&zc(h)})}function Hc(h){var m=h.getSnapshot;h=h.value;try{var b=m();return!Eo(h,b)}catch{return!0}}function zc(h){var m=pu(h,2);m!==null&&Tu(m,h,2)}function wu(h){var m=yn();if(typeof h=="function"){var b=h;if(h=b(),Cn){Ht(!0);try{b()}finally{Ht(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:h},m}function ys(h,m,b,B){return h.baseState=b,ho(h,sr,typeof B=="function"?B:gi)}function pm(h,m,b,B,U){if(Uv(h))throw Error(n(485));if(h=m.action,h!==null){var K={payload:U,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(xe){K.listeners.push(xe)}};Ee.T!==null?b(!0):K.isTransition=!1,B(K),b=m.pending,b===null?(K.next=m.pending=K,mm(m,K)):(K.next=b.next,m.pending=b.next=K)}}function mm(h,m){var b=m.action,B=m.payload,U=h.state;if(m.isTransition){var K=Ee.T,xe={};Ee.T=xe;try{var He=b(U,B),lt=Ee.S;lt!==null&&lt(xe,He),cc(h,m,He)}catch(kt){ll(h,m,kt)}finally{Ee.T=K}}else try{K=b(U,B),cc(h,m,K)}catch(kt){ll(h,m,kt)}}function cc(h,m,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(B){Yh(h,m,B)},function(B){return ll(h,m,B)}):Yh(h,m,b)}function Yh(h,m,b){m.status="fulfilled",m.value=b,vf(m),h.state=b,m=h.pending,m!==null&&(b=m.next,b===m?h.pending=null:(b=b.next,m.next=b,mm(h,b)))}function ll(h,m,b){var B=h.pending;if(h.pending=null,B!==null){B=B.next;do m.status="rejected",m.reason=b,vf(m),m=m.next;while(m!==B)}h.action=null}function vf(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function kl(h,m){return m}function hp(h,m){if(Pi){var b=Ia.formState;if(b!==null){e:{var B=It;if(Pi){if(ha){t:{for(var U=ha,K=Bl;U.nodeType!==8;){if(!K){U=null;break t}if(U=Iu(U.nextSibling),U===null){U=null;break t}}K=U.data,U=K==="F!"||K==="F"?U:null}if(U){ha=Iu(U.nextSibling),B=U.data==="F!";break e}}yu(B)}B=!1}B&&(m=b[0])}}return b=yn(),b.memoizedState=b.baseState=m,B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:m},b.queue=B,b=r1.bind(null,It,B),B.dispatch=b,B=wu(!1),K=n1.bind(null,It,!1,B.queue),B=yn(),U={state:m,dispatch:null,action:h,pending:null},B.queue=U,b=pm.bind(null,It,U,K,b),U.dispatch=b,B.memoizedState=h,[m,b,!1]}function $g(h){var m=Nn();return _f(m,sr,h)}function _f(h,m,b){if(m=ho(h,m,kl)[0],h=us(gi)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var B=zn(m)}catch(xe){throw xe===v?I:xe}else B=m;m=Nn();var U=m.queue,K=U.dispatch;return b!==m.memoizedState&&(It.flags|=2048,RA(9,bf(),e1.bind(null,U,b),null)),[B,K,h]}function e1(h,m){h.action=m}function t1(h){var m=Nn(),b=sr;if(b!==null)return _f(m,b,h);Nn(),m=m.memoizedState,b=Nn();var B=b.queue.dispatch;return b.memoizedState=h,[m,B,!1]}function RA(h,m,b,B){return h={tag:h,create:b,deps:B,inst:m,next:null},m=It.updateQueue,m===null&&(m=Hn(),It.updateQueue=m),b=m.lastEffect,b===null?m.lastEffect=h.next=h:(B=b.next,b.next=h,h.next=B,m.lastEffect=h),h}function bf(){return{destroy:void 0,resource:void 0}}function gm(){return Nn().memoizedState}function Ms(h,m,b,B){var U=yn();B=B===void 0?null:B,It.flags|=h,U.memoizedState=RA(1|m,bf(),b,B)}function Wh(h,m,b,B){var U=Nn();B=B===void 0?null:B;var K=U.memoizedState.inst;sr!==null&&B!==null&&En(B,sr.memoizedState.deps)?U.memoizedState=RA(m,K,b,B):(It.flags|=h,U.memoizedState=RA(1|m,K,b,B))}function Lv(h,m){Ms(8390656,8,h,m)}function Yg(h,m){Wh(2048,8,h,m)}function xd(h,m){return Wh(4,2,h,m)}function sa(h,m){return Wh(4,4,h,m)}function ym(h,m){if(typeof m=="function"){h=h();var b=m(h);return function(){typeof b=="function"?b():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function Wg(h,m,b){b=b!=null?b.concat([h]):null,Wh(4,4,ym.bind(null,m,h),b)}function Ap(){}function dp(h,m){var b=Nn();m=m===void 0?null:m;var B=b.memoizedState;return m!==null&&En(m,B[1])?B[0]:(b.memoizedState=[h,m],h)}function fp(h,m){var b=Nn();m=m===void 0?null:m;var B=b.memoizedState;if(m!==null&&En(m,B[1]))return B[0];if(B=h(),Cn){Ht(!0);try{h()}finally{Ht(!1)}}return b.memoizedState=[B,m],B}function Cd(h,m,b){return b===void 0||(ir&1073741824)!==0?h.memoizedState=m:(h.memoizedState=b,h=Jv(),It.lanes|=h,Tf|=h,b)}function vm(h,m,b,B){return Eo(b,m)?b:Ft.current!==null?(h=Cd(h,b,B),Eo(h,m)||(cl=!0),h):(ir&42)===0?(cl=!0,h.memoizedState=b):(h=Jv(),It.lanes|=h,Tf|=h,m)}function DA(h,m,b,B,U){var K=_e.p;_e.p=K!==0&&8>K?K:8;var xe=Ee.T,He={};Ee.T=He,n1(h,!1,m,b);try{var lt=U(),kt=Ee.S;if(kt!==null&&kt(He,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var er=LA(lt,B);wm(h,m,er,Su(h))}else wm(h,m,B,Su(h))}catch(cr){wm(h,m,{then:function(){},status:"rejected",reason:cr},Su())}finally{_e.p=K,Ee.T=xe}}function hh(){}function xu(h,m,b,B){if(h.tag!==5)throw Error(n(476));var U=Zh(h).queue;DA(h,U,m,ke,b===null?hh:function(){return _m(h),b(B)})}function Zh(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:ke},next:null};var b={};return m.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:b},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function _m(h){var m=Zh(h).next.queue;wm(h,m,{},Su())}function UA(){return uo(Px)}function Rv(){return Nn().memoizedState}function Zg(){return Nn().memoizedState}function Dv(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var b=Su();h=Me(b);var B=$e(m,h,b);B!==null&&(Tu(B,m,b),Ge(B,m,b)),m={cache:wd()},h.payload=m;return}m=m.return}}function bm(h,m,b){var B=Su();b={lane:B,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},Uv(h)?gT(m,b):(b=vd(h,m,b,B),b!==null&&(Tu(b,h,B),yT(b,m,B)))}function r1(h,m,b){var B=Su();wm(h,m,b,B)}function wm(h,m,b,B){var U={lane:B,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(Uv(h))gT(m,U);else{var K=h.alternate;if(h.lanes===0&&(K===null||K.lanes===0)&&(K=m.lastRenderedReducer,K!==null))try{var xe=m.lastRenderedState,He=K(xe,b);if(U.hasEagerState=!0,U.eagerState=He,Eo(He,xe))return Vh(h,m,U,0),Ia===null&&NA(),!1}catch{}finally{}if(b=vd(h,m,U,B),b!==null)return Tu(b,h,B),yT(b,m,B),!0}return!1}function n1(h,m,b,B){if(B={lane:2,revertLane:Cr(),action:B,hasEagerState:!1,eagerState:null,next:null},Uv(h)){if(m)throw Error(n(479))}else m=vd(h,b,B,2),m!==null&&Tu(m,h,2)}function Uv(h){var m=h.alternate;return h===It||m!==null&&m===It}function gT(h,m){sn=mr=!0;var b=h.pending;b===null?m.next=m:(m.next=b.next,b.next=m),h.pending=m}function yT(h,m,b){if((b&4194048)!==0){var B=m.lanes;B&=h.pendingLanes,b|=B,m.lanes=b,Je(h,b)}}var i1={readContext:uo,use:qn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useInsertionEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useSyncExternalStore:xr,useId:xr,useHostTransitionStatus:xr,useFormState:xr,useActionState:xr,useOptimistic:xr,useMemoCache:xr,useCacheRefresh:xr},vT={readContext:uo,use:qn,useCallback:function(h,m){return yn().memoizedState=[h,m===void 0?null:m],h},useContext:uo,useEffect:Lv,useImperativeHandle:function(h,m,b){b=b!=null?b.concat([h]):null,Ms(4194308,4,ym.bind(null,m,h),b)},useLayoutEffect:function(h,m){return Ms(4194308,4,h,m)},useInsertionEffect:function(h,m){Ms(4,2,h,m)},useMemo:function(h,m){var b=yn();m=m===void 0?null:m;var B=h();if(Cn){Ht(!0);try{h()}finally{Ht(!1)}}return b.memoizedState=[B,m],B},useReducer:function(h,m,b){var B=yn();if(b!==void 0){var U=b(m);if(Cn){Ht(!0);try{b(m)}finally{Ht(!1)}}}else U=m;return B.memoizedState=B.baseState=U,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:U},B.queue=h,h=h.dispatch=bm.bind(null,It,h),[B.memoizedState,h]},useRef:function(h){var m=yn();return h={current:h},m.memoizedState=h},useState:function(h){h=wu(h);var m=h.queue,b=r1.bind(null,It,m);return m.dispatch=b,[h.memoizedState,b]},useDebugValue:Ap,useDeferredValue:function(h,m){var b=yn();return Cd(b,h,m)},useTransition:function(){var h=wu(!1);return h=DA.bind(null,It,h.queue,!0,!1),yn().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,b){var B=It,U=yn();if(Pi){if(b===void 0)throw Error(n(407));b=b()}else{if(b=m(),Ia===null)throw Error(n(349));(zi&124)!==0||Qc(B,m,b)}U.memoizedState=b;var K={value:b,getSnapshot:m};return U.queue=K,Lv(oa.bind(null,B,K,h),[h]),B.flags|=2048,RA(9,bf(),Hi.bind(null,B,K,b,m),null),b},useId:function(){var h=yn(),m=Ia.identifierPrefix;if(Pi){var b=ic,B=Fc;b=(B&~(1<<32-Tt(B)-1)).toString(32)+b,m=""+m+"R"+b,b=rn++,0<b&&(m+="H"+b.toString(32)),m+=""}else b=bn++,m=""+m+"r"+b.toString(32)+"";return h.memoizedState=m},useHostTransitionStatus:UA,useFormState:hp,useActionState:hp,useOptimistic:function(h){var m=yn();m.memoizedState=m.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=b,m=n1.bind(null,It,!0,b),b.dispatch=m,[h,m]},useMemoCache:ci,useCacheRefresh:function(){return yn().memoizedState=Dv.bind(null,It)}},wf={readContext:uo,use:qn,useCallback:dp,useContext:uo,useEffect:Yg,useImperativeHandle:Wg,useInsertionEffect:xd,useLayoutEffect:sa,useMemo:fp,useReducer:us,useRef:gm,useState:function(){return us(gi)},useDebugValue:Ap,useDeferredValue:function(h,m){var b=Nn();return vm(b,sr.memoizedState,h,m)},useTransition:function(){var h=us(gi)[0],m=Nn().memoizedState;return[typeof h=="boolean"?h:zn(h),m]},useSyncExternalStore:sl,useId:Rv,useHostTransitionStatus:UA,useFormState:$g,useActionState:$g,useOptimistic:function(h,m){var b=Nn();return ys(b,sr,h,m)},useMemoCache:ci,useCacheRefresh:Zg},TM={readContext:uo,use:qn,useCallback:dp,useContext:uo,useEffect:Yg,useImperativeHandle:Wg,useInsertionEffect:xd,useLayoutEffect:sa,useMemo:fp,useReducer:ui,useRef:gm,useState:function(){return ui(gi)},useDebugValue:Ap,useDeferredValue:function(h,m){var b=Nn();return sr===null?Cd(b,h,m):vm(b,sr.memoizedState,h,m)},useTransition:function(){var h=ui(gi)[0],m=Nn().memoizedState;return[typeof h=="boolean"?h:zn(h),m]},useSyncExternalStore:sl,useId:Rv,useHostTransitionStatus:UA,useFormState:t1,useActionState:t1,useOptimistic:function(h,m){var b=Nn();return sr!==null?ys(b,sr,h,m):(b.baseState=h,[h,b.queue.dispatch])},useMemoCache:ci,useCacheRefresh:Zg},FA=null,Fv=0;function a1(h){var m=Fv;return Fv+=1,FA===null&&(FA=[]),se(FA,h,m)}function Oi(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function jv(h,m){throw m.$$typeof===y?Error(n(525)):(h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function _T(h){var m=h._init;return m(h._payload)}function bT(h){function m(Et,gt){if(h){var Bt=Et.deletions;Bt===null?(Et.deletions=[gt],Et.flags|=16):Bt.push(gt)}}function b(Et,gt){if(!h)return null;for(;gt!==null;)m(Et,gt),gt=gt.sibling;return null}function B(Et){for(var gt=new Map;Et!==null;)Et.key!==null?gt.set(Et.key,Et):gt.set(Et.index,Et),Et=Et.sibling;return gt}function U(Et,gt){return Et=Sl(Et,gt),Et.index=0,Et.sibling=null,Et}function K(Et,gt,Bt){return Et.index=Bt,h?(Bt=Et.alternate,Bt!==null?(Bt=Bt.index,Bt<gt?(Et.flags|=67108866,gt):Bt):(Et.flags|=67108866,gt)):(Et.flags|=1048576,gt)}function xe(Et){return h&&Et.alternate===null&&(Et.flags|=67108866),Et}function He(Et,gt,Bt,ar){return gt===null||gt.tag!==6?(gt=Ns(Bt,Et.mode,ar),gt.return=Et,gt):(gt=U(gt,Bt),gt.return=Et,gt)}function lt(Et,gt,Bt,ar){var cn=Bt.type;return cn===k?er(Et,gt,Bt.props.children,ar,Bt.key):gt!==null&&(gt.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===le&&_T(cn)===gt.type)?(gt=U(gt,Bt.props),Oi(gt,Bt),gt.return=Et,gt):(gt=Za(Bt.type,Bt.key,Bt.props,null,Et.mode,ar),Oi(gt,Bt),gt.return=Et,gt)}function kt(Et,gt,Bt,ar){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Bt.containerInfo||gt.stateNode.implementation!==Bt.implementation?(gt=_d(Bt,Et.mode,ar),gt.return=Et,gt):(gt=U(gt,Bt.children||[]),gt.return=Et,gt)}function er(Et,gt,Bt,ar,cn){return gt===null||gt.tag!==7?(gt=Tl(Bt,Et.mode,ar,cn),gt.return=Et,gt):(gt=U(gt,Bt),gt.return=Et,gt)}function cr(Et,gt,Bt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=Ns(""+gt,Et.mode,Bt),gt.return=Et,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case C:return Bt=Za(gt.type,gt.key,gt.props,null,Et.mode,Bt),Oi(Bt,gt),Bt.return=Et,Bt;case x:return gt=_d(gt,Et.mode,Bt),gt.return=Et,gt;case le:var ar=gt._init;return gt=ar(gt._payload),cr(Et,gt,Bt)}if(Qe(gt)||ue(gt))return gt=Tl(gt,Et.mode,Bt,null),gt.return=Et,gt;if(typeof gt.then=="function")return cr(Et,a1(gt),Bt);if(gt.$$typeof===q)return cr(Et,_u(Et,gt),Bt);jv(Et,gt)}return null}function Dt(Et,gt,Bt,ar){var cn=gt!==null?gt.key:null;if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return cn!==null?null:He(Et,gt,""+Bt,ar);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case C:return Bt.key===cn?lt(Et,gt,Bt,ar):null;case x:return Bt.key===cn?kt(Et,gt,Bt,ar):null;case le:return cn=Bt._init,Bt=cn(Bt._payload),Dt(Et,gt,Bt,ar)}if(Qe(Bt)||ue(Bt))return cn!==null?null:er(Et,gt,Bt,ar,null);if(typeof Bt.then=="function")return Dt(Et,gt,a1(Bt),ar);if(Bt.$$typeof===q)return Dt(Et,gt,_u(Et,Bt),ar);jv(Et,Bt)}return null}function jt(Et,gt,Bt,ar,cn){if(typeof ar=="string"&&ar!==""||typeof ar=="number"||typeof ar=="bigint")return Et=Et.get(Bt)||null,He(gt,Et,""+ar,cn);if(typeof ar=="object"&&ar!==null){switch(ar.$$typeof){case C:return Et=Et.get(ar.key===null?Bt:ar.key)||null,lt(gt,Et,ar,cn);case x:return Et=Et.get(ar.key===null?Bt:ar.key)||null,kt(gt,Et,ar,cn);case le:var Ui=ar._init;return ar=Ui(ar._payload),jt(Et,gt,Bt,ar,cn)}if(Qe(ar)||ue(ar))return Et=Et.get(Bt)||null,er(gt,Et,ar,cn,null);if(typeof ar.then=="function")return jt(Et,gt,Bt,a1(ar),cn);if(ar.$$typeof===q)return jt(Et,gt,Bt,_u(gt,ar),cn);jv(gt,ar)}return null}function $n(Et,gt,Bt,ar){for(var cn=null,Ui=null,Sn=gt,Kn=gt=0,Ac=null;Sn!==null&&Kn<Bt.length;Kn++){Sn.index>Kn?(Ac=Sn,Sn=null):Ac=Sn.sibling;var ma=Dt(Et,Sn,Bt[Kn],ar);if(ma===null){Sn===null&&(Sn=Ac);break}h&&Sn&&ma.alternate===null&&m(Et,Sn),gt=K(ma,gt,Kn),Ui===null?cn=ma:Ui.sibling=ma,Ui=ma,Sn=Ac}if(Kn===Bt.length)return b(Et,Sn),Pi&&ac(Et,Kn),cn;if(Sn===null){for(;Kn<Bt.length;Kn++)Sn=cr(Et,Bt[Kn],ar),Sn!==null&&(gt=K(Sn,gt,Kn),Ui===null?cn=Sn:Ui.sibling=Sn,Ui=Sn);return Pi&&ac(Et,Kn),cn}for(Sn=B(Sn);Kn<Bt.length;Kn++)Ac=jt(Sn,Et,Kn,Bt[Kn],ar),Ac!==null&&(h&&Ac.alternate!==null&&Sn.delete(Ac.key===null?Kn:Ac.key),gt=K(Ac,gt,Kn),Ui===null?cn=Ac:Ui.sibling=Ac,Ui=Ac);return h&&Sn.forEach(function(py){return m(Et,py)}),Pi&&ac(Et,Kn),cn}function Fn(Et,gt,Bt,ar){if(Bt==null)throw Error(n(151));for(var cn=null,Ui=null,Sn=gt,Kn=gt=0,Ac=null,ma=Bt.next();Sn!==null&&!ma.done;Kn++,ma=Bt.next()){Sn.index>Kn?(Ac=Sn,Sn=null):Ac=Sn.sibling;var py=Dt(Et,Sn,ma.value,ar);if(py===null){Sn===null&&(Sn=Ac);break}h&&Sn&&py.alternate===null&&m(Et,Sn),gt=K(py,gt,Kn),Ui===null?cn=py:Ui.sibling=py,Ui=py,Sn=Ac}if(ma.done)return b(Et,Sn),Pi&&ac(Et,Kn),cn;if(Sn===null){for(;!ma.done;Kn++,ma=Bt.next())ma=cr(Et,ma.value,ar),ma!==null&&(gt=K(ma,gt,Kn),Ui===null?cn=ma:Ui.sibling=ma,Ui=ma);return Pi&&ac(Et,Kn),cn}for(Sn=B(Sn);!ma.done;Kn++,ma=Bt.next())ma=jt(Sn,Et,Kn,ma.value,ar),ma!==null&&(h&&ma.alternate!==null&&Sn.delete(ma.key===null?Kn:ma.key),gt=K(ma,gt,Kn),Ui===null?cn=ma:Ui.sibling=ma,Ui=ma);return h&&Sn.forEach(function(Sse){return m(Et,Sse)}),Pi&&ac(Et,Kn),cn}function Ua(Et,gt,Bt,ar){if(typeof Bt=="object"&&Bt!==null&&Bt.type===k&&Bt.key===null&&(Bt=Bt.props.children),typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case C:e:{for(var cn=Bt.key;gt!==null;){if(gt.key===cn){if(cn=Bt.type,cn===k){if(gt.tag===7){b(Et,gt.sibling),ar=U(gt,Bt.props.children),ar.return=Et,Et=ar;break e}}else if(gt.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===le&&_T(cn)===gt.type){b(Et,gt.sibling),ar=U(gt,Bt.props),Oi(ar,Bt),ar.return=Et,Et=ar;break e}b(Et,gt);break}else m(Et,gt);gt=gt.sibling}Bt.type===k?(ar=Tl(Bt.props.children,Et.mode,ar,Bt.key),ar.return=Et,Et=ar):(ar=Za(Bt.type,Bt.key,Bt.props,null,Et.mode,ar),Oi(ar,Bt),ar.return=Et,Et=ar)}return xe(Et);case x:e:{for(cn=Bt.key;gt!==null;){if(gt.key===cn)if(gt.tag===4&&gt.stateNode.containerInfo===Bt.containerInfo&&gt.stateNode.implementation===Bt.implementation){b(Et,gt.sibling),ar=U(gt,Bt.children||[]),ar.return=Et,Et=ar;break e}else{b(Et,gt);break}else m(Et,gt);gt=gt.sibling}ar=_d(Bt,Et.mode,ar),ar.return=Et,Et=ar}return xe(Et);case le:return cn=Bt._init,Bt=cn(Bt._payload),Ua(Et,gt,Bt,ar)}if(Qe(Bt))return $n(Et,gt,Bt,ar);if(ue(Bt)){if(cn=ue(Bt),typeof cn!="function")throw Error(n(150));return Bt=cn.call(Bt),Fn(Et,gt,Bt,ar)}if(typeof Bt.then=="function")return Ua(Et,gt,a1(Bt),ar);if(Bt.$$typeof===q)return Ua(Et,gt,_u(Et,Bt),ar);jv(Et,Bt)}return typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint"?(Bt=""+Bt,gt!==null&&gt.tag===6?(b(Et,gt.sibling),ar=U(gt,Bt),ar.return=Et,Et=ar):(b(Et,gt),ar=Ns(Bt,Et.mode,ar),ar.return=Et,Et=ar),xe(Et)):b(Et,gt)}return function(Et,gt,Bt,ar){try{Fv=0;var cn=Ua(Et,gt,Bt,ar);return FA=null,cn}catch(Sn){if(Sn===v||Sn===I)throw Sn;var Ui=Hr(29,Sn,null,Et.mode);return Ui.lanes=ar,Ui.return=Et,Ui}finally{}}}var Xg=bT(!0),wT=bT(!1),Cu=ze(null),Eu=null;function Ed(h){var m=h.alternate;ae(Ls,Ls.current&1),ae(Cu,h),Eu===null&&(m===null||Ft.current!==null||m.memoizedState!==null)&&(Eu=h)}function xT(h){if(h.tag===22){if(ae(Ls,Ls.current),ae(Cu,h),Eu===null){var m=h.alternate;m!==null&&m.memoizedState!==null&&(Eu=h)}}else pp()}function pp(){ae(Ls,Ls.current),ae(Cu,Cu.current)}function Sd(h){ne(Cu),Eu===h&&(Eu=null),ne(Ls)}var Ls=ze(0);function o1(h){for(var m=h;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||xp(b)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function xm(h,m,b,B){m=h.memoizedState,b=b(B,m),b=b==null?m:f({},m,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var s1={enqueueSetState:function(h,m,b){h=h._reactInternals;var B=Su(),U=Me(B);U.payload=m,b!=null&&(U.callback=b),m=$e(h,U,B),m!==null&&(Tu(m,h,B),Ge(m,h,B))},enqueueReplaceState:function(h,m,b){h=h._reactInternals;var B=Su(),U=Me(B);U.tag=1,U.payload=m,b!=null&&(U.callback=b),m=$e(h,U,B),m!==null&&(Tu(m,h,B),Ge(m,h,B))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var b=Su(),B=Me(b);B.tag=2,m!=null&&(B.callback=m),m=$e(h,B,b),m!==null&&(Tu(m,h,b),Ge(m,h,b))}};function CT(h,m,b,B,U,K,xe){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(B,K,xe):m.prototype&&m.prototype.isPureReactComponent?!Rc(b,B)||!Rc(U,K):!0}function ET(h,m,b,B){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,B),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,B),m.state!==h&&s1.enqueueReplaceState(m,m.state,null)}function Cm(h,m){var b=m;if("ref"in m){b={};for(var B in m)B!=="ref"&&(b[B]=m[B])}if(h=h.defaultProps){b===m&&(b=f({},b));for(var U in h)b[U]===void 0&&(b[U]=h[U])}return b}var l1=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function ST(h){l1(h)}function TT(h){console.error(h)}function BT(h){l1(h)}function Qv(h,m){try{var b=h.onUncaughtError;b(m.value,{componentStack:m.stack})}catch(B){setTimeout(function(){throw B})}}function c1(h,m,b){try{var B=h.onCaughtError;B(b.value,{componentStack:b.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function u1(h,m,b){return b=Me(b),b.tag=3,b.payload={element:null},b.callback=function(){Qv(h,m)},b}function Ax(h){return h=Me(h),h.tag=3,h}function dx(h,m,b,B){var U=b.type.getDerivedStateFromError;if(typeof U=="function"){var K=B.value;h.payload=function(){return U(K)},h.callback=function(){c1(m,b,B)}}var xe=b.stateNode;xe!==null&&typeof xe.componentDidCatch=="function"&&(h.callback=function(){c1(m,b,B),typeof U!="function"&&(If===null?If=new Set([this]):If.add(this));var He=B.stack;this.componentDidCatch(B.value,{componentStack:He!==null?He:""})})}function BM(h,m,b,B,U){if(b.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){if(m=b.alternate,m!==null&&OA(m,b,U,!0),b=Cu.current,b!==null){switch(b.tag){case 13:return Eu===null?N1():b.alternate===null&&Ko===0&&(Ko=3),b.flags&=-257,b.flags|=65536,b.lanes=U,B===R?b.flags|=16384:(m=b.updateQueue,m===null?b.updateQueue=new Set([B]):m.add(B),P(h,B,U)),!1;case 22:return b.flags|=65536,B===R?b.flags|=16384:(m=b.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([B])},b.updateQueue=m):(b=m.retryQueue,b===null?m.retryQueue=new Set([B]):b.add(B)),P(h,B,U)),!1}throw Error(n(435,b.tag))}return P(h,B,U),N1(),!1}if(Pi)return m=Cu.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=U,B!==PA&&(h=Error(n(422),{cause:B}),Il(ks(h,b)))):(B!==PA&&(m=Error(n(423),{cause:B}),Il(ks(m,b))),h=h.current.alternate,h.flags|=65536,U&=-U,h.lanes|=U,B=ks(B,b),U=u1(h.stateNode,B,U),at(h,U),Ko!==4&&(Ko=2)),!1;var K=Error(n(520),{cause:B});if(K=ks(K,b),Yv===null?Yv=[K]:Yv.push(K),Ko!==4&&(Ko=2),m===null)return!0;B=ks(B,b),b=m;do{switch(b.tag){case 3:return b.flags|=65536,h=U&-U,b.lanes|=h,h=u1(b.stateNode,B,h),at(b,h),!1;case 1:if(m=b.type,K=b.stateNode,(b.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(If===null||!If.has(K))))return b.flags|=65536,U&=-U,b.lanes|=U,U=Ax(U),dx(U,h,b,B),at(b,U),!1}b=b.return}while(b!==null);return!1}var h1=Error(n(461)),cl=!1;function ul(h,m,b,B){m.child=h===null?wT(m,null,b,B):Xg(m,h.child,b,B)}function IT(h,m,b,B,U){b=b.render;var K=m.ref;if("ref"in B){var xe={};for(var He in B)He!=="ref"&&(xe[He]=B[He])}else xe=B;return Os(m),B=Wi(h,m,b,xe,K,U),He=Un(),h!==null&&!cl?(Ai(h,m,U),xf(h,m,U)):(Pi&&He&&$h(m),m.flags|=1,ul(h,m,B,U),m.child)}function kT(h,m,b,B,U){if(h===null){var K=b.type;return typeof K=="function"&&!rc(K)&&K.defaultProps===void 0&&b.compare===null?(m.tag=15,m.type=K,NT(h,m,K,B,U)):(h=Za(b.type,null,B,m,m.mode,U),h.ref=m.ref,h.return=m,m.child=h)}if(K=h.child,!px(h,U)){var xe=K.memoizedProps;if(b=b.compare,b=b!==null?b:Rc,b(xe,B)&&h.ref===m.ref)return xf(h,m,U)}return m.flags|=1,h=Sl(K,B),h.ref=m.ref,h.return=m,m.child=h}function NT(h,m,b,B,U){if(h!==null){var K=h.memoizedProps;if(Rc(K,B)&&h.ref===m.ref)if(cl=!1,m.pendingProps=B=K,px(h,U))(h.flags&131072)!==0&&(cl=!0);else return m.lanes=h.lanes,xf(h,m,U)}return Em(h,m,b,B,U)}function fx(h,m,b){var B=m.pendingProps,U=B.children,K=h!==null?h.memoizedState:null;if(B.mode==="hidden"){if((m.flags&128)!==0){if(B=K!==null?K.baseLanes|b:b,h!==null){for(U=m.child=h.child,K=0;U!==null;)K=K|U.lanes|U.childLanes,U=U.sibling;m.childLanes=K&~B}else m.childLanes=0,m.child=null;return PT(h,m,B,b)}if((b&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&l(m,K!==null?K.cachePool:null),K!==null?Pt(m,K):Br(),xT(m);else return m.lanes=m.childLanes=536870912,PT(h,m,K!==null?K.baseLanes|b:b,b)}else K!==null?(l(m,K.cachePool),Pt(m,K),pp(),m.memoizedState=null):(h!==null&&l(m,null),Br(),pp());return ul(h,m,U,b),m.child}function PT(h,m,b,B){var U=_();return U=U===null?null:{parent:La._currentValue,pool:U},m.memoizedState={baseLanes:b,cachePool:U},h!==null&&l(m,null),Br(),xT(m),h!==null&&OA(h,m,B,!0),null}function A1(h,m){var b=m.ref;if(b===null)h!==null&&h.ref!==null&&(m.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(h===null||h.ref!==b)&&(m.flags|=4194816)}}function Em(h,m,b,B,U){return Os(m),b=Wi(h,m,b,B,void 0,U),B=Un(),h!==null&&!cl?(Ai(h,m,U),xf(h,m,U)):(Pi&&B&&$h(m),m.flags|=1,ul(h,m,b,U),m.child)}function OT(h,m,b,B,U,K){return Os(m),m.updateQueue=null,b=va(m,B,b,U),ti(h),B=Un(),h!==null&&!cl?(Ai(h,m,K),xf(h,m,K)):(Pi&&B&&$h(m),m.flags|=1,ul(h,m,b,K),m.child)}function zo(h,m,b,B,U){if(Os(m),m.stateNode===null){var K=Ma,xe=b.contextType;typeof xe=="object"&&xe!==null&&(K=uo(xe)),K=new b(B,K),m.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=s1,m.stateNode=K,K._reactInternals=m,K=m.stateNode,K.props=B,K.state=m.memoizedState,K.refs={},Ce(m),xe=b.contextType,K.context=typeof xe=="object"&&xe!==null?uo(xe):Ma,K.state=m.memoizedState,xe=b.getDerivedStateFromProps,typeof xe=="function"&&(xm(m,b,xe,B),K.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(xe=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),xe!==K.state&&s1.enqueueReplaceState(K,K.state,null),pt(m,B,K,U),Ct(),K.state=m.memoizedState),typeof K.componentDidMount=="function"&&(m.flags|=4194308),B=!0}else if(h===null){K=m.stateNode;var He=m.memoizedProps,lt=Cm(b,He);K.props=lt;var kt=K.context,er=b.contextType;xe=Ma,typeof er=="object"&&er!==null&&(xe=uo(er));var cr=b.getDerivedStateFromProps;er=typeof cr=="function"||typeof K.getSnapshotBeforeUpdate=="function",He=m.pendingProps!==He,er||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(He||kt!==xe)&&ET(m,K,B,xe),Te=!1;var Dt=m.memoizedState;K.state=Dt,pt(m,B,K,U),Ct(),kt=m.memoizedState,He||Dt!==kt||Te?(typeof cr=="function"&&(xm(m,b,cr,B),kt=m.memoizedState),(lt=Te||CT(m,b,lt,B,Dt,kt,xe))?(er||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(m.flags|=4194308)):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=B,m.memoizedState=kt),K.props=B,K.state=kt,K.context=xe,B=lt):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),B=!1)}else{K=m.stateNode,Le(h,m),xe=m.memoizedProps,er=Cm(b,xe),K.props=er,cr=m.pendingProps,Dt=K.context,kt=b.contextType,lt=Ma,typeof kt=="object"&&kt!==null&&(lt=uo(kt)),He=b.getDerivedStateFromProps,(kt=typeof He=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(xe!==cr||Dt!==lt)&&ET(m,K,B,lt),Te=!1,Dt=m.memoizedState,K.state=Dt,pt(m,B,K,U),Ct();var jt=m.memoizedState;xe!==cr||Dt!==jt||Te||h!==null&&h.dependencies!==null&&gf(h.dependencies)?(typeof He=="function"&&(xm(m,b,He,B),jt=m.memoizedState),(er=Te||CT(m,b,er,B,Dt,jt,lt)||h!==null&&h.dependencies!==null&&gf(h.dependencies))?(kt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(B,jt,lt),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(B,jt,lt)),typeof K.componentDidUpdate=="function"&&(m.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof K.componentDidUpdate!="function"||xe===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||xe===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=1024),m.memoizedProps=B,m.memoizedState=jt),K.props=B,K.state=jt,K.context=lt,B=er):(typeof K.componentDidUpdate!="function"||xe===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||xe===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=1024),B=!1)}return K=B,A1(h,m),B=(m.flags&128)!==0,K||B?(K=m.stateNode,b=B&&typeof b.getDerivedStateFromError!="function"?null:K.render(),m.flags|=1,h!==null&&B?(m.child=Xg(m,h.child,null,U),m.child=Xg(m,null,b,U)):ul(h,m,b,U),m.memoizedState=K.state,h=m.child):h=xf(h,m,U),h}function qo(h,m,b,B){return Ps(),m.flags|=256,ul(h,m,b,B),m.child}var uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jg(h){return{baseLanes:h,cachePool:p()}}function Zi(h,m,b){return h=h!==null?h.childLanes&~b:0,m&&(h|=fo),h}function d1(h,m,b){var B=m.pendingProps,U=!1,K=(m.flags&128)!==0,xe;if((xe=K)||(xe=h!==null&&h.memoizedState===null?!1:(Ls.current&2)!==0),xe&&(U=!0,m.flags&=-129),xe=(m.flags&32)!==0,m.flags&=-33,h===null){if(Pi){if(U?Ed(m):pp(),Pi){var He=ha,lt;if(lt=He){e:{for(lt=He,He=Bl;lt.nodeType!==8;){if(!He){He=null;break e}if(lt=Iu(lt.nextSibling),lt===null){He=null;break e}}He=lt}He!==null?(m.memoizedState={dehydrated:He,treeContext:lh!==null?{id:Fc,overflow:ic}:null,retryLane:536870912,hydrationErrors:null},lt=Hr(18,null,null,0),lt.stateNode=He,lt.return=m,m.child=lt,Xa=m,ha=null,lt=!0):lt=!1}lt||yu(m)}if(He=m.memoizedState,He!==null&&(He=He.dehydrated,He!==null))return xp(He)?m.lanes=32:m.lanes=536870912,null;Sd(m)}return He=B.children,B=B.fallback,U?(pp(),U=m.mode,He=Hv({mode:"hidden",children:He},U),B=Tl(B,U,b,null),He.return=m,B.return=m,He.sibling=B,m.child=He,U=m.child,U.memoizedState=Jg(b),U.childLanes=Zi(h,xe,b),m.memoizedState=uc,B):(Ed(m),f1(m,He))}if(lt=h.memoizedState,lt!==null&&(He=lt.dehydrated,He!==null)){if(K)m.flags&256?(Ed(m),m.flags&=-257,m=jA(h,m,b)):m.memoizedState!==null?(pp(),m.child=h.child,m.flags|=128,m=null):(pp(),U=B.fallback,He=m.mode,B=Hv({mode:"visible",children:B.children},He),U=Tl(U,He,b,null),U.flags|=2,B.return=m,U.return=m,B.sibling=U,m.child=B,Xg(m,h.child,null,b),B=m.child,B.memoizedState=Jg(b),B.childLanes=Zi(h,xe,b),m.memoizedState=uc,m=U);else if(Ed(m),xp(He)){if(xe=He.nextSibling&&He.nextSibling.dataset,xe)var kt=xe.dgst;xe=kt,B=Error(n(419)),B.stack="",B.digest=xe,Il({value:B,source:null,stack:null}),m=jA(h,m,b)}else if(cl||OA(h,m,b,!1),xe=(b&h.childLanes)!==0,cl||xe){if(xe=Ia,xe!==null&&(B=b&-b,B=(B&42)!==0?1:ut(B),B=(B&(xe.suspendedLanes|b))!==0?0:B,B!==0&&B!==lt.retryLane))throw lt.retryLane=B,pu(h,B),Tu(xe,h,B),h1;He.data==="$?"||N1(),m=jA(h,m,b)}else He.data==="$?"?(m.flags|=192,m.child=h.child,m=null):(h=lt.treeContext,ha=Iu(He.nextSibling),Xa=m,Pi=!0,gu=null,Bl=!1,h!==null&&(ss[ls++]=Fc,ss[ls++]=ic,ss[ls++]=lh,Fc=h.id,ic=h.overflow,lh=m),m=f1(m,B.children),m.flags|=4096);return m}return U?(pp(),U=B.fallback,He=m.mode,lt=h.child,kt=lt.sibling,B=Sl(lt,{mode:"hidden",children:B.children}),B.subtreeFlags=lt.subtreeFlags&65011712,kt!==null?U=Sl(kt,U):(U=Tl(U,He,b,null),U.flags|=2),U.return=m,B.return=m,B.sibling=U,m.child=B,B=U,U=m.child,He=h.child.memoizedState,He===null?He=Jg(b):(lt=He.cachePool,lt!==null?(kt=La._currentValue,lt=lt.parent!==kt?{parent:kt,pool:kt}:lt):lt=p(),He={baseLanes:He.baseLanes|b,cachePool:lt}),U.memoizedState=He,U.childLanes=Zi(h,xe,b),m.memoizedState=uc,B):(Ed(m),b=h.child,h=b.sibling,b=Sl(b,{mode:"visible",children:B.children}),b.return=m,b.sibling=null,h!==null&&(xe=m.deletions,xe===null?(m.deletions=[h],m.flags|=16):xe.push(h)),m.child=b,m.memoizedState=null,b)}function f1(h,m){return m=Hv({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function Hv(h,m){return h=Hr(22,h,null,m),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function jA(h,m,b){return Xg(m,h.child,null,b),h=f1(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function Sm(h,m,b){h.lanes|=m;var B=h.alternate;B!==null&&(B.lanes|=m),pf(h.return,m,b)}function p1(h,m,b,B,U){var K=h.memoizedState;K===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:B,tail:b,tailMode:U}:(K.isBackwards=m,K.rendering=null,K.renderingStartTime=0,K.last=B,K.tail=b,K.tailMode=U)}function MT(h,m,b){var B=m.pendingProps,U=B.revealOrder,K=B.tail;if(ul(h,m,B.children,b),B=Ls.current,(B&2)!==0)B=B&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Sm(h,b,m);else if(h.tag===19)Sm(h,b,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}B&=1}switch(ae(Ls,B),U){case"forwards":for(b=m.child,U=null;b!==null;)h=b.alternate,h!==null&&o1(h)===null&&(U=b),b=b.sibling;b=U,b===null?(U=m.child,m.child=null):(U=b.sibling,b.sibling=null),p1(m,!1,U,b,K);break;case"backwards":for(b=null,U=m.child,m.child=null;U!==null;){if(h=U.alternate,h!==null&&o1(h)===null){m.child=U;break}h=U.sibling,U.sibling=b,b=U,U=h}p1(m,!0,b,null,K);break;case"together":p1(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function xf(h,m,b){if(h!==null&&(m.dependencies=h.dependencies),Tf|=m.lanes,(b&m.childLanes)===0)if(h!==null){if(OA(h,m,b,!1),(b&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,b=Sl(h,h.pendingProps),m.child=b,b.return=m;h.sibling!==null;)h=h.sibling,b=b.sibling=Sl(h,h.pendingProps),b.return=m;b.sibling=null}return m.child}function px(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&gf(h)))}function IM(h,m,b){switch(m.tag){case 3:st(m,m.stateNode.containerInfo),ch(m,La,h.memoizedState.cache),Ps();break;case 27:case 5:yt(m);break;case 4:st(m,m.stateNode.containerInfo);break;case 10:ch(m,m.type,m.memoizedProps.value);break;case 13:var B=m.memoizedState;if(B!==null)return B.dehydrated!==null?(Ed(m),m.flags|=128,null):(b&m.child.childLanes)!==0?d1(h,m,b):(Ed(m),h=xf(h,m,b),h!==null?h.sibling:null);Ed(m);break;case 19:var U=(h.flags&128)!==0;if(B=(b&m.childLanes)!==0,B||(OA(h,m,b,!1),B=(b&m.childLanes)!==0),U){if(B)return MT(h,m,b);m.flags|=128}if(U=m.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),ae(Ls,Ls.current),B)break;return null;case 22:case 23:return m.lanes=0,fx(h,m,b);case 24:ch(m,La,h.memoizedState.cache)}return xf(h,m,b)}function LT(h,m,b){if(h!==null)if(h.memoizedProps!==m.pendingProps)cl=!0;else{if(!px(h,b)&&(m.flags&128)===0)return cl=!1,IM(h,m,b);cl=(h.flags&131072)!==0}else cl=!1,Pi&&(m.flags&1048576)!==0&&ff(m,bd,m.index);switch(m.lanes=0,m.tag){case 16:e:{h=m.pendingProps;var B=m.elementType,U=B._init;if(B=U(B._payload),m.type=B,typeof B=="function")rc(B)?(h=Cm(B,h),m.tag=1,m=zo(null,m,B,h,b)):(m.tag=0,m=Em(null,m,B,h,b));else{if(B!=null){if(U=B.$$typeof,U===$){m.tag=11,m=IT(null,m,B,h,b);break e}else if(U===he){m.tag=14,m=kT(null,m,B,h,b);break e}}throw m=me(B)||B,Error(n(306,m,""))}}return m;case 0:return Em(h,m,m.type,m.pendingProps,b);case 1:return B=m.type,U=Cm(B,m.pendingProps),zo(h,m,B,U,b);case 3:e:{if(st(m,m.stateNode.containerInfo),h===null)throw Error(n(387));B=m.pendingProps;var K=m.memoizedState;U=K.element,Le(h,m),pt(m,B,null,b);var xe=m.memoizedState;if(B=xe.cache,ch(m,La,B),B!==K.cache&&mf(m,[La],b,!0),Ct(),B=xe.element,K.isDehydrated)if(K={element:B,isDehydrated:!1,cache:xe.cache},m.updateQueue.baseState=K,m.memoizedState=K,m.flags&256){m=qo(h,m,B,b);break e}else if(B!==U){U=ks(Error(n(424)),m),Il(U),m=qo(h,m,B,b);break e}else{switch(h=m.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(ha=Iu(h.firstChild),Xa=m,Pi=!0,gu=null,Bl=!0,b=wT(m,null,B,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling}else{if(Ps(),B===U){m=xf(h,m,b);break e}ul(h,m,B,b)}m=m.child}return m;case 26:return A1(h,m),h===null?(b=Sx(m.type,null,m.pendingProps,null))?m.memoizedState=b:Pi||(b=m.type,h=m.pendingProps,B=eA(qe.current).createElement(b),B[zt]=m,B[qt]=h,hs(B,b,h),Rn(B),m.stateNode=B):m.memoizedState=Sx(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:return yt(m),h===null&&Pi&&(B=m.stateNode=ku(m.type,m.pendingProps,qe.current),Xa=m,Bl=!0,U=ha,ds(m.type)?(rA=U,ha=Iu(B.firstChild)):ha=U),ul(h,m,m.pendingProps.children,b),A1(h,m),h===null&&(m.flags|=4194304),m.child;case 5:return h===null&&Pi&&((U=B=ha)&&(B=tA(B,m.type,m.pendingProps,Bl),B!==null?(m.stateNode=B,Xa=m,ha=Iu(B.firstChild),Bl=!1,U=!0):U=!1),U||yu(m)),yt(m),U=m.type,K=m.pendingProps,xe=h!==null?h.memoizedProps:null,B=K.children,Ei(U,K)?B=null:xe!==null&&Ei(U,xe)&&(m.flags|=32),m.memoizedState!==null&&(U=Wi(h,m,Vn,null,null,b),Px._currentValue=U),A1(h,m),ul(h,m,B,b),m.child;case 6:return h===null&&Pi&&((h=b=ha)&&(b=Nd(b,m.pendingProps,Bl),b!==null?(m.stateNode=b,Xa=m,ha=null,h=!0):h=!1),h||yu(m)),null;case 13:return d1(h,m,b);case 4:return st(m,m.stateNode.containerInfo),B=m.pendingProps,h===null?m.child=Xg(m,null,B,b):ul(h,m,B,b),m.child;case 11:return IT(h,m,m.type,m.pendingProps,b);case 7:return ul(h,m,m.pendingProps,b),m.child;case 8:return ul(h,m,m.pendingProps.children,b),m.child;case 12:return ul(h,m,m.pendingProps.children,b),m.child;case 10:return B=m.pendingProps,ch(m,m.type,B.value),ul(h,m,B.children,b),m.child;case 9:return U=m.type._context,B=m.pendingProps.children,Os(m),U=uo(U),B=B(U),m.flags|=1,ul(h,m,B,b),m.child;case 14:return kT(h,m,m.type,m.pendingProps,b);case 15:return NT(h,m,m.type,m.pendingProps,b);case 19:return MT(h,m,b);case 31:return B=m.pendingProps,b=m.mode,B={mode:B.mode,children:B.children},h===null?(b=Hv(B,b),b.ref=m.ref,m.child=b,b.return=m,m=b):(b=Sl(h.child,B),b.ref=m.ref,m.child=b,b.return=m,m=b),m;case 22:return fx(h,m,b);case 24:return Os(m),B=uo(La),h===null?(U=_(),U===null&&(U=Ia,K=wd(),U.pooledCache=K,K.refCount++,K!==null&&(U.pooledCacheLanes|=b),U=K),m.memoizedState={parent:B,cache:U},Ce(m),ch(m,La,U)):((h.lanes&b)!==0&&(Le(h,m),pt(m,null,null,b),Ct()),U=h.memoizedState,K=m.memoizedState,U.parent!==B?(U={parent:B,cache:B},m.memoizedState=U,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=U),ch(m,La,B)):(B=K.cache,ch(m,La,B),B!==U.cache&&mf(m,[La],b,!0))),ul(h,m,m.pendingProps.children,b),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function Cf(h){h.flags|=4}function RT(h,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!uQ(m)){if(m=Cu.current,m!==null&&((zi&4194048)===zi?Eu!==null:(zi&62914560)!==zi&&(zi&536870912)===0||m!==Eu))throw X=R,E;h.flags|=8192}}function m1(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?xn():536870912,h.lanes|=m,kd|=m)}function zv(h,m){if(!Pi)switch(h.tailMode){case"hidden":m=h.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var B=null;b!==null;)b.alternate!==null&&(B=b),b=b.sibling;B===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:B.sibling=null}}function Ra(h){var m=h.alternate!==null&&h.alternate.child===h.child,b=0,B=0;if(m)for(var U=h.child;U!==null;)b|=U.lanes|U.childLanes,B|=U.subtreeFlags&65011712,B|=U.flags&65011712,U.return=h,U=U.sibling;else for(U=h.child;U!==null;)b|=U.lanes|U.childLanes,B|=U.subtreeFlags,B|=U.flags,U.return=h,U=U.sibling;return h.subtreeFlags|=B,h.childLanes=b,m}function ey(h,m,b){var B=m.pendingProps;switch(mu(m),m.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ra(m),null;case 1:return Ra(m),null;case 3:return b=m.stateNode,B=null,h!==null&&(B=h.memoizedState.cache),m.memoizedState.cache!==B&&(m.flags|=2048),lc(La),ot(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(cs(m)?Cf(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,lp())),Ra(m),null;case 26:return b=m.memoizedState,h===null?(Cf(m),b!==null?(Ra(m),RT(m,b)):(Ra(m),m.flags&=-16777217)):b?b!==h.memoizedState?(Cf(m),Ra(m),RT(m,b)):(Ra(m),m.flags&=-16777217):(h.memoizedProps!==B&&Cf(m),Ra(m),m.flags&=-16777217),null;case 27:Pe(m),b=qe.current;var U=m.type;if(h!==null&&m.stateNode!=null)h.memoizedProps!==B&&Cf(m);else{if(!B){if(m.stateNode===null)throw Error(n(166));return Ra(m),null}h=ve.current,cs(m)?sp(m):(h=ku(U,B,b),m.stateNode=h,Cf(m))}return Ra(m),null;case 5:if(Pe(m),b=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==B&&Cf(m);else{if(!B){if(m.stateNode===null)throw Error(n(166));return Ra(m),null}if(h=ve.current,cs(m))sp(m);else{switch(U=eA(qe.current),h){case 1:h=U.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:h=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":h=U.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":h=U.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":h=U.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof B.is=="string"?U.createElement("select",{is:B.is}):U.createElement("select"),B.multiple?h.multiple=!0:B.size&&(h.size=B.size);break;default:h=typeof B.is=="string"?U.createElement(b,{is:B.is}):U.createElement(b)}}h[zt]=m,h[qt]=B;e:for(U=m.child;U!==null;){if(U.tag===5||U.tag===6)h.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===m)break e;for(;U.sibling===null;){if(U.return===null||U.return===m)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}m.stateNode=h;e:switch(hs(h,b,B),b){case"button":case"input":case"select":case"textarea":h=!!B.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Cf(m)}}return Ra(m),m.flags&=-16777217,null;case 6:if(h&&m.stateNode!=null)h.memoizedProps!==B&&Cf(m);else{if(typeof B!="string"&&m.stateNode===null)throw Error(n(166));if(h=qe.current,cs(m)){if(h=m.stateNode,b=m.memoizedProps,B=null,U=Xa,U!==null)switch(U.tag){case 27:case 5:B=U.memoizedProps}h[zt]=m,h=!!(h.nodeValue===b||B!==null&&B.suppressHydrationWarning===!0||GA(h.nodeValue,b)),h||yu(m)}else h=eA(h).createTextNode(B),h[zt]=m,m.stateNode=h}return Ra(m),null;case 13:if(B=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(U=cs(m),B!==null&&B.dehydrated!==null){if(h===null){if(!U)throw Error(n(318));if(U=m.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[zt]=m}else Ps(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ra(m),U=!1}else U=lp(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=U),U=!0;if(!U)return m.flags&256?(Sd(m),m):(Sd(m),null)}if(Sd(m),(m.flags&128)!==0)return m.lanes=b,m;if(b=B!==null,h=h!==null&&h.memoizedState!==null,b){B=m.child,U=null,B.alternate!==null&&B.alternate.memoizedState!==null&&B.alternate.memoizedState.cachePool!==null&&(U=B.alternate.memoizedState.cachePool.pool);var K=null;B.memoizedState!==null&&B.memoizedState.cachePool!==null&&(K=B.memoizedState.cachePool.pool),K!==U&&(B.flags|=2048)}return b!==h&&b&&(m.child.flags|=8192),m1(m,m.updateQueue),Ra(m),null;case 4:return ot(),h===null&&Pn(m.stateNode.containerInfo),Ra(m),null;case 10:return lc(m.type),Ra(m),null;case 19:if(ne(Ls),U=m.memoizedState,U===null)return Ra(m),null;if(B=(m.flags&128)!==0,K=U.rendering,K===null)if(B)zv(U,!1);else{if(Ko!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(K=o1(h),K!==null){for(m.flags|=128,zv(U,!1),h=K.updateQueue,m.updateQueue=h,m1(m,h),m.subtreeFlags=0,h=b,b=m.child;b!==null;)Gh(b,h),b=b.sibling;return ae(Ls,Ls.current&1|2),m.child}h=h.sibling}U.tail!==null&&be()>Wv&&(m.flags|=128,B=!0,zv(U,!1),m.lanes=4194304)}else{if(!B)if(h=o1(K),h!==null){if(m.flags|=128,B=!0,h=h.updateQueue,m.updateQueue=h,m1(m,h),zv(U,!0),U.tail===null&&U.tailMode==="hidden"&&!K.alternate&&!Pi)return Ra(m),null}else 2*be()-U.renderingStartTime>Wv&&b!==536870912&&(m.flags|=128,B=!0,zv(U,!1),m.lanes=4194304);U.isBackwards?(K.sibling=m.child,m.child=K):(h=U.last,h!==null?h.sibling=K:m.child=K,U.last=K)}return U.tail!==null?(m=U.tail,U.rendering=m,U.tail=m.sibling,U.renderingStartTime=be(),m.sibling=null,h=Ls.current,ae(Ls,B?h&1|2:h&1),m):(Ra(m),null);case 22:case 23:return Sd(m),hr(),B=m.memoizedState!==null,h!==null?h.memoizedState!==null!==B&&(m.flags|=8192):B&&(m.flags|=8192),B?(b&536870912)!==0&&(m.flags&128)===0&&(Ra(m),m.subtreeFlags&6&&(m.flags|=8192)):Ra(m),b=m.updateQueue,b!==null&&m1(m,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),B=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(B=m.memoizedState.cachePool.pool),B!==b&&(m.flags|=2048),h!==null&&ne(F),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),m.memoizedState.cache!==b&&(m.flags|=2048),lc(La),Ra(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function DT(h,m){switch(mu(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return lc(La),ot(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return Pe(m),null;case 13:if(Sd(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Ps()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return ne(Ls),null;case 4:return ot(),null;case 10:return lc(m.type),null;case 22:case 23:return Sd(m),hr(),h!==null&&ne(F),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return lc(La),null;case 25:return null;default:return null}}function qv(h,m){switch(mu(m),m.tag){case 3:lc(La),ot();break;case 26:case 27:case 5:Pe(m);break;case 4:ot();break;case 13:Sd(m);break;case 19:ne(Ls);break;case 10:lc(m.type);break;case 22:case 23:Sd(m),hr(),h!==null&&ne(F);break;case 24:lc(La)}}function Tm(h,m){try{var b=m.updateQueue,B=b!==null?b.lastEffect:null;if(B!==null){var U=B.next;b=U;do{if((b.tag&h)===h){B=void 0;var K=b.create,xe=b.inst;B=K(),xe.destroy=B}b=b.next}while(b!==U)}}catch(He){T(m,m.return,He)}}function Td(h,m,b){try{var B=m.updateQueue,U=B!==null?B.lastEffect:null;if(U!==null){var K=U.next;B=K;do{if((B.tag&h)===h){var xe=B.inst,He=xe.destroy;if(He!==void 0){xe.destroy=void 0,U=m;var lt=b,kt=He;try{kt()}catch(er){T(U,lt,er)}}}B=B.next}while(B!==K)}}catch(er){T(m,m.return,er)}}function UT(h){var m=h.updateQueue;if(m!==null){var b=h.stateNode;try{Qt(m,b)}catch(B){T(h,h.return,B)}}}function FT(h,m,b){b.props=Cm(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(B){T(h,m,B)}}function Kv(h,m){try{var b=h.ref;if(b!==null){switch(h.tag){case 26:case 27:case 5:var B=h.stateNode;break;case 30:B=h.stateNode;break;default:B=h.stateNode}typeof b=="function"?h.refCleanup=b(B):b.current=B}}catch(U){T(h,m,U)}}function QA(h,m){var b=h.ref,B=h.refCleanup;if(b!==null)if(typeof B=="function")try{B()}catch(U){T(h,m,U)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(U){T(h,m,U)}else b.current=null}function mx(h){var m=h.type,b=h.memoizedProps,B=h.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":b.autoFocus&&B.focus();break e;case"img":b.src?B.src=b.src:b.srcSet&&(B.srcset=b.srcSet)}}catch(U){T(h,h.return,U)}}function Nl(h,m,b){try{var B=h.stateNode;As(B,h.type,b,m),B[qt]=m}catch(U){T(h,h.return,U)}}function g1(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&ds(h.type)||h.tag===4}function y1(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||g1(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&ds(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Bm(h,m,b){var B=h.tag;if(B===5||B===6)h=h.stateNode,m?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(h,m):(m=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,m.appendChild(h),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=vs));else if(B!==4&&(B===27&&ds(h.type)&&(b=h.stateNode,m=null),h=h.child,h!==null))for(Bm(h,m,b),h=h.sibling;h!==null;)Bm(h,m,b),h=h.sibling}function mp(h,m,b){var B=h.tag;if(B===5||B===6)h=h.stateNode,m?b.insertBefore(h,m):b.appendChild(h);else if(B!==4&&(B===27&&ds(h.type)&&(b=h.stateNode),h=h.child,h!==null))for(mp(h,m,b),h=h.sibling;h!==null;)mp(h,m,b),h=h.sibling}function Im(h){var m=h.stateNode,b=h.memoizedProps;try{for(var B=h.type,U=m.attributes;U.length;)m.removeAttributeNode(U[0]);hs(m,B,b),m[zt]=h,m[qt]=b}catch(K){T(h,h.return,K)}}var Xh=!1,Ao=!1,gx=!1,yx=typeof WeakSet=="function"?WeakSet:Set,Rs=null;function jT(h,m){if(h=h.containerInfo,_s=JT,h=oh(h),Ba(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var B=b.getSelection&&b.getSelection();if(B&&B.rangeCount!==0){b=B.anchorNode;var U=B.anchorOffset,K=B.focusNode;B=B.focusOffset;try{b.nodeType,K.nodeType}catch{b=null;break e}var xe=0,He=-1,lt=-1,kt=0,er=0,cr=h,Dt=null;t:for(;;){for(var jt;cr!==b||U!==0&&cr.nodeType!==3||(He=xe+U),cr!==K||B!==0&&cr.nodeType!==3||(lt=xe+B),cr.nodeType===3&&(xe+=cr.nodeValue.length),(jt=cr.firstChild)!==null;)Dt=cr,cr=jt;for(;;){if(cr===h)break t;if(Dt===b&&++kt===U&&(He=xe),Dt===K&&++er===B&&(lt=xe),(jt=cr.nextSibling)!==null)break;cr=Dt,Dt=cr.parentNode}cr=jt}b=He===-1||lt===-1?null:{start:He,end:lt}}else b=null}b=b||{start:0,end:0}}else b=null;for(Bu={focusedElem:h,selectionRange:b},JT=!1,Rs=m;Rs!==null;)if(m=Rs,h=m.child,(m.subtreeFlags&1024)!==0&&h!==null)h.return=m,Rs=h;else for(;Rs!==null;){switch(m=Rs,K=m.alternate,h=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&K!==null){h=void 0,b=m,U=K.memoizedProps,K=K.memoizedState,B=b.stateNode;try{var $n=Cm(b.type,U,b.elementType===b.type);h=B.getSnapshotBeforeUpdate($n,K),B.__reactInternalSnapshotBeforeUpdate=h}catch(Fn){T(b,b.return,Fn)}}break;case 3:if((h&1024)!==0){if(h=m.stateNode.containerInfo,b=h.nodeType,b===9)Fs(h);else if(b===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":Fs(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=m.sibling,h!==null){h.return=m.return,Rs=h;break}Rs=m.return}}function v1(h,m,b){var B=b.flags;switch(b.tag){case 0:case 11:case 15:Bd(h,b),B&4&&Tm(5,b);break;case 1:if(Bd(h,b),B&4)if(h=b.stateNode,m===null)try{h.componentDidMount()}catch(xe){T(b,b.return,xe)}else{var U=Cm(b.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(U,m,h.__reactInternalSnapshotBeforeUpdate)}catch(xe){T(b,b.return,xe)}}B&64&&UT(b),B&512&&Kv(b,b.return);break;case 3:if(Bd(h,b),B&64&&(h=b.updateQueue,h!==null)){if(m=null,b.child!==null)switch(b.child.tag){case 27:case 5:m=b.child.stateNode;break;case 1:m=b.child.stateNode}try{Qt(h,m)}catch(xe){T(b,b.return,xe)}}break;case 27:m===null&&B&4&&Im(b);case 26:case 5:Bd(h,b),m===null&&B&4&&mx(b),B&512&&Kv(b,b.return);break;case 12:Bd(h,b);break;case 13:Bd(h,b),B&4&&Ef(h,b),B&64&&(h=b.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(b=z.bind(null,b),Pd(h,b))));break;case 22:if(B=b.memoizedState!==null||Xh,!B){m=m!==null&&m.memoizedState!==null||Ao,U=Xh;var K=Ao;Xh=B,(Ao=m)&&!K?fh(h,b,(b.subtreeFlags&8772)!==0):Bd(h,b),Xh=U,Ao=K}break;case 30:break;default:Bd(h,b)}}function _1(h){var m=h.alternate;m!==null&&(h.alternate=null,_1(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&An(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Ja=null,qc=!1;function Ah(h,m,b){for(b=b.child;b!==null;)HA(h,m,b),b=b.sibling}function HA(h,m,b){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(nt,b)}catch{}switch(b.tag){case 26:Ao||QA(b,m),Ah(h,m,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Ao||QA(b,m);var B=Ja,U=qc;ds(b.type)&&(Ja=b.stateNode,qc=!1),Ah(h,m,b),Cp(b.stateNode),Ja=B,qc=U;break;case 5:Ao||QA(b,m);case 6:if(B=Ja,U=qc,Ja=null,Ah(h,m,b),Ja=B,qc=U,Ja!==null)if(qc)try{(Ja.nodeType===9?Ja.body:Ja.nodeName==="HTML"?Ja.ownerDocument.body:Ja).removeChild(b.stateNode)}catch(K){T(b,m,K)}else try{Ja.removeChild(b.stateNode)}catch(K){T(b,m,K)}break;case 18:Ja!==null&&(qc?(h=Ja,Us(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,b.stateNode),Rx(h)):Us(Ja,b.stateNode));break;case 4:B=Ja,U=qc,Ja=b.stateNode.containerInfo,qc=!0,Ah(h,m,b),Ja=B,qc=U;break;case 0:case 11:case 14:case 15:Ao||Td(2,b,m),Ao||Td(4,b,m),Ah(h,m,b);break;case 1:Ao||(QA(b,m),B=b.stateNode,typeof B.componentWillUnmount=="function"&&FT(b,m,B)),Ah(h,m,b);break;case 21:Ah(h,m,b);break;case 22:Ao=(B=Ao)||b.memoizedState!==null,Ah(h,m,b),Ao=B;break;default:Ah(h,m,b)}}function Ef(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Rx(h)}catch(b){T(m,m.return,b)}}function QT(h){switch(h.tag){case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new yx),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new yx),m;default:throw Error(n(435,h.tag))}}function Vv(h,m){var b=QT(h);m.forEach(function(B){var U=ie.bind(null,h,B);b.has(B)||(b.add(B),B.then(U,U))})}function dh(h,m){var b=m.deletions;if(b!==null)for(var B=0;B<b.length;B++){var U=b[B],K=h,xe=m,He=xe;e:for(;He!==null;){switch(He.tag){case 27:if(ds(He.type)){Ja=He.stateNode,qc=!1;break e}break;case 5:Ja=He.stateNode,qc=!1;break e;case 3:case 4:Ja=He.stateNode.containerInfo,qc=!0;break e}He=He.return}if(Ja===null)throw Error(n(160));HA(K,xe,U),Ja=null,qc=!1,K=U.alternate,K!==null&&(K.return=null),U.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Gv(m,h),m=m.sibling}var zA=null;function Gv(h,m){var b=h.alternate,B=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:dh(m,h),Kc(h),B&4&&(Td(3,h,h.return),Tm(3,h),Td(5,h,h.return));break;case 1:dh(m,h),Kc(h),B&512&&(Ao||b===null||QA(b,b.return)),B&64&&Xh&&(h=h.updateQueue,h!==null&&(B=h.callbacks,B!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?B:b.concat(B))));break;case 26:var U=zA;if(dh(m,h),Kc(h),B&512&&(Ao||b===null||QA(b,b.return)),B&4){var K=b!==null?b.memoizedState:null;if(B=h.memoizedState,b===null)if(B===null)if(h.stateNode===null){e:{B=h.type,b=h.memoizedProps,U=U.ownerDocument||U;t:switch(B){case"title":K=U.getElementsByTagName("title")[0],(!K||K[kn]||K[zt]||K.namespaceURI==="http://www.w3.org/2000/svg"||K.hasAttribute("itemprop"))&&(K=U.createElement(B),U.head.insertBefore(K,U.querySelector("head > title"))),hs(K,B,b),K[zt]=h,Rn(K),B=K;break e;case"link":var xe=WT("link","href",U).get(B+(b.href||""));if(xe){for(var He=0;He<xe.length;He++)if(K=xe[He],K.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&K.getAttribute("rel")===(b.rel==null?null:b.rel)&&K.getAttribute("title")===(b.title==null?null:b.title)&&K.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){xe.splice(He,1);break t}}K=U.createElement(B),hs(K,B,b),U.head.appendChild(K);break;case"meta":if(xe=WT("meta","content",U).get(B+(b.content||""))){for(He=0;He<xe.length;He++)if(K=xe[He],K.getAttribute("content")===(b.content==null?null:""+b.content)&&K.getAttribute("name")===(b.name==null?null:b.name)&&K.getAttribute("property")===(b.property==null?null:b.property)&&K.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&K.getAttribute("charset")===(b.charSet==null?null:b.charSet)){xe.splice(He,1);break t}}K=U.createElement(B),hs(K,B,b),U.head.appendChild(K);break;default:throw Error(n(468,B))}K[zt]=h,Rn(K),B=K}h.stateNode=B}else kx(U,h.type,h.stateNode);else h.stateNode=$A(U,B,h.memoizedProps);else K!==B?(K===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):K.count--,B===null?kx(U,h.type,h.stateNode):$A(U,B,h.memoizedProps)):B===null&&h.stateNode!==null&&Nl(h,h.memoizedProps,b.memoizedProps)}break;case 27:dh(m,h),Kc(h),B&512&&(Ao||b===null||QA(b,b.return)),b!==null&&B&4&&Nl(h,h.memoizedProps,b.memoizedProps);break;case 5:if(dh(m,h),Kc(h),B&512&&(Ao||b===null||QA(b,b.return)),h.flags&32){U=h.stateNode;try{wl(U,"")}catch(jt){T(h,h.return,jt)}}B&4&&h.stateNode!=null&&(U=h.memoizedProps,Nl(h,U,b!==null?b.memoizedProps:U)),B&1024&&(gx=!0);break;case 6:if(dh(m,h),Kc(h),B&4){if(h.stateNode===null)throw Error(n(162));B=h.memoizedProps,b=h.stateNode;try{b.nodeValue=B}catch(jt){T(h,h.return,jt)}}break;case 3:if(Nu=null,U=zA,zA=Pf(m.containerInfo),dh(m,h),zA=U,Kc(h),B&4&&b!==null&&b.memoizedState.isDehydrated)try{Rx(m.containerInfo)}catch(jt){T(h,h.return,jt)}gx&&(gx=!1,HT(h));break;case 4:B=zA,zA=Pf(h.stateNode.containerInfo),dh(m,h),Kc(h),zA=B;break;case 12:dh(m,h),Kc(h);break;case 13:dh(m,h),Kc(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(S1=be()),B&4&&(B=h.updateQueue,B!==null&&(h.updateQueue=null,Vv(h,B)));break;case 22:U=h.memoizedState!==null;var lt=b!==null&&b.memoizedState!==null,kt=Xh,er=Ao;if(Xh=kt||U,Ao=er||lt,dh(m,h),Ao=er,Xh=kt,Kc(h),B&8192)e:for(m=h.stateNode,m._visibility=U?m._visibility&-2:m._visibility|1,U&&(b===null||lt||Xh||Ao||Sf(h)),b=null,m=h;;){if(m.tag===5||m.tag===26){if(b===null){lt=b=m;try{if(K=lt.stateNode,U)xe=K.style,typeof xe.setProperty=="function"?xe.setProperty("display","none","important"):xe.display="none";else{He=lt.stateNode;var cr=lt.memoizedProps.style,Dt=cr!=null&&cr.hasOwnProperty("display")?cr.display:null;He.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(jt){T(lt,lt.return,jt)}}}else if(m.tag===6){if(b===null){lt=m;try{lt.stateNode.nodeValue=U?"":lt.memoizedProps}catch(jt){T(lt,lt.return,jt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;b===m&&(b=null),m=m.return}b===m&&(b=null),m.sibling.return=m.return,m=m.sibling}B&4&&(B=h.updateQueue,B!==null&&(b=B.retryQueue,b!==null&&(B.retryQueue=null,Vv(h,b))));break;case 19:dh(m,h),Kc(h),B&4&&(B=h.updateQueue,B!==null&&(h.updateQueue=null,Vv(h,B)));break;case 30:break;case 21:break;default:dh(m,h),Kc(h)}}function Kc(h){var m=h.flags;if(m&2){try{for(var b,B=h.return;B!==null;){if(g1(B)){b=B;break}B=B.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var U=b.stateNode,K=y1(h);mp(h,K,U);break;case 5:var xe=b.stateNode;b.flags&32&&(wl(xe,""),b.flags&=-33);var He=y1(h);mp(h,He,xe);break;case 3:case 4:var lt=b.stateNode.containerInfo,kt=y1(h);Bm(h,kt,lt);break;default:throw Error(n(161))}}catch(er){T(h,h.return,er)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function HT(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;HT(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),h=h.sibling}}function Bd(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)v1(h,m.alternate,m),m=m.sibling}function Sf(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:Td(4,m,m.return),Sf(m);break;case 1:QA(m,m.return);var b=m.stateNode;typeof b.componentWillUnmount=="function"&&FT(m,m.return,b),Sf(m);break;case 27:Cp(m.stateNode);case 26:case 5:QA(m,m.return),Sf(m);break;case 22:m.memoizedState===null&&Sf(m);break;case 30:Sf(m);break;default:Sf(m)}h=h.sibling}}function fh(h,m,b){for(b=b&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var B=m.alternate,U=h,K=m,xe=K.flags;switch(K.tag){case 0:case 11:case 15:fh(U,K,b),Tm(4,K);break;case 1:if(fh(U,K,b),B=K,U=B.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(kt){T(B,B.return,kt)}if(B=K,U=B.updateQueue,U!==null){var He=B.stateNode;try{var lt=U.shared.hiddenCallbacks;if(lt!==null)for(U.shared.hiddenCallbacks=null,U=0;U<lt.length;U++)Mt(lt[U],He)}catch(kt){T(B,B.return,kt)}}b&&xe&64&&UT(K),Kv(K,K.return);break;case 27:Im(K);case 26:case 5:fh(U,K,b),b&&B===null&&xe&4&&mx(K),Kv(K,K.return);break;case 12:fh(U,K,b);break;case 13:fh(U,K,b),b&&xe&4&&Ef(U,K);break;case 22:K.memoizedState===null&&fh(U,K,b),Kv(K,K.return);break;case 30:break;default:fh(U,K,b)}m=m.sibling}}function vx(h,m){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&yf(b))}function b1(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&yf(h))}function qA(h,m,b,B){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)w1(h,m,b,B),m=m.sibling}function w1(h,m,b,B){var U=m.flags;switch(m.tag){case 0:case 11:case 15:qA(h,m,b,B),U&2048&&Tm(9,m);break;case 1:qA(h,m,b,B);break;case 3:qA(h,m,b,B),U&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&yf(h)));break;case 12:if(U&2048){qA(h,m,b,B),h=m.stateNode;try{var K=m.memoizedProps,xe=K.id,He=K.onPostCommit;typeof He=="function"&&He(xe,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(lt){T(m,m.return,lt)}}else qA(h,m,b,B);break;case 13:qA(h,m,b,B);break;case 23:break;case 22:K=m.stateNode,xe=m.alternate,m.memoizedState!==null?K._visibility&2?qA(h,m,b,B):gp(h,m):K._visibility&2?qA(h,m,b,B):(K._visibility|=2,km(h,m,b,B,(m.subtreeFlags&10256)!==0)),U&2048&&vx(xe,m);break;case 24:qA(h,m,b,B),U&2048&&b1(m.alternate,m);break;default:qA(h,m,b,B)}}function km(h,m,b,B,U){for(U=U&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var K=h,xe=m,He=b,lt=B,kt=xe.flags;switch(xe.tag){case 0:case 11:case 15:km(K,xe,He,lt,U),Tm(8,xe);break;case 23:break;case 22:var er=xe.stateNode;xe.memoizedState!==null?er._visibility&2?km(K,xe,He,lt,U):gp(K,xe):(er._visibility|=2,km(K,xe,He,lt,U)),U&&kt&2048&&vx(xe.alternate,xe);break;case 24:km(K,xe,He,lt,U),U&&kt&2048&&b1(xe.alternate,xe);break;default:km(K,xe,He,lt,U)}m=m.sibling}}function gp(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var b=h,B=m,U=B.flags;switch(B.tag){case 22:gp(b,B),U&2048&&vx(B.alternate,B);break;case 24:gp(b,B),U&2048&&b1(B.alternate,B);break;default:gp(b,B)}m=m.sibling}}var ty=8192;function ry(h){if(h.subtreeFlags&ty)for(h=h.child;h!==null;)zT(h),h=h.sibling}function zT(h){switch(h.tag){case 26:ry(h),h.flags&ty&&h.memoizedState!==null&&mse(zA,h.memoizedState,h.memoizedProps);break;case 5:ry(h);break;case 3:case 4:var m=zA;zA=Pf(h.stateNode.containerInfo),ry(h),zA=m;break;case 22:h.memoizedState===null&&(m=h.alternate,m!==null&&m.memoizedState!==null?(m=ty,ty=16777216,ry(h),ty=m):ry(h));break;default:ry(h)}}function _x(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function $v(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var B=m[b];Rs=B,KT(B,h)}_x(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)qT(h),h=h.sibling}function qT(h){switch(h.tag){case 0:case 11:case 15:$v(h),h.flags&2048&&Td(9,h,h.return);break;case 3:$v(h);break;case 12:$v(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&2&&(h.return===null||h.return.tag!==13)?(m._visibility&=-3,x1(h)):$v(h);break;default:$v(h)}}function x1(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var B=m[b];Rs=B,KT(B,h)}_x(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:Td(8,m,m.return),x1(m);break;case 22:b=m.stateNode,b._visibility&2&&(b._visibility&=-3,x1(m));break;default:x1(m)}h=h.sibling}}function KT(h,m){for(;Rs!==null;){var b=Rs;switch(b.tag){case 0:case 11:case 15:Td(8,b,m);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var B=b.memoizedState.cachePool.pool;B!=null&&B.refCount++}break;case 24:yf(b.memoizedState.cache)}if(B=b.child,B!==null)B.return=b,Rs=B;else e:for(b=h;Rs!==null;){B=Rs;var U=B.sibling,K=B.return;if(_1(B),B===b){Rs=null;break e}if(U!==null){U.return=K,Rs=U;break e}Rs=K}}}var bx={getCacheForType:function(h){var m=uo(La),b=m.data.get(h);return b===void 0&&(b=h(),m.data.set(h,b)),b}},yp=typeof WeakMap=="function"?WeakMap:Map,da=0,Ia=null,Ti=null,zi=0,fa=0,ph=null,Id=!1,ny=!1,wx=!1,Jh=0,Ko=0,Tf=0,Bf=0,C1=0,fo=0,kd=0,Yv=null,Vc=null,E1=!1,S1=0,Wv=1/0,Zv=null,If=null,Pl=0,kf=null,mh=null,Nm=0,T1=0,B1=null,xx=null,Xv=0,vp=null;function Su(){if((da&2)!==0&&zi!==0)return zi&-zi;if(Ee.T!==null){var h=jc;return h!==0?h:Cr()}return dt()}function Jv(){fo===0&&(fo=(zi&536870912)===0||Pi?$r():536870912);var h=Cu.current;return h!==null&&(h.flags|=32),fo}function Tu(h,m,b){(h===Ia&&(fa===2||fa===9)||h.cancelPendingCommit!==null)&&(KA(h,0),_p(h,zi,fo,!1)),ye(h,b),((da&2)===0||h!==Ia)&&(h===Ia&&((da&2)===0&&(Bf|=b),Ko===4&&_p(h,zi,fo,!1)),Ve(h))}function VT(h,m,b){if((da&6)!==0)throw Error(n(327));var B=!b&&(m&124)===0&&(m&h.expiredLanes)===0||Xt(h,m),U=B?$T(h,m):t0(h,m,!0),K=B;do{if(U===0){ny&&!B&&_p(h,m,0,!1);break}else{if(b=h.current.alternate,K&&!kM(b)){U=t0(h,m,!1),K=!1;continue}if(U===2){if(K=m,h.errorRecoveryDisabledLanes&K)var xe=0;else xe=h.pendingLanes&-536870913,xe=xe!==0?xe:xe&536870912?536870912:0;if(xe!==0){m=xe;e:{var He=h;U=Yv;var lt=He.current.memoizedState.isDehydrated;if(lt&&(KA(He,xe).flags|=256),xe=t0(He,xe,!1),xe!==2){if(wx&&!lt){He.errorRecoveryDisabledLanes|=K,Bf|=K,U=4;break e}K=Vc,Vc=U,K!==null&&(Vc===null?Vc=K:Vc.push.apply(Vc,K))}U=xe}if(K=!1,U!==2)continue}}if(U===1){KA(h,0),_p(h,m,0,!0);break}e:{switch(B=h,K=U,K){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:_p(B,m,fo,!Id);break e;case 2:Vc=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(U=S1+300-be(),10<U)){if(_p(B,m,fo,!Id),Gr(B,0,!0)!==0)break e;B.timeoutHandle=hc(e0.bind(null,B,b,Vc,Zv,E1,m,fo,Bf,kd,Id,K,2,-0,0),U);break e}e0(B,b,Vc,Zv,E1,m,fo,Bf,kd,Id,K,0,-0,0)}}break}while(!0);Ve(h)}function e0(h,m,b,B,U,K,xe,He,lt,kt,er,cr,Dt,jt){if(h.timeoutHandle=-1,cr=m.subtreeFlags,(cr&8192||(cr&16785408)===16785408)&&(Nx={stylesheets:null,count:0,unsuspend:pse},zT(m),cr=gse(),cr!==null)){h.cancelPendingCommit=cr(ay.bind(null,h,m,K,b,B,U,xe,He,lt,er,1,Dt,jt)),_p(h,K,xe,!kt);return}ay(h,m,K,b,B,U,xe,He,lt)}function kM(h){for(var m=h;;){var b=m.tag;if((b===0||b===11||b===15)&&m.flags&16384&&(b=m.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var B=0;B<b.length;B++){var U=b[B],K=U.getSnapshot;U=U.value;try{if(!Eo(K(),U))return!1}catch{return!1}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function _p(h,m,b,B){m&=~C1,m&=~Bf,h.suspendedLanes|=m,h.pingedLanes&=~m,B&&(h.warmLanes|=m),B=h.expirationTimes;for(var U=m;0<U;){var K=31-Tt(U),xe=1<<K;B[K]=-1,U&=~xe}b!==0&&Se(h,b,m)}function I1(){return(da&6)===0?(ht(0),!1):!0}function Cx(){if(Ti!==null){if(fa===0)var h=Ti.return;else h=Ti,vu=To=null,Aa(h),FA=null,Fv=0,h=Ti;for(;h!==null;)qv(h.alternate,h),h=h.return;Ti=null}}function KA(h,m){var b=h.timeoutHandle;b!==-1&&(h.timeoutHandle=-1,pa(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Cx(),Ia=h,Ti=b=Sl(h.current,null),zi=m,fa=0,ph=null,Id=!1,ny=Xt(h,m),wx=!1,kd=fo=C1=Bf=Tf=Ko=0,Vc=Yv=null,E1=!1,(m&8)!==0&&(m|=m&32);var B=h.entangledLanes;if(B!==0)for(h=h.entanglements,B&=m;0<B;){var U=31-Tt(B),K=1<<U;m|=h[U],B&=~K}return Jh=m,NA(),b}function Nf(h,m){It=null,Ee.H=i1,m===v||m===I?(m=ee(),fa=3):m===E?(m=ee(),fa=4):fa=m===h1?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,ph=m,Ti===null&&(Ko=1,Qv(h,ks(m,h.current)))}function k1(){var h=Ee.H;return Ee.H=i1,h===null?i1:h}function Ex(){var h=Ee.A;return Ee.A=bx,h}function N1(){Ko=4,Id||(zi&4194048)!==zi&&Cu.current!==null||(ny=!0),(Tf&134217727)===0&&(Bf&134217727)===0||Ia===null||_p(Ia,zi,fo,!1)}function t0(h,m,b){var B=da;da|=2;var U=k1(),K=Ex();(Ia!==h||zi!==m)&&(Zv=null,KA(h,m)),m=!1;var xe=Ko;e:do try{if(fa!==0&&Ti!==null){var He=Ti,lt=ph;switch(fa){case 8:Cx(),xe=6;break e;case 3:case 2:case 9:case 6:Cu.current===null&&(m=!0);var kt=fa;if(fa=0,ph=null,bp(h,He,lt,kt),b&&ny){xe=0;break e}break;default:kt=fa,fa=0,ph=null,bp(h,He,lt,kt)}}GT(),xe=Ko;break}catch(er){Nf(h,er)}while(!0);return m&&h.shellSuspendCounter++,vu=To=null,da=B,Ee.H=U,Ee.A=K,Ti===null&&(Ia=null,zi=0,NA()),xe}function GT(){for(;Ti!==null;)P1(Ti)}function $T(h,m){var b=da;da|=2;var B=k1(),U=Ex();Ia!==h||zi!==m?(Zv=null,Wv=be()+500,KA(h,m)):ny=Xt(h,m);e:do try{if(fa!==0&&Ti!==null){m=Ti;var K=ph;t:switch(fa){case 1:fa=0,ph=null,bp(h,m,K,1);break;case 2:case 9:if(j(K)){fa=0,ph=null,iy(m);break}m=function(){fa!==2&&fa!==9||Ia!==h||(fa=7),Ve(h)},K.then(m,m);break e;case 3:fa=7;break e;case 4:fa=5;break e;case 7:j(K)?(fa=0,ph=null,iy(m)):(fa=0,ph=null,bp(h,m,K,7));break;case 5:var xe=null;switch(Ti.tag){case 26:xe=Ti.memoizedState;case 5:case 27:var He=Ti;if(!xe||uQ(xe)){fa=0,ph=null;var lt=He.sibling;if(lt!==null)Ti=lt;else{var kt=He.return;kt!==null?(Ti=kt,r0(kt)):Ti=null}break t}}fa=0,ph=null,bp(h,m,K,5);break;case 6:fa=0,ph=null,bp(h,m,K,6);break;case 8:Cx(),Ko=6;break e;default:throw Error(n(462))}}YT();break}catch(er){Nf(h,er)}while(!0);return vu=To=null,Ee.H=B,Ee.A=U,da=b,Ti!==null?0:(Ia=null,zi=0,NA(),Ko)}function YT(){for(;Ti!==null&&!re();)P1(Ti)}function P1(h){var m=LT(h.alternate,h,Jh);h.memoizedProps=h.pendingProps,m===null?r0(h):Ti=m}function iy(h){var m=h,b=m.alternate;switch(m.tag){case 15:case 0:m=OT(b,m,m.pendingProps,m.type,void 0,zi);break;case 11:m=OT(b,m,m.pendingProps,m.type.render,m.ref,zi);break;case 5:Aa(m);default:qv(b,m),m=Ti=Gh(m,Jh),m=LT(b,m,Jh)}h.memoizedProps=h.pendingProps,m===null?r0(h):Ti=m}function bp(h,m,b,B){vu=To=null,Aa(m),FA=null,Fv=0;var U=m.return;try{if(BM(h,U,m,b,zi)){Ko=1,Qv(h,ks(b,h.current)),Ti=null;return}}catch(K){if(U!==null)throw Ti=U,K;Ko=1,Qv(h,ks(b,h.current)),Ti=null;return}m.flags&32768?(Pi||B===1?h=!0:ny||(zi&536870912)!==0?h=!1:(Id=h=!0,(B===2||B===9||B===3||B===6)&&(B=Cu.current,B!==null&&B.tag===13&&(B.flags|=16384))),n0(m,h)):r0(m)}function r0(h){var m=h;do{if((m.flags&32768)!==0){n0(m,Id);return}h=m.return;var b=ey(m.alternate,m,Jh);if(b!==null){Ti=b;return}if(m=m.sibling,m!==null){Ti=m;return}Ti=m=h}while(m!==null);Ko===0&&(Ko=5)}function n0(h,m){do{var b=DT(h.alternate,h);if(b!==null){b.flags&=32767,Ti=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!m&&(h=h.sibling,h!==null)){Ti=h;return}Ti=h=b}while(h!==null);Ko=6,Ti=null}function ay(h,m,b,B,U,K,xe,He,lt){h.cancelPendingCommit=null;do u();while(Pl!==0);if((da&6)!==0)throw Error(n(327));if(m!==null){if(m===h.current)throw Error(n(177));if(K=m.lanes|m.childLanes,K|=kA,we(h,b,K,xe,He,lt),h===Ia&&(Ti=Ia=null,zi=0),mh=m,kf=h,Nm=b,T1=K,B1=U,xx=B,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,te(_t,function(){return g(),null})):(h.callbackNode=null,h.callbackPriority=0),B=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||B){B=Ee.T,Ee.T=null,U=_e.p,_e.p=2,xe=da,da|=4;try{jT(h,m,b)}finally{da=xe,_e.p=U,Ee.T=B}}Pl=1,O1(),M1(),L1()}}function O1(){if(Pl===1){Pl=0;var h=kf,m=mh,b=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||b){b=Ee.T,Ee.T=null;var B=_e.p;_e.p=2;var U=da;da|=4;try{Gv(m,h);var K=Bu,xe=oh(h.containerInfo),He=K.focusedElem,lt=K.selectionRange;if(xe!==He&&He&&He.ownerDocument&&Dc(He.ownerDocument.documentElement,He)){if(lt!==null&&Ba(He)){var kt=lt.start,er=lt.end;if(er===void 0&&(er=kt),"selectionStart"in He)He.selectionStart=kt,He.selectionEnd=Math.min(er,He.value.length);else{var cr=He.ownerDocument||document,Dt=cr&&cr.defaultView||window;if(Dt.getSelection){var jt=Dt.getSelection(),$n=He.textContent.length,Fn=Math.min(lt.start,$n),Ua=lt.end===void 0?Fn:Math.min(lt.end,$n);!jt.extend&&Fn>Ua&&(xe=Ua,Ua=Fn,Fn=xe);var Et=fu(He,Fn),gt=fu(He,Ua);if(Et&&gt&&(jt.rangeCount!==1||jt.anchorNode!==Et.node||jt.anchorOffset!==Et.offset||jt.focusNode!==gt.node||jt.focusOffset!==gt.offset)){var Bt=cr.createRange();Bt.setStart(Et.node,Et.offset),jt.removeAllRanges(),Fn>Ua?(jt.addRange(Bt),jt.extend(gt.node,gt.offset)):(Bt.setEnd(gt.node,gt.offset),jt.addRange(Bt))}}}}for(cr=[],jt=He;jt=jt.parentNode;)jt.nodeType===1&&cr.push({element:jt,left:jt.scrollLeft,top:jt.scrollTop});for(typeof He.focus=="function"&&He.focus(),He=0;He<cr.length;He++){var ar=cr[He];ar.element.scrollLeft=ar.left,ar.element.scrollTop=ar.top}}JT=!!_s,Bu=_s=null}finally{da=U,_e.p=B,Ee.T=b}}h.current=m,Pl=2}}function M1(){if(Pl===2){Pl=0;var h=kf,m=mh,b=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||b){b=Ee.T,Ee.T=null;var B=_e.p;_e.p=2;var U=da;da|=4;try{v1(h,m.alternate,m)}finally{da=U,_e.p=B,Ee.T=b}}Pl=3}}function L1(){if(Pl===4||Pl===3){Pl=0,Ue();var h=kf,m=mh,b=Nm,B=xx;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Pl=5:(Pl=0,mh=kf=null,d(h,h.pendingLanes));var U=h.pendingLanes;if(U===0&&(If=null),xt(b),m=m.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(nt,m,void 0,(m.current.flags&128)===128)}catch{}if(B!==null){m=Ee.T,U=_e.p,_e.p=2,Ee.T=null;try{for(var K=h.onRecoverableError,xe=0;xe<B.length;xe++){var He=B[xe];K(He.value,{componentStack:He.stack})}}finally{Ee.T=m,_e.p=U}}(Nm&3)!==0&&u(),Ve(h),U=h.pendingLanes,(b&4194090)!==0&&(U&42)!==0?h===vp?Xv++:(Xv=0,vp=h):Xv=0,ht(0)}}function d(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,yf(m)))}function u(h){return O1(),M1(),L1(),g()}function g(){if(Pl!==5)return!1;var h=kf,m=T1;T1=0;var b=xt(Nm),B=Ee.T,U=_e.p;try{_e.p=32>b?32:b,Ee.T=null,b=B1,B1=null;var K=kf,xe=Nm;if(Pl=0,mh=kf=null,Nm=0,(da&6)!==0)throw Error(n(331));var He=da;if(da|=4,qT(K.current),w1(K,K.current,xe,b),da=He,ht(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(nt,K)}catch{}return!0}finally{_e.p=U,Ee.T=B,d(h,m)}}function w(h,m,b){m=ks(b,m),m=u1(h.stateNode,m,2),h=$e(h,m,2),h!==null&&(ye(h,2),Ve(h))}function T(h,m,b){if(h.tag===3)w(h,h,b);else for(;m!==null;){if(m.tag===3){w(m,h,b);break}else if(m.tag===1){var B=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(If===null||!If.has(B))){h=ks(b,h),b=Ax(2),B=$e(m,b,2),B!==null&&(dx(b,B,m,h),ye(B,2),Ve(B));break}}m=m.return}}function P(h,m,b){var B=h.pingCache;if(B===null){B=h.pingCache=new yp;var U=new Set;B.set(m,U)}else U=B.get(m),U===void 0&&(U=new Set,B.set(m,U));U.has(b)||(wx=!0,U.add(b),h=L.bind(null,h,m,b),m.then(h,h))}function L(h,m,b){var B=h.pingCache;B!==null&&B.delete(m),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,Ia===h&&(zi&b)===b&&(Ko===4||Ko===3&&(zi&62914560)===zi&&300>be()-S1?(da&2)===0&&KA(h,0):C1|=b,kd===zi&&(kd=0)),Ve(h)}function Q(h,m){m===0&&(m=xn()),h=pu(h,m),h!==null&&(ye(h,m),Ve(h))}function z(h){var m=h.memoizedState,b=0;m!==null&&(b=m.retryLane),Q(h,b)}function ie(h,m){var b=0;switch(h.tag){case 13:var B=h.stateNode,U=h.memoizedState;U!==null&&(b=U.retryLane);break;case 19:B=h.stateNode;break;case 22:B=h.stateNode._retryCache;break;default:throw Error(n(314))}B!==null&&B.delete(m),Q(h,b)}function te(h,m){return pe(h,m)}var ge=null,Ie=null,Fe=!1,je=!1,Ye=!1,it=0;function Ve(h){h!==Ie&&h.next===null&&(Ie===null?ge=Ie=h:Ie=Ie.next=h),je=!0,Fe||(Fe=!0,Or())}function ht(h,m){if(!Ye&&je){Ye=!0;do for(var b=!1,B=ge;B!==null;){if(h!==0){var U=B.pendingLanes;if(U===0)var K=0;else{var xe=B.suspendedLanes,He=B.pingedLanes;K=(1<<31-Tt(42|h)+1)-1,K&=U&~(xe&~He),K=K&201326741?K&201326741|1:K?K|2:0}K!==0&&(b=!0,dr(B,K))}else K=zi,K=Gr(B,B===Ia?K:0,B.cancelPendingCommit!==null||B.timeoutHandle!==-1),(K&3)===0||Xt(B,K)||(b=!0,dr(B,K));B=B.next}while(b);Ye=!1}}function bt(){Ot()}function Ot(){je=Fe=!1;var h=0;it!==0&&(Vo()&&(h=it),it=0);for(var m=be(),b=null,B=ge;B!==null;){var U=B.next,K=Ut(B,m);K===0?(B.next=null,b===null?ge=U:b.next=U,U===null&&(Ie=b)):(b=B,(h!==0||(K&3)!==0)&&(je=!0)),B=U}ht(h)}function Ut(h,m){for(var b=h.suspendedLanes,B=h.pingedLanes,U=h.expirationTimes,K=h.pendingLanes&-62914561;0<K;){var xe=31-Tt(K),He=1<<xe,lt=U[xe];lt===-1?((He&b)===0||(He&B)!==0)&&(U[xe]=on(He,m)):lt<=m&&(h.expiredLanes|=He),K&=~He}if(m=Ia,b=zi,b=Gr(h,h===m?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),B=h.callbackNode,b===0||h===m&&(fa===2||fa===9)||h.cancelPendingCommit!==null)return B!==null&&B!==null&&J(B),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||Xt(h,b)){if(m=b&-b,m===h.callbackPriority)return m;switch(B!==null&&J(B),xt(b)){case 2:case 8:b=mt;break;case 32:b=_t;break;case 268435456:b=Gt;break;default:b=_t}return B=$t.bind(null,h),b=pe(b,B),h.callbackPriority=m,h.callbackNode=b,m}return B!==null&&B!==null&&J(B),h.callbackPriority=2,h.callbackNode=null,2}function $t(h,m){if(Pl!==0&&Pl!==5)return h.callbackNode=null,h.callbackPriority=0,null;var b=h.callbackNode;if(u()&&h.callbackNode!==b)return null;var B=zi;return B=Gr(h,h===Ia?B:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),B===0?null:(VT(h,B,m),Ut(h,be()),h.callbackNode!=null&&h.callbackNode===b?$t.bind(null,h):null)}function dr(h,m){if(u())return null;VT(h,m,!0)}function Or(){hl(function(){(da&6)!==0?pe(Ke,bt):Ot()})}function Cr(){return it===0&&(it=$r()),it}function lr(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Ec(""+h)}function _r(h,m){var b=m.ownerDocument.createElement("input");return b.name=m.name,b.value=m.value,h.id&&b.setAttribute("form",h.id),m.parentNode.insertBefore(b,m),h=new FormData(h),b.parentNode.removeChild(b),h}function gr(h,m,b,B,U){if(m==="submit"&&b&&b.stateNode===U){var K=lr((U[qt]||null).action),xe=B.submitter;xe&&(m=(m=xe[qt]||null)?lr(m.formAction):xe.getAttribute("formAction"),m!==null&&(K=m,xe=null));var He=new oo("action","action",null,B,U);h.push({event:He,listeners:[{instance:null,listener:function(){if(B.defaultPrevented){if(it!==0){var lt=xe?_r(U,xe):new FormData(U);xu(b,{pending:!0,data:lt,method:U.method,action:K},null,lt)}}else typeof K=="function"&&(He.preventDefault(),lt=xe?_r(U,xe):new FormData(U),xu(b,{pending:!0,data:lt,method:U.method,action:K},K,lt))},currentTarget:U}]})}}for(var Ar=0;Ar<Kh.length;Ar++){var Yt=Kh[Ar],Kr=Yt.toLowerCase(),Mr=Yt[0].toUpperCase()+Yt.slice(1);El(Kr,"on"+Mr)}El(Nr,"onAnimationEnd"),El(gs,"onAnimationIteration"),El(Uc,"onAnimationStart"),El("dblclick","onDoubleClick"),El("focusin","onFocus"),El("focusout","onBlur"),El(BA,"onTransitionRun"),El(dm,"onTransitionStart"),El(kr,"onTransitionCancel"),El(sh,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vn=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fr));function Gn(h,m){m=(m&4)!==0;for(var b=0;b<h.length;b++){var B=h[b],U=B.event;B=B.listeners;e:{var K=void 0;if(m)for(var xe=B.length-1;0<=xe;xe--){var He=B[xe],lt=He.instance,kt=He.currentTarget;if(He=He.listener,lt!==K&&U.isPropagationStopped())break e;K=He,U.currentTarget=kt;try{K(U)}catch(er){l1(er)}U.currentTarget=null,K=lt}else for(xe=0;xe<B.length;xe++){if(He=B[xe],lt=He.instance,kt=He.currentTarget,He=He.listener,lt!==K&&U.isPropagationStopped())break e;K=He,U.currentTarget=kt;try{K(U)}catch(er){l1(er)}U.currentTarget=null,K=lt}}}}function Er(h,m){var b=m[Sr];b===void 0&&(b=m[Sr]=new Set);var B=h+"__bubble";b.has(B)||(yi(m,h,2,!1),b.add(B))}function xi(h,m,b){var B=0;m&&(B|=4),yi(b,h,B,m)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function Pn(h){if(!h[Xr]){h[Xr]=!0,$i.forEach(function(b){b!=="selectionchange"&&(vn.has(b)||xi(b,!1,h),xi(b,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Xr]||(m[Xr]=!0,xi("selectionchange",!1,m))}}function yi(h,m,b,B){switch(mQ(m)){case 2:var U=_se;break;case 8:U=bse;break;default:U=MM}b=U.bind(null,m,b,h),U=void 0,!el||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(U=!0),B?U!==void 0?h.addEventListener(m,b,{capture:!0,passive:U}):h.addEventListener(m,b,!0):U!==void 0?h.addEventListener(m,b,{passive:U}):h.addEventListener(m,b,!1)}function qi(h,m,b,B,U){var K=B;if((m&1)===0&&(m&2)===0&&B!==null)e:for(;;){if(B===null)return;var xe=B.tag;if(xe===3||xe===4){var He=B.stateNode.containerInfo;if(He===U)break;if(xe===4)for(xe=B.return;xe!==null;){var lt=xe.tag;if((lt===3||lt===4)&&xe.stateNode.containerInfo===U)return;xe=xe.return}for(;He!==null;){if(xe=dn(He),xe===null)return;if(lt=xe.tag,lt===5||lt===6||lt===26||lt===27){B=K=xe;continue e}He=He.parentNode}}B=B.return}Qh(function(){var kt=K,er=md(b),cr=[];e:{var Dt=ap.get(h);if(Dt!==void 0){var jt=oo,$n=h;switch(h){case"keypress":if(xl(b)===0)break e;case"keydown":case"keyup":jt=$a;break;case"focusin":$n="focus",jt=Y;break;case"focusout":$n="blur",jt=Y;break;case"beforeblur":case"afterblur":jt=Y;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=is;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=co;break;case Nr:case gs:case Uc:jt=Xe;break;case sh:jt=uu;break;case"scroll":case"scrollend":jt=th;break;case"wheel":jt=CA;break;case"copy":case"cut":case"paste":jt=wt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=so;break;case"toggle":case"beforetoggle":jt=nl}var Fn=(m&4)!==0,Ua=!Fn&&(h==="scroll"||h==="scrollend"),Et=Fn?Dt!==null?Dt+"Capture":null:Dt;Fn=[];for(var gt=kt,Bt;gt!==null;){var ar=gt;if(Bt=ar.stateNode,ar=ar.tag,ar!==5&&ar!==26&&ar!==27||Bt===null||Et===null||(ar=Co(gt,Et),ar!=null&&Fn.push(Ol(gt,ar,Bt))),Ua)break;gt=gt.return}0<Fn.length&&(Dt=new jt(Dt,$n,null,b,er),cr.push({event:Dt,listeners:Fn}))}}if((m&7)===0){e:{if(Dt=h==="mouseover"||h==="pointerover",jt=h==="mouseout"||h==="pointerout",Dt&&b!==Sc&&($n=b.relatedTarget||b.fromElement)&&(dn($n)||$n[or]))break e;if((jt||Dt)&&(Dt=er.window===er?er:(Dt=er.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,jt?($n=b.relatedTarget||b.toElement,jt=kt,$n=$n?dn($n):null,$n!==null&&(Ua=a($n),Fn=$n.tag,$n!==Ua||Fn!==5&&Fn!==27&&Fn!==6)&&($n=null)):(jt=null,$n=kt),jt!==$n)){if(Fn=Oc,ar="onMouseLeave",Et="onMouseEnter",gt="mouse",(h==="pointerout"||h==="pointerover")&&(Fn=so,ar="onPointerLeave",Et="onPointerEnter",gt="pointer"),Ua=jt==null?Dt:Qr(jt),Bt=$n==null?Dt:Qr($n),Dt=new Fn(ar,gt+"leave",jt,b,er),Dt.target=Ua,Dt.relatedTarget=Bt,ar=null,dn(er)===kt&&(Fn=new Fn(Et,gt+"enter",$n,b,er),Fn.target=Bt,Fn.relatedTarget=Ua,ar=Fn),Ua=ar,jt&&$n)t:{for(Fn=jt,Et=$n,gt=0,Bt=Fn;Bt;Bt=Xn(Bt))gt++;for(Bt=0,ar=Et;ar;ar=Xn(ar))Bt++;for(;0<gt-Bt;)Fn=Xn(Fn),gt--;for(;0<Bt-gt;)Et=Xn(Et),Bt--;for(;gt--;){if(Fn===Et||Et!==null&&Fn===Et.alternate)break t;Fn=Xn(Fn),Et=Xn(Et)}Fn=null}else Fn=null;jt!==null&&di(cr,Dt,jt,Fn,!1),$n!==null&&Ua!==null&&di(cr,Ua,$n,Fn,!0)}}e:{if(Dt=kt?Qr(kt):window,jt=Dt.nodeName&&Dt.nodeName.toLowerCase(),jt==="select"||jt==="input"&&Dt.type==="file")var cn=os;else if(ms(Dt))if(Au)cn=ec;else{cn=Jl;var Ui=df}else jt=Dt.nodeName,!jt||jt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?kt&&uf(kt.elementType)&&(cn=os):cn=il;if(cn&&(cn=cn(h,kt))){SA(cr,cn,b,er);break e}Ui&&Ui(h,Dt,kt),h==="focusout"&&kt&&Dt.type==="number"&&kt.memoizedProps.value!=null&&eh(Dt,"number",Dt.value)}switch(Ui=kt?Qr(kt):window,h){case"focusin":(ms(Ui)||Ui.contentEditable==="true")&&(Qn=Ui,li=kt,aa=null);break;case"focusout":aa=li=Qn=null;break;case"mousedown":Ni=!0;break;case"contextmenu":case"mouseup":case"dragend":Ni=!1,ol(cr,b,er);break;case"selectionchange":if(al)break;case"keydown":case"keyup":ol(cr,b,er)}var Sn;if(Ri)e:{switch(h){case"compositionstart":var Kn="onCompositionStart";break e;case"compositionend":Kn="onCompositionEnd";break e;case"compositionupdate":Kn="onCompositionUpdate";break e}Kn=void 0}else Zl?ih(h,b)&&(Kn="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&(Kn="onCompositionStart");Kn&&(Mc&&b.locale!=="ko"&&(Zl||Kn!=="onCompositionStart"?Kn==="onCompositionEnd"&&Zl&&(Sn=Yl()):(tl=er,Hh="value"in tl?tl.value:tl.textContent,Zl=!0)),Ui=Ds(kt,Kn),0<Ui.length&&(Kn=new nr(Kn,h,null,b,er),cr.push({event:Kn,listeners:Ui}),Sn?Kn.data=Sn:(Sn=as(b),Sn!==null&&(Kn.data=Sn)))),(Sn=Ya?zh(h,b):Af(h,b))&&(Kn=Ds(kt,"onBeforeInput"),0<Kn.length&&(Ui=new nr("onBeforeInput","beforeinput",null,b,er),cr.push({event:Ui,listeners:Kn}),Ui.data=Sn)),gr(cr,h,kt,b,er)}Gn(cr,m)})}function Ol(h,m,b){return{instance:h,listener:m,currentTarget:b}}function Ds(h,m){for(var b=m+"Capture",B=[];h!==null;){var U=h,K=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||K===null||(U=Co(h,b),U!=null&&B.unshift(Ol(h,U,K)),U=Co(h,m),U!=null&&B.push(Ol(h,U,K))),h.tag===3)return B;h=h.return}return[]}function Xn(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function di(h,m,b,B,U){for(var K=m._reactName,xe=[];b!==null&&b!==B;){var He=b,lt=He.alternate,kt=He.stateNode;if(He=He.tag,lt!==null&&lt===B)break;He!==5&&He!==26&&He!==27||kt===null||(lt=kt,U?(kt=Co(b,K),kt!=null&&xe.unshift(Ol(b,kt,lt))):U||(kt=Co(b,K),kt!=null&&xe.push(Ol(b,kt,lt)))),b=b.return}xe.length!==0&&h.push({event:m,listeners:xe})}var VA=/\r\n?/g,wp=/\u0000|\uFFFD/g;function gh(h){return(typeof h=="string"?h:""+h).replace(VA,`
`).replace(wp,"")}function GA(h,m){return m=gh(m),gh(h)===m}function vs(){}function Ci(h,m,b,B,U,K){switch(b){case"children":typeof B=="string"?m==="body"||m==="textarea"&&B===""||wl(h,B):(typeof B=="number"||typeof B=="bigint")&&m!=="body"&&wl(h,""+B);break;case"className":Ga(h,"class",B);break;case"tabIndex":Ga(h,"tabindex",B);break;case"dir":case"role":case"viewBox":case"width":case"height":Ga(h,b,B);break;case"style":cf(h,B,K);break;case"data":if(m!=="object"){Ga(h,"data",B);break}case"src":case"href":if(B===""&&(m!=="a"||b!=="href")){h.removeAttribute(b);break}if(B==null||typeof B=="function"||typeof B=="symbol"||typeof B=="boolean"){h.removeAttribute(b);break}B=Ec(""+B),h.setAttribute(b,B);break;case"action":case"formAction":if(typeof B=="function"){h.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof K=="function"&&(b==="formAction"?(m!=="input"&&Ci(h,m,"name",U.name,U,null),Ci(h,m,"formEncType",U.formEncType,U,null),Ci(h,m,"formMethod",U.formMethod,U,null),Ci(h,m,"formTarget",U.formTarget,U,null)):(Ci(h,m,"encType",U.encType,U,null),Ci(h,m,"method",U.method,U,null),Ci(h,m,"target",U.target,U,null)));if(B==null||typeof B=="symbol"||typeof B=="boolean"){h.removeAttribute(b);break}B=Ec(""+B),h.setAttribute(b,B);break;case"onClick":B!=null&&(h.onclick=vs);break;case"onScroll":B!=null&&Er("scroll",h);break;case"onScrollEnd":B!=null&&Er("scrollend",h);break;case"dangerouslySetInnerHTML":if(B!=null){if(typeof B!="object"||!("__html"in B))throw Error(n(61));if(b=B.__html,b!=null){if(U.children!=null)throw Error(n(60));h.innerHTML=b}}break;case"multiple":h.multiple=B&&typeof B!="function"&&typeof B!="symbol";break;case"muted":h.muted=B&&typeof B!="function"&&typeof B!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(B==null||typeof B=="function"||typeof B=="boolean"||typeof B=="symbol"){h.removeAttribute("xlink:href");break}b=Ec(""+B),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":B!=null&&typeof B!="function"&&typeof B!="symbol"?h.setAttribute(b,""+B):h.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":B&&typeof B!="function"&&typeof B!="symbol"?h.setAttribute(b,""):h.removeAttribute(b);break;case"capture":case"download":B===!0?h.setAttribute(b,""):B!==!1&&B!=null&&typeof B!="function"&&typeof B!="symbol"?h.setAttribute(b,B):h.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":B!=null&&typeof B!="function"&&typeof B!="symbol"&&!isNaN(B)&&1<=B?h.setAttribute(b,B):h.removeAttribute(b);break;case"rowSpan":case"start":B==null||typeof B=="function"||typeof B=="symbol"||isNaN(B)?h.removeAttribute(b):h.setAttribute(b,B);break;case"popover":Er("beforetoggle",h),Er("toggle",h),mi(h,"popover",B);break;case"xlinkActuate":Es(h,"http://www.w3.org/1999/xlink","xlink:actuate",B);break;case"xlinkArcrole":Es(h,"http://www.w3.org/1999/xlink","xlink:arcrole",B);break;case"xlinkRole":Es(h,"http://www.w3.org/1999/xlink","xlink:role",B);break;case"xlinkShow":Es(h,"http://www.w3.org/1999/xlink","xlink:show",B);break;case"xlinkTitle":Es(h,"http://www.w3.org/1999/xlink","xlink:title",B);break;case"xlinkType":Es(h,"http://www.w3.org/1999/xlink","xlink:type",B);break;case"xmlBase":Es(h,"http://www.w3.org/XML/1998/namespace","xml:base",B);break;case"xmlLang":Es(h,"http://www.w3.org/XML/1998/namespace","xml:lang",B);break;case"xmlSpace":Es(h,"http://www.w3.org/XML/1998/namespace","xml:space",B);break;case"is":mi(h,"is",B);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=hf.get(b)||b,mi(h,b,B))}}function i0(h,m,b,B,U,K){switch(b){case"style":cf(h,B,K);break;case"dangerouslySetInnerHTML":if(B!=null){if(typeof B!="object"||!("__html"in B))throw Error(n(61));if(b=B.__html,b!=null){if(U.children!=null)throw Error(n(60));h.innerHTML=b}}break;case"children":typeof B=="string"?wl(h,B):(typeof B=="number"||typeof B=="bigint")&&wl(h,""+B);break;case"onScroll":B!=null&&Er("scroll",h);break;case"onScrollEnd":B!=null&&Er("scrollend",h);break;case"onClick":B!=null&&(h.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(U=b.endsWith("Capture"),m=b.slice(2,U?b.length-7:void 0),K=h[qt]||null,K=K!=null?K[b]:null,typeof K=="function"&&h.removeEventListener(m,K,U),typeof B=="function")){typeof K!="function"&&K!==null&&(b in h?h[b]=null:h.hasAttribute(b)&&h.removeAttribute(b)),h.addEventListener(m,B,U);break e}b in h?h[b]=B:B===!0?h.setAttribute(b,""):mi(h,b,B)}}}function hs(h,m,b){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Er("error",h),Er("load",h);var B=!1,U=!1,K;for(K in b)if(b.hasOwnProperty(K)){var xe=b[K];if(xe!=null)switch(K){case"src":B=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Ci(h,m,K,xe,b,null)}}U&&Ci(h,m,"srcSet",b.srcSet,b,null),B&&Ci(h,m,"src",b.src,b,null);return;case"input":Er("invalid",h);var He=K=xe=U=null,lt=null,kt=null;for(B in b)if(b.hasOwnProperty(B)){var er=b[B];if(er!=null)switch(B){case"name":U=er;break;case"type":xe=er;break;case"checked":lt=er;break;case"defaultChecked":kt=er;break;case"value":K=er;break;case"defaultValue":He=er;break;case"children":case"dangerouslySetInnerHTML":if(er!=null)throw Error(n(137,m));break;default:Ci(h,m,B,er,b,null)}}lf(h,K,He,lt,kt,xe,U,!1),Dn(h);return;case"select":Er("invalid",h),B=xe=K=null;for(U in b)if(b.hasOwnProperty(U)&&(He=b[U],He!=null))switch(U){case"value":K=He;break;case"defaultValue":xe=He;break;case"multiple":B=He;default:Ci(h,m,U,He,b,null)}m=K,b=xe,h.multiple=!!B,m!=null?Gl(h,!!B,m,!1):b!=null&&Gl(h,!!B,b,!0);return;case"textarea":Er("invalid",h),K=U=B=null;for(xe in b)if(b.hasOwnProperty(xe)&&(He=b[xe],He!=null))switch(xe){case"value":B=He;break;case"defaultValue":U=He;break;case"children":K=He;break;case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(91));break;default:Ci(h,m,xe,He,b,null)}Dh(h,B,U,K),Dn(h);return;case"option":for(lt in b)if(b.hasOwnProperty(lt)&&(B=b[lt],B!=null))switch(lt){case"selected":h.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ci(h,m,lt,B,b,null)}return;case"dialog":Er("beforetoggle",h),Er("toggle",h),Er("cancel",h),Er("close",h);break;case"iframe":case"object":Er("load",h);break;case"video":case"audio":for(B=0;B<Fr.length;B++)Er(Fr[B],h);break;case"image":Er("error",h),Er("load",h);break;case"details":Er("toggle",h);break;case"embed":case"source":case"link":Er("error",h),Er("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(kt in b)if(b.hasOwnProperty(kt)&&(B=b[kt],B!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Ci(h,m,kt,B,b,null)}return;default:if(uf(m)){for(er in b)b.hasOwnProperty(er)&&(B=b[er],B!==void 0&&i0(h,m,er,B,b,void 0));return}}for(He in b)b.hasOwnProperty(He)&&(B=b[He],B!=null&&Ci(h,m,He,B,b,null))}function As(h,m,b,B){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,K=null,xe=null,He=null,lt=null,kt=null,er=null;for(jt in b){var cr=b[jt];if(b.hasOwnProperty(jt)&&cr!=null)switch(jt){case"checked":break;case"value":break;case"defaultValue":lt=cr;default:B.hasOwnProperty(jt)||Ci(h,m,jt,null,B,cr)}}for(var Dt in B){var jt=B[Dt];if(cr=b[Dt],B.hasOwnProperty(Dt)&&(jt!=null||cr!=null))switch(Dt){case"type":K=jt;break;case"name":U=jt;break;case"checked":kt=jt;break;case"defaultChecked":er=jt;break;case"value":xe=jt;break;case"defaultValue":He=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(n(137,m));break;default:jt!==cr&&Ci(h,m,Dt,jt,B,cr)}}Ju(h,xe,He,lt,kt,er,K,U);return;case"select":jt=xe=He=Dt=null;for(K in b)if(lt=b[K],b.hasOwnProperty(K)&&lt!=null)switch(K){case"value":break;case"multiple":jt=lt;default:B.hasOwnProperty(K)||Ci(h,m,K,null,B,lt)}for(U in B)if(K=B[U],lt=b[U],B.hasOwnProperty(U)&&(K!=null||lt!=null))switch(U){case"value":Dt=K;break;case"defaultValue":He=K;break;case"multiple":xe=K;default:K!==lt&&Ci(h,m,U,K,B,lt)}m=He,b=xe,B=jt,Dt!=null?Gl(h,!!b,Dt,!1):!!B!=!!b&&(m!=null?Gl(h,!!b,m,!0):Gl(h,!!b,b?[]:"",!1));return;case"textarea":jt=Dt=null;for(He in b)if(U=b[He],b.hasOwnProperty(He)&&U!=null&&!B.hasOwnProperty(He))switch(He){case"value":break;case"children":break;default:Ci(h,m,He,null,B,U)}for(xe in B)if(U=B[xe],K=b[xe],B.hasOwnProperty(xe)&&(U!=null||K!=null))switch(xe){case"value":Dt=U;break;case"defaultValue":jt=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:U!==K&&Ci(h,m,xe,U,B,K)}Fo(h,Dt,jt);return;case"option":for(var $n in b)if(Dt=b[$n],b.hasOwnProperty($n)&&Dt!=null&&!B.hasOwnProperty($n))switch($n){case"selected":h.selected=!1;break;default:Ci(h,m,$n,null,B,Dt)}for(lt in B)if(Dt=B[lt],jt=b[lt],B.hasOwnProperty(lt)&&Dt!==jt&&(Dt!=null||jt!=null))switch(lt){case"selected":h.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:Ci(h,m,lt,Dt,B,jt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fn in b)Dt=b[Fn],b.hasOwnProperty(Fn)&&Dt!=null&&!B.hasOwnProperty(Fn)&&Ci(h,m,Fn,null,B,Dt);for(kt in B)if(Dt=B[kt],jt=b[kt],B.hasOwnProperty(kt)&&Dt!==jt&&(Dt!=null||jt!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(n(137,m));break;default:Ci(h,m,kt,Dt,B,jt)}return;default:if(uf(m)){for(var Ua in b)Dt=b[Ua],b.hasOwnProperty(Ua)&&Dt!==void 0&&!B.hasOwnProperty(Ua)&&i0(h,m,Ua,void 0,B,Dt);for(er in B)Dt=B[er],jt=b[er],!B.hasOwnProperty(er)||Dt===jt||Dt===void 0&&jt===void 0||i0(h,m,er,Dt,B,jt);return}}for(var Et in b)Dt=b[Et],b.hasOwnProperty(Et)&&Dt!=null&&!B.hasOwnProperty(Et)&&Ci(h,m,Et,null,B,Dt);for(cr in B)Dt=B[cr],jt=b[cr],!B.hasOwnProperty(cr)||Dt===jt||Dt==null&&jt==null||Ci(h,m,cr,Dt,B,jt)}var _s=null,Bu=null;function eA(h){return h.nodeType===9?h:h.ownerDocument}function Mi(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bi(h,m){if(h===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&m==="foreignObject"?0:h}function Ei(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Da=null;function Vo(){var h=window.event;return h&&h.type==="popstate"?h===Da?!1:(Da=h,!0):(Da=null,!1)}var hc=typeof setTimeout=="function"?setTimeout:void 0,pa=typeof clearTimeout=="function"?clearTimeout:void 0,Bo=typeof Promise=="function"?Promise:void 0,hl=typeof queueMicrotask=="function"?queueMicrotask:typeof Bo<"u"?function(h){return Bo.resolve(null).then(h).catch(Ml)}:hc;function Ml(h){setTimeout(function(){throw h})}function ds(h){return h==="head"}function Us(h,m){var b=m,B=0,U=0;do{var K=b.nextSibling;if(h.removeChild(b),K&&K.nodeType===8)if(b=K.data,b==="/$"){if(0<B&&8>B){b=B;var xe=h.ownerDocument;if(b&1&&Cp(xe.documentElement),b&2&&Cp(xe.body),b&4)for(b=xe.head,Cp(b),xe=b.firstChild;xe;){var He=xe.nextSibling,lt=xe.nodeName;xe[kn]||lt==="SCRIPT"||lt==="STYLE"||lt==="LINK"&&xe.rel.toLowerCase()==="stylesheet"||b.removeChild(xe),xe=He}}if(U===0){h.removeChild(K),Rx(m);return}U--}else b==="$"||b==="$?"||b==="$!"?U++:B=b.charCodeAt(0)-48;else B=0;b=K}while(b);Rx(m)}function Fs(h){var m=h.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var b=m;switch(m=m.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":Fs(b),An(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}h.removeChild(b)}}function tA(h,m,b,B){for(;h.nodeType===1;){var U=b;if(h.nodeName.toLowerCase()!==m.toLowerCase()){if(!B&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(B){if(!h[kn])switch(m){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(K=h.getAttribute("rel"),K==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(K!==U.rel||h.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||h.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||h.getAttribute("title")!==(U.title==null?null:U.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(K=h.getAttribute("src"),(K!==(U.src==null?null:U.src)||h.getAttribute("type")!==(U.type==null?null:U.type)||h.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&K&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(m==="input"&&h.type==="hidden"){var K=U.name==null?null:""+U.name;if(U.type==="hidden"&&h.getAttribute("name")===K)return h}else return h;if(h=Iu(h.nextSibling),h===null)break}return null}function Nd(h,m,b){if(m==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!b||(h=Iu(h.nextSibling),h===null))return null;return h}function xp(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function Pd(h,m){var b=h.ownerDocument;if(h.data!=="$?"||b.readyState==="complete")m();else{var B=function(){m(),b.removeEventListener("DOMContentLoaded",B)};b.addEventListener("DOMContentLoaded",B),h._reactRetry=B}}function Iu(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?"||m==="F!"||m==="F")break;if(m==="/$")return null}}return h}var rA=null;function a0(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"){if(m===0)return h;m--}else b==="/$"&&m++}h=h.previousSibling}return null}function ku(h,m,b){switch(m=eA(b),h){case"html":if(h=m.documentElement,!h)throw Error(n(452));return h;case"head":if(h=m.head,!h)throw Error(n(453));return h;case"body":if(h=m.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function Cp(h){for(var m=h.attributes;m.length;)h.removeAttributeNode(m[0]);An(h)}var Al=new Map,Od=new Set;function Pf(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Ll=_e.d;_e.d={f:o0,r:R1,D:D1,C:l0,L:NM,m:Om,X:sy,S:oy,M:ly};function o0(){var h=Ll.f(),m=I1();return h||m}function R1(h){var m=Dr(h);m!==null&&m.tag===5&&m.type==="form"?_m(m):Ll.r(h)}var Pm=typeof document>"u"?null:document;function s0(h,m,b){var B=Pm;if(B&&typeof m=="string"&&m){var U=oi(m);U='link[rel="'+h+'"][href="'+U+'"]',typeof b=="string"&&(U+='[crossorigin="'+b+'"]'),Od.has(U)||(Od.add(U),h={rel:h,crossOrigin:b,href:m},B.querySelector(U)===null&&(m=B.createElement("link"),hs(m,"link",h),Rn(m),B.head.appendChild(m)))}}function D1(h){Ll.D(h),s0("dns-prefetch",h,null)}function l0(h,m){Ll.C(h,m),s0("preconnect",h,m)}function NM(h,m,b){Ll.L(h,m,b);var B=Pm;if(B&&h&&m){var U='link[rel="preload"][as="'+oi(m)+'"]';m==="image"&&b&&b.imageSrcSet?(U+='[imagesrcset="'+oi(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(U+='[imagesizes="'+oi(b.imageSizes)+'"]')):U+='[href="'+oi(h)+'"]';var K=U;switch(m){case"style":K=Mm(h);break;case"script":K=Ep(h)}Al.has(K)||(h=f({rel:"preload",href:m==="image"&&b&&b.imageSrcSet?void 0:h,as:m},b),Al.set(K,h),B.querySelector(U)!==null||m==="style"&&B.querySelector(cy(K))||m==="script"&&B.querySelector(uy(K))||(m=B.createElement("link"),hs(m,"link",h),Rn(m),B.head.appendChild(m)))}}function Om(h,m){Ll.m(h,m);var b=Pm;if(b&&h){var B=m&&typeof m.as=="string"?m.as:"script",U='link[rel="modulepreload"][as="'+oi(B)+'"][href="'+oi(h)+'"]',K=U;switch(B){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":K=Ep(h)}if(!Al.has(K)&&(h=f({rel:"modulepreload",href:h},m),Al.set(K,h),b.querySelector(U)===null)){switch(B){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(uy(K)))return}B=b.createElement("link"),hs(B,"link",h),Rn(B),b.head.appendChild(B)}}}function oy(h,m,b){Ll.S(h,m,b);var B=Pm;if(B&&h){var U=gn(B).hoistableStyles,K=Mm(h);m=m||"default";var xe=U.get(K);if(!xe){var He={loading:0,preload:null};if(xe=B.querySelector(cy(K)))He.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":m},b),(b=Al.get(K))&&Lm(h,b);var lt=xe=B.createElement("link");Rn(lt),hs(lt,"link",h),lt._p=new Promise(function(kt,er){lt.onload=kt,lt.onerror=er}),lt.addEventListener("load",function(){He.loading|=1}),lt.addEventListener("error",function(){He.loading|=2}),He.loading|=4,yh(xe,m,B)}xe={type:"stylesheet",instance:xe,count:1,state:He},U.set(K,xe)}}}function sy(h,m){Ll.X(h,m);var b=Pm;if(b&&h){var B=gn(b).hoistableScripts,U=Ep(h),K=B.get(U);K||(K=b.querySelector(uy(U)),K||(h=f({src:h,async:!0},m),(m=Al.get(U))&&Ix(h,m),K=b.createElement("script"),Rn(K),hs(K,"link",h),b.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},B.set(U,K))}}function ly(h,m){Ll.M(h,m);var b=Pm;if(b&&h){var B=gn(b).hoistableScripts,U=Ep(h),K=B.get(U);K||(K=b.querySelector(uy(U)),K||(h=f({src:h,async:!0,type:"module"},m),(m=Al.get(U))&&Ix(h,m),K=b.createElement("script"),Rn(K),hs(K,"link",h),b.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},B.set(U,K))}}function Sx(h,m,b,B){var U=(U=qe.current)?Pf(U):null;if(!U)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(m=Mm(b.href),b=gn(U).hoistableStyles,B=b.get(m),B||(B={type:"style",instance:null,count:0,state:null},b.set(m,B)),B):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){h=Mm(b.href);var K=gn(U).hoistableStyles,xe=K.get(h);if(xe||(U=U.ownerDocument||U,xe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},K.set(h,xe),(K=U.querySelector(cy(h)))&&!K._p&&(xe.instance=K,xe.state.loading=5),Al.has(h)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},Al.set(h,b),K||Bx(U,h,b,xe.state))),m&&B===null)throw Error(n(528,""));return xe}if(m&&B!==null)throw Error(n(529,""));return null;case"script":return m=b.async,b=b.src,typeof b=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Ep(b),b=gn(U).hoistableScripts,B=b.get(m),B||(B={type:"script",instance:null,count:0,state:null},b.set(m,B)),B):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function Mm(h){return'href="'+oi(h)+'"'}function cy(h){return'link[rel="stylesheet"]['+h+"]"}function Tx(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Bx(h,m,b,B){h.querySelector('link[rel="preload"][as="style"]['+m+"]")?B.loading=1:(m=h.createElement("link"),B.preload=m,m.addEventListener("load",function(){return B.loading|=1}),m.addEventListener("error",function(){return B.loading|=2}),hs(m,"link",b),Rn(m),h.head.appendChild(m))}function Ep(h){return'[src="'+oi(h)+'"]'}function uy(h){return"script[async]"+h}function $A(h,m,b){if(m.count++,m.instance===null)switch(m.type){case"style":var B=h.querySelector('style[data-href~="'+oi(b.href)+'"]');if(B)return m.instance=B,Rn(B),B;var U=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return B=(h.ownerDocument||h).createElement("style"),Rn(B),hs(B,"style",U),yh(B,b.precedence,h),m.instance=B;case"stylesheet":U=Mm(b.href);var K=h.querySelector(cy(U));if(K)return m.state.loading|=4,m.instance=K,Rn(K),K;B=Tx(b),(U=Al.get(U))&&Lm(B,U),K=(h.ownerDocument||h).createElement("link"),Rn(K);var xe=K;return xe._p=new Promise(function(He,lt){xe.onload=He,xe.onerror=lt}),hs(K,"link",B),m.state.loading|=4,yh(K,b.precedence,h),m.instance=K;case"script":return K=Ep(b.src),(U=h.querySelector(uy(K)))?(m.instance=U,Rn(U),U):(B=b,(U=Al.get(K))&&(B=f({},b),Ix(B,U)),h=h.ownerDocument||h,U=h.createElement("script"),Rn(U),hs(U,"link",B),h.head.appendChild(U),m.instance=U);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(B=m.instance,m.state.loading|=4,yh(B,b.precedence,h));return m.instance}function yh(h,m,b){for(var B=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=B.length?B[B.length-1]:null,K=U,xe=0;xe<B.length;xe++){var He=B[xe];if(He.dataset.precedence===m)K=He;else if(K!==U)break}K?K.parentNode.insertBefore(h,K.nextSibling):(m=b.nodeType===9?b.head:b,m.insertBefore(h,m.firstChild))}function Lm(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.title==null&&(h.title=m.title)}function Ix(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.integrity==null&&(h.integrity=m.integrity)}var Nu=null;function WT(h,m,b){if(Nu===null){var B=new Map,U=Nu=new Map;U.set(b,B)}else U=Nu,B=U.get(b),B||(B=new Map,U.set(b,B));if(B.has(h))return B;for(B.set(h,null),b=b.getElementsByTagName(h),U=0;U<b.length;U++){var K=b[U];if(!(K[kn]||K[zt]||h==="link"&&K.getAttribute("rel")==="stylesheet")&&K.namespaceURI!=="http://www.w3.org/2000/svg"){var xe=K.getAttribute(m)||"";xe=h+xe;var He=B.get(xe);He?He.push(K):B.set(xe,[K])}}return B}function kx(h,m,b){h=h.ownerDocument||h,h.head.insertBefore(b,m==="title"?h.querySelector("head > title"):null)}function U1(h,m,b){if(b===1||m.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return h=m.disabled,typeof m.precedence=="string"&&h==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function uQ(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var Nx=null;function pse(){}function mse(h,m,b){if(Nx===null)throw Error(n(475));var B=Nx;if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var U=Mm(b.href),K=h.querySelector(cy(U));if(K){h=K._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(B.count++,B=ZT.bind(B),h.then(B,B)),m.state.loading|=4,m.instance=K,Rn(K);return}K=h.ownerDocument||h,b=Tx(b),(U=Al.get(U))&&Lm(b,U),K=K.createElement("link"),Rn(K);var xe=K;xe._p=new Promise(function(He,lt){xe.onload=He,xe.onerror=lt}),hs(K,"link",b),m.instance=K}B.stylesheets===null&&(B.stylesheets=new Map),B.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(B.count++,m=ZT.bind(B),h.addEventListener("load",m),h.addEventListener("error",m))}}function gse(){if(Nx===null)throw Error(n(475));var h=Nx;return h.stylesheets&&h.count===0&&PM(h,h.stylesheets),0<h.count?function(m){var b=setTimeout(function(){if(h.stylesheets&&PM(h,h.stylesheets),h.unsuspend){var B=h.unsuspend;h.unsuspend=null,B()}},6e4);return h.unsuspend=m,function(){h.unsuspend=null,clearTimeout(b)}}:null}function ZT(){if(this.count--,this.count===0){if(this.stylesheets)PM(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var XT=null;function PM(h,m){h.stylesheets=null,h.unsuspend!==null&&(h.count++,XT=new Map,m.forEach(yse,h),XT=null,ZT.call(h))}function yse(h,m){if(!(m.state.loading&4)){var b=XT.get(h);if(b)var B=b.get(null);else{b=new Map,XT.set(h,b);for(var U=h.querySelectorAll("link[data-precedence],style[data-precedence]"),K=0;K<U.length;K++){var xe=U[K];(xe.nodeName==="LINK"||xe.getAttribute("media")!=="not all")&&(b.set(xe.dataset.precedence,xe),B=xe)}B&&b.set(null,B)}U=m.instance,xe=U.getAttribute("data-precedence"),K=b.get(xe)||B,K===B&&b.set(null,U),b.set(xe,U),this.count++,B=ZT.bind(this),U.addEventListener("load",B),U.addEventListener("error",B),K?K.parentNode.insertBefore(U,K.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(U,h.firstChild)),m.state.loading|=4}}var Px={$$typeof:q,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function vse(h,m,b,B,U,K,xe,He){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=B,this.onUncaughtError=U,this.onCaughtError=K,this.onRecoverableError=xe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=He,this.incompleteTransitions=new Map}function hQ(h,m,b,B,U,K,xe,He,lt,kt,er,cr){return h=new vse(h,m,b,xe,He,lt,kt,cr),m=1,K===!0&&(m|=24),K=Hr(3,null,null,m),h.current=K,K.stateNode=h,m=wd(),m.refCount++,h.pooledCache=m,m.refCount++,K.memoizedState={element:B,isDehydrated:b,cache:m},Ce(K),h}function AQ(h){return h?(h=Ma,h):Ma}function dQ(h,m,b,B,U,K){U=AQ(U),B.context===null?B.context=U:B.pendingContext=U,B=Me(m),B.payload={element:b},K=K===void 0?null:K,K!==null&&(B.callback=K),b=$e(h,B,m),b!==null&&(Tu(b,h,m),Ge(b,h,m))}function fQ(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<m?b:m}}function OM(h,m){fQ(h,m),(h=h.alternate)&&fQ(h,m)}function pQ(h){if(h.tag===13){var m=pu(h,67108864);m!==null&&Tu(m,h,67108864),OM(h,67108864)}}var JT=!0;function _se(h,m,b,B){var U=Ee.T;Ee.T=null;var K=_e.p;try{_e.p=2,MM(h,m,b,B)}finally{_e.p=K,Ee.T=U}}function bse(h,m,b,B){var U=Ee.T;Ee.T=null;var K=_e.p;try{_e.p=8,MM(h,m,b,B)}finally{_e.p=K,Ee.T=U}}function MM(h,m,b,B){if(JT){var U=LM(B);if(U===null)qi(h,m,B,eB,b),gQ(h,B);else if(xse(U,h,m,b,B))B.stopPropagation();else if(gQ(h,B),m&4&&-1<wse.indexOf(h)){for(;U!==null;){var K=Dr(U);if(K!==null)switch(K.tag){case 3:if(K=K.stateNode,K.current.memoizedState.isDehydrated){var xe=yr(K.pendingLanes);if(xe!==0){var He=K;for(He.pendingLanes|=2,He.entangledLanes|=2;xe;){var lt=1<<31-Tt(xe);He.entanglements[1]|=lt,xe&=~lt}Ve(K),(da&6)===0&&(Wv=be()+500,ht(0))}}break;case 13:He=pu(K,2),He!==null&&Tu(He,K,2),I1(),OM(K,2)}if(K=LM(B),K===null&&qi(h,m,B,eB,b),K===U)break;U=K}U!==null&&B.stopPropagation()}else qi(h,m,B,null,b)}}function LM(h){return h=md(h),RM(h)}var eB=null;function RM(h){if(eB=null,h=dn(h),h!==null){var m=a(h);if(m===null)h=null;else{var b=m.tag;if(b===13){if(h=o(m),h!==null)return h;h=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null)}}return eB=h,null}function mQ(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Ke:return 2;case mt:return 8;case _t:case Kt:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var DM=!1,hy=null,Ay=null,dy=null,Ox=new Map,Mx=new Map,fy=[],wse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gQ(h,m){switch(h){case"focusin":case"focusout":hy=null;break;case"dragenter":case"dragleave":Ay=null;break;case"mouseover":case"mouseout":dy=null;break;case"pointerover":case"pointerout":Ox.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mx.delete(m.pointerId)}}function Lx(h,m,b,B,U,K){return h===null||h.nativeEvent!==K?(h={blockedOn:m,domEventName:b,eventSystemFlags:B,nativeEvent:K,targetContainers:[U]},m!==null&&(m=Dr(m),m!==null&&pQ(m)),h):(h.eventSystemFlags|=B,m=h.targetContainers,U!==null&&m.indexOf(U)===-1&&m.push(U),h)}function xse(h,m,b,B,U){switch(m){case"focusin":return hy=Lx(hy,h,m,b,B,U),!0;case"dragenter":return Ay=Lx(Ay,h,m,b,B,U),!0;case"mouseover":return dy=Lx(dy,h,m,b,B,U),!0;case"pointerover":var K=U.pointerId;return Ox.set(K,Lx(Ox.get(K)||null,h,m,b,B,U)),!0;case"gotpointercapture":return K=U.pointerId,Mx.set(K,Lx(Mx.get(K)||null,h,m,b,B,U)),!0}return!1}function yQ(h){var m=dn(h.target);if(m!==null){var b=a(m);if(b!==null){if(m=b.tag,m===13){if(m=o(b),m!==null){h.blockedOn=m,tt(h.priority,function(){if(b.tag===13){var B=Su();B=ut(B);var U=pu(b,B);U!==null&&Tu(U,b,B),OM(b,B)}});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function tB(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var b=LM(h.nativeEvent);if(b===null){b=h.nativeEvent;var B=new b.constructor(b.type,b);Sc=B,b.target.dispatchEvent(B),Sc=null}else return m=Dr(b),m!==null&&pQ(m),h.blockedOn=b,!1;m.shift()}return!0}function vQ(h,m,b){tB(h)&&b.delete(m)}function Cse(){DM=!1,hy!==null&&tB(hy)&&(hy=null),Ay!==null&&tB(Ay)&&(Ay=null),dy!==null&&tB(dy)&&(dy=null),Ox.forEach(vQ),Mx.forEach(vQ)}function rB(h,m){h.blockedOn===m&&(h.blockedOn=null,DM||(DM=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cse)))}var nB=null;function _Q(h){nB!==h&&(nB=h,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nB===h&&(nB=null);for(var m=0;m<h.length;m+=3){var b=h[m],B=h[m+1],U=h[m+2];if(typeof B!="function"){if(RM(B||b)===null)continue;break}var K=Dr(b);K!==null&&(h.splice(m,3),m-=3,xu(K,{pending:!0,data:U,method:b.method,action:B},B,U))}}))}function Rx(h){function m(lt){return rB(lt,h)}hy!==null&&rB(hy,h),Ay!==null&&rB(Ay,h),dy!==null&&rB(dy,h),Ox.forEach(m),Mx.forEach(m);for(var b=0;b<fy.length;b++){var B=fy[b];B.blockedOn===h&&(B.blockedOn=null)}for(;0<fy.length&&(b=fy[0],b.blockedOn===null);)yQ(b),b.blockedOn===null&&fy.shift();if(b=(h.ownerDocument||h).$$reactFormReplay,b!=null)for(B=0;B<b.length;B+=3){var U=b[B],K=b[B+1],xe=U[qt]||null;if(typeof K=="function")xe||_Q(b);else if(xe){var He=null;if(K&&K.hasAttribute("formAction")){if(U=K,xe=K[qt]||null)He=xe.formAction;else if(RM(U)!==null)continue}else He=xe.action;typeof He=="function"?b[B+1]=He:(b.splice(B,3),B-=3),_Q(b)}}}function UM(h){this._internalRoot=h}iB.prototype.render=UM.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));var b=m.current,B=Su();dQ(b,B,h,m,null,null)},iB.prototype.unmount=UM.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;dQ(h.current,2,null,h,null,null),I1(),m[or]=null}};function iB(h){this._internalRoot=h}iB.prototype.unstable_scheduleHydration=function(h){if(h){var m=dt();h={blockedOn:null,target:h,priority:m};for(var b=0;b<fy.length&&m!==0&&m<fy[b].priority;b++);fy.splice(b,0,h),b===0&&yQ(h)}};var bQ=e.version;if(bQ!=="19.1.1")throw Error(n(527,bQ,"19.1.1"));_e.findDOMNode=function(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=c(m),h=h!==null?A(h):null,h=h===null?null:h.stateNode,h};var Ese={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ee,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aB=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aB.isDisabled&&aB.supportsFiber)try{nt=aB.inject(Ese),rt=aB}catch{}}return Ux.createRoot=function(h,m){if(!i(h))throw Error(n(299));var b=!1,B="",U=ST,K=TT,xe=BT,He=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(B=m.identifierPrefix),m.onUncaughtError!==void 0&&(U=m.onUncaughtError),m.onCaughtError!==void 0&&(K=m.onCaughtError),m.onRecoverableError!==void 0&&(xe=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(He=m.unstable_transitionCallbacks)),m=hQ(h,1,!1,null,null,b,B,U,K,xe,He,null),h[or]=m.current,Pn(h),new UM(m)},Ux.hydrateRoot=function(h,m,b){if(!i(h))throw Error(n(299));var B=!1,U="",K=ST,xe=TT,He=BT,lt=null,kt=null;return b!=null&&(b.unstable_strictMode===!0&&(B=!0),b.identifierPrefix!==void 0&&(U=b.identifierPrefix),b.onUncaughtError!==void 0&&(K=b.onUncaughtError),b.onCaughtError!==void 0&&(xe=b.onCaughtError),b.onRecoverableError!==void 0&&(He=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(lt=b.unstable_transitionCallbacks),b.formState!==void 0&&(kt=b.formState)),m=hQ(h,1,!0,m,b??null,B,U,K,xe,He,lt,kt),m.context=AQ(null),b=m.current,B=Su(),B=ut(B),U=Me(B),U.callback=null,$e(b,U,B),b=B,m.current.lanes=b,ye(m,b),Ve(m),h[or]=m.current,Pn(h),new iB(m)},Ux.version="19.1.1",Ux}var NQ;function Rse(){if(NQ)return QM.exports;NQ=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),QM.exports=Lse(),QM.exports}var Dse=Rse();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PQ="popstate";function Use(r={}){function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return n2("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:UE(i)}return jse(e,t,null,r)}function es(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kf(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fse(){return Math.random().toString(36).substring(2,10)}function OQ(r,e){return{usr:r.state,key:r.key,idx:e}}function n2(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?jw(e):e,state:t,key:e&&e.key||n||Fse()}}function UE({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function jw(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function jse(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",c=null,A=f();A==null&&(A=0,o.replaceState({...o.state,idx:A},""));function f(){return(o.state||{idx:null}).idx}function y(){s="POP";let M=f(),D=M==null?null:M-A;A=M,c&&c({action:s,location:N.location,delta:D})}function C(M,D){s="PUSH";let H=n2(N.location,M,D);A=f()+1;let q=OQ(H,A),$=N.createHref(H);try{o.pushState(q,"",$)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;i.location.assign($)}a&&c&&c({action:s,location:N.location,delta:1})}function x(M,D){s="REPLACE";let H=n2(N.location,M,D);A=f();let q=OQ(H,A),$=N.createHref(H);o.replaceState(q,"",$),a&&c&&c({action:s,location:N.location,delta:0})}function k(M){return Qse(M)}let N={get action(){return s},get location(){return r(i,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(PQ,y),c=M,()=>{i.removeEventListener(PQ,y),c=null}},createHref(M){return e(i,M)},createURL:k,encodeLocation(M){let D=k(M);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:C,replace:x,go(M){return o.go(M)}};return N}function Qse(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),es(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:UE(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function q$(r,e,t="/"){return Hse(r,e,t,!1)}function Hse(r,e,t,n){let i=typeof e=="string"?jw(e):e,a=mg(i.pathname||"/",t);if(a==null)return null;let o=K$(r);zse(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let A=ele(a);s=Xse(o[c],A,n)}return s}function K$(r,e=[],t=[],n="",i=!1){let a=(o,s,c=i,A)=>{let f={relativePath:A===void 0?o.path||"":A,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;es(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let y=ng([n,f.relativePath]),C=t.concat(f);o.children&&o.children.length>0&&(es(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),K$(o.children,e,C,y,c)),!(o.path==null&&!o.index)&&e.push({path:y,score:Wse(y,o.index),routesMeta:C})};return r.forEach((o,s)=>{if(o.path===""||!o.path?.includes("?"))a(o,s);else for(let c of V$(o.path))a(o,s,!0,c)}),e}function V$(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=V$(n.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>r.startsWith("/")&&c===""?"/":c)}function zse(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Zse(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var qse=/^:[\w-]+$/,Kse=3,Vse=2,Gse=1,$se=10,Yse=-2,MQ=r=>r==="*";function Wse(r,e){let t=r.split("/"),n=t.length;return t.some(MQ)&&(n+=Yse),e&&(n+=Vse),t.filter(i=>!MQ(i)).reduce((i,a)=>i+(qse.test(a)?Kse:a===""?Gse:$se),n)}function Zse(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Xse(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],A=s===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",y=Mk({path:c.relativePath,caseSensitive:c.caseSensitive,end:A},f),C=c.route;if(!y&&A&&t&&!n[n.length-1].route.index&&(y=Mk({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:ng([a,y.pathname]),pathnameBase:ile(ng([a,y.pathnameBase])),route:C}),y.pathnameBase!=="/"&&(a=ng([a,y.pathnameBase]))}return o}function Mk(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Jse(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((A,{paramName:f,isOptional:y},C)=>{if(f==="*"){let k=s[C]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const x=s[C];return y&&!x?A[f]=void 0:A[f]=(x||"").replace(/%2F/g,"/"),A},{}),pathname:a,pathnameBase:o,pattern:r}}function Jse(r,e=!1,t=!0){Kf(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ele(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kf(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mg(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function tle(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?jw(r):r;return{pathname:t?t.startsWith("/")?t:rle(t,e):e,search:ale(n),hash:ole(i)}}function rle(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function KM(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nle(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function E6(r){let e=nle(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function S6(r,e,t,n=!1){let i;typeof r=="string"?i=jw(r):(i={...r},es(!i.pathname||!i.pathname.includes("?"),KM("?","pathname","search",i)),es(!i.pathname||!i.pathname.includes("#"),KM("#","pathname","hash",i)),es(!i.search||!i.search.includes("#"),KM("#","search","hash",i)));let a=r===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=t;else{let y=e.length-1;if(!n&&o.startsWith("..")){let C=o.split("/");for(;C[0]==="..";)C.shift(),y-=1;i.pathname=C.join("/")}s=y>=0?e[y]:"/"}let c=tle(i,s),A=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(A||f)&&(c.pathname+="/"),c}var ng=r=>r.join("/").replace(/\/\/+/g,"/"),ile=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ale=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ole=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sle(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var G$=["POST","PUT","PATCH","DELETE"];new Set(G$);var lle=["GET",...G$];new Set(lle);var Qw=Z.createContext(null);Qw.displayName="DataRouter";var ZP=Z.createContext(null);ZP.displayName="DataRouterState";Z.createContext(!1);var $$=Z.createContext({isTransitioning:!1});$$.displayName="ViewTransition";var cle=Z.createContext(new Map);cle.displayName="Fetchers";var ule=Z.createContext(null);ule.displayName="Await";var Zf=Z.createContext(null);Zf.displayName="Navigation";var ES=Z.createContext(null);ES.displayName="Location";var im=Z.createContext({outlet:null,matches:[],isDataRoute:!1});im.displayName="Route";var T6=Z.createContext(null);T6.displayName="RouteError";function hle(r,{relative:e}={}){es(Hw(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Z.useContext(Zf),{hash:i,pathname:a,search:o}=SS(r,{relative:e}),s=a;return t!=="/"&&(s=a==="/"?t:ng([t,a])),n.createHref({pathname:s,search:o,hash:i})}function Hw(){return Z.useContext(ES)!=null}function Mg(){return es(Hw(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(ES).location}var Y$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W$(r){Z.useContext(Zf).static||Z.useLayoutEffect(r)}function XP(){let{isDataRoute:r}=Z.useContext(im);return r?Cle():Ale()}function Ale(){es(Hw(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Qw),{basename:e,navigator:t}=Z.useContext(Zf),{matches:n}=Z.useContext(im),{pathname:i}=Mg(),a=JSON.stringify(E6(n)),o=Z.useRef(!1);return W$(()=>{o.current=!0}),Z.useCallback((c,A={})=>{if(Kf(o.current,Y$),!o.current)return;if(typeof c=="number"){t.go(c);return}let f=S6(c,JSON.parse(a),i,A.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ng([e,f.pathname])),(A.replace?t.replace:t.push)(f,A.state,A)},[e,t,a,i,r])}Z.createContext(null);function SS(r,{relative:e}={}){let{matches:t}=Z.useContext(im),{pathname:n}=Mg(),i=JSON.stringify(E6(t));return Z.useMemo(()=>S6(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function dle(r,e){return Z$(r,e)}function Z$(r,e,t,n,i){es(Hw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Z.useContext(Zf),{matches:o}=Z.useContext(im),s=o[o.length-1],c=s?s.params:{},A=s?s.pathname:"/",f=s?s.pathnameBase:"/",y=s&&s.route;{let H=y&&y.path||"";X$(A,!y||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${A}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let C=Mg(),x;if(e){let H=typeof e=="string"?jw(e):e;es(f==="/"||H.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${H.pathname}" was given in the \`location\` prop.`),x=H}else x=C;let k=x.pathname||"/",N=k;if(f!=="/"){let H=f.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=q$(r,{pathname:N});Kf(y||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kf(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=yle(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},c,H.params),pathname:ng([f,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?f:ng([f,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),o,t,n,i);return e&&D?Z.createElement(ES.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},D):D}function fle(){let r=xle(),e=sle(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:a},"ErrorBoundary")," or"," ",Z.createElement("code",{style:a},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:i},t):null,o)}var ple=Z.createElement(fle,null),mle=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Z.createElement(im.Provider,{value:this.props.routeContext},Z.createElement(T6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gle({routeContext:r,match:e,children:t}){let n=Z.useContext(Qw);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(im.Provider,{value:r},t)}function yle(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t?.errors;if(o!=null){let A=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);es(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,A+1))}let s=!1,c=-1;if(t)for(let A=0;A<a.length;A++){let f=a[A];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=A),f.route.id){let{loaderData:y,errors:C}=t,x=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!C||C[f.route.id]===void 0);if(f.route.lazy||x){s=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((A,f,y)=>{let C,x=!1,k=null,N=null;t&&(C=o&&f.route.id?o[f.route.id]:void 0,k=f.route.errorElement||ple,s&&(c<0&&y===0?(X$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):c===y&&(x=!0,N=f.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),D=()=>{let H;return C?H=k:x?H=N:f.route.Component?H=Z.createElement(f.route.Component,null):f.route.element?H=f.route.element:H=A,Z.createElement(gle,{match:f,routeContext:{outlet:A,matches:M,isDataRoute:t!=null},children:H})};return t&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?Z.createElement(mle,{location:t.location,revalidation:t.revalidation,component:k,error:C,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:n}):D()},null)}function B6(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vle(r){let e=Z.useContext(Qw);return es(e,B6(r)),e}function _le(r){let e=Z.useContext(ZP);return es(e,B6(r)),e}function ble(r){let e=Z.useContext(im);return es(e,B6(r)),e}function I6(r){let e=ble(r),t=e.matches[e.matches.length-1];return es(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function wle(){return I6("useRouteId")}function xle(){let r=Z.useContext(T6),e=_le("useRouteError"),t=I6("useRouteError");return r!==void 0?r:e.errors?.[t]}function Cle(){let{router:r}=vle("useNavigate"),e=I6("useNavigate"),t=Z.useRef(!1);return W$(()=>{t.current=!0}),Z.useCallback(async(i,a={})=>{Kf(t.current,Y$),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var LQ={};function X$(r,e,t){!e&&!LQ[r]&&(LQ[r]=!0,Kf(!1,t))}Z.memo(Ele);function Ele({routes:r,future:e,state:t,unstable_onError:n}){return Z$(r,void 0,t,n,e)}function Lk({to:r,replace:e,state:t,relative:n}){es(Hw(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Z.useContext(Zf);Kf(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Z.useContext(im),{pathname:o}=Mg(),s=XP(),c=S6(r,E6(a),o,n==="path"),A=JSON.stringify(c);return Z.useEffect(()=>{s(JSON.parse(A),{replace:e,state:t,relative:n})},[s,A,n,e,t]),null}function Ip(r){es(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sle({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){es(!Hw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),s=Z.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=jw(t));let{pathname:c="/",search:A="",hash:f="",state:y=null,key:C="default"}=t,x=Z.useMemo(()=>{let k=mg(c,o);return k==null?null:{location:{pathname:k,search:A,hash:f,state:y,key:C},navigationType:n}},[o,c,A,f,y,C,n]);return Kf(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${A}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Z.createElement(Zf.Provider,{value:s},Z.createElement(ES.Provider,{children:e,value:x}))}function Tle({children:r,location:e}){return dle(i2(r),e)}function i2(r,e=[]){let t=[];return Z.Children.forEach(r,(n,i)=>{if(!Z.isValidElement(n))return;let a=[...e,i];if(n.type===Z.Fragment){t.push.apply(t,i2(n.props.children,a));return}es(n.type===Ip,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),es(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=i2(n.props.children,a)),t.push(o)}),t}var qI="get",KI="application/x-www-form-urlencoded";function JP(r){return r!=null&&typeof r.tagName=="string"}function Ble(r){return JP(r)&&r.tagName.toLowerCase()==="button"}function Ile(r){return JP(r)&&r.tagName.toLowerCase()==="form"}function kle(r){return JP(r)&&r.tagName.toLowerCase()==="input"}function Nle(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ple(r,e){return r.button===0&&(!e||e==="_self")&&!Nle(r)}var oB=null;function Ole(){if(oB===null)try{new FormData(document.createElement("form"),0),oB=!1}catch{oB=!0}return oB}var Mle=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function VM(r){return r!=null&&!Mle.has(r)?(Kf(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${KI}"`),null):r}function Lle(r,e){let t,n,i,a,o;if(Ile(r)){let s=r.getAttribute("action");n=s?mg(s,e):null,t=r.getAttribute("method")||qI,i=VM(r.getAttribute("enctype"))||KI,a=new FormData(r)}else if(Ble(r)||kle(r)&&(r.type==="submit"||r.type==="image")){let s=r.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||s.getAttribute("action");if(n=c?mg(c,e):null,t=r.getAttribute("formmethod")||s.getAttribute("method")||qI,i=VM(r.getAttribute("formenctype"))||VM(s.getAttribute("enctype"))||KI,a=new FormData(s,r),!Ole()){let{name:A,type:f,value:y}=r;if(f==="image"){let C=A?`${A}.`:"";a.append(`${C}x`,"0"),a.append(`${C}y`,"0")}else A&&a.append(A,y)}}else{if(JP(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qI,n=null,i=KI,o=r}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k6(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Rle(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&mg(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function Dle(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ule(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Fle(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await Dle(a,t);return o.links?o.links():[]}return[]}));return zle(n.flat(1).filter(Ule).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function RQ(r,e,t,n,i,a){let o=(c,A)=>t[A]?c.route.id!==t[A].route.id:!0,s=(c,A)=>t[A].pathname!==c.pathname||t[A].route.path?.endsWith("*")&&t[A].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,A)=>o(c,A)||s(c,A)):a==="data"?e.filter((c,A)=>{let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,A)||s(c,A))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function jle(r,e,{includeHydrateFallback:t}={}){return Qle(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Qle(r){return[...new Set(r)]}function Hle(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function zle(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(Hle(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function J$(){let r=Z.useContext(Qw);return k6(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qle(){let r=Z.useContext(ZP);return k6(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var N6=Z.createContext(void 0);N6.displayName="FrameworkContext";function eY(){let r=Z.useContext(N6);return k6(r,"You must render this element inside a <HydratedRouter> element"),r}function Kle(r,e){let t=Z.useContext(N6),[n,i]=Z.useState(!1),[a,o]=Z.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:A,onMouseLeave:f,onTouchStart:y}=e,C=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let N=D=>{D.forEach(H=>{o(H.isIntersecting)})},M=new IntersectionObserver(N,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[r]),Z.useEffect(()=>{if(n){let N=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(N)}}},[n]);let x=()=>{i(!0)},k=()=>{i(!1),o(!1)};return t?r!=="intent"?[a,C,{}]:[a,C,{onFocus:Fx(s,x),onBlur:Fx(c,k),onMouseEnter:Fx(A,x),onMouseLeave:Fx(f,k),onTouchStart:Fx(y,x)}]:[!1,C,{}]}function Fx(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Vle({page:r,...e}){let{router:t}=J$(),n=Z.useMemo(()=>q$(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?Z.createElement($le,{page:r,matches:n,...e}):null}function Gle(r){let{manifest:e,routeModules:t}=eY(),[n,i]=Z.useState([]);return Z.useEffect(()=>{let a=!1;return Fle(r,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[r,e,t]),n}function $le({page:r,matches:e,...t}){let n=Mg(),{manifest:i,routeModules:a}=eY(),{basename:o}=J$(),{loaderData:s,matches:c}=qle(),A=Z.useMemo(()=>RQ(r,e,c,i,n,"data"),[r,e,c,i,n]),f=Z.useMemo(()=>RQ(r,e,c,i,n,"assets"),[r,e,c,i,n]),y=Z.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let k=new Set,N=!1;if(e.forEach(D=>{let H=i.routes[D.route.id];!H||!H.hasLoader||(!A.some(q=>q.route.id===D.route.id)&&D.route.id in s&&a[D.route.id]?.shouldRevalidate||H.hasClientLoader?N=!0:k.add(D.route.id))}),k.size===0)return[];let M=Rle(r,o,"data");return N&&k.size>0&&M.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[o,s,n,i,A,e,r,a]),C=Z.useMemo(()=>jle(f,i),[f,i]),x=Gle(f);return Z.createElement(Z.Fragment,null,y.map(k=>Z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),C.map(k=>Z.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:N})=>Z.createElement("link",{key:k,nonce:t.nonce,...N})))}function Yle(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tY&&(window.__reactRouterVersion="7.9.1")}catch{}function Wle({basename:r,children:e,window:t}){let n=Z.useRef();n.current==null&&(n.current=Use({window:t,v5Compat:!0}));let i=n.current,[a,o]=Z.useState({action:i.action,location:i.location}),s=Z.useCallback(c=>{Z.startTransition(()=>o(c))},[o]);return Z.useLayoutEffect(()=>i.listen(s),[i,s]),Z.createElement(Sle,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var rY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:c,to:A,preventScrollReset:f,viewTransition:y,...C},x){let{basename:k}=Z.useContext(Zf),N=typeof A=="string"&&rY.test(A),M,D=!1;if(typeof A=="string"&&N&&(M=A,tY))try{let fe=new URL(window.location.href),Ne=A.startsWith("//")?new URL(fe.protocol+A):new URL(A),W=mg(Ne.pathname,k);Ne.origin===fe.origin&&W!=null?A=W+Ne.search+Ne.hash:D=!0}catch{Kf(!1,`<Link to="${A}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=hle(A,{relative:i}),[q,$,ce]=Kle(n,C),V=ece(A,{replace:o,state:s,target:c,preventScrollReset:f,relative:i,viewTransition:y});function he(fe){e&&e(fe),fe.defaultPrevented||V(fe)}let le=Z.createElement("a",{...C,...ce,href:M||H,onClick:D||a?e:he,ref:Yle(x,$),target:c,"data-discover":!N&&t==="render"?"true":void 0});return q&&!N?Z.createElement(Z.Fragment,null,le,Z.createElement(Vle,{page:H})):le});Gs.displayName="Link";var Zle=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:c,...A},f){let y=SS(o,{relative:A.relative}),C=Mg(),x=Z.useContext(ZP),{navigator:k,basename:N}=Z.useContext(Zf),M=x!=null&&ace(y)&&s===!0,D=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,H=C.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(H=H.toLowerCase(),q=q?q.toLowerCase():null,D=D.toLowerCase()),q&&N&&(q=mg(q,N)||q);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let ce=H===D||!i&&H.startsWith(D)&&H.charAt($)==="/",V=q!=null&&(q===D||!i&&q.startsWith(D)&&q.charAt(D.length)==="/"),he={isActive:ce,isPending:V,isTransitioning:M},le=ce?e:void 0,fe;typeof n=="function"?fe=n(he):fe=[n,ce?"active":null,V?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof a=="function"?a(he):a;return Z.createElement(Gs,{...A,"aria-current":le,className:fe,ref:f,style:Ne,to:o,viewTransition:s},typeof c=="function"?c(he):c)});Zle.displayName="NavLink";var Xle=Z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:o=qI,action:s,onSubmit:c,relative:A,preventScrollReset:f,viewTransition:y,...C},x)=>{let k=nce(),N=ice(s,{relative:A}),M=o.toLowerCase()==="get"?"get":"post",D=typeof s=="string"&&rY.test(s),H=q=>{if(c&&c(q),q.defaultPrevented)return;q.preventDefault();let $=q.nativeEvent.submitter,ce=$?.getAttribute("formmethod")||o;k($||q.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:i,state:a,relative:A,preventScrollReset:f,viewTransition:y})};return Z.createElement("form",{ref:x,method:M,action:N,onSubmit:n?c:H,...C,"data-discover":!D&&r==="render"?"true":void 0})});Xle.displayName="Form";function Jle(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nY(r){let e=Z.useContext(Qw);return es(e,Jle(r)),e}function ece(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=XP(),c=Mg(),A=SS(r,{relative:a});return Z.useCallback(f=>{if(Ple(f,e)){f.preventDefault();let y=t!==void 0?t:UE(c)===UE(A);s(r,{replace:y,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[c,s,A,t,n,e,r,i,a,o])}var tce=0,rce=()=>`__${String(++tce)}__`;function nce(){let{router:r}=nY("useSubmit"),{basename:e}=Z.useContext(Zf),t=wle();return Z.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:c,body:A}=Lle(n,e);if(i.navigate===!1){let f=i.fetcherKey||rce();await r.fetch(f,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:A,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:A,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function ice(r,{relative:e}={}){let{basename:t}=Z.useContext(Zf),n=Z.useContext(im);es(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...SS(r||".",{relative:e})},o=Mg();if(r==null){a.search=o.search;let s=new URLSearchParams(a.search),c=s.getAll("index");if(c.some(f=>f==="")){s.delete("index"),c.filter(y=>y).forEach(y=>s.append("index",y));let f=s.toString();a.search=f?`?${f}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ng([t,a.pathname])),UE(a)}function ace(r,{relative:e}={}){let t=Z.useContext($$);es(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nY("useViewTransitionState"),i=SS(r,{relative:e});if(!t.isTransitioning)return!1;let a=mg(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=mg(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Mk(i.pathname,o)!=null||Mk(i.pathname,a)!=null}var oce=z$();function iY(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=iY(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function ki(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=iY(r))&&(n&&(n+=" "),n+=e);return n}function sce(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}sce(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var TS=r=>typeof r=="number"&&!isNaN(r),__=r=>typeof r=="string",gg=r=>typeof r=="function",lce=r=>__(r)||TS(r),a2=r=>__(r)||gg(r)?r:null,cce=(r,e)=>r===!1||TS(r)&&r>0?r:e,o2=r=>Z.isValidElement(r)||__(r)||gg(r)||TS(r);function uce(r,e,t=300){let{scrollHeight:n,style:i}=r;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function hce({enter:r,exit:e,appendPosition:t=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:s,done:c,nodeRef:A,isIn:f,playToast:y}){let C=t?`${r}--${o}`:r,x=t?`${e}--${o}`:e,k=Z.useRef(0);return Z.useLayoutEffect(()=>{let N=A.current,M=C.split(" "),D=H=>{H.target===A.current&&(y(),N.removeEventListener("animationend",D),N.removeEventListener("animationcancel",D),k.current===0&&H.type!=="animationcancel"&&N.classList.remove(...M))};N.classList.add(...M),N.addEventListener("animationend",D),N.addEventListener("animationcancel",D)},[]),Z.useEffect(()=>{let N=A.current,M=()=>{N.removeEventListener("animationend",M),n?uce(N,c,i):c()};f||(s?M():(k.current=1,N.className+=` ${x}`,N.addEventListener("animationend",M)))},[f]),bo.createElement(bo.Fragment,null,a)}}function DQ(r,e){return{content:aY(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function aY(r,e,t=!1){return Z.isValidElement(r)&&!__(r.type)?Z.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):gg(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function Ace({closeToast:r,theme:e,ariaLabel:t="close"}){return bo.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),r(!0)},"aria-label":t},bo.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},bo.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dce({delay:r,isRunning:e,closeToast:t,type:n="default",hide:i,className:a,controlledProgress:o,progress:s,rtl:c,isIn:A,theme:f}){let y=i||o&&s===0,C={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};o&&(C.transform=`scaleX(${s})`);let x=ki("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),k=gg(a)?a({rtl:c,type:n,defaultClassName:x}):ki(x,a),N={[o&&s>=1?"onTransitionEnd":"onAnimationEnd"]:o&&s<1?null:()=>{A&&t()}};return bo.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},bo.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${n}`}),bo.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:k,style:C,...N}))}var fce=1,oY=()=>`${fce++}`;function pce(r,e,t){let n=1,i=0,a=[],o=[],s=e,c=new Map,A=new Set,f=H=>(A.add(H),()=>A.delete(H)),y=()=>{o=Array.from(c.values()),A.forEach(H=>H())},C=({containerId:H,toastId:q,updateId:$})=>{let ce=H?H!==r:r!==1,V=c.has(q)&&$==null;return ce||V},x=(H,q)=>{c.forEach($=>{var ce;(q==null||q===$.props.toastId)&&((ce=$.toggle)==null||ce.call($,H))})},k=H=>{var q,$;($=(q=H.props)==null?void 0:q.onClose)==null||$.call(q,H.removalReason),H.isActive=!1},N=H=>{if(H==null)c.forEach(k);else{let q=c.get(H);q&&k(q)}y()},M=()=>{i-=a.length,a=[]},D=H=>{var q,$;let{toastId:ce,updateId:V}=H.props,he=V==null;H.staleId&&c.delete(H.staleId),H.isActive=!0,c.set(ce,H),y(),t(DQ(H,he?"added":"updated")),he&&(($=(q=H.props).onOpen)==null||$.call(q))};return{id:r,props:s,observe:f,toggle:x,removeToast:N,toasts:c,clearQueue:M,buildToast:(H,q)=>{if(C(q))return;let{toastId:$,updateId:ce,data:V,staleId:he,delay:le}=q,fe=ce==null;fe&&i++;let Ne={...s,style:s.toastStyle,key:n++,...Object.fromEntries(Object.entries(q).filter(([ue,de])=>de!=null)),toastId:$,updateId:ce,data:V,isIn:!1,className:a2(q.className||s.toastClassName),progressClassName:a2(q.progressClassName||s.progressClassName),autoClose:q.isLoading?!1:cce(q.autoClose,s.autoClose),closeToast(ue){c.get($).removalReason=ue,N($)},deleteToast(){let ue=c.get($);if(ue!=null){if(t(DQ(ue,"removed")),c.delete($),i--,i<0&&(i=0),a.length>0){D(a.shift());return}y()}}};Ne.closeButton=s.closeButton,q.closeButton===!1||o2(q.closeButton)?Ne.closeButton=q.closeButton:q.closeButton===!0&&(Ne.closeButton=o2(s.closeButton)?s.closeButton:!0);let W={content:H,props:Ne,staleId:he};s.limit&&s.limit>0&&i>s.limit&&fe?a.push(W):TS(le)?setTimeout(()=>{D(W)},le):D(W)},setProps(H){s=H},setToggle:(H,q)=>{let $=c.get(H);$&&($.toggle=q)},isToastActive:H=>{var q;return(q=c.get(H))==null?void 0:q.isActive},getSnapshot:()=>o}}var Sh=new Map,FE=[],s2=new Set,mce=r=>s2.forEach(e=>e(r)),sY=()=>Sh.size>0;function gce(){FE.forEach(r=>cY(r.content,r.options)),FE=[]}var yce=(r,{containerId:e})=>{var t;return(t=Sh.get(e||1))==null?void 0:t.toasts.get(r)};function lY(r,e){var t;if(e)return!!((t=Sh.get(e))!=null&&t.isToastActive(r));let n=!1;return Sh.forEach(i=>{i.isToastActive(r)&&(n=!0)}),n}function vce(r){if(!sY()){FE=FE.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||lce(r))Sh.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Sh.get(r.containerId);e?e.removeToast(r.id):Sh.forEach(t=>{t.removeToast(r.id)})}}var _ce=(r={})=>{Sh.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function cY(r,e){o2(r)&&(sY()||FE.push({content:r,options:e}),Sh.forEach(t=>{t.buildToast(r,e)}))}function bce(r){var e;(e=Sh.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function uY(r,e){Sh.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function wce(r){let e=r.containerId||1;return{subscribe(t){let n=pce(e,r,mce);Sh.set(e,n);let i=n.observe(t);return gce(),()=>{i(),Sh.delete(e)}},setProps(t){var n;(n=Sh.get(e))==null||n.setProps(t)},getSnapshot(){var t;return(t=Sh.get(e))==null?void 0:t.getSnapshot()}}}function xce(r){return s2.add(r),()=>{s2.delete(r)}}function Cce(r){return r&&(__(r.toastId)||TS(r.toastId))?r.toastId:oY()}function BS(r,e){return cY(r,e),e.toastId}function eO(r,e){return{...e,type:e&&e.type||r,toastId:Cce(e)}}function tO(r){return(e,t)=>BS(e,eO(r,t))}function na(r,e){return BS(r,eO("default",e))}na.loading=(r,e)=>BS(r,eO("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Ece(r,{pending:e,error:t,success:n},i){let a;e&&(a=__(e)?na.loading(e,i):na.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(A,f,y)=>{if(f==null){na.dismiss(a);return}let C={type:A,...o,...i,data:y},x=__(f)?{render:f}:f;return a?na.update(a,{...C,...x}):na(x.render,{...C,...x}),y},c=gg(r)?r():r;return c.then(A=>s("success",n,A)).catch(A=>s("error",t,A)),c}na.promise=Ece;na.success=tO("success");na.info=tO("info");na.error=tO("error");na.warning=tO("warning");na.warn=na.warning;na.dark=(r,e)=>BS(r,eO("default",{theme:"dark",...e}));function Sce(r){vce(r)}na.dismiss=Sce;na.clearWaitingQueue=_ce;na.isActive=lY;na.update=(r,e={})=>{let t=yce(r,e);if(t){let{props:n,content:i}=t,a={delay:100,...n,...e,toastId:e.toastId||r,updateId:oY()};a.toastId!==r&&(a.staleId=r);let o=a.render||i;delete a.render,BS(o,a)}};na.done=r=>{na.update(r,{progress:1})};na.onChange=xce;na.play=r=>uY(!0,r);na.pause=r=>uY(!1,r);function Tce(r){var e;let{subscribe:t,getSnapshot:n,setProps:i}=Z.useRef(wce(r)).current;i(r);let a=(e=Z.useSyncExternalStore(t,n,n))==null?void 0:e.slice();function o(s){if(!a)return[];let c=new Map;return r.newestOnTop&&a.reverse(),a.forEach(A=>{let{position:f}=A.props;c.has(f)||c.set(f,[]),c.get(f).push(A)}),Array.from(c,A=>s(A[0],A[1]))}return{getToastToRender:o,isToastActive:lY,count:a?.length}}function Bce(r){let[e,t]=Z.useState(!1),[n,i]=Z.useState(!1),a=Z.useRef(null),o=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:c,closeToast:A,onClick:f,closeOnClick:y}=r;bce({id:r.toastId,containerId:r.containerId,fn:t}),Z.useEffect(()=>{if(r.pauseOnFocusLoss)return C(),()=>{x()}},[r.pauseOnFocusLoss]);function C(){document.hasFocus()||D(),window.addEventListener("focus",M),window.addEventListener("blur",D)}function x(){window.removeEventListener("focus",M),window.removeEventListener("blur",D)}function k(he){if(r.draggable===!0||r.draggable===he.pointerType){H();let le=a.current;o.canCloseOnClick=!0,o.canDrag=!0,le.style.transition="none",r.draggableDirection==="x"?(o.start=he.clientX,o.removalDistance=le.offsetWidth*(r.draggablePercent/100)):(o.start=he.clientY,o.removalDistance=le.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function N(he){let{top:le,bottom:fe,left:Ne,right:W}=a.current.getBoundingClientRect();he.nativeEvent.type!=="touchend"&&r.pauseOnHover&&he.clientX>=Ne&&he.clientX<=W&&he.clientY>=le&&he.clientY<=fe?D():M()}function M(){t(!0)}function D(){t(!1)}function H(){o.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",ce)}function q(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",ce)}function $(he){let le=a.current;if(o.canDrag&&le){o.didMove=!0,e&&D(),r.draggableDirection==="x"?o.delta=he.clientX-o.start:o.delta=he.clientY-o.start,o.start!==he.clientX&&(o.canCloseOnClick=!1);let fe=r.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;le.style.transform=`translate3d(${fe},0)`,le.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function ce(){q();let he=a.current;if(o.canDrag&&o.didMove&&he){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),r.closeToast(!0),r.collapseAll();return}he.style.transition="transform 0.2s, opacity 0.2s",he.style.removeProperty("transform"),he.style.removeProperty("opacity")}}let V={onPointerDown:k,onPointerUp:N};return s&&c&&(V.onMouseEnter=D,r.stacked||(V.onMouseLeave=M)),y&&(V.onClick=he=>{f&&f(he),o.canCloseOnClick&&A(!0)}),{playToast:M,pauseToast:D,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:V}}var Ice=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,rO=({theme:r,type:e,isLoading:t,...n})=>bo.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function kce(r){return bo.createElement(rO,{...r},bo.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Nce(r){return bo.createElement(rO,{...r},bo.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Pce(r){return bo.createElement(rO,{...r},bo.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Oce(r){return bo.createElement(rO,{...r},bo.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Mce(){return bo.createElement("div",{className:"Toastify__spinner"})}var l2={info:Nce,warning:kce,success:Pce,error:Oce,spinner:Mce},Lce=r=>r in l2;function Rce({theme:r,type:e,isLoading:t,icon:n}){let i=null,a={theme:r,type:e};return n===!1||(gg(n)?i=n({...a,isLoading:t}):Z.isValidElement(n)?i=Z.cloneElement(n,a):t?i=l2.spinner():Lce(e)&&(i=l2[e](a))),i}var Dce=r=>{let{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:i,playToast:a}=Bce(r),{closeButton:o,children:s,autoClose:c,onClick:A,type:f,hideProgressBar:y,closeToast:C,transition:x,position:k,className:N,style:M,progressClassName:D,updateId:H,role:q,progress:$,rtl:ce,toastId:V,deleteToast:he,isIn:le,isLoading:fe,closeOnClick:Ne,theme:W,ariaLabel:ue}=r,de=ki("Toastify__toast",`Toastify__toast-theme--${W}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":ce},{"Toastify__toast--close-on-click":Ne}),me=gg(N)?N({rtl:ce,position:k,type:f,defaultClassName:de}):ki(de,N),Qe=Rce(r),Ee=!!$||!c,_e={closeToast:C,type:f,theme:W},ke=null;return o===!1||(gg(o)?ke=o(_e):Z.isValidElement(o)?ke=Z.cloneElement(o,_e):ke=Ace(_e)),bo.createElement(x,{isIn:le,done:he,position:k,preventExitTransition:t,nodeRef:n,playToast:a},bo.createElement("div",{id:V,tabIndex:0,onClick:A,"data-in":le,className:me,...i,style:M,ref:n,...le&&{role:q,"aria-label":ue}},Qe!=null&&bo.createElement("div",{className:ki("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!fe})},Qe),aY(s,r,!e),ke,!r.customProgressBar&&bo.createElement(dce,{...H&&!Ee?{key:`p-${H}`}:{},rtl:ce,theme:W,delay:c,isRunning:e,isIn:le,closeToast:C,hide:y,type:f,className:D,controlledProgress:Ee,progress:$||0})))},Uce=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),Fce=hce(Uce("bounce",!0)),jce={position:"top-right",transition:Fce,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function Qce(r){let e={...jce,...r},t=r.stacked,[n,i]=Z.useState(!0),a=Z.useRef(null),{getToastToRender:o,isToastActive:s,count:c}=Tce(e),{className:A,style:f,rtl:y,containerId:C,hotKeys:x}=e;function k(M){let D=ki("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":y});return gg(A)?A({position:M,rtl:y,defaultClassName:D}):ki(D,a2(A))}function N(){t&&(i(!0),na.play())}return Ice(()=>{var M;if(t){let D=a.current.querySelectorAll('[data-in="true"]'),H=12,q=(M=e.position)==null?void 0:M.includes("top"),$=0,ce=0;Array.from(D).reverse().forEach((V,he)=>{let le=V;le.classList.add("Toastify__toast--stacked"),he>0&&(le.dataset.collapsed=`${n}`),le.dataset.pos||(le.dataset.pos=q?"top":"bot");let fe=$*(n?.2:1)+(n?0:H*he);le.style.setProperty("--y",`${q?fe:fe*-1}px`),le.style.setProperty("--g",`${H}`),le.style.setProperty("--s",`${1-(n?ce:0)}`),$+=le.offsetHeight,ce+=.025})}},[n,c,t]),Z.useEffect(()=>{function M(D){var H;let q=a.current;x(D)&&((H=q.querySelector('[tabIndex="0"]'))==null||H.focus(),i(!1),na.pause()),D.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(i(!0),na.play())}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[x]),bo.createElement("section",{ref:a,className:"Toastify",id:C,onMouseEnter:()=>{t&&(i(!1),na.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((M,D)=>{let H=D.length?{...f}:{...f,pointerEvents:"none"};return bo.createElement("div",{tabIndex:-1,className:k(M),"data-stacked":t,style:H,key:`c-${M}`},D.map(({content:q,props:$})=>bo.createElement(Dce,{...$,stacked:t,collapseAll:N,isIn:s($.toastId,$.containerId),key:`t-${$.key}`},q)))}))}const hY=Z.createContext(),IS=()=>{const r=Z.useContext(hY);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Hce=({children:r})=>{const[e,t]=Z.useState(null),[n,i]=Z.useState(!0),a={citizen:{id:1,username:"citizen",password:"citizen123",role:"citizen",name:"Citizen User"},admin:{id:2,username:"admin",password:"admin123",role:"admin",name:"Admin User"}};Z.useEffect(()=>{const A=localStorage.getItem("hazard_user");A&&t(JSON.parse(A)),i(!1)},[]);const c={user:e,login:(A,f)=>{const y=Object.values(a).find(C=>C.username===A&&C.password===f);if(y){const{password:C,...x}=y;return t(x),localStorage.setItem("hazard_user",JSON.stringify(x)),{success:!0}}return{success:!1,error:"Invalid credentials"}},logout:()=>{t(null),localStorage.removeItem("hazard_user")},loading:n,isAuthenticated:!!e,isAdmin:e?.role==="admin",isCitizen:e?.role==="citizen"};return S.jsx(hY.Provider,{value:c,children:r})},AY=Z.createContext(),dY=()=>{const r=Z.useContext(AY);if(!r)throw new Error("useGamification must be used within a GamificationProvider");return r},zce=({children:r})=>{const[e,t]=Z.useState({points:0,level:1,totalReports:0,verifiedReports:0,streak:0,badges:[],achievements:[]}),[n,i]=Z.useState([]),a=[{id:"first_report",name:"First Reporter",description:"Submit your first hazard report",icon:"",requirement:"reports >= 1",points:50},{id:"verified_reporter",name:"Verified Reporter",description:"Have 5 reports verified by authorities",icon:"",requirement:"verifiedReports >= 5",points:200},{id:"ocean_guardian",name:"Ocean Guardian",description:"Submit 25 hazard reports",icon:"",requirement:"reports >= 25",points:500},{id:"streak_master",name:"Streak Master",description:"Report hazards for 7 consecutive days",icon:"",requirement:"streak >= 7",points:300},{id:"community_hero",name:"Community Hero",description:"Reach 1000 total points",icon:"",requirement:"points >= 1000",points:100},{id:"accuracy_expert",name:"Accuracy Expert",description:"90% of reports verified (min 10 reports)",icon:"",requirement:"verifiedReports / reports >= 0.9 && reports >= 10",points:400}],o=[{level:1,minPoints:0,title:"Novice Reporter"},{level:2,minPoints:100,title:"Alert Citizen"},{level:3,minPoints:300,title:"Safety Advocate"},{level:4,minPoints:600,title:"Ocean Protector"},{level:5,minPoints:1e3,title:"Guardian Elite"},{level:6,minPoints:1500,title:"Maritime Expert"},{level:7,minPoints:2500,title:"Hazard Specialist"},{level:8,minPoints:4e3,title:"Community Leader"},{level:9,minPoints:6e3,title:"Ocean Champion"},{level:10,minPoints:1e4,title:"Legendary Guardian"}],s={reportSubmitted:25,reportVerified:75,reportFalseAlarm:-10,consecutiveDay:15,weeklyBonus:100,monthlyBonus:500},c=M=>{const D=[];return a.forEach(H=>{if(!M.badges.includes(H.id)){let q=!1;switch(H.id){case"first_report":q=M.totalReports>=1;break;case"verified_reporter":q=M.verifiedReports>=5;break;case"ocean_guardian":q=M.totalReports>=25;break;case"streak_master":q=M.streak>=7;break;case"community_hero":q=M.points>=1e3;break;case"accuracy_expert":q=M.totalReports>=10&&M.verifiedReports/M.totalReports>=.9;break}q&&D.push(H)}}),D},A=M=>{for(let D=o.length-1;D>=0;D--)if(M>=o[D].minPoints)return o[D];return o[0]},f=(M,D=null)=>{const H=D||s[M]||0;return t(q=>{const $={...q,points:q.points+H},ce=A($.points);$.level=ce.level,$.levelTitle=ce.title;const V=c($);if(V.length>0){$.badges=[...$.badges,...V.map(le=>le.id)],$.achievements=[...$.achievements,...V];const he=V.reduce((le,fe)=>le+fe.points,0);$.points+=he}return $}),H},y=M=>{t(D=>{const H={...D};switch(M){case"submitted":H.totalReports+=1,f("reportSubmitted");break;case"verified":H.verifiedReports+=1,f("reportVerified");break;case"false_alarm":f("reportFalseAlarm");break}return H})},C=M=>{t(D=>({...D,streak:M?D.streak+1:0})),M&&f("consecutiveDay")},x=()=>{const M=o.find($=>$.level===e.level),D=o.find($=>$.level===e.level+1);if(!D)return{progress:100,pointsNeeded:0};const H=(e.points-M.minPoints)/(D.minPoints-M.minPoints)*100,q=D.minPoints-e.points;return{progress:H,pointsNeeded:q,nextLevel:D}},k=()=>[...n].sort((D,H)=>H.points-D.points).findIndex(D=>D.id==="current_user")+1;Z.useEffect(()=>{const M=localStorage.getItem("userGamificationStats");M&&t(JSON.parse(M)),i([{id:"current_user",name:"You",points:e.points,level:e.level,reports:e.totalReports},{id:"1",name:"Rajesh Kumar",points:1250,level:5,reports:45},{id:"2",name:"Priya Sharma",points:980,level:4,reports:32},{id:"3",name:"Amit Patel",points:850,level:4,reports:28},{id:"4",name:"Sneha Reddy",points:720,level:3,reports:24},{id:"5",name:"Vikram Singh",points:650,level:3,reports:22}])},[]),Z.useEffect(()=>{localStorage.setItem("userGamificationStats",JSON.stringify(e))},[e]);const N={userStats:e,leaderboard:n,availableBadges:a,levelThresholds:o,awardPoints:f,updateReportStats:y,updateStreak:C,getNextLevelProgress:x,getUserRank:k,calculateLevel:A};return S.jsx(AY.Provider,{value:N,children:r})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kce=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),UQ=r=>{const e=Kce(r);return e.charAt(0).toUpperCase()+e.slice(1)},fY=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),Vce=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=Z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},c)=>Z.createElement("svg",{ref:c,...Gce,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:fY("lucide",i),...!a&&!Vce(s)&&{"aria-hidden":"true"},...s},[...o.map(([A,f])=>Z.createElement(A,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=(r,e)=>{const t=Z.forwardRef(({className:n,...i},a)=>Z.createElement($ce,{ref:a,iconNode:e,className:fY(`lucide-${qce(UQ(r))}`,`lucide-${r}`,n),...i}));return t.displayName=UQ(r),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Kb=In("activity",Yce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],c0=In("arrow-right",Wce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pY=In("award",Zce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jE=In("bell",Xce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],FQ=In("brain",Jce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P6=In("calendar",eue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jQ=In("camera",tue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],GM=In("chart-column",rue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],iue=In("chart-pie",nue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QQ=In("check",aue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$M=In("chevron-right",oue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QE=In("circle-check-big",sue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YM=In("circle-check",lue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],c2=In("circle-x",cue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dv=In("clock",uue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],HQ=In("crown",hue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mY=In("download",Aue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fue=In("eye-off",due);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kS=In("eye",pue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],gue=In("facebook",mue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vue=In("file-text",yue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O6=In("funnel",_ue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],wue=In("github",bue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Cue=In("globe",xue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Sue=In("heart",Eue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gY=In("info",Tue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],yY=In("instagram",Bue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],u2=In("list",Iue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zQ=In("log-out",kue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pue=In("mail",Nue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ph=In("map-pin",Oue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],vY=In("map",Mue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Rue=In("medal",Lue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Uue=In("menu",Due);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Rk=In("message-square",Fue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Que=In("navigation",jue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zue=In("phone",Hue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],M6=In("refresh-cw",que);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vue=In("search",Kue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_Y=In("settings",Gue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zp=In("shield",$ue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bY=In("star",Yue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wY=In("target",Wue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xY=In("trash-2",Zue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yg=In("trending-up",Xue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jc=In("triangle-alert",Jue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],h2=In("trophy",ehe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],CY=In("twitter",the);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nhe=In("upload",rhe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],A2=In("user",ihe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ohe=In("users",ahe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],fv=In("waves",she);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],EY=In("wind",lhe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vb=In("x",che);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],NS=In("zap",uhe),SY=Z.createContext(),L6=()=>{const r=Z.useContext(SY);if(!r)throw new Error("useNotifications must be used within a NotificationProvider");return r},hhe=({children:r})=>{const[e,t]=Z.useState([]),[n,i]=Z.useState("default"),[a,o]=Z.useState(!1),[s,c]=Z.useState({lastSent:{},throttleTime:180*1e3});Z.useEffect(()=>{A(),y(),C()},[]);const A=async()=>{"Notification"in window&&i(Notification.permission)},f=async()=>{if("Notification"in window){const de=await Notification.requestPermission();return i(de),de==="granted"}return!1},y=async()=>{if("serviceWorker"in navigator)try{o(!0)}catch(de){console.error("Service Worker registration failed:",de)}},C=()=>{const de=setInterval(()=>{const Qe=[{id:Date.now(),type:"hazard_alert",title:"High Tide Alert",message:"Severe high tide warning issued for Marine Drive, Mumbai. Avoid coastal areas.",location:{lat:19.033,lon:72.857,name:"Marine Drive, Mumbai"},severity:"high",timestamp:new Date,read:!1,actions:[{label:"View Details",action:"view_details"},{label:"Mark Safe",action:"mark_safe"}]},{id:Date.now()+1,type:"report_update",title:"Report Verified",message:"Your oil spill report at Chennai Marina has been verified by authorities.",reportId:"R12345",timestamp:new Date,read:!1,actions:[{label:"View Report",action:"view_report"}]}].filter(_e=>_e.type==="hazard_alert"||_e.type==="report_update"),Ee=Qe[Math.floor(Math.random()*Qe.length)];N(Ee)},3e5);return()=>clearInterval(de)},x=(de,me="medium")=>{const Qe=Date.now(),Ee=`${de}_${me}`,_e=s.lastSent[Ee];return me==="high"?!1:!!(_e&&Qe-_e<s.throttleTime)},k=(de,me="medium")=>{const Qe=`${de}_${me}`;c(Ee=>({...Ee,lastSent:{...Ee.lastSent,[Qe]:Date.now()}}))},N=de=>{if(x(de.type,de.severity)){console.log(`Notification throttled: ${de.type} - ${de.severity}`);return}const me={...de,id:de.id||Date.now(),timestamp:de.timestamp||new Date};t(Qe=>[me,...Qe.slice(0,49)]),k(de.type,de.severity),n==="granted"&&document.hidden&&M(me),(me.severity==="high"||me.type==="hazard_alert")&&D(me.type)},M=de=>{if("Notification"in window&&n==="granted"){const me={body:de.message,icon:"/vite.svg",badge:"/vite.svg",tag:de.type,requireInteraction:de.severity==="high",actions:de.actions?.map(Ee=>({action:Ee.action,title:Ee.label}))||[]},Qe=new Notification(de.title,me);Qe.onclick=()=>{window.focus(),V(de.id,"view_details")},de.severity!=="high"&&setTimeout(()=>Qe.close(),1e4)}},D=de=>{if("Audio"in window)try{const me=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+b2snIpBSyEzvLZiTYIG2m98Ol");me.volume=.3,me.play().catch(()=>{})}catch{}},H=de=>{t(me=>me.map(Qe=>Qe.id===de?{...Qe,read:!0}:Qe))},q=()=>{t(de=>de.map(me=>({...me,read:!0})))},$=de=>{t(me=>me.filter(Qe=>Qe.id!==de))},ce=()=>{t([])},V=(de,me)=>{const Qe=e.find(Ee=>Ee.id===de);if(Qe)switch(H(de),me){case"view_details":Qe.type==="hazard_alert"&&(window.location.href="/reports");break;case"view_report":Qe.reportId&&(window.location.href=`/reports#${Qe.reportId}`);break}},ue={notifications:e,permission:n,isServiceWorkerReady:a,addNotification:N,markAsRead:H,markAllAsRead:q,removeNotification:$,clearAllNotifications:ce,handleNotificationAction:V,requestNotificationPermission:f,getNotificationCounts:()=>{const de=e.filter(Qe=>!Qe.read).length,me=e.filter(Qe=>!Qe.read&&Qe.severity==="high").length;return{unread:de,critical:me,total:e.length}},getNotificationsByType:de=>e.filter(me=>me.type===de),sendHazardAlert:de=>{const me={type:"hazard_alert",title:`${de.type} Alert`,message:`${de.type} reported at ${de.location}. ${de.severity==="high"?"Immediate action required.":"Please exercise caution."}`,location:de.location,severity:de.severity,actions:[{label:"View Details",action:"view_details"},{label:"Mark Safe",action:"mark_safe"}]};N(me)},sendReportUpdate:de=>{const me={type:"report_update",title:"Report Status Update",message:`Your ${de.type} report has been ${de.status}.`,reportId:de.id,actions:[{label:"View Report",action:"view_report"}]};N(me)},sendGamificationUpdate:de=>{const me={type:"gamification",title:de.title,message:de.message,badge:de.badge,points:de.points};N(me)}};return S.jsx(SY.Provider,{value:ue,children:r})},Ahe=({notification:r,onAction:e,onDismiss:t})=>{const n=()=>{switch(r.type){case"hazard_alert":return S.jsx(Jc,{className:`h-5 w-5 ${r.severity==="high"?"text-red-500":"text-yellow-500"}`});case"report_update":return S.jsx(QE,{className:"h-5 w-5 text-green-500"});case"gamification":return S.jsx("span",{className:"text-lg",children:""});default:return S.jsx(gY,{className:"h-5 w-5 text-blue-500"})}},i=()=>{if(r.read)return"bg-gray-50 border-gray-200";switch(r.type){case"hazard_alert":return r.severity==="high"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200";case"report_update":return"bg-green-50 border-green-200";case"gamification":return"bg-purple-50 border-purple-200";default:return"bg-blue-50 border-blue-200"}};return S.jsx("div",{className:`border rounded-lg p-4 transition-all duration-200 ${i()}`,children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:n()}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{children:[S.jsx("h4",{className:`text-sm font-semibold ${r.read?"text-gray-700":"text-gray-900"}`,children:r.title}),S.jsx("p",{className:`text-sm mt-1 ${r.read?"text-gray-500":"text-gray-700"}`,children:r.message}),r.location&&S.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[S.jsx(Ph,{className:"h-3 w-3 mr-1"}),r.location.name]}),S.jsx("div",{className:"text-xs text-gray-400 mt-2",children:r.timestamp.toLocaleString()})]}),S.jsx("button",{onClick:()=>t(r.id),className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded-full transition-colors",children:S.jsx(Vb,{className:"h-4 w-4 text-gray-400"})})]}),r.actions&&r.actions.length>0&&S.jsx("div",{className:"flex space-x-2 mt-3",children:r.actions.map(a=>S.jsx("button",{onClick:()=>e(r.id,a.action),className:"text-xs bg-white hover:bg-gray-50 border border-gray-300 rounded px-3 py-1 transition-colors",children:a.label},a.action))})]})]})})},dhe=()=>{const{notifications:r,permission:e,getNotificationCounts:t,markAsRead:n,markAllAsRead:i,removeNotification:a,clearAllNotifications:o,handleNotificationAction:s,requestNotificationPermission:c}=L6(),[A,f]=Z.useState(!1),[y,C]=Z.useState("all"),[x,k]=Z.useState(""),[N,M]=Z.useState(!1),D=t(),H=r.filter(V=>{const he=y==="all"||y==="unread"&&!V.read||y==="hazard_alert"&&V.type==="hazard_alert"||y==="report_update"&&V.type==="report_update"||y==="gamification"&&V.type==="gamification",le=x===""||V.title.toLowerCase().includes(x.toLowerCase())||V.message.toLowerCase().includes(x.toLowerCase());return he&&le}),q=V=>{a(V)},$=(V,he)=>{s(V,he)},ce=async()=>{await c()&&M(!1)};return S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>f(!A),className:"relative p-2 text-gray-600 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",children:[S.jsx(jE,{className:"h-6 w-6"}),D.unread>0&&S.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:D.unread>99?"99+":D.unread}),D.critical>0&&S.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 border-2 border-white rounded-full h-3 w-3 animate-ping"})]}),A&&S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 max-w-sm bg-white rounded-xl shadow-2xl border border-gray-200 z-50",children:[S.jsxs("div",{className:"p-4 border-b border-gray-200",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:()=>M(!N),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors rounded",children:S.jsx(_Y,{className:"h-4 w-4"})}),S.jsx("button",{onClick:()=>f(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors rounded",children:S.jsx(Vb,{className:"h-4 w-4"})})]})]}),S.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[S.jsxs("span",{children:[D.total," total"]}),S.jsxs("span",{children:[D.unread," unread"]}),D.critical>0&&S.jsxs("span",{className:"text-red-600 font-medium",children:[D.critical," critical"]})]})]}),N&&S.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[S.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Notification Settings"}),e!=="granted"&&S.jsxs("div",{className:"mb-3",children:[S.jsx("button",{onClick:ce,className:"w-full bg-blue-600 text-white rounded-lg px-4 py-2 text-sm hover:bg-blue-700 transition-colors",children:"Enable Browser Notifications"}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Get instant alerts for critical hazard warnings"})]}),e==="granted"&&S.jsxs("div",{className:"text-sm text-green-600 flex items-center",children:[S.jsx(QQ,{className:"h-4 w-4 mr-1"}),"Browser notifications enabled"]})]}),S.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[S.jsxs("div",{className:"relative",children:[S.jsx(Vue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),S.jsx("input",{type:"text",placeholder:"Search notifications...",value:x,onChange:V=>k(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All",count:D.total},{key:"unread",label:"Unread",count:D.unread},{key:"hazard_alert",label:"Hazards",count:r.filter(V=>V.type==="hazard_alert").length},{key:"report_update",label:"Reports",count:r.filter(V=>V.type==="report_update").length},{key:"gamification",label:"Achievements",count:r.filter(V=>V.type==="gamification").length}].map(V=>S.jsxs("button",{onClick:()=>C(V.key),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${y===V.key?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[V.label," (",V.count,")"]},V.key))}),S.jsxs("div",{className:"flex justify-between",children:[S.jsxs("button",{onClick:i,disabled:D.unread===0,className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-700 disabled:text-gray-400 disabled:cursor-not-allowed",children:[S.jsx(QQ,{className:"h-4 w-4"}),S.jsx("span",{children:"Mark all read"})]}),S.jsxs("button",{onClick:o,disabled:D.total===0,className:"flex items-center space-x-1 text-sm text-red-600 hover:text-red-700 disabled:text-gray-400 disabled:cursor-not-allowed",children:[S.jsx(xY,{className:"h-4 w-4"}),S.jsx("span",{children:"Clear all"})]})]})]}),S.jsx("div",{className:"max-h-96 overflow-y-auto",children:H.length===0?S.jsxs("div",{className:"p-8 text-center text-gray-500",children:[S.jsx(jE,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),S.jsx("p",{className:"text-sm",children:x||y!=="all"?"No notifications match your filters":"No notifications yet"}),x&&S.jsx("button",{onClick:()=>k(""),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Clear search"})]}):S.jsx("div",{className:"p-2 space-y-2",children:H.map(V=>S.jsx(Ahe,{notification:V,onAction:$,onDismiss:q},V.id))})}),H.length>0&&S.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50 text-center",children:S.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",H.length," of ",D.total," notifications"]})})]}),A&&S.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)})]})},fhe=()=>{const[r,e]=Z.useState(!1),{user:t,logout:n,isAdmin:i}=IS(),a=Mg(),o=XP(),s=()=>{n(),o("/"),e(!1)},c=[{to:"/",label:"Home",icon:fv},{to:"/reports",label:"Reports",icon:Ph},{to:"/map",label:"Map",icon:vY},{to:"/about",label:"About",icon:gY}];t?.role==="citizen"&&(c.splice(3,0,{to:"/submit-report",label:"Report Hazard",icon:vue}),c.push({to:"/gamification",label:"Rewards",icon:h2})),i&&c.push({to:"/admin",label:"Admin Dashboard",icon:zp});const A=f=>a.pathname===f;return S.jsx("nav",{className:"fixed top-0 w-full z-50 bg-white/90 backdrop-blur-xl border-b border-gray-100/30 shadow-lg",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"flex justify-between items-center h-20",children:[S.jsxs(Gs,{to:"/",className:"flex items-center space-x-3 group",children:[S.jsx("div",{className:"bg-gradient-to-br from-ocean-500 to-blue-600 p-3 rounded-2xl shadow-lg group-hover:scale-110 transition-all duration-300 group-hover:shadow-xl group-hover:rotate-3",children:S.jsx(fv,{className:"h-7 w-7 text-white"})}),S.jsxs("div",{className:"hidden sm:block",children:[S.jsx("div",{className:"font-bold text-2xl bg-gradient-to-r from-ocean-600 to-blue-700 bg-clip-text text-transparent",children:"TarangNetra"}),S.jsx("div",{className:"text-xs text-gray-500 font-medium tracking-wide",children:"Ocean Safety Vision"})]})]}),S.jsx("div",{className:"hidden md:flex items-center",children:S.jsx("div",{className:"flex items-center bg-gray-50/50 rounded-2xl p-1 border border-gray-100",children:c.map(({to:f,label:y,icon:C})=>S.jsxs(Gs,{to:f,className:`group flex items-center justify-center space-x-2 px-5 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 relative flex-1 text-center ${A(f)?"text-ocean-600 bg-white shadow-md border border-ocean-200":"text-gray-600 hover:text-ocean-600 hover:bg-white/60"}`,children:[S.jsx(C,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-300"}),S.jsx("span",{className:"whitespace-nowrap",children:y}),A(f)&&S.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-ocean-500 rounded-full"})]},f))})}),S.jsx("div",{className:"hidden md:flex items-center space-x-6",children:t?S.jsxs("div",{className:"flex items-center space-x-6",children:[S.jsx(dhe,{}),S.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl px-5 py-3 border border-gray-200",children:[S.jsx("div",{className:`p-2 rounded-xl ${t.role==="admin"?"bg-red-100":"bg-ocean-100"}`,children:t.role==="admin"?S.jsx(zp,{className:"h-5 w-5 text-red-600"}):S.jsx(A2,{className:"h-5 w-5 text-ocean-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.name}),S.jsx("div",{className:"text-xs text-gray-500 capitalize font-medium",children:t.role})]})]}),S.jsxs("button",{onClick:s,className:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-red-50 hover:to-red-100 text-gray-700 hover:text-red-600 px-5 py-3 rounded-2xl font-semibold text-sm flex items-center space-x-2 transition-all duration-300 border border-gray-200 hover:border-red-200",children:[S.jsx(zQ,{className:"h-4 w-4"}),S.jsx("span",{children:"Logout"})]})]}):S.jsx(Gs,{to:"/login",className:"bg-gradient-to-r from-ocean-500 to-blue-600 hover:from-ocean-600 hover:to-blue-700 text-white px-8 py-3 rounded-2xl font-bold text-sm transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform",children:"Join Now"})}),S.jsx("div",{className:"md:hidden",children:S.jsx("button",{onClick:()=>e(!r),className:"p-3 rounded-2xl text-gray-600 hover:text-ocean-600 hover:bg-gray-50 transition-all duration-300",children:r?S.jsx(Vb,{className:"h-6 w-6"}):S.jsx(Uue,{className:"h-6 w-6"})})})]}),r&&S.jsx("div",{className:"md:hidden",children:S.jsxs("div",{className:"px-4 pt-4 pb-6 space-y-2 bg-white/95 backdrop-blur-xl rounded-3xl mt-4 border border-gray-100 shadow-xl",children:[c.map(({to:f,label:y,icon:C})=>S.jsxs(Gs,{to:f,onClick:()=>e(!1),className:`flex items-center space-x-3 px-6 py-4 rounded-2xl text-base font-semibold transition-all duration-300 ${A(f)?"text-ocean-600 bg-ocean-50 border border-ocean-100":"text-gray-600 hover:text-ocean-600 hover:bg-gray-50"}`,children:[S.jsx(C,{className:"h-5 w-5"}),S.jsx("span",{children:y})]},f)),t?S.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6 space-y-4",children:[S.jsxs("div",{className:"flex items-center space-x-4 px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl",children:[S.jsx("div",{className:`p-2 rounded-xl ${t.role==="admin"?"bg-red-100":"bg-ocean-100"}`,children:t.role==="admin"?S.jsx(zp,{className:"h-6 w-6 text-red-600"}):S.jsx(A2,{className:"h-6 w-6 text-ocean-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-gray-900",children:t.name}),S.jsx("div",{className:"text-sm text-gray-500 capitalize",children:t.role})]})]}),S.jsxs("button",{onClick:s,className:"flex items-center space-x-3 w-full px-6 py-4 text-red-600 hover:bg-red-50 rounded-2xl transition-all duration-300 font-semibold",children:[S.jsx(zQ,{className:"h-5 w-5"}),S.jsx("span",{children:"Logout"})]})]}):S.jsx(Gs,{to:"/login",onClick:()=>e(!1),className:"block w-full text-center bg-gradient-to-r from-ocean-500 to-blue-600 text-white px-6 py-4 rounded-2xl font-bold text-base mt-6",children:"Join Now"})]})})]})})},phe=()=>S.jsx("footer",{className:"bg-ocean-600 text-white",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[S.jsxs("div",{className:"col-span-1 md:col-span-2",children:[S.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[S.jsx("div",{className:"bg-coral-500 p-2 rounded-lg",children:S.jsx(fv,{className:"h-6 w-6 text-white"})}),S.jsx("span",{className:"font-bold text-xl",children:"Ocean Hazard Reporter"})]}),S.jsx("p",{className:"text-ocean-100 mb-4",children:"Protecting our coastal communities through real-time hazard reporting and monitoring. Together, we can make our oceans safer for everyone."}),S.jsxs("div",{className:"flex space-x-4",children:[S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white transition-colors",children:S.jsx(gue,{className:"h-5 w-5"})}),S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white transition-colors",children:S.jsx(CY,{className:"h-5 w-5"})}),S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white transition-colors",children:S.jsx(yY,{className:"h-5 w-5"})}),S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white transition-colors",children:S.jsx(wue,{className:"h-5 w-5"})})]})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Links"}),S.jsxs("ul",{className:"space-y-2",children:[S.jsx("li",{children:S.jsx(Gs,{to:"/",className:"text-ocean-100 hover:text-white transition-colors",children:"Home"})}),S.jsx("li",{children:S.jsx(Gs,{to:"/reports",className:"text-ocean-100 hover:text-white transition-colors",children:"View Reports"})}),S.jsx("li",{children:S.jsx(Gs,{to:"/about",className:"text-ocean-100 hover:text-white transition-colors",children:"About Us"})}),S.jsx("li",{children:S.jsx(Gs,{to:"/events",className:"text-ocean-100 hover:text-white transition-colors",children:"Events"})}),S.jsx("li",{children:S.jsx(Gs,{to:"/login",className:"text-ocean-100 hover:text-white transition-colors",children:"Login"})})]})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contact"}),S.jsxs("ul",{className:"space-y-3",children:[S.jsxs("li",{className:"flex items-center space-x-2",children:[S.jsx(Pue,{className:"h-4 w-4 text-coral-500"}),S.jsx("span",{className:"text-ocean-100",children:"contact@oceanhazard.gov.in"})]}),S.jsxs("li",{className:"flex items-center space-x-2",children:[S.jsx(zue,{className:"h-4 w-4 text-coral-500"}),S.jsx("span",{className:"text-ocean-100",children:"+91 1800-XXX-XXXX"})]}),S.jsxs("li",{className:"flex items-start space-x-2",children:[S.jsx(Ph,{className:"h-4 w-4 text-coral-500 mt-1"}),S.jsxs("span",{className:"text-ocean-100",children:["Ministry of Earth Sciences",S.jsx("br",{}),"Government of India",S.jsx("br",{}),"New Delhi, India"]})]})]})]})]}),S.jsxs("div",{className:"border-t border-ocean-500 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[S.jsx("p",{className:"text-ocean-100 text-sm",children:" 2024 Ocean Hazard Reporter. All rights reserved."}),S.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white text-sm transition-colors",children:"Terms of Service"}),S.jsx("a",{href:"#",className:"text-ocean-100 hover:text-white text-sm transition-colors",children:"Emergency Guidelines"})]})]})]})}),F1=({children:r})=>S.jsxs("div",{className:"min-h-screen flex flex-col",children:[S.jsx(fhe,{}),S.jsx("main",{className:"flex-1 pt-20",children:r}),S.jsx(phe,{})]}),WM=({children:r,requiredRole:e=null})=>{const{isAuthenticated:t,user:n,loading:i}=IS();return i?S.jsx("div",{className:"min-h-screen flex items-center justify-center",children:S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-ocean-500"})}):t?e&&n?.role!==e?S.jsx(Lk,{to:"/",replace:!0}):r:S.jsx(Lk,{to:"/login",replace:!0})},mhe=()=>{const{user:r}=IS(),[e,t]=Z.useState(0),[n,i]=Z.useState({reports:1247,users:8934,alerts:156}),a=[{type:"High Tide Warning",location:"Mumbai Coast",severity:"high",time:"2 min ago"},{type:"Jellyfish Sighting",location:"Goa Beach",severity:"medium",time:"5 min ago"},{type:"Oil Spill Alert",location:"Chennai Marina",severity:"critical",time:"8 min ago"}];Z.useEffect(()=>{const c=setInterval(()=>{t(A=>(A+1)%a.length)},4e3);return()=>clearInterval(c)},[]);const o=[{icon:Jc,title:"Instant Alerts",description:"Get real-time notifications about ocean hazards in your area.",color:"from-red-500 to-red-600"},{icon:kS,title:"Community Watch",description:"Join thousands of coastal guardians monitoring our shores.",color:"from-blue-500 to-blue-600"},{icon:zp,title:"Verified Reports",description:"Expert-verified information you can trust for safety decisions.",color:"from-green-500 to-green-600"},{icon:dv,title:"24/7 Monitoring",description:"Round-the-clock surveillance of coastal hazards and conditions.",color:"from-purple-500 to-purple-600"}],s=[{name:"Priya Sharma",location:"Mumbai",text:"This app saved my family from a dangerous rip current. The real-time alerts are incredibly accurate!",rating:5},{name:"Raj Patel",location:"Goa",text:"As a fisherman, I rely on TarangNetra daily. The community reports help me plan safer trips.",rating:5},{name:"Dr. Meera Nair",location:"Kerala",text:"The verification system ensures we get reliable information. Essential for coastal safety.",rating:5}];return S.jsxs("div",{className:"overflow-hidden bg-gray-50",children:[S.jsxs("section",{className:"relative min-h-screen bg-gradient-to-br from-ocean-50 via-blue-50 to-indigo-100 flex items-center",children:[S.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[S.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"}),S.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-400 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse delay-1000"}),S.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-ocean-300 rounded-full mix-blend-multiply filter blur-2xl opacity-20 animate-pulse delay-2000"})]}),S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[S.jsxs("div",{className:"text-left space-y-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-ocean-100 text-ocean-800 rounded-full text-sm font-medium border border-ocean-200 hover:bg-ocean-200 transition-colors",children:[S.jsx(fv,{className:"w-4 h-4 mr-2"}),"Protecting ",n.users.toLocaleString(),"+ Coastal Communities"]}),S.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold text-gray-900 leading-tight",children:["Stay Safe with",S.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ocean-500 to-blue-600 block",children:"Ocean Alerts"})]}),S.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 leading-relaxed max-w-xl",children:"Real-time hazard monitoring and community-driven safety alerts for India's coastal regions."})]}),S.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:r?S.jsxs(S.Fragment,{children:[r.role==="citizen"&&S.jsxs(Gs,{to:"/submit-report",className:"group bg-gradient-to-r from-ocean-500 to-blue-600 hover:from-ocean-600 hover:to-blue-700 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-105 transform",children:["Report Ocean Hazard",S.jsx(c0,{className:"ml-3 h-6 w-6 group-hover:translate-x-2 transition-transform"})]}),S.jsxs(Gs,{to:"/reports",className:"group bg-white hover:bg-gray-50 text-ocean-600 px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 border-2 border-ocean-500 flex items-center justify-center hover:shadow-xl hover:scale-105 transform",children:["View Active Alerts",S.jsx($M,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]}):S.jsxs(S.Fragment,{children:[S.jsxs(Gs,{to:"/login",className:"group bg-gradient-to-r from-ocean-500 to-blue-600 hover:from-ocean-600 hover:to-blue-700 text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-105 transform",children:["Join Ocean Watch",S.jsx(c0,{className:"ml-3 h-6 w-6 group-hover:translate-x-2 transition-transform"})]}),S.jsxs(Gs,{to:"/reports",className:"group bg-white hover:bg-gray-50 text-ocean-600 px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 border-2 border-ocean-500 flex items-center justify-center hover:shadow-xl hover:scale-105 transform",children:["View Live Alerts",S.jsx($M,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})}),S.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-8",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl font-bold text-ocean-600",children:n.reports.toLocaleString()}),S.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Reports Filed"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl font-bold text-ocean-600",children:n.users.toLocaleString()}),S.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Active Users"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-3xl font-bold text-ocean-600",children:n.alerts}),S.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Active Alerts"})]})]})]}),S.jsx("div",{className:"relative",children:S.jsxs("div",{className:"relative",children:[S.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl border border-gray-100 hover:shadow-3xl transition-all duration-500 hover:scale-105 transform",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Live Alerts"}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),S.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Live"})]})]}),S.jsx("div",{className:"space-y-4",children:a.map((c,A)=>S.jsx("div",{className:`p-4 rounded-2xl border-l-4 transition-all duration-500 ${A===e?"bg-red-50 border-red-500 scale-105 shadow-lg":"bg-gray-50 border-gray-300 opacity-60"}`,children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"flex items-center space-x-2 mb-1",children:S.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${c.severity==="critical"?"bg-red-100 text-red-700":c.severity==="high"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:c.severity.toUpperCase()})}),S.jsx("h4",{className:"font-bold text-gray-900",children:c.type}),S.jsx("p",{className:"text-gray-600 text-sm",children:c.location})]}),S.jsx("div",{className:"text-xs text-gray-500 font-medium",children:c.time})]})},A))})]}),S.jsxs("div",{className:"absolute -top-6 -right-6 bg-gradient-to-r from-green-400 to-green-500 text-white p-4 rounded-2xl shadow-xl hover:scale-110 transition-transform cursor-pointer",children:[S.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),S.jsx("div",{className:"text-xs opacity-90",children:"Monitoring"})]}),S.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-gradient-to-r from-blue-400 to-blue-500 text-white p-4 rounded-2xl shadow-xl hover:scale-110 transition-transform cursor-pointer",children:[S.jsx("div",{className:"text-2xl font-bold",children:"95%"}),S.jsx("div",{className:"text-xs opacity-90",children:"Accuracy"})]})]})})]})})]}),S.jsx("section",{className:"py-16 bg-gradient-to-br from-red-50 to-orange-50",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium mb-4",children:[S.jsx(Jc,{className:"w-4 h-4 mr-2"}),"Active Alerts"]}),S.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Current Ocean Hazards"}),S.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Stay informed about active ocean hazards across India's coastline. Real-time updates from our monitoring network."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((c,A)=>S.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 hover:scale-105 transform",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:`w-4 h-4 rounded-full ${c.severity==="critical"?"bg-red-500 animate-pulse":c.severity==="high"?"bg-orange-500":"bg-yellow-500"}`}),S.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${c.severity==="critical"?"bg-red-100 text-red-700":c.severity==="high"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:c.severity.toUpperCase()})]}),S.jsx("span",{className:"text-xs text-gray-500 font-medium",children:c.time})]}),S.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:c.type}),S.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-4",children:[S.jsx(Ph,{className:"h-4 w-4"}),S.jsx("span",{className:"text-sm",children:c.location})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs(Gs,{to:"/reports",className:"text-ocean-600 hover:text-ocean-700 font-semibold text-sm flex items-center space-x-1 hover:underline",children:[S.jsx("span",{children:"View Details"}),S.jsx(c0,{className:"h-3 w-3"})]}),S.jsx("div",{className:"text-xs text-gray-500",children:c.severity==="critical"?" URGENT":c.severity==="high"?" HIGH":" MEDIUM"})]})]},A))}),S.jsx("div",{className:"text-center mt-12",children:S.jsxs(Gs,{to:"/reports",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-ocean-500 to-blue-600 hover:from-ocean-600 hover:to-blue-700 text-white rounded-2xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform",children:["View All Alerts",S.jsx(c0,{className:"ml-3 h-5 w-5"})]})})]})}),S.jsxs("section",{className:"py-24 bg-white relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-ocean-50/50"}),S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[S.jsxs("div",{className:"text-center mb-20",children:[S.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-ocean-100 to-blue-100 text-ocean-800 rounded-full text-sm font-medium mb-6 shadow-md",children:[S.jsx(zp,{className:"w-5 h-5 mr-2"}),"Why This Platform Matters"]}),S.jsxs("h2",{className:"text-4xl lg:text-6xl font-bold text-gray-900 mb-6",children:["Our ",S.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-ocean-500 to-blue-600",children:"Impact"})," on Ocean Safety"]}),S.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"Every second counts when it comes to ocean hazards. Our AI-powered platform connects coastal communities, authorities, and technology to create an unprecedented safety network."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map((c,A)=>S.jsxs("div",{className:"group bg-white p-8 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 hover:scale-105 transform cursor-pointer relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-ocean-100 to-blue-100 rounded-full -translate-y-10 translate-x-10 opacity-50"}),S.jsx("div",{className:`bg-gradient-to-r ${c.color} w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 relative z-10`,children:S.jsx(c.icon,{className:"h-8 w-8 text-white"})}),S.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 relative z-10",children:c.title}),S.jsx("p",{className:"text-gray-600 leading-relaxed relative z-10",children:c.description}),S.jsxs("div",{className:"mt-6 flex items-center text-ocean-600 font-semibold text-sm group-hover:text-ocean-700 transition-colors relative z-10",children:[S.jsx("span",{children:"Learn more"}),S.jsx(c0,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]},A))}),S.jsxs("div",{className:"mt-20 bg-gradient-to-r from-ocean-500 to-blue-600 rounded-3xl p-8 md:p-12 text-white relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Real Impact, Real Lives Saved"}),S.jsx("p",{className:"text-blue-100 text-lg",children:"Our platform's achievements in ocean safety"})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[S.jsxs("div",{className:"group hover:scale-105 transition-transform duration-300",children:[S.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"1,247"}),S.jsx("div",{className:"text-blue-100 font-medium",children:"Lives Protected"})]}),S.jsxs("div",{className:"group hover:scale-105 transition-transform duration-300",children:[S.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"95%"}),S.jsx("div",{className:"text-blue-100 font-medium",children:"Accuracy Rate"})]}),S.jsxs("div",{className:"group hover:scale-105 transition-transform duration-300",children:[S.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"24/7"}),S.jsx("div",{className:"text-blue-100 font-medium",children:"Monitoring"})]}),S.jsxs("div",{className:"group hover:scale-105 transition-transform duration-300",children:[S.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"156"}),S.jsx("div",{className:"text-blue-100 font-medium",children:"Active Alerts"})]})]})]})]})]})]}),S.jsx("section",{className:"py-24 bg-gradient-to-br from-ocean-50 to-blue-50",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"text-center mb-20",children:[S.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Protecting Lives Daily"}),S.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Real stories from real people whose lives have been touched by our ocean safety network."})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,A)=>S.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 hover:scale-105 transform",children:[S.jsx("div",{className:"flex items-center mb-4",children:[...Array(c.rating)].map((f,y)=>S.jsx(bY,{className:"h-5 w-5 text-yellow-400 fill-current"},y))}),S.jsxs("p",{className:"text-gray-700 mb-6 italic",children:['"',c.text,'"']}),S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-ocean-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4",children:c.name.charAt(0)}),S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-gray-900",children:c.name}),S.jsx("div",{className:"text-gray-600 text-sm",children:c.location})]})]})]},A))})]})}),S.jsxs("section",{className:"py-24 bg-gradient-to-r from-ocean-600 to-blue-700 relative overflow-hidden",children:[S.jsxs("div",{className:"absolute inset-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full mix-blend-soft-light opacity-10 -translate-x-48 -translate-y-48"}),S.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full mix-blend-soft-light opacity-10 translate-x-48 translate-y-48"})]}),S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[S.jsx("h2",{className:"text-4xl lg:text-6xl font-bold text-white mb-6",children:"Ready to Make the Ocean Safer?"}),S.jsx("p",{className:"text-xl text-ocean-100 mb-12 max-w-3xl mx-auto",children:"Join thousands of coastal guardians protecting India's shores. Every report counts, every alert saves lives."}),r?S.jsxs("div",{className:"text-center",children:[S.jsxs("div",{className:"text-ocean-100 mb-6 text-lg",children:["Welcome back, ",S.jsx("span",{className:"font-bold text-white",children:r.name}),"! Continue protecting our shores."]}),r.role==="citizen"&&S.jsxs(Gs,{to:"/submit-report",className:"group bg-white hover:bg-gray-100 text-ocean-600 px-10 py-5 rounded-2xl font-bold text-lg transition-all duration-300 inline-flex items-center shadow-xl hover:shadow-2xl hover:scale-105 transform",children:["Report New Hazard",S.jsx(c0,{className:"ml-3 h-6 w-6 group-hover:translate-x-2 transition-transform"})]})]}):S.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[S.jsxs(Gs,{to:"/login",className:"group bg-white hover:bg-gray-100 text-ocean-600 px-10 py-5 rounded-2xl font-bold text-lg transition-all duration-300 inline-flex items-center shadow-xl hover:shadow-2xl hover:scale-105 transform",children:["Join the Ocean Watch",S.jsx(c0,{className:"ml-3 h-6 w-6 group-hover:translate-x-2 transition-transform"})]}),S.jsxs(Gs,{to:"/reports",className:"group border-2 border-white text-white hover:bg-white hover:text-ocean-600 px-10 py-5 rounded-2xl font-bold text-lg transition-all duration-300 inline-flex items-center hover:scale-105 transform",children:["View Live Alerts",S.jsx($M,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})]})]})},ghe=()=>{const{login:r,isAuthenticated:e}=IS(),[t,n]=Z.useState({username:"",password:""}),[i,a]=Z.useState(!1),[o,s]=Z.useState(""),[c,A]=Z.useState("citizen");if(e)return S.jsx(Lk,{to:"/",replace:!0});const f=C=>{C.preventDefault(),s("");const x=r(t.username,t.password);x.success||s(x.error)},y=C=>{const x=C==="citizen"?{username:"citizen",password:"citizen123"}:{username:"admin",password:"admin123"};n(x);const k=r(x.username,x.password);k.success||s(k.error)};return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-ocean-50 to-ocean-100 flex items-center justify-center px-4",children:S.jsxs("div",{className:"max-w-md w-full space-y-8",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"bg-ocean-500 p-3 rounded-full",children:S.jsx(fv,{className:"h-8 w-8 text-white"})})}),S.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ocean Hazard Reporter"}),S.jsx("p",{className:"text-gray-600",children:"Sign in to report and monitor ocean hazards"})]}),S.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[S.jsxs("div",{className:"flex mb-6 bg-gray-100 p-1 rounded-lg",children:[S.jsxs("button",{type:"button",onClick:()=>A("citizen"),className:`flex-1 flex items-center justify-center py-2 px-4 rounded-md text-sm font-medium transition-colors ${c==="citizen"?"bg-ocean-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[S.jsx(A2,{className:"h-4 w-4 mr-2"}),"Citizen"]}),S.jsxs("button",{type:"button",onClick:()=>A("admin"),className:`flex-1 flex items-center justify-center py-2 px-4 rounded-md text-sm font-medium transition-colors ${c==="admin"?"bg-ocean-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[S.jsx(zp,{className:"h-4 w-4 mr-2"}),"Admin"]})]}),S.jsxs("div",{className:"space-y-3 mb-6",children:[S.jsx("button",{onClick:()=>y("citizen"),className:"w-full bg-ocean-500 hover:bg-ocean-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Quick Login as Citizen"}),S.jsx("button",{onClick:()=>y("admin"),className:"w-full bg-coral-500 hover:bg-coral-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Quick Login as Admin"})]}),S.jsxs("div",{className:"relative mb-6",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("div",{className:"w-full border-t border-gray-300"})}),S.jsx("div",{className:"relative flex justify-center text-sm",children:S.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or login manually"})})]}),S.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o&&S.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),S.jsx("input",{id:"username",type:"text",required:!0,value:t.username,onChange:C=>n({...t,username:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ocean-500 focus:border-transparent",placeholder:"Enter username"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{id:"password",type:i?"text":"password",required:!0,value:t.password,onChange:C=>n({...t,password:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ocean-500 focus:border-transparent pr-10",placeholder:"Enter password"}),S.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i?S.jsx(fue,{className:"h-4 w-4 text-gray-400"}):S.jsx(kS,{className:"h-4 w-4 text-gray-400"})})]})]}),S.jsx("button",{type:"submit",className:"w-full bg-ocean-500 hover:bg-ocean-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Sign In"})]}),S.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[S.jsx("p",{children:"Demo Credentials:"}),S.jsx("p",{children:"Citizen: citizen / citizen123"}),S.jsx("p",{children:"Admin: admin / admin123"})]})]})]})})},R6=[{id:1,type:"high-tide",title:"Extreme High Tide Warning",location:"Marine Drive, Mumbai",coordinates:[19.033,72.857],description:"Unusually high tide levels observed, flooding walkways and roads near the coastline. Water level approximately 2 feet above normal.",severity:"high",status:"verified",reportedBy:"Rajesh Kumar",reportedAt:"2024-09-16T08:30:00Z",verifiedAt:"2024-09-16T09:15:00Z",verifiedBy:"Admin",comments:"Alert issued to local authorities. Monitoring continues.",photos:[]},{id:2,type:"jellyfish",title:"Large Jellyfish Swarm Spotted",location:"Calangute Beach, Goa",coordinates:[15.5467,73.7553],description:"Multiple jellyfish sightings near the shore. Tourists advised to avoid swimming in the area.",severity:"medium",status:"verified",reportedBy:"Maria Fernandes",reportedAt:"2024-09-16T06:45:00Z",verifiedAt:"2024-09-16T07:30:00Z",verifiedBy:"Admin",comments:"Beach safety flags updated. Lifeguards notified.",photos:[]},{id:3,type:"pollution",title:"Oil Spill Detected",location:"Vizag Port, Andhra Pradesh",coordinates:[17.6868,83.2185],description:"Small oil spill detected near the port area. Appears to be from a cargo vessel. Immediate cleanup required.",severity:"high",status:"verified",reportedBy:"Captain Ramesh",reportedAt:"2024-09-15T14:20:00Z",verifiedAt:"2024-09-15T15:10:00Z",verifiedBy:"Admin",comments:"Coast Guard notified. Cleanup operations initiated.",photos:[]},{id:4,type:"storm",title:"Rough Sea Conditions",location:"Puri Beach, Odisha",coordinates:[19.8135,85.8312],description:"Strong winds and rough seas observed. Wave height approximately 3-4 meters. Not safe for fishing or water activities.",severity:"medium",status:"pending",reportedBy:"Fisherman Association",reportedAt:"2024-09-16T05:15:00Z",verifiedAt:null,verifiedBy:null,comments:null,photos:[]},{id:5,type:"unusual-activity",title:"Unusual Fish Die-off",location:"Kochi Harbor, Kerala",coordinates:[9.9312,76.2673],description:"Large number of dead fish found floating in the harbor area. Possible water contamination or disease outbreak.",severity:"high",status:"pending",reportedBy:"Local Fisherman",reportedAt:"2024-09-16T07:00:00Z",verifiedAt:null,verifiedBy:null,comments:null,photos:[]},{id:6,type:"high-tide",title:"Moderate High Tide",location:"Juhu Beach, Mumbai",coordinates:[19.1075,72.8263],description:"Higher than normal tide levels. Some beach area submerged but no immediate danger to public.",severity:"low",status:"verified",reportedBy:"Beach Patrol",reportedAt:"2024-09-15T16:30:00Z",verifiedAt:"2024-09-15T17:00:00Z",verifiedBy:"Admin",comments:"Normal tidal variation. Monitoring continues.",photos:[]},{id:7,type:"pollution",title:"Plastic Waste Accumulation",location:"Versova Beach, Mumbai",coordinates:[19.1318,72.8155],description:"Large amount of plastic waste washed ashore. Cleanup required to prevent environmental damage.",severity:"medium",status:"verified",reportedBy:"Environmental Activist",reportedAt:"2024-09-15T11:20:00Z",verifiedAt:"2024-09-15T12:45:00Z",verifiedBy:"Admin",comments:"Cleanup drive organized for tomorrow morning.",photos:[]},{id:8,type:"jellyfish",title:"Jellyfish Warning",location:"Kovalam Beach, Kerala",coordinates:[8.4004,76.9784],description:"Several jellyfish spotted in shallow waters. Swimmers should exercise caution.",severity:"low",status:"false-alarm",reportedBy:"Tourist",reportedAt:"2024-09-14T14:15:00Z",verifiedAt:"2024-09-14T15:30:00Z",verifiedBy:"Admin",comments:"False alarm - identified as harmless sea creatures.",photos:[]},{id:9,type:"storm",title:"Cyclone Warning",location:"Paradip Port, Odisha",coordinates:[20.2648,86.6982],description:"Cyclonic conditions expected in 48 hours. All fishing activities suspended. Evacuation preparations underway.",severity:"high",status:"verified",reportedBy:"Meteorological Department",reportedAt:"2024-09-14T08:00:00Z",verifiedAt:"2024-09-14T08:30:00Z",verifiedBy:"Admin",comments:"Emergency protocols activated. Regular updates issued.",photos:[]},{id:10,type:"unusual-activity",title:"Whale Stranding",location:"Digha Beach, West Bengal",coordinates:[21.6283,87.5085],description:"Single whale found stranded on the beach. Rescue operations required immediately.",severity:"high",status:"verified",reportedBy:"Beach Security",reportedAt:"2024-09-13T12:30:00Z",verifiedAt:"2024-09-13T13:00:00Z",verifiedBy:"Admin",comments:"Marine rescue team deployed. Successful rescue completed.",photos:[]},{id:11,type:"pollution",title:"Chemical Discharge",location:"Haldia Port, West Bengal",coordinates:[22.0333,88.0667],description:"Suspected chemical discharge into the water from industrial facility. Water discoloration observed.",severity:"high",status:"pending",reportedBy:"Port Authority",reportedAt:"2024-09-16T10:45:00Z",verifiedAt:null,verifiedBy:null,comments:null,photos:[]},{id:12,type:"high-tide",title:"Spring Tide Effects",location:"Mandarmani Beach, West Bengal",coordinates:[21.6615,87.7845],description:"Spring tide causing higher than usual water levels. Temporary fishing restrictions in place.",severity:"medium",status:"verified",reportedBy:"Coast Guard",reportedAt:"2024-09-15T19:20:00Z",verifiedAt:"2024-09-15T20:00:00Z",verifiedBy:"Admin",comments:"Normal spring tide phenomenon. Safety measures implemented.",photos:[]},{id:13,type:"jellyfish",title:"Box Jellyfish Alert",location:"Radhanagar Beach, Andaman",coordinates:[11.9416,92.9542],description:"Potentially dangerous box jellyfish spotted. Swimming strictly prohibited until further notice.",severity:"high",status:"pending",reportedBy:"Marine Biologist",reportedAt:"2024-09-16T11:30:00Z",verifiedAt:null,verifiedBy:null,comments:null,photos:[]},{id:14,type:"storm",title:"Monsoon Surge",location:"Mangalore Coast, Karnataka",coordinates:[12.9141,74.856],description:"Strong monsoon surge creating dangerous conditions for small vessels. Harbour restrictions in effect.",severity:"medium",status:"verified",reportedBy:"Harbour Master",reportedAt:"2024-09-15T22:15:00Z",verifiedAt:"2024-09-16T06:30:00Z",verifiedBy:"Admin",comments:"Fishing boats advised to stay in harbour. Weather monitoring continues.",photos:[]},{id:15,type:"unusual-activity",title:"Red Tide Phenomenon",location:"Panaji Coast, Goa",coordinates:[15.4909,73.8278],description:"Water discoloration due to algal bloom. Possible red tide phenomenon affecting local marine life.",severity:"medium",status:"pending",reportedBy:"Marine Research Institute",reportedAt:"2024-09-16T09:20:00Z",verifiedAt:null,verifiedBy:null,comments:null,photos:[]}],ZM={"high-tide":{label:"High Tide",color:"#0066CC",icon:""},jellyfish:{label:"Jellyfish Swarm",color:"#8B5CF6",icon:""},"oil-spill":{label:"Oil Spill",color:"#EF4444",icon:""},"unusual-activity":{label:"Unusual Marine Activity",color:"#F59E0B",icon:""}},sB={pending:{label:"Pending",color:"#F59E0B",bgColor:"#FEF3C7"},verified:{label:"Verified",color:"#10B981",bgColor:"#D1FAE5"},"false-alarm":{label:"False Alarm",color:"#EF4444",bgColor:"#FEE2E2"}},lB={low:{label:"Low",color:"#10B981",bgColor:"#D1FAE5"},medium:{label:"Medium",color:"#F59E0B",bgColor:"#FEF3C7"},high:{label:"High",color:"#EF4444",bgColor:"#FEE2E2"}},ko={success:(r,e={})=>{na.success(r,{position:"top-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,...e})},error:(r,e={})=>{na.error(r,{position:"top-right",autoClose:6e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,...e})},info:(r,e={})=>{na.info(r,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,...e})},warning:(r,e={})=>{na.warning(r,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,...e})},loading:(r,e={})=>na.loading(r,{position:"top-right",...e}),update:(r,e)=>{na.update(r,e)},dismiss:r=>{na.dismiss(r)}},yhe=()=>{const{user:r}=IS(),[e,t]=Z.useState([]),[n,i]=Z.useState([]),[a,o]=Z.useState({type:"all",status:"all",severity:"all"}),[s,c]=Z.useState(!0),[A,f]=Z.useState(null),[y,C]=Z.useState(null),[x,k]=Z.useState("grid"),[N,M]=Z.useState(new Map),[D,H]=Z.useState(new Set),[q,$]=Z.useState(1),[ce]=Z.useState(6),V=Z.useRef(new Set);Z.useEffect(()=>{le();const de=setInterval(le,3e4);return()=>clearInterval(de)},[]),Z.useEffect(()=>{Ne(),$(1)},[e,a]);const he=()=>{const de=new Date(2024,0,1),me=new Date,Qe=de.getTime()+Math.random()*(me.getTime()-de.getTime());return new Date(Qe)},le=async()=>{try{c(!0),f(null);const de=R6.map(me=>!me.timestamp||me.timestamp==="Invalid Date"?{...me,timestamp:he().toISOString(),verifications:me.verifications||{confirm:Math.floor(Math.random()*20),reject:Math.floor(Math.random()*5)}}:{...me,verifications:me.verifications||{confirm:Math.floor(Math.random()*20),reject:Math.floor(Math.random()*5)}});t(de),C(new Date)}catch(de){f("Failed to fetch reports"),console.error("Error fetching reports:",de)}finally{c(!1)}},fe=(de,me)=>{if(!r){ko.error("Please log in to vote on reports");return}const Qe=`${de}-${me}`;if(V.current.has(Qe)){console.log(" Vote blocked - already in progress:",Qe);return}V.current.add(Qe),H(_e=>new Set([..._e,Qe]));const Ee=N.get(de);console.log(` Initiating vote: ${de} -> ${me}, current: ${Ee||"none"}`),setTimeout(()=>{let _e="";t(ke=>ke.map(Oe=>{if(Oe.id===de){const ze={...Oe};return ze.verifications||(ze.verifications={confirm:0,reject:0}),console.log(" Before vote:",JSON.stringify(ze.verifications)),Ee===me?(ze.verifications[me]=Math.max(0,ze.verifications[me]-1),_e="Vote removed successfully!"):Ee&&Ee!==me?(ze.verifications[Ee]=Math.max(0,ze.verifications[Ee]-1),ze.verifications[me]+=1,_e=`Vote switched to ${me==="confirm"?"Confirm":"Not Relevant"}!`):(ze.verifications[me]+=1,_e=me==="confirm"?"Thank you for confirming this report!":"Thank you for your feedback!"),console.log(" After vote:",JSON.stringify(ze.verifications)),ze}return Oe})),M(ke=>{const We=new Map(ke);return Ee===me?We.delete(de):We.set(de,me),We}),ko.success(_e),setTimeout(()=>{V.current.delete(Qe),H(ke=>{const We=new Set(ke);return We.delete(Qe),We}),console.log(" Vote operation completed:",Qe)},300)},50)},Ne=()=>{let de=[...e];a.type!=="all"&&(de=de.filter(me=>me.type===a.type)),a.status!=="all"&&(de=de.filter(me=>me.status===a.status)),a.severity!=="all"&&(de=de.filter(me=>me.severity===a.severity)),i(de)},W=[{severity:"High",count:e.filter(de=>de.severity==="high").length},{severity:"Medium",count:e.filter(de=>de.severity==="medium").length},{severity:"Low",count:e.filter(de=>de.severity==="low").length}],ue=[{status:"Verified",count:e.filter(de=>de.status==="verified").length},{status:"Pending",count:e.filter(de=>de.status==="pending").length},{status:"Under Review",count:e.filter(de=>de.status==="under review").length}];return s?S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),S.jsx("p",{className:"text-gray-600 text-lg",children:"Loading reports..."})]})}):S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 p-6",children:S.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[S.jsxs("div",{className:"text-center fade-in-up",children:[S.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent mb-4",children:"Ocean Hazard Reports"}),S.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Community-reported ocean hazards and safety alerts"}),S.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[S.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-full px-4 py-2 shadow-md",children:[S.jsx("div",{className:`w-3 h-3 rounded-full ${A?"bg-yellow-500 animate-pulse":"bg-green-500"}`}),S.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[A?"Demo Mode":"Live Updates","  ",e.length," Reports"]})]}),y&&S.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-full px-4 py-2 shadow-md",children:[S.jsx(M6,{className:"h-4 w-4 text-gray-400"}),S.jsx("span",{className:"text-sm text-gray-500",children:y.toLocaleTimeString()})]})]})]}),S.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 fade-in-up",children:[S.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[S.jsx(O6,{className:"h-5 w-5 text-gray-600"}),S.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),S.jsxs("select",{value:a.type,onChange:de=>o({...a,type:de.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[S.jsx("option",{value:"all",children:"All Types"}),S.jsx("option",{value:"marine-pollution",children:"Marine Pollution"}),S.jsx("option",{value:"weather-alert",children:"Weather Alert"}),S.jsx("option",{value:"marine-life",children:"Marine Life"}),S.jsx("option",{value:"infrastructure",children:"Infrastructure"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),S.jsxs("select",{value:a.status,onChange:de=>o({...a,status:de.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[S.jsx("option",{value:"all",children:"All Status"}),S.jsx("option",{value:"pending",children:"Pending"}),S.jsx("option",{value:"verified",children:"Verified"}),S.jsx("option",{value:"under review",children:"Under Review"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),S.jsxs("select",{value:a.severity,onChange:de=>o({...a,severity:de.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[S.jsx("option",{value:"all",children:"All Severity"}),S.jsx("option",{value:"high",children:"High"}),S.jsx("option",{value:"medium",children:"Medium"}),S.jsx("option",{value:"low",children:"Low"})]})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 fade-in-up",children:[S.jsxs("div",{className:"modern-card p-6 text-center hover-lift",children:[S.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.length}),S.jsx("div",{className:"text-gray-600 mt-2",children:"Total Reports"})]}),S.jsxs("div",{className:"modern-card p-6 text-center hover-lift",children:[S.jsx("div",{className:"text-3xl font-bold text-green-600",children:ue.find(de=>de.status==="Verified")?.count||0}),S.jsx("div",{className:"text-gray-600 mt-2",children:"Verified"})]}),S.jsxs("div",{className:"modern-card p-6 text-center hover-lift",children:[S.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:ue.find(de=>de.status==="Pending")?.count||0}),S.jsx("div",{className:"text-gray-600 mt-2",children:"Pending"})]}),S.jsxs("div",{className:"modern-card p-6 text-center hover-lift",children:[S.jsx("div",{className:"text-3xl font-bold text-red-600",children:W.find(de=>de.severity==="High")?.count||0}),S.jsx("div",{className:"text-gray-600 mt-2",children:"High Severity"})]})]}),S.jsxs("div",{className:"space-y-8 fade-in-up",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(u2,{className:"h-6 w-6 text-gray-600"}),S.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:["Recent Reports (",n.length,")"]})]}),S.jsx("div",{className:"flex items-center space-x-3",children:S.jsx("button",{onClick:()=>k(x==="grid"?"list":"grid"),className:"btn-modern btn-secondary px-4 py-2 text-sm",children:x==="grid"?"List View":"Grid View"})})]}),(()=>{const de=n.length,me=Math.ceil(de/ce),Qe=(q-1)*ce,Ee=Qe+ce,_e=n.slice(Qe,Ee);return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`${x==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"}`,children:_e.map(ke=>S.jsx("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 group hover:scale-[1.02] border border-gray-100 hover:border-ocean-200 overflow-hidden",children:S.jsxs("div",{className:"p-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx("div",{className:`p-2.5 rounded-xl ${ke.severity==="high"?"bg-red-100":ke.severity==="medium"?"bg-yellow-100":"bg-green-100"}`,children:S.jsx(Jc,{className:`h-5 w-5 ${ke.severity==="high"?"text-red-600":ke.severity==="medium"?"text-yellow-600":"text-green-600"}`})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-lg font-bold text-gray-900 line-clamp-1",children:ke.hazardType||ke.type}),S.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ke.status==="verified"?"bg-green-100 text-green-700":ke.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:ke.status}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ke.severity==="high"?"bg-red-100 text-red-700":ke.severity==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:ke.severity})]})]})]}),S.jsxs("div",{className:"text-right text-sm text-gray-500",children:[S.jsx(dv,{className:"h-4 w-4 inline mr-1"}),new Date(ke.timestamp).toLocaleDateString()]})]}),S.jsx("p",{className:"text-gray-700 mb-4 text-sm leading-relaxed line-clamp-3",children:ke.description}),S.jsxs("div",{className:"space-y-2 mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[S.jsx(Ph,{className:"h-4 w-4 text-gray-400"}),S.jsx("span",{className:"font-medium line-clamp-1",children:ke.location})]}),S.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[S.jsx(zp,{className:"h-4 w-4 text-gray-400"}),S.jsxs("span",{children:["Reported by ",ke.reporterName]})]})]}),S.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Community Verification"}),S.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[S.jsx(kS,{className:"h-3 w-3"}),S.jsxs("span",{children:[((ke.verifications?.confirm||0)/Math.max((ke.verifications?.confirm||0)+(ke.verifications?.reject||0),1)*100).toFixed(0),"% confidence"]})]})]}),S.jsx("div",{className:"flex items-center space-x-3",children:(()=>{const We=r?N.get(ke.id):null,Oe=We==="confirm",ze=We==="reject",ne=D.has(`${ke.id}-confirm`),ae=D.has(`${ke.id}-reject`);return S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:()=>fe(ke.id,"confirm"),disabled:ne||ae,title:r?Oe?"Click to remove your confirmation":"Confirm this report":"Please log in to vote",className:`flex-1 flex items-center justify-center space-x-2 px-3 py-2.5 rounded-xl transition-all duration-300 text-sm font-medium hover:scale-[1.02] transform disabled:cursor-not-allowed disabled:opacity-60 ${Oe?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg border-2 border-green-600":r?"bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 text-green-700 border-2 border-green-200 hover:border-green-300":"bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 text-gray-600 border-2 border-gray-200 hover:border-gray-300"}`,children:[ne?S.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}):S.jsx(QE,{className:`h-4 w-4 ${Oe?"text-white":""}`}),S.jsx("span",{children:ne?"Processing...":r?Oe?" Confirmed":"Confirm":"Confirm (Login Required)"}),S.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${Oe?"bg-green-400 text-green-900":"bg-green-200 text-green-800"}`,children:ke.verifications?.confirm||0})]}),S.jsxs("button",{onClick:()=>fe(ke.id,"reject"),disabled:ne||ae,title:r?ze?"Click to remove your vote":"Mark as not relevant":"Please log in to vote",className:`flex-1 flex items-center justify-center space-x-2 px-3 py-2.5 rounded-xl transition-all duration-300 text-sm font-medium hover:scale-[1.02] transform disabled:cursor-not-allowed disabled:opacity-60 ${ze?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg border-2 border-red-600":r?"bg-gradient-to-r from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 text-red-700 border-2 border-red-200 hover:border-red-300":"bg-gradient-to-r from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 text-gray-600 border-2 border-gray-200 hover:border-gray-300"}`,children:[ae?S.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}):S.jsx(c2,{className:`h-4 w-4 ${ze?"text-white":""}`}),S.jsx("span",{children:ae?"Processing...":r?ze?" Rejected":"Not Relevant":"Not Relevant (Login Required)"}),S.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${ze?"bg-red-400 text-red-900":"bg-red-200 text-red-800"}`,children:ke.verifications?.reject||0})]})]})})()})]})]})},ke.id))}),me>1&&S.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-8",children:[S.jsx("button",{onClick:()=>$(ke=>Math.max(ke-1,1)),disabled:q===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:"Previous"}),S.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:me},(ke,We)=>We+1).map(ke=>S.jsx("button",{onClick:()=>$(ke),className:`px-3 py-2 rounded-xl transition-all duration-300 ${q===ke?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:ke},ke))}),S.jsx("button",{onClick:()=>$(ke=>Math.min(ke+1,me)),disabled:q===me,className:"px-4 py-2 bg-white border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:"Next"})]}),S.jsxs("div",{className:"text-center text-sm text-gray-600 mt-4",children:["Showing ",Qe+1,"-",Math.min(Ee,de)," of ",de," reports"]})]})})(),n.length===0&&S.jsxs("div",{className:"text-center py-12",children:[S.jsx(Jc,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),S.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Reports Found"}),S.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to see more reports."})]})]})]})})},vhe=()=>{const r=XP(),{updateReportStats:e,awardPoints:t}=dY(),n=Z.useRef(null),i=Z.useRef(null),a=Z.useRef(null),[o,s]=Z.useState({hazardType:"",location:"",latitude:"",longitude:"",description:"",severity:"medium",photos:[]}),[c,A]=Z.useState({}),[f,y]=Z.useState(!1),[C,x]=Z.useState(!1),[k,N]=Z.useState(!1),[M,D]=Z.useState(null),[H,q]=Z.useState(!1),[$,ce]=Z.useState({isChecking:!1,duplicateFound:!1,similarReports:[],canSubmit:!0}),[V,he]=Z.useState({loading:!1,error:null,accuracy:null,timestamp:null,address:null}),le=[{id:"High Tide",label:"High Tide",icon:fv,color:"text-blue-500",bg:"bg-blue-50 hover:bg-blue-100"},{id:"Storm/Cyclone",label:"Storm/Cyclone",icon:EY,color:"text-gray-500",bg:"bg-gray-50 hover:bg-gray-100"},{id:"Water Pollution",label:"Water Pollution",icon:xY,color:"text-green-500",bg:"bg-green-50 hover:bg-green-100"},{id:"Jellyfish Swarm",label:"Jellyfish Swarm",icon:NS,color:"text-purple-500",bg:"bg-purple-50 hover:bg-purple-100"},{id:"Oil Spill",label:"Oil Spill",icon:Jc,color:"text-red-500",bg:"bg-red-50 hover:bg-red-100"},{id:"Unusual Marine Activity",label:"Marine Activity",icon:kS,color:"text-orange-500",bg:"bg-orange-50 hover:bg-orange-100"}],fe=[{id:"low",label:"Low Risk",color:"bg-green-500",description:"Minor concern, low risk to public",icon:QE},{id:"medium",label:"Medium Risk",color:"bg-yellow-500",description:"Moderate risk, caution advised",icon:dv},{id:"high",label:"High Risk",color:"bg-red-500",description:"Immediate attention required",icon:Jc}];Z.useEffect(()=>{navigator.geolocation&&Ee()},[]),Z.useEffect(()=>()=>{M&&M.getTracks().forEach(ae=>ae.stop())},[M]),Z.useEffect(()=>{o.latitude&&o.longitude&&o.hazardType&&Ne()},[o.latitude,o.longitude,o.hazardType]);const Ne=async()=>{ce(ae=>({...ae,isChecking:!0}));try{const ve=[{id:1,type:o.hazardType,location:"Nearby location",distance:.8,timestamp:new Date(Date.now()-72e5),status:"verified"}].filter(qe=>qe.type===o.hazardType&&qe.distance<1&&Date.now()-qe.timestamp.getTime()<1440*60*1e3),Re=ve.some(qe=>qe.status==="verified");ce({isChecking:!1,duplicateFound:ve.length>0,similarReports:ve,canSubmit:!Re})}catch(ae){console.error("Duplicate check failed:",ae),ce(ve=>({...ve,isChecking:!1,canSubmit:!0}))}},W=async()=>{try{const ae=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});D(ae),N(!0),setTimeout(()=>{i.current&&(i.current.srcObject=ae)},100)}catch(ae){console.error("Error accessing camera:",ae),ko.error("Unable to access camera. Please check permissions and try again.")}},ue=()=>{M&&(M.getTracks().forEach(ae=>ae.stop()),D(null)),N(!1)},de=()=>{if(!i.current||!a.current)return;q(!0);const ae=i.current,ve=a.current,Re=ve.getContext("2d");ve.width=ae.videoWidth,ve.height=ae.videoHeight,Re.drawImage(ae,0,0,ve.width,ve.height),ve.toBlob(qe=>{if(qe){const Ze={file:new File([qe],`camera-capture-${Date.now()}.jpg`,{type:"image/jpeg"}),preview:ve.toDataURL("image/jpeg"),id:Date.now()+Math.random(),isCaptured:!0};s(st=>({...st,photos:[...st.photos,Ze]})),setTimeout(()=>{q(!1),ue()},200)}},"image/jpeg",.9)},me=(ae,ve)=>{s(Re=>({...Re,[ae]:ve})),c[ae]&&A(Re=>({...Re,[ae]:""}))},Qe=async(ae,ve)=>{try{const qe=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${ae}&longitude=${ve}&localityLanguage=en`)).json();return`${qe.locality||qe.city||"Unknown City"}, ${qe.principalSubdivision||qe.region||"Unknown Region"}, ${qe.countryName||"Unknown Country"}`}catch(Re){return console.error("Reverse geocoding failed:",Re),`${ae.toFixed(4)}, ${ve.toFixed(4)}`}},Ee=()=>{if(!navigator.geolocation){he(ve=>({...ve,error:"Geolocation is not supported by this browser"}));return}he(ve=>({...ve,loading:!0,error:null}));const ae={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(async ve=>{const{latitude:Re,longitude:qe,accuracy:Ze}=ve.coords,st=new Date(ve.timestamp),ot=await Qe(Re,qe);s(yt=>({...yt,latitude:Re.toFixed(6),longitude:qe.toFixed(6),location:ot})),he({loading:!1,error:null,accuracy:Math.round(Ze),timestamp:st,address:ot})},ve=>{let Re="Unable to get your location";switch(ve.code){case ve.PERMISSION_DENIED:Re="Location access denied by user";break;case ve.POSITION_UNAVAILABLE:Re="Location information unavailable";break;case ve.TIMEOUT:Re="Location request timed out";break}he(qe=>({...qe,loading:!1,error:Re}))},ae)},_e=ae=>{const Re=Array.from(ae).filter(Ze=>{const st=Ze.type.startsWith("image/"),ot=Ze.size<=10*1024*1024;return st&&ot});if(Re.length+o.photos.length>5){ko.warning("Maximum 5 photos allowed");return}const qe=Re.map(Ze=>({file:Ze,preview:URL.createObjectURL(Ze),id:Date.now()+Math.random()}));s(Ze=>({...Ze,photos:[...Ze.photos,...qe]}))},ke=ae=>{s(ve=>({...ve,photos:ve.photos.filter(Re=>(Re.id===ae&&URL.revokeObjectURL(Re.preview),Re.id!==ae))}))},We=ae=>{ae.preventDefault(),ae.stopPropagation(),ae.type==="dragenter"||ae.type==="dragover"?x(!0):ae.type==="dragleave"&&x(!1)},Oe=ae=>{ae.preventDefault(),ae.stopPropagation(),x(!1),ae.dataTransfer.files&&ae.dataTransfer.files[0]&&_e(ae.dataTransfer.files)},ze=()=>{const ae={};return o.hazardType||(ae.hazardType="Please select a hazard type"),o.location||(ae.location="Please provide location information"),o.description.trim()||(ae.description="Please provide a description"),o.description.trim().length<10&&(ae.description="Description must be at least 10 characters"),A(ae),Object.keys(ae).length===0},ne=async ae=>{if(ae.preventDefault(),!!ze()){y(!0);try{const ve={...o,reporterName:"Current User",timestamp:new Date().toISOString(),status:"pending"};if((await fetch("http://localhost:3001/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ve)})).ok){e("submitted");const qe=t("reportSubmitted");ko.success(`Report submitted successfully! You earned ${qe} points. Thank you for helping keep our oceans safe!`),r("/reports")}else throw new Error("Failed to submit report")}catch(ve){console.error("Submission error:",ve),e("submitted");const Re=t("reportSubmitted");ko.success(`Demo: Report submitted successfully! You earned ${Re} points. Thank you for helping keep our oceans safe!`),r("/reports")}finally{y(!1)}}};return S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 py-8",children:S.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"modern-card overflow-hidden",children:[S.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 px-8 py-6",children:[S.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Report Ocean Hazard"}),S.jsx("p",{className:"text-blue-100 text-lg",children:"Help protect our coastal communities by reporting hazards in real-time"})]}),S.jsxs("form",{onSubmit:ne,className:"p-8 space-y-10",children:[S.jsxs("div",{className:"fade-in-up",children:[S.jsx("label",{className:"block text-lg font-semibold text-gray-800 mb-6",children:"What type of hazard are you reporting? *"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:le.map(ae=>S.jsxs("button",{type:"button",onClick:()=>me("hazardType",ae.id),className:`p-6 border-2 rounded-xl transition-all duration-300 hover-lift ${o.hazardType===ae.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300"} ${ae.bg}`,children:[S.jsx(ae.icon,{className:`h-10 w-10 mx-auto mb-3 ${ae.color}`}),S.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ae.label})]},ae.id))}),c.hazardType&&S.jsx("p",{className:"mt-3 text-sm text-red-600 font-medium",children:c.hazardType})]}),S.jsxs("div",{className:"fade-in-up",children:[S.jsx("label",{className:"block text-lg font-semibold text-gray-800 mb-6",children:"Location Information *"}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"modern-card p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center",children:[S.jsx(Que,{className:"h-5 w-5 mr-2 text-blue-600"}),"Auto-Location"]}),S.jsxs("button",{type:"button",onClick:Ee,disabled:V.loading,className:"btn-modern btn-primary px-4 py-2 text-sm flex items-center space-x-2",children:[V.loading?S.jsx(M6,{className:"h-4 w-4 animate-spin"}):S.jsx(Ph,{className:"h-4 w-4"}),S.jsx("span",{children:V.loading?"Detecting...":"Get Location"})]})]}),V.error&&S.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mb-4",children:S.jsx("p",{className:"text-sm text-red-600",children:V.error})}),V.address&&S.jsx("div",{className:"space-y-3",children:S.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[S.jsx(QE,{className:"h-5 w-5 text-green-600 mt-0.5"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-green-800",children:"Location detected successfully"}),S.jsx("p",{className:"text-sm text-green-600",children:V.address}),V.accuracy&&S.jsxs("p",{className:"text-xs text-green-500 mt-1",children:["Accuracy: ",V.accuracy,"m  ",V.timestamp?.toLocaleTimeString()]})]})]})})]}),S.jsxs("div",{className:"modern-card p-6",children:[S.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center mb-4",children:[S.jsx(vY,{className:"h-5 w-5 mr-2 text-blue-600"}),"Manual Entry"]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Description"}),S.jsx("input",{type:"text",value:o.location,onChange:ae=>me("location",ae.target.value),placeholder:"e.g., Marina Beach, Chennai or specific landmark",className:"modern-input"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),S.jsx("input",{type:"number",step:"any",value:o.latitude,onChange:ae=>me("latitude",ae.target.value),placeholder:"e.g., 13.0827",className:"modern-input"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),S.jsx("input",{type:"number",step:"any",value:o.longitude,onChange:ae=>me("longitude",ae.target.value),placeholder:"e.g., 80.2707",className:"modern-input"})]})]})]})]})]}),c.location&&S.jsx("p",{className:"mt-3 text-sm text-red-600 font-medium",children:c.location})]}),S.jsxs("div",{className:"fade-in-up",children:[S.jsx("label",{className:"block text-lg font-semibold text-gray-800 mb-6",children:"How severe is this hazard?"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:fe.map(ae=>S.jsxs("button",{type:"button",onClick:()=>me("severity",ae.id),className:`p-6 border-2 rounded-xl transition-all duration-300 hover-lift text-left ${o.severity===ae.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300"}`,children:[S.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[S.jsx("div",{className:`w-6 h-6 rounded-full ${ae.color}`}),S.jsx(ae.icon,{className:"h-6 w-6 text-gray-600"})]}),S.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:ae.label}),S.jsx("div",{className:"text-sm text-gray-600",children:ae.description})]},ae.id))})]}),S.jsxs("div",{className:"fade-in-up",children:[S.jsx("label",{className:"block text-lg font-semibold text-gray-800 mb-4",children:"Describe the hazard in detail *"}),S.jsx("textarea",{value:o.description,onChange:ae=>me("description",ae.target.value),rows:6,maxLength:1e3,placeholder:"Please provide detailed information about what you observed, when it occurred, current conditions, and any immediate dangers or concerns...",className:"w-full px-4 py-4 border-2 border-gray-200 rounded-xl bg-white/90 backdrop-blur-sm focus:border-ocean-500 focus:ring-4 focus:ring-ocean-100 transition-all duration-300 resize-none placeholder-gray-400 shadow-sm hover:shadow-md font-medium"}),S.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.description&&S.jsx("p",{className:"text-sm text-red-600 font-medium",children:c.description}),S.jsxs("p",{className:"text-sm text-gray-500 ml-auto",children:[o.description.length,"/1000"]})]})]}),$.duplicateFound&&S.jsx("div",{className:"fade-in-up",children:S.jsx("div",{className:`p-6 rounded-xl border-2 ${$.canSubmit?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:S.jsxs("div",{className:"flex items-start space-x-3",children:[S.jsx(Jc,{className:`h-6 w-6 flex-shrink-0 mt-0.5 ${$.canSubmit?"text-yellow-600":"text-red-600"}`}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:`font-semibold mb-2 ${$.canSubmit?"text-yellow-800":"text-red-800"}`,children:$.canSubmit?"Similar Reports Found":"Duplicate Report Detected"}),S.jsx("p",{className:`text-sm mb-3 ${$.canSubmit?"text-yellow-700":"text-red-700"}`,children:$.canSubmit?"We found similar reports in this area. Please review them before submitting.":"A verified report for this hazard type already exists in this location. Duplicate submissions are not allowed."}),S.jsx("div",{className:"space-y-2",children:$.similarReports.map((ae,ve)=>S.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg shadow-sm",children:[S.jsxs("div",{children:[S.jsx("span",{className:"font-medium text-gray-900",children:ae.type}),S.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[ae.distance.toFixed(1),"km away  ",ae.timestamp.toLocaleString()]})]}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ae.status==="verified"?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:ae.status})]},ve))}),$.canSubmit&&S.jsx("p",{className:"text-xs text-yellow-600 mt-3",children:"You can still submit if you believe this is a separate incident."})]})]})})}),S.jsxs("div",{className:"fade-in-up",children:[S.jsx("label",{className:"block text-lg font-semibold text-gray-800 mb-4",children:"Add Photos (Optional - Max 5)"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[S.jsxs("div",{onDragEnter:We,onDragLeave:We,onDragOver:We,onDrop:Oe,className:`border-2 border-dashed rounded-xl p-6 text-center transition-all duration-300 cursor-pointer ${C?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,onClick:()=>n.current?.click(),children:[S.jsx(nhe,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),S.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Upload from Device"}),S.jsx("p",{className:"text-sm text-gray-500",children:"Drag & drop or click to browse"}),S.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG up to 10MB each"}),S.jsx("input",{ref:n,type:"file",multiple:!0,accept:"image/*",onChange:ae=>_e(ae.target.files),className:"hidden"})]}),S.jsxs("div",{onClick:W,className:"border-2 border-dashed border-green-300 hover:border-green-400 rounded-xl p-6 text-center transition-all duration-300 cursor-pointer hover:bg-green-50",children:[S.jsx(jQ,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),S.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Take Photo"}),S.jsx("p",{className:"text-sm text-gray-500",children:"Use camera to capture directly"}),S.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Best for real-time hazards"})]})]}),k&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Photo"}),S.jsx("button",{onClick:ue,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:S.jsx(Vb,{className:"h-6 w-6 text-gray-600"})})]}),S.jsxs("div",{className:"relative",children:[S.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,className:"w-full h-auto max-h-[60vh] rounded-xl object-cover bg-black"}),H&&S.jsx("div",{className:"absolute inset-0 bg-white opacity-80 rounded-xl"}),S.jsx("canvas",{ref:a,className:"hidden"})]}),S.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[S.jsx("button",{onClick:ue,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),S.jsxs("button",{onClick:de,disabled:H||o.photos.length>=5,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-xl font-medium transition-colors flex items-center space-x-2",children:[S.jsx(jQ,{className:"h-5 w-5"}),S.jsx("span",{children:H?"Capturing...":"Take Photo"})]})]})]})}),o.photos.length>0&&S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-6",children:o.photos.map(ae=>S.jsxs("div",{className:"relative group hover-lift",children:[S.jsx("img",{src:ae.preview,alt:"Preview",className:"w-full h-32 object-cover rounded-xl"}),ae.isCaptured&&S.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Camera"}),S.jsx("button",{type:"button",onClick:()=>ke(ae.id),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg",children:S.jsx(Vb,{className:"h-4 w-4"})})]},ae.id))})]}),S.jsxs("div",{className:"flex justify-end space-x-4 pt-8 border-t border-gray-200",children:[S.jsx("button",{type:"button",onClick:()=>r("/"),className:"px-8 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-medium",children:"Cancel"}),S.jsx("button",{type:"submit",disabled:f||!$.canSubmit||$.isChecking,className:`px-8 py-3 flex items-center space-x-2 rounded-xl font-medium transition-all duration-200 disabled:cursor-not-allowed ${$.canSubmit?"btn-modern btn-primary disabled:opacity-50":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:$.isChecking?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("span",{children:"Checking for duplicates..."})]}):f?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("span",{children:"Submitting Report..."})]}):$.canSubmit?S.jsxs(S.Fragment,{children:[S.jsx(Jc,{className:"h-5 w-5"}),S.jsx("span",{children:"Submit Report"})]}):S.jsxs(S.Fragment,{children:[S.jsx(Vb,{className:"h-5 w-5"}),S.jsx("span",{children:"Cannot Submit - Duplicate Detected"})]})})]})]})]})})})},_he=()=>{const r=[{icon:ohe,number:"50,000+",label:"Active Citizens",description:"Coastal communities actively participating in hazard reporting"},{icon:Ph,number:"2,847",label:"Reports Submitted",description:"Ocean hazard reports submitted across Indian coastline"},{icon:zp,number:"98%",label:"Response Rate",description:"Reports verified and responded to within 24 hours"},{icon:pY,number:"156",label:"Lives Saved",description:"Estimated lives saved through early warning system"},{icon:yg,number:"85%",label:"Accuracy Rate",description:"Verified reports accuracy maintained consistently"},{icon:Cue,number:"7,500km",label:"Coastline Covered",description:"Total Indian coastline monitored through our platform"}],e=[{icon:wY,title:"Mission",description:"To create a comprehensive, community-driven ocean hazard monitoring system that protects coastal communities through real-time reporting and early warning mechanisms."},{icon:Sue,title:"Vision",description:"A future where no coastal community faces ocean hazards unprepared, where technology and community collaboration ensure the safety of all who depend on our oceans."},{icon:zp,title:"Values",description:"Transparency, community empowerment, scientific accuracy, rapid response, and sustainable ocean stewardship guide everything we do."}];return S.jsxs("div",{className:"min-h-screen bg-gray-50",children:[S.jsx("section",{className:"bg-gradient-to-br from-ocean-500 to-ocean-600 text-white py-16",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"About Ocean Hazard Reporter"}),S.jsx("p",{className:"text-xl lg:text-2xl text-ocean-100 max-w-4xl mx-auto",children:"Protecting coastal communities through innovative technology, scientific expertise, and the power of community collaboration."})]})})}),S.jsx("section",{className:"py-16 bg-white",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((t,n)=>S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"bg-ocean-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:S.jsx(t.icon,{className:"h-8 w-8 text-ocean-600"})}),S.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.title}),S.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},n))})})}),S.jsx("section",{className:"py-16 bg-ocean-50",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Our Achievements"}),S.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Since our launch, we've made significant strides in ocean safety and community protection"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((t,n)=>S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[S.jsx("div",{className:"bg-ocean-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:S.jsx(t.icon,{className:"h-6 w-6 text-white"})}),S.jsx("div",{className:"text-3xl font-bold text-ocean-600 mb-2",children:t.number}),S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.label}),S.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]},n))})]})}),S.jsx("section",{className:"py-16 bg-white",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"How We Protect Communities"}),S.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our comprehensive approach combines technology, expertise, and community engagement"})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[S.jsx("div",{children:S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-ocean-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm",children:"1"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Community Reporting"}),S.jsx("p",{className:"text-gray-600",children:"Citizens report ocean hazards through our easy-to-use platform with location data and photographic evidence."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-ocean-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm",children:"2"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Expert Verification"}),S.jsx("p",{className:"text-gray-600",children:"Our team of marine scientists and safety experts verify reports and assess threat levels within hours."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-ocean-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm",children:"3"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Alert Distribution"}),S.jsx("p",{className:"text-gray-600",children:"Verified hazards trigger immediate alerts to local authorities, emergency services, and affected communities."})]})]}),S.jsxs("div",{className:"flex items-start space-x-4",children:[S.jsx("div",{className:"bg-ocean-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm",children:"4"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Continuous Monitoring"}),S.jsx("p",{className:"text-gray-600",children:"We maintain ongoing surveillance and provide updates until hazards are resolved or subside."})]})]})]})}),S.jsx("div",{className:"relative",children:S.jsxs("div",{className:"bg-ocean-500 rounded-2xl p-8 text-white",children:[S.jsx("h3",{className:"text-xl font-bold mb-4",children:"Real-Time Impact"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"Average Response Time"}),S.jsx("span",{className:"font-bold",children:"< 2 hours"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"Report Accuracy"}),S.jsx("span",{className:"font-bold",children:"98.5%"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"Community Reach"}),S.jsx("span",{className:"font-bold",children:"50,000+ users"})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{children:"Coastal Coverage"}),S.jsx("span",{className:"font-bold",children:"7,500 km"})]})]})]})})]})]})}),S.jsxs("section",{className:"relative py-20 bg-gradient-to-br from-ocean-600 via-ocean-700 to-blue-800 text-white overflow-hidden",children:[S.jsxs("div",{className:"absolute inset-0",children:[S.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white rounded-full mix-blend-soft-light opacity-10 animate-pulse"}),S.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-coral-400 rounded-full mix-blend-soft-light opacity-10 animate-pulse delay-1000"})]}),S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[S.jsx("h2",{className:"text-4xl lg:text-6xl font-bold text-white mb-6",children:"Join Our Mission"}),S.jsx("p",{className:"text-xl text-ocean-100 mb-12 max-w-3xl mx-auto",children:"Be part of the solution. Help us protect coastal communities by reporting ocean hazards in your area. Every report counts, every alert saves lives."}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[S.jsxs("button",{className:"group bg-white hover:bg-gray-100 text-ocean-600 px-10 py-5 rounded-2xl font-bold text-lg transition-all duration-300 inline-flex items-center shadow-xl hover:shadow-2xl hover:scale-105 transform",children:["Become a Reporter",S.jsx(Ph,{className:"ml-3 h-6 w-6 group-hover:translate-x-2 transition-transform"})]}),S.jsxs("button",{className:"group border-2 border-white text-white hover:bg-white hover:text-ocean-600 px-10 py-5 rounded-2xl font-bold text-lg transition-all duration-300 inline-flex items-center hover:scale-105 transform",children:["Learn More",S.jsx(yg,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})]})]})},bhe=()=>{const{userStats:r,leaderboard:e,availableBadges:t,getNextLevelProgress:n,getUserRank:i}=dY(),[a,o]=Z.useState("overview"),s=n(),c=i(),A=[{id:"overview",label:"Overview",icon:wY},{id:"badges",label:"Badges",icon:pY},{id:"leaderboard",label:"Leaderboard",icon:h2}],f=[{title:"Reports Submitted",value:r.totalReports,icon:bY,color:"text-blue-600",bg:"bg-blue-50"},{title:"Reports Verified",value:r.verifiedReports,icon:Rue,color:"text-green-600",bg:"bg-green-50"},{title:"Current Streak",value:`${r.streak} days`,icon:NS,color:"text-orange-600",bg:"bg-orange-50"},{title:"Global Rank",value:`#${c}`,icon:HQ,color:"text-purple-600",bg:"bg-purple-50"}];return S.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 space-y-8",children:[S.jsxs("div",{className:"text-center fade-in-up",children:[S.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Your Ocean Guardian Journey"}),S.jsx("p",{className:"text-gray-600 text-lg",children:"Track your progress and compete with fellow ocean protectors"})]}),S.jsxs("div",{className:"modern-card p-8 fade-in-up",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Level ",r.level]}),S.jsx("p",{className:"text-gray-600",children:r.levelTitle||"Ocean Protector"})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.points.toLocaleString()}),S.jsx("div",{className:"text-sm text-gray-500",children:"Total Points"})]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[S.jsxs("span",{children:["Progress to Level ",r.level+1]}),S.jsx("span",{children:s.pointsNeeded>0?`${s.pointsNeeded} points needed`:"Max Level!"})]}),S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:S.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(s.progress,100)}%`}})})]}),s.nextLevel&&S.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Next: ",S.jsx("span",{className:"font-semibold text-gray-800",children:s.nextLevel.title})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 fade-in-up",children:f.map((y,C)=>S.jsxs("div",{className:"modern-card p-6 text-center hover-lift",children:[S.jsx("div",{className:`w-16 h-16 ${y.bg} rounded-full flex items-center justify-center mx-auto mb-4`,children:S.jsx(y.icon,{className:`h-8 w-8 ${y.color}`})}),S.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:y.value}),S.jsx("div",{className:"text-gray-600 text-sm",children:y.title})]},C))}),S.jsxs("div",{className:"modern-card p-6 fade-in-up",children:[S.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-xl p-1 mb-6",children:A.map(y=>S.jsxs("button",{onClick:()=>o(y.id),className:`flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 flex-1 justify-center ${a===y.id?"bg-white text-blue-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:[S.jsx(y.icon,{className:"h-5 w-5"}),S.jsx("span",{children:y.label})]},y.id))}),S.jsxs("div",{className:"min-h-[400px]",children:[a==="overview"&&S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[S.jsx(P6,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Activity"]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[S.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),S.jsx("span",{className:"text-sm text-gray-700",children:"Report verified - Oil Spill at Marina Beach"}),S.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"+75 pts"})]}),S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[S.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),S.jsx("span",{className:"text-sm text-gray-700",children:"New report submitted - High Tide Warning"}),S.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"+25 pts"})]}),S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg",children:[S.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),S.jsx("span",{className:"text-sm text-gray-700",children:"Badge earned - Ocean Guardian"}),S.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"+500 pts"})]})]})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[S.jsx(yg,{className:"h-5 w-5 mr-2 text-green-600"}),"Points Breakdown"]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-gray-600",children:"Reports Submitted"}),S.jsxs("span",{className:"font-semibold",children:[r.totalReports*25," pts"]})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-gray-600",children:"Reports Verified"}),S.jsxs("span",{className:"font-semibold",children:[r.verifiedReports*75," pts"]})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-gray-600",children:"Streak Bonus"}),S.jsxs("span",{className:"font-semibold",children:[r.streak*15," pts"]})]}),S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("span",{className:"text-gray-600",children:"Badges Earned"}),S.jsxs("span",{className:"font-semibold",children:[r.badges.length*100," pts"]})]}),S.jsxs("div",{className:"border-t pt-2 flex justify-between items-center font-semibold",children:[S.jsx("span",{children:"Total Points"}),S.jsxs("span",{className:"text-blue-600",children:[r.points," pts"]})]})]})]})]})}),a==="badges"&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:["Your Badges (",r.badges.length,"/",t.length,")"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(y=>{const C=r.badges.includes(y.id);return S.jsx("div",{className:`p-6 rounded-xl border-2 transition-all duration-300 ${C?"border-green-300 bg-green-50 hover:bg-green-100":"border-gray-200 bg-gray-50 hover:bg-gray-100"}`,children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:`text-4xl mb-3 ${C?"":"grayscale opacity-50"}`,children:y.icon}),S.jsx("h4",{className:`font-semibold mb-2 ${C?"text-green-800":"text-gray-600"}`,children:y.name}),S.jsx("p",{className:`text-sm mb-3 ${C?"text-green-600":"text-gray-500"}`,children:y.description}),S.jsx("div",{className:`text-xs font-medium px-3 py-1 rounded-full ${C?"bg-green-200 text-green-800":"bg-gray-200 text-gray-600"}`,children:C?"Earned":`${y.points} points`})]})},y.id)})})]}),a==="leaderboard"&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center",children:[S.jsx(h2,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Community Leaderboard"]}),S.jsx("div",{className:"space-y-3",children:e.slice(0,10).map((y,C)=>S.jsxs("div",{className:`flex items-center space-x-4 p-4 rounded-xl transition-all duration-200 ${y.id==="current_user"?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 hover:bg-gray-100"}`,children:[S.jsx("div",{className:`text-lg font-bold w-8 text-center ${C===0?"text-yellow-600":C===1?"text-gray-500":C===2?"text-orange-600":"text-gray-400"}`,children:C<3?["","",""][C]:`#${C+1}`}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"font-semibold text-gray-800",children:y.name}),S.jsxs("div",{className:"text-sm text-gray-600",children:["Level ",y.level,"  ",y.reports," reports"]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"font-bold text-blue-600",children:y.points.toLocaleString()}),S.jsx("div",{className:"text-xs text-gray-500",children:"points"})]}),y.id==="current_user"&&S.jsx("div",{className:"text-blue-600",children:S.jsx(HQ,{className:"h-5 w-5"})})]},y.id))})]})]})]})]})},whe=()=>S.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8",children:S.jsx(bhe,{})}),xhe="modulepreload",Che=function(r){return"/"+r},qQ={},XM=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(A){return Promise.all(A.map(f=>Promise.resolve(f).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=c(t.map(A=>{if(A=Che(A),A in qQ)return;qQ[A]=!0;const f=A.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${y}`))return;const C=document.createElement("link");if(C.rel=f?"stylesheet":xhe,f||(C.as="script"),C.crossOrigin="",C.href=A,s&&C.setAttribute("nonce",s),document.head.appendChild(C),f)return new Promise((x,k)=>{C.addEventListener("load",x),C.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function Na(r){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(r)}var Vf=Uint8Array,ld=Uint16Array,D6=Int32Array,U6=new Vf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F6=new Vf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KQ=new Vf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TY=function(r,e){for(var t=new ld(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new D6(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},BY=TY(U6,2),Ehe=BY.b,d2=BY.r;Ehe[28]=258,d2[258]=28;var She=TY(F6,0),VQ=She.r,f2=new ld(32768);for(var Lo=0;Lo<32768;++Lo){var my=(Lo&43690)>>1|(Lo&21845)<<1;my=(my&52428)>>2|(my&13107)<<2,my=(my&61680)>>4|(my&3855)<<4,f2[Lo]=((my&65280)>>8|(my&255)<<8)>>1}var cE=(function(r,e,t){for(var n=r.length,i=0,a=new ld(e);i<n;++i)r[i]&&++a[r[i]-1];var o=new ld(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(t){s=new ld(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var A=i<<4|r[i],f=e-r[i],y=o[r[i]-1]++<<f,C=y|(1<<f)-1;y<=C;++y)s[f2[y]>>c]=A}else for(s=new ld(n),i=0;i<n;++i)r[i]&&(s[i]=f2[o[r[i]-1]++]>>15-r[i]);return s}),b_=new Vf(288);for(var Lo=0;Lo<144;++Lo)b_[Lo]=8;for(var Lo=144;Lo<256;++Lo)b_[Lo]=9;for(var Lo=256;Lo<280;++Lo)b_[Lo]=7;for(var Lo=280;Lo<288;++Lo)b_[Lo]=8;var Dk=new Vf(32);for(var Lo=0;Lo<32;++Lo)Dk[Lo]=5;var The=cE(b_,9,0),Bhe=cE(Dk,5,0),IY=function(r){return(r+7)/8|0},Ihe=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Vf(r.subarray(e,t))},Rm=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},jx=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},JM=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,a=t.slice();if(!i)return{t:NY,l:0};if(i==1){var o=new Vf(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(ce,V){return ce.f-V.f}),t.push({s:-1,f:25001});var s=t[0],c=t[1],A=0,f=1,y=2;for(t[0]={s:-1,f:s.f+c.f,l:s,r:c};f!=i-1;)s=t[t[A].f<t[y].f?A++:y++],c=t[A!=f&&t[A].f<t[y].f?A++:y++],t[f++]={s:-1,f:s.f+c.f,l:s,r:c};for(var C=a[0].s,n=1;n<i;++n)a[n].s>C&&(C=a[n].s);var x=new ld(C+1),k=p2(t[f-1],x,0);if(k>e){var n=0,N=0,M=k-e,D=1<<M;for(a.sort(function(V,he){return x[he.s]-x[V.s]||V.f-he.f});n<i;++n){var H=a[n].s;if(x[H]>e)N+=D-(1<<k-x[H]),x[H]=e;else break}for(N>>=M;N>0;){var q=a[n].s;x[q]<e?N-=1<<e-x[q]++-1:++n}for(;n>=0&&N;--n){var $=a[n].s;x[$]==e&&(--x[$],++N)}k=e}return{t:new Vf(x),l:k}},p2=function(r,e,t){return r.s==-1?Math.max(p2(r.l,e,t+1),p2(r.r,e,t+1)):e[r.s]=t},GQ=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ld(++e),n=0,i=r[0],a=1,o=function(c){t[n++]=c},s=1;s<=e;++s)if(r[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=r[s]}return{c:t.subarray(0,n),n:e}},Qx=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},kY=function(r,e,t){var n=t.length,i=IY(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=t[a];return(i+4+n)*8},$Q=function(r,e,t,n,i,a,o,s,c,A,f){Rm(e,f++,t),++i[256];for(var y=JM(i,15),C=y.t,x=y.l,k=JM(a,15),N=k.t,M=k.l,D=GQ(C),H=D.c,q=D.n,$=GQ(N),ce=$.c,V=$.n,he=new ld(19),le=0;le<H.length;++le)++he[H[le]&31];for(var le=0;le<ce.length;++le)++he[ce[le]&31];for(var fe=JM(he,7),Ne=fe.t,W=fe.l,ue=19;ue>4&&!Ne[KQ[ue-1]];--ue);var de=A+5<<3,me=Qx(i,b_)+Qx(a,Dk)+o,Qe=Qx(i,C)+Qx(a,N)+o+14+3*ue+Qx(he,Ne)+2*he[16]+3*he[17]+7*he[18];if(c>=0&&de<=me&&de<=Qe)return kY(e,f,r.subarray(c,c+A));var Ee,_e,ke,We;if(Rm(e,f,1+(Qe<me)),f+=2,Qe<me){Ee=cE(C,x,0),_e=C,ke=cE(N,M,0),We=N;var Oe=cE(Ne,W,0);Rm(e,f,q-257),Rm(e,f+5,V-1),Rm(e,f+10,ue-4),f+=14;for(var le=0;le<ue;++le)Rm(e,f+3*le,Ne[KQ[le]]);f+=3*ue;for(var ze=[H,ce],ne=0;ne<2;++ne)for(var ae=ze[ne],le=0;le<ae.length;++le){var ve=ae[le]&31;Rm(e,f,Oe[ve]),f+=Ne[ve],ve>15&&(Rm(e,f,ae[le]>>5&127),f+=ae[le]>>12)}}else Ee=The,_e=b_,ke=Bhe,We=Dk;for(var le=0;le<s;++le){var Re=n[le];if(Re>255){var ve=Re>>18&31;jx(e,f,Ee[ve+257]),f+=_e[ve+257],ve>7&&(Rm(e,f,Re>>23&31),f+=U6[ve]);var qe=Re&31;jx(e,f,ke[qe]),f+=We[qe],qe>3&&(jx(e,f,Re>>5&8191),f+=F6[qe])}else jx(e,f,Ee[Re]),f+=_e[Re]}return jx(e,f,Ee[256]),f+_e[256]},khe=new D6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NY=new Vf(0),Nhe=function(r,e,t,n,i,a){var o=a.z||r.length,s=new Vf(n+o+5*(1+Math.ceil(o/7e3))+i),c=s.subarray(n,s.length-i),A=a.l,f=(a.r||0)&7;if(e){f&&(c[0]=a.r>>3);for(var y=khe[e-1],C=y>>13,x=y&8191,k=(1<<t)-1,N=a.p||new ld(32768),M=a.h||new ld(k+1),D=Math.ceil(t/3),H=2*D,q=function(J){return(r[J]^r[J+1]<<D^r[J+2]<<H)&k},$=new D6(25e3),ce=new ld(288),V=new ld(32),he=0,le=0,fe=a.i||0,Ne=0,W=a.w||0,ue=0;fe+2<o;++fe){var de=q(fe),me=fe&32767,Qe=M[de];if(N[me]=Qe,M[de]=me,W<=fe){var Ee=o-fe;if((he>7e3||Ne>24576)&&(Ee>423||!A)){f=$Q(r,c,0,$,ce,V,le,Ne,ue,fe-ue,f),Ne=he=le=0,ue=fe;for(var _e=0;_e<286;++_e)ce[_e]=0;for(var _e=0;_e<30;++_e)V[_e]=0}var ke=2,We=0,Oe=x,ze=me-Qe&32767;if(Ee>2&&de==q(fe-ze))for(var ne=Math.min(C,Ee)-1,ae=Math.min(32767,fe),ve=Math.min(258,Ee);ze<=ae&&--Oe&&me!=Qe;){if(r[fe+ke]==r[fe+ke-ze]){for(var Re=0;Re<ve&&r[fe+Re]==r[fe+Re-ze];++Re);if(Re>ke){if(ke=Re,We=ze,Re>ne)break;for(var qe=Math.min(ze,Re-2),Ze=0,_e=0;_e<qe;++_e){var st=fe-ze+_e&32767,ot=N[st],yt=st-ot&32767;yt>Ze&&(Ze=yt,Qe=st)}}}me=Qe,Qe=N[me],ze+=me-Qe&32767}if(We){$[Ne++]=268435456|d2[ke]<<18|VQ[We];var Pe=d2[ke]&31,oe=VQ[We]&31;le+=U6[Pe]+F6[oe],++ce[257+Pe],++V[oe],W=fe+ke,++he}else $[Ne++]=r[fe],++ce[r[fe]]}}for(fe=Math.max(fe,W);fe<o;++fe)$[Ne++]=r[fe],++ce[r[fe]];f=$Q(r,c,A,$,ce,V,le,Ne,ue,fe-ue,f),A||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=M,a.p=N,a.i=fe,a.w=W)}else{for(var fe=a.w||0;fe<o+A;fe+=65535){var pe=fe+65535;pe>=o&&(c[f/8|0]=A,pe=o),f=kY(c,f+1,r.subarray(fe,pe))}a.i=o}return Ihe(s,0,n+IY(f)+i)},PY=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,a=t.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=t[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Phe=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Vf(a.length+r.length);o.set(a),o.set(r,a.length),r=o,i.w=a.length}return Nhe(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},OY=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ohe=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=PY();i.p(e.dictionary),OY(r,2,i.d())}};function m2(r,e){e||(e={});var t=PY();t.p(r);var n=Phe(r,e,e.dictionary?6:2,4);return Ohe(n,e),OY(n,n.length-4,t.d()),n}var Mhe=typeof TextDecoder<"u"&&new TextDecoder,Lhe=0;try{Mhe.decode(NY,{stream:!0}),Lhe=1}catch{}function Rhe(r){if(Array.isArray(r))return r}function Dhe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,o,s=[],c=!0,A=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(f){A=!0,i=f}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(A)throw i}}return s}}function YQ(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Uhe(r,e){if(r){if(typeof r=="string")return YQ(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?YQ(r,e):void 0}}function Fhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQ(r,e){return Rhe(r)||Dhe(r,e)||Uhe(r,e)||Fhe()}function ZQ(r,e="utf8"){return new TextDecoder(e).decode(r)}const jhe=new TextEncoder;function Qhe(r){return jhe.encode(r)}const Hhe=1024*8,zhe=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),e4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class j6{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Hhe,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof j6)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=e4[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===zhe&&t!=="uint8"&&t!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const c=new e4[t](s.buffer);return this.offset+=n,c.reverse(),c}const o=new e4[t](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return ZQ(this.readBytes(e))}decodeText(e=1,t="utf8"){return ZQ(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Qhe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zw(r){let e=r.length;for(;--e>=0;)r[e]=0}const qhe=3,Khe=258,MY=29,Vhe=256,Ghe=Vhe+1+MY,LY=30,$he=512,Yhe=new Array((Ghe+2)*2);zw(Yhe);const Whe=new Array(LY*2);zw(Whe);const Zhe=new Array($he);zw(Zhe);const Xhe=new Array(Khe-qhe+1);zw(Xhe);const Jhe=new Array(MY);zw(Jhe);const eAe=new Array(LY);zw(eAe);const tAe=(r,e,t,n)=>{let i=r&65535|0,a=r>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var g2=tAe;const rAe=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},nAe=new Uint32Array(rAe()),iAe=(r,e,t,n)=>{const i=nAe,a=n+t;r^=-1;for(let o=n;o<a;o++)r=r>>>8^i[(r^e[o])&255];return r^-1};var Sp=iAe,y2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},RY={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aAe=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var oAe=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)aAe(t,n)&&(r[n]=t[n])}}return r},sAe=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,a=r.length;n<a;n++){let o=r[n];t.set(o,i),i+=o.length}return t},DY={assign:oAe,flattenChunks:sAe};let UY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{UY=!1}const HE=new Uint8Array(256);for(let r=0;r<256;r++)HE[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;HE[254]=HE[254]=1;var lAe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,a,o=r.length,s=0;for(i=0;i<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const cAe=(r,e)=>{if(e<65534&&r.subarray&&UY)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var uAe=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const a=new Array(t*2);for(i=0,n=0;n<t;){let o=r[n++];if(o<128){a[i++]=o;continue}let s=HE[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<t;)o=o<<6|r[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return cAe(a,i)},hAe=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+HE[r[t]]>e?t:e},v2={string2buf:lAe,buf2string:uAe,utf8border:hAe};function AAe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dAe=AAe;const cB=16209,fAe=16191;var pAe=function(e,t){let n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,he,le,fe,Ne;const W=e.state;n=e.next_in,fe=e.input,i=n+(e.avail_in-5),a=e.next_out,Ne=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=W.dmax,A=W.wsize,f=W.whave,y=W.wnext,C=W.window,x=W.hold,k=W.bits,N=W.lencode,M=W.distcode,D=(1<<W.lenbits)-1,H=(1<<W.distbits)-1;e:do{k<15&&(x+=fe[n++]<<k,k+=8,x+=fe[n++]<<k,k+=8),q=N[x&D];t:for(;;){if($=q>>>24,x>>>=$,k-=$,$=q>>>16&255,$===0)Ne[a++]=q&65535;else if($&16){ce=q&65535,$&=15,$&&(k<$&&(x+=fe[n++]<<k,k+=8),ce+=x&(1<<$)-1,x>>>=$,k-=$),k<15&&(x+=fe[n++]<<k,k+=8,x+=fe[n++]<<k,k+=8),q=M[x&H];r:for(;;){if($=q>>>24,x>>>=$,k-=$,$=q>>>16&255,$&16){if(V=q&65535,$&=15,k<$&&(x+=fe[n++]<<k,k+=8,k<$&&(x+=fe[n++]<<k,k+=8)),V+=x&(1<<$)-1,V>c){e.msg="invalid distance too far back",W.mode=cB;break e}if(x>>>=$,k-=$,$=a-o,V>$){if($=V-$,$>f&&W.sane){e.msg="invalid distance too far back",W.mode=cB;break e}if(he=0,le=C,y===0){if(he+=A-$,$<ce){ce-=$;do Ne[a++]=C[he++];while(--$);he=a-V,le=Ne}}else if(y<$){if(he+=A+y-$,$-=y,$<ce){ce-=$;do Ne[a++]=C[he++];while(--$);if(he=0,y<ce){$=y,ce-=$;do Ne[a++]=C[he++];while(--$);he=a-V,le=Ne}}}else if(he+=y-$,$<ce){ce-=$;do Ne[a++]=C[he++];while(--$);he=a-V,le=Ne}for(;ce>2;)Ne[a++]=le[he++],Ne[a++]=le[he++],Ne[a++]=le[he++],ce-=3;ce&&(Ne[a++]=le[he++],ce>1&&(Ne[a++]=le[he++]))}else{he=a-V;do Ne[a++]=Ne[he++],Ne[a++]=Ne[he++],Ne[a++]=Ne[he++],ce-=3;while(ce>2);ce&&(Ne[a++]=Ne[he++],ce>1&&(Ne[a++]=Ne[he++]))}}else if(($&64)===0){q=M[(q&65535)+(x&(1<<$)-1)];continue r}else{e.msg="invalid distance code",W.mode=cB;break e}break}}else if(($&64)===0){q=N[(q&65535)+(x&(1<<$)-1)];continue t}else if($&32){W.mode=fAe;break e}else{e.msg="invalid literal/length code",W.mode=cB;break e}break}}while(n<i&&a<s);ce=k>>3,n-=ce,k-=ce<<3,x&=(1<<k)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),W.hold=x,W.bits=k};const j1=15,XQ=852,JQ=592,eH=0,t4=1,tH=2,mAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_Ae=(r,e,t,n,i,a,o,s)=>{const c=s.bits;let A=0,f=0,y=0,C=0,x=0,k=0,N=0,M=0,D=0,H=0,q,$,ce,V,he,le=null,fe;const Ne=new Uint16Array(j1+1),W=new Uint16Array(j1+1);let ue=null,de,me,Qe;for(A=0;A<=j1;A++)Ne[A]=0;for(f=0;f<n;f++)Ne[e[t+f]]++;for(x=c,C=j1;C>=1&&Ne[C]===0;C--);if(x>C&&(x=C),C===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(y=1;y<C&&Ne[y]===0;y++);for(x<y&&(x=y),M=1,A=1;A<=j1;A++)if(M<<=1,M-=Ne[A],M<0)return-1;if(M>0&&(r===eH||C!==1))return-1;for(W[1]=0,A=1;A<j1;A++)W[A+1]=W[A]+Ne[A];for(f=0;f<n;f++)e[t+f]!==0&&(o[W[e[t+f]]++]=f);if(r===eH?(le=ue=o,fe=20):r===t4?(le=mAe,ue=gAe,fe=257):(le=yAe,ue=vAe,fe=0),H=0,f=0,A=y,he=a,k=x,N=0,ce=-1,D=1<<x,V=D-1,r===t4&&D>XQ||r===tH&&D>JQ)return 1;for(;;){de=A-N,o[f]+1<fe?(me=0,Qe=o[f]):o[f]>=fe?(me=ue[o[f]-fe],Qe=le[o[f]-fe]):(me=96,Qe=0),q=1<<A-N,$=1<<k,y=$;do $-=q,i[he+(H>>N)+$]=de<<24|me<<16|Qe|0;while($!==0);for(q=1<<A-1;H&q;)q>>=1;if(q!==0?(H&=q-1,H+=q):H=0,f++,--Ne[A]===0){if(A===C)break;A=e[t+o[f]]}if(A>x&&(H&V)!==ce){for(N===0&&(N=x),he+=y,k=A-N,M=1<<k;k+N<C&&(M-=Ne[k+N],!(M<=0));)k++,M<<=1;if(D+=1<<k,r===t4&&D>XQ||r===tH&&D>JQ)return 1;ce=H&V,i[ce]=x<<24|k<<16|he-a|0}}return H!==0&&(i[he+H]=A-N<<24|64<<16|0),s.bits=x,0};var uE=_Ae;const bAe=0,FY=1,jY=2,{Z_FINISH:rH,Z_BLOCK:wAe,Z_TREES:uB,Z_OK:w_,Z_STREAM_END:xAe,Z_NEED_DICT:CAe,Z_STREAM_ERROR:Zd,Z_DATA_ERROR:QY,Z_MEM_ERROR:HY,Z_BUF_ERROR:EAe,Z_DEFLATED:nH}=RY,nO=16180,iH=16181,aH=16182,oH=16183,sH=16184,lH=16185,cH=16186,uH=16187,hH=16188,AH=16189,Uk=16190,Dm=16191,r4=16192,dH=16193,n4=16194,fH=16195,pH=16196,mH=16197,gH=16198,hB=16199,AB=16200,yH=16201,vH=16202,_H=16203,bH=16204,wH=16205,i4=16206,xH=16207,CH=16208,Go=16209,zY=16210,qY=16211,SAe=852,TAe=592,BAe=15,IAe=BAe,EH=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function kAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const U_=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<nO||e.mode>qY?1:0},KY=r=>{if(U_(r))return Zd;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=nO,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(SAe),e.distcode=e.distdyn=new Int32Array(TAe),e.sane=1,e.back=-1,w_},VY=r=>{if(U_(r))return Zd;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,KY(r)},GY=(r,e)=>{let t;if(U_(r))return Zd;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Zd:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,VY(r))},$Y=(r,e)=>{if(!r)return Zd;const t=new kAe;r.state=t,t.strm=r,t.window=null,t.mode=nO;const n=GY(r,e);return n!==w_&&(r.state=null),n},NAe=r=>$Y(r,IAe);let SH=!0,a4,o4;const PAe=r=>{if(SH){a4=new Int32Array(512),o4=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(uE(FY,r.lens,0,288,a4,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;uE(jY,r.lens,0,32,o4,0,r.work,{bits:5}),SH=!1}r.lencode=a4,r.lenbits=9,r.distcode=o4,r.distbits=5},YY=(r,e,t,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(t-n,t-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},OAe=(r,e)=>{let t,n,i,a,o,s,c,A,f,y,C,x,k,N,M=0,D,H,q,$,ce,V,he,le;const fe=new Uint8Array(4);let Ne,W;const ue=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(U_(r)||!r.output||!r.input&&r.avail_in!==0)return Zd;t=r.state,t.mode===Dm&&(t.mode=r4),o=r.next_out,i=r.output,c=r.avail_out,a=r.next_in,n=r.input,s=r.avail_in,A=t.hold,f=t.bits,y=s,C=c,le=w_;e:for(;;)switch(t.mode){case nO:if(t.wrap===0){t.mode=r4;break}for(;f<16;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(t.wrap&2&&A===35615){t.wbits===0&&(t.wbits=15),t.check=0,fe[0]=A&255,fe[1]=A>>>8&255,t.check=Sp(t.check,fe,2,0),A=0,f=0,t.mode=iH;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((A&255)<<8)+(A>>8))%31){r.msg="incorrect header check",t.mode=Go;break}if((A&15)!==nH){r.msg="unknown compression method",t.mode=Go;break}if(A>>>=4,f-=4,he=(A&15)+8,t.wbits===0&&(t.wbits=he),he>15||he>t.wbits){r.msg="invalid window size",t.mode=Go;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=A&512?AH:Dm,A=0,f=0;break;case iH:for(;f<16;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(t.flags=A,(t.flags&255)!==nH){r.msg="unknown compression method",t.mode=Go;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Go;break}t.head&&(t.head.text=A>>8&1),t.flags&512&&t.wrap&4&&(fe[0]=A&255,fe[1]=A>>>8&255,t.check=Sp(t.check,fe,2,0)),A=0,f=0,t.mode=aH;case aH:for(;f<32;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}t.head&&(t.head.time=A),t.flags&512&&t.wrap&4&&(fe[0]=A&255,fe[1]=A>>>8&255,fe[2]=A>>>16&255,fe[3]=A>>>24&255,t.check=Sp(t.check,fe,4,0)),A=0,f=0,t.mode=oH;case oH:for(;f<16;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}t.head&&(t.head.xflags=A&255,t.head.os=A>>8),t.flags&512&&t.wrap&4&&(fe[0]=A&255,fe[1]=A>>>8&255,t.check=Sp(t.check,fe,2,0)),A=0,f=0,t.mode=sH;case sH:if(t.flags&1024){for(;f<16;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}t.length=A,t.head&&(t.head.extra_len=A),t.flags&512&&t.wrap&4&&(fe[0]=A&255,fe[1]=A>>>8&255,t.check=Sp(t.check,fe,2,0)),A=0,f=0}else t.head&&(t.head.extra=null);t.mode=lH;case lH:if(t.flags&1024&&(x=t.length,x>s&&(x=s),x&&(t.head&&(he=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+x),he)),t.flags&512&&t.wrap&4&&(t.check=Sp(t.check,n,x,a)),s-=x,a+=x,t.length-=x),t.length))break e;t.length=0,t.mode=cH;case cH:if(t.flags&2048){if(s===0)break e;x=0;do he=n[a+x++],t.head&&he&&t.length<65536&&(t.head.name+=String.fromCharCode(he));while(he&&x<s);if(t.flags&512&&t.wrap&4&&(t.check=Sp(t.check,n,x,a)),s-=x,a+=x,he)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=uH;case uH:if(t.flags&4096){if(s===0)break e;x=0;do he=n[a+x++],t.head&&he&&t.length<65536&&(t.head.comment+=String.fromCharCode(he));while(he&&x<s);if(t.flags&512&&t.wrap&4&&(t.check=Sp(t.check,n,x,a)),s-=x,a+=x,he)break e}else t.head&&(t.head.comment=null);t.mode=hH;case hH:if(t.flags&512){for(;f<16;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(t.wrap&4&&A!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Go;break}A=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Dm;break;case AH:for(;f<32;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}r.adler=t.check=EH(A),A=0,f=0,t.mode=Uk;case Uk:if(t.havedict===0)return r.next_out=o,r.avail_out=c,r.next_in=a,r.avail_in=s,t.hold=A,t.bits=f,CAe;r.adler=t.check=1,t.mode=Dm;case Dm:if(e===wAe||e===uB)break e;case r4:if(t.last){A>>>=f&7,f-=f&7,t.mode=i4;break}for(;f<3;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}switch(t.last=A&1,A>>>=1,f-=1,A&3){case 0:t.mode=dH;break;case 1:if(PAe(t),t.mode=hB,e===uB){A>>>=2,f-=2;break e}break;case 2:t.mode=pH;break;case 3:r.msg="invalid block type",t.mode=Go}A>>>=2,f-=2;break;case dH:for(A>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if((A&65535)!==(A>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Go;break}if(t.length=A&65535,A=0,f=0,t.mode=n4,e===uB)break e;case n4:t.mode=fH;case fH:if(x=t.length,x){if(x>s&&(x=s),x>c&&(x=c),x===0)break e;i.set(n.subarray(a,a+x),o),s-=x,a+=x,c-=x,o+=x,t.length-=x;break}t.mode=Dm;break;case pH:for(;f<14;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(t.nlen=(A&31)+257,A>>>=5,f-=5,t.ndist=(A&31)+1,A>>>=5,f-=5,t.ncode=(A&15)+4,A>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Go;break}t.have=0,t.mode=mH;case mH:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}t.lens[ue[t.have++]]=A&7,A>>>=3,f-=3}for(;t.have<19;)t.lens[ue[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Ne={bits:t.lenbits},le=uE(bAe,t.lens,0,19,t.lencode,0,t.work,Ne),t.lenbits=Ne.bits,le){r.msg="invalid code lengths set",t.mode=Go;break}t.have=0,t.mode=gH;case gH:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[A&(1<<t.lenbits)-1],D=M>>>24,H=M>>>16&255,q=M&65535,!(D<=f);){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(q<16)A>>>=D,f-=D,t.lens[t.have++]=q;else{if(q===16){for(W=D+2;f<W;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(A>>>=D,f-=D,t.have===0){r.msg="invalid bit length repeat",t.mode=Go;break}he=t.lens[t.have-1],x=3+(A&3),A>>>=2,f-=2}else if(q===17){for(W=D+3;f<W;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}A>>>=D,f-=D,he=0,x=3+(A&7),A>>>=3,f-=3}else{for(W=D+7;f<W;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}A>>>=D,f-=D,he=0,x=11+(A&127),A>>>=7,f-=7}if(t.have+x>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Go;break}for(;x--;)t.lens[t.have++]=he}}if(t.mode===Go)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Go;break}if(t.lenbits=9,Ne={bits:t.lenbits},le=uE(FY,t.lens,0,t.nlen,t.lencode,0,t.work,Ne),t.lenbits=Ne.bits,le){r.msg="invalid literal/lengths set",t.mode=Go;break}if(t.distbits=6,t.distcode=t.distdyn,Ne={bits:t.distbits},le=uE(jY,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Ne),t.distbits=Ne.bits,le){r.msg="invalid distances set",t.mode=Go;break}if(t.mode=hB,e===uB)break e;case hB:t.mode=AB;case AB:if(s>=6&&c>=258){r.next_out=o,r.avail_out=c,r.next_in=a,r.avail_in=s,t.hold=A,t.bits=f,pAe(r,C),o=r.next_out,i=r.output,c=r.avail_out,a=r.next_in,n=r.input,s=r.avail_in,A=t.hold,f=t.bits,t.mode===Dm&&(t.back=-1);break}for(t.back=0;M=t.lencode[A&(1<<t.lenbits)-1],D=M>>>24,H=M>>>16&255,q=M&65535,!(D<=f);){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(H&&(H&240)===0){for($=D,ce=H,V=q;M=t.lencode[V+((A&(1<<$+ce)-1)>>$)],D=M>>>24,H=M>>>16&255,q=M&65535,!($+D<=f);){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}A>>>=$,f-=$,t.back+=$}if(A>>>=D,f-=D,t.back+=D,t.length=q,H===0){t.mode=wH;break}if(H&32){t.back=-1,t.mode=Dm;break}if(H&64){r.msg="invalid literal/length code",t.mode=Go;break}t.extra=H&15,t.mode=yH;case yH:if(t.extra){for(W=t.extra;f<W;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}t.length+=A&(1<<t.extra)-1,A>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=vH;case vH:for(;M=t.distcode[A&(1<<t.distbits)-1],D=M>>>24,H=M>>>16&255,q=M&65535,!(D<=f);){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if((H&240)===0){for($=D,ce=H,V=q;M=t.distcode[V+((A&(1<<$+ce)-1)>>$)],D=M>>>24,H=M>>>16&255,q=M&65535,!($+D<=f);){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}A>>>=$,f-=$,t.back+=$}if(A>>>=D,f-=D,t.back+=D,H&64){r.msg="invalid distance code",t.mode=Go;break}t.offset=q,t.extra=H&15,t.mode=_H;case _H:if(t.extra){for(W=t.extra;f<W;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}t.offset+=A&(1<<t.extra)-1,A>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Go;break}t.mode=bH;case bH:if(c===0)break e;if(x=C-c,t.offset>x){if(x=t.offset-x,x>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Go;break}x>t.wnext?(x-=t.wnext,k=t.wsize-x):k=t.wnext-x,x>t.length&&(x=t.length),N=t.window}else N=i,k=o-t.offset,x=t.length;x>c&&(x=c),c-=x,t.length-=x;do i[o++]=N[k++];while(--x);t.length===0&&(t.mode=AB);break;case wH:if(c===0)break e;i[o++]=t.length,c--,t.mode=AB;break;case i4:if(t.wrap){for(;f<32;){if(s===0)break e;s--,A|=n[a++]<<f,f+=8}if(C-=c,r.total_out+=C,t.total+=C,t.wrap&4&&C&&(r.adler=t.check=t.flags?Sp(t.check,i,C,o-C):g2(t.check,i,C,o-C)),C=c,t.wrap&4&&(t.flags?A:EH(A))!==t.check){r.msg="incorrect data check",t.mode=Go;break}A=0,f=0}t.mode=xH;case xH:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break e;s--,A+=n[a++]<<f,f+=8}if(t.wrap&4&&A!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Go;break}A=0,f=0}t.mode=CH;case CH:le=xAe;break e;case Go:le=QY;break e;case zY:return HY;case qY:default:return Zd}return r.next_out=o,r.avail_out=c,r.next_in=a,r.avail_in=s,t.hold=A,t.bits=f,(t.wsize||C!==r.avail_out&&t.mode<Go&&(t.mode<i4||e!==rH))&&YY(r,r.output,r.next_out,C-r.avail_out),y-=r.avail_in,C-=r.avail_out,r.total_in+=y,r.total_out+=C,t.total+=C,t.wrap&4&&C&&(r.adler=t.check=t.flags?Sp(t.check,i,C,r.next_out-C):g2(t.check,i,C,r.next_out-C)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Dm?128:0)+(t.mode===hB||t.mode===n4?256:0),(y===0&&C===0||e===rH)&&le===w_&&(le=EAe),le},MAe=r=>{if(U_(r))return Zd;let e=r.state;return e.window&&(e.window=null),r.state=null,w_},LAe=(r,e)=>{if(U_(r))return Zd;const t=r.state;return(t.wrap&2)===0?Zd:(t.head=e,e.done=!1,w_)},RAe=(r,e)=>{const t=e.length;let n,i,a;return U_(r)||(n=r.state,n.wrap!==0&&n.mode!==Uk)?Zd:n.mode===Uk&&(i=1,i=g2(i,e,t,0),i!==n.check)?QY:(a=YY(r,e,t,t),a?(n.mode=zY,HY):(n.havedict=1,w_))};var DAe=VY,UAe=GY,FAe=KY,jAe=NAe,QAe=$Y,HAe=OAe,zAe=MAe,qAe=LAe,KAe=RAe,VAe="pako inflate (from Nodeca project)",Gm={inflateReset:DAe,inflateReset2:UAe,inflateResetKeep:FAe,inflateInit:jAe,inflateInit2:QAe,inflate:HAe,inflateEnd:zAe,inflateGetHeader:qAe,inflateSetDictionary:KAe,inflateInfo:VAe};function GAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $Ae=GAe;const WY=Object.prototype.toString,{Z_NO_FLUSH:YAe,Z_FINISH:WAe,Z_OK:zE,Z_STREAM_END:s4,Z_NEED_DICT:l4,Z_STREAM_ERROR:ZAe,Z_DATA_ERROR:TH,Z_MEM_ERROR:XAe}=RY;function PS(r){this.options=DY.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dAe,this.strm.avail_out=0;let t=Gm.inflateInit2(this.strm,e.windowBits);if(t!==zE)throw new Error(y2[t]);if(this.header=new $Ae,Gm.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=v2.string2buf(e.dictionary):WY.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Gm.inflateSetDictionary(this.strm,e.dictionary),t!==zE)))throw new Error(y2[t])}PS.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?WAe:YAe,WY.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Gm.inflate(t,o),a===l4&&i&&(a=Gm.inflateSetDictionary(t,i),a===zE?a=Gm.inflate(t,o):a===TH&&(a=l4));t.avail_in>0&&a===s4&&t.state.wrap>0&&r[t.next_in]!==0;)Gm.inflateReset(t),a=Gm.inflate(t,o);switch(a){case ZAe:case TH:case l4:case XAe:return this.onEnd(a),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||a===s4))if(this.options.to==="string"){let c=v2.utf8border(t.output,t.next_out),A=t.next_out-c,f=v2.buf2string(t.output,c);t.next_out=A,t.avail_out=n-A,A&&t.output.set(t.output.subarray(c,c+A),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===zE&&s===0)){if(a===s4)return a=Gm.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};PS.prototype.onData=function(r){this.chunks.push(r)};PS.prototype.onEnd=function(r){r===zE&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DY.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function JAe(r,e){const t=new PS(e);if(t.push(r),t.err)throw t.msg||y2[t.err];return t.result}var ede=PS,tde=JAe,rde={Inflate:ede,inflate:tde};const{Inflate:nde,inflate:ide}=rde;var BH=nde,ade=ide;const ZY=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;ZY[r]=e}const IH=4294967295;function ode(r,e,t){let n=r;for(let i=0;i<t;i++)n=ZY[(n^e[i])&255]^n>>>8;return n}function sde(r,e){return(ode(IH,r,e)^IH)>>>0}function kH(r,e,t){const n=r.readUint32(),i=sde(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function XY(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function JY(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function eW(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function tW(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=r[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=r[a]+(e[a-i]+t[a]>>1)&255}}function rW(r,e,t,n,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=r[a]+t[a]&255;for(;a<n;a++)e[a]=r[a]+lde(e[a-i],t[a],t[a-i])&255}}function lde(r,e,t){const n=r+e-t,i=Math.abs(n-r),a=Math.abs(n-e),o=Math.abs(n-t);return i<=a&&i<=o?r:a<=o?e:t}function cde(r,e,t,n,i,a){switch(r){case 0:XY(e,t,i);break;case 1:JY(e,t,i,a);break;case 2:eW(e,t,n,i);break;case 3:tW(e,t,n,i,a);break;case 4:rW(e,t,n,i,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const ude=new Uint16Array([255]),hde=new Uint8Array(ude.buffer),Ade=hde[0]===255;function dde(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,c=new Uint8Array(n*t*s);let A=0;for(let f=0;f<7;f++){const y=o[f],C=Math.ceil((t-y.x)/y.xStep),x=Math.ceil((n-y.y)/y.yStep);if(C<=0||x<=0)continue;const k=C*s,N=new Uint8Array(k);for(let M=0;M<x;M++){const D=e[A++],H=e.subarray(A,A+k);A+=k;const q=new Uint8Array(k);cde(D,H,q,N,k,s),N.set(q);for(let $=0;$<C;$++){const ce=y.x+$*y.xStep,V=y.y+M*y.yStep;if(!(ce>=t||V>=n))for(let he=0;he<s;he++)c[(V*t+ce)*s+he]=q[$*s+he]}}}if(a===16){const f=new Uint16Array(c.buffer);if(Ade)for(let y=0;y<f.length;y++)f[y]=fde(f[y]);return f}else return c}function fde(r){return(r&255)<<8|r>>8&255}const pde=new Uint16Array([255]),mde=new Uint8Array(pde.buffer),gde=mde[0]===255,yde=new Uint8Array(0);function NH(r){const{data:e,width:t,height:n,channels:i,depth:a}=r,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*t),c=new Uint8Array(n*s);let A=yde,f=0,y,C;for(let x=0;x<n;x++){switch(y=e.subarray(f+1,f+1+s),C=c.subarray(x*s,(x+1)*s),e[f]){case 0:XY(y,C,s);break;case 1:JY(y,C,s,o);break;case 2:eW(y,C,A,s);break;case 3:tW(y,C,A,s,o);break;case 4:rW(y,C,A,s,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}A=C,f+=s+1}if(a===16){const x=new Uint16Array(c.buffer);if(gde)for(let k=0;k<x.length;k++)x[k]=vde(x[k]);return x}else return c}function vde(r){return(r&255)<<8|r>>8&255}const VI=Uint8Array.of(137,80,78,71,13,10,26,10);function PH(r){if(!_de(r.readBytes(VI.length)))throw new Error("wrong PNG signature")}function _de(r){if(r.length<VI.length)return!1;for(let e=0;e<VI.length;e++)if(r[e]!==VI[e])return!1;return!0}const bde="tEXt",wde=0,nW=new TextDecoder("latin1");function xde(r){if(Ede(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Cde=/^[\u0000-\u00FF]*$/;function Ede(r){if(!Cde.test(r))throw new Error("invalid latin1 text")}function Sde(r,e,t){const n=iW(e);r[n]=Tde(e,t-n.length-1)}function iW(r){for(r.mark();r.readByte()!==wde;);const e=r.offset;r.reset();const t=nW.decode(r.readBytes(e-r.offset-1));return r.skip(1),xde(t),t}function Tde(r,e){return nW.decode(r.readBytes(e))}const YA={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},c4={UNKNOWN:-1,DEFLATE:0},OH={UNKNOWN:-1,ADAPTIVE:0},u4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},dB={NONE:0,BACKGROUND:1,PREVIOUS:2},h4={SOURCE:0,OVER:1};class Bde extends j6{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new BH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=c4.UNKNOWN,this._filterMethod=OH.UNKNOWN,this._interlaceMethod=u4.UNKNOWN,this._colorType=YA.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(PH(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(PH(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case bde:Sde(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?kH(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?kH(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Ide(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case YA.GREYSCALE:n=1;break;case YA.TRUECOLOUR:n=3;break;case YA.INDEXED_COLOUR:n=1;break;case YA.GREYSCALE_ALPHA:n=2;break;case YA.TRUECOLOUR_ALPHA:n=4;break;case YA.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==c4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case YA.GREYSCALE:case YA.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case YA.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case YA.UNKNOWN:case YA.GREYSCALE_ALPHA:case YA.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=iW(this),n=this.readUint8();if(n!==c4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:ade(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=NH({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case dB.NONE:break;case dB.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*e.width+a)*this._png.channels;for(let s=0;s<this._png.channels;s++)n.data[o+s]=0}break;case dB.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(a,o)=>{const s=((a+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,c=(a*t.width+o)*this._png.channels;return{index:s,frameIndex:c}};switch(t.blendOp){case h4.SOURCE:for(let a=0;a<t.height;a++)for(let o=0;o<t.width;o++){const{index:s,frameIndex:c}=i(a,o);for(let A=0;A<this._png.channels;A++)e.data[s+A]=t.data[c+A]}break;case h4.OVER:for(let a=0;a<t.height;a++)for(let o=0;o<t.width;o++){const{index:s,frameIndex:c}=i(a,o);for(let A=0;A<this._png.channels;A++){const f=t.data[c+this._png.channels-1]/n,y=A%(this._png.channels-1)===0?1:t.data[c+A],C=Math.floor(f*y+(1-f)*e.data[s+A]);e.data[s+A]+=C}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==OH.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===u4.NO_INTERLACE)this._png.data=NH({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===u4.ADAM7)this._png.data=dde({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:dB.NONE,blendOp:h4.SOURCE,data:e}),this._inflator=new BH,this._writingDataChunks=!1}}function Ide(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var MH;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(MH||(MH={}));function kde(r,e){return new Bde(r,e).decode()}var ei=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function A4(){ei.console&&typeof ei.console.log=="function"&&ei.console.log.apply(ei.console,arguments)}var to={log:A4,warn:function(r){ei.console&&(typeof ei.console.warn=="function"?ei.console.warn.apply(ei.console,arguments):A4.call(null,arguments))},error:function(r){ei.console&&(typeof ei.console.error=="function"?ei.console.error.apply(ei.console,arguments):A4(r))}};function d4(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){x0(n.response,e,t)},n.onerror=function(){to.error("could not download file")},n.send()}function LH(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fB(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var x0=ei.saveAs||((typeof window>"u"?"undefined":Na(window))!=="object"||window!==ei?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=ei.URL||ei.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?LH(i.href)?d4(r,e,t):fB(i,i.target="_blank"):fB(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){fB(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(LH(r))d4(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){fB(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Na(a)!=="object"&&(to.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return d4(r,e,t);var i=r.type==="application/octet-stream",a=/constructor/i.test(ei.HTMLElement)||ei.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Na(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var f=s.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},s.readAsDataURL(r)}else{var c=ei.URL||ei.webkitURL,A=c.createObjectURL(r);n?n.location=A:location.href=A,n=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aW(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,a=t[n].process,o=i.exec(r);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+s+c+A}}var GI=ei.atob.bind(ei),RH=ei.btoa.bind(ei);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f4(r,e){var t=r[0],n=r[1],i=r[2],a=r[3];t=Ou(t,n,i,a,e[0],7,-680876936),a=Ou(a,t,n,i,e[1],12,-389564586),i=Ou(i,a,t,n,e[2],17,606105819),n=Ou(n,i,a,t,e[3],22,-1044525330),t=Ou(t,n,i,a,e[4],7,-176418897),a=Ou(a,t,n,i,e[5],12,1200080426),i=Ou(i,a,t,n,e[6],17,-1473231341),n=Ou(n,i,a,t,e[7],22,-45705983),t=Ou(t,n,i,a,e[8],7,1770035416),a=Ou(a,t,n,i,e[9],12,-1958414417),i=Ou(i,a,t,n,e[10],17,-42063),n=Ou(n,i,a,t,e[11],22,-1990404162),t=Ou(t,n,i,a,e[12],7,1804603682),a=Ou(a,t,n,i,e[13],12,-40341101),i=Ou(i,a,t,n,e[14],17,-1502002290),t=Mu(t,n=Ou(n,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Mu(a,t,n,i,e[6],9,-1069501632),i=Mu(i,a,t,n,e[11],14,643717713),n=Mu(n,i,a,t,e[0],20,-373897302),t=Mu(t,n,i,a,e[5],5,-701558691),a=Mu(a,t,n,i,e[10],9,38016083),i=Mu(i,a,t,n,e[15],14,-660478335),n=Mu(n,i,a,t,e[4],20,-405537848),t=Mu(t,n,i,a,e[9],5,568446438),a=Mu(a,t,n,i,e[14],9,-1019803690),i=Mu(i,a,t,n,e[3],14,-187363961),n=Mu(n,i,a,t,e[8],20,1163531501),t=Mu(t,n,i,a,e[13],5,-1444681467),a=Mu(a,t,n,i,e[2],9,-51403784),i=Mu(i,a,t,n,e[7],14,1735328473),t=Lu(t,n=Mu(n,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Lu(a,t,n,i,e[8],11,-2022574463),i=Lu(i,a,t,n,e[11],16,1839030562),n=Lu(n,i,a,t,e[14],23,-35309556),t=Lu(t,n,i,a,e[1],4,-1530992060),a=Lu(a,t,n,i,e[4],11,1272893353),i=Lu(i,a,t,n,e[7],16,-155497632),n=Lu(n,i,a,t,e[10],23,-1094730640),t=Lu(t,n,i,a,e[13],4,681279174),a=Lu(a,t,n,i,e[0],11,-358537222),i=Lu(i,a,t,n,e[3],16,-722521979),n=Lu(n,i,a,t,e[6],23,76029189),t=Lu(t,n,i,a,e[9],4,-640364487),a=Lu(a,t,n,i,e[12],11,-421815835),i=Lu(i,a,t,n,e[15],16,530742520),t=Ru(t,n=Lu(n,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ru(a,t,n,i,e[7],10,1126891415),i=Ru(i,a,t,n,e[14],15,-1416354905),n=Ru(n,i,a,t,e[5],21,-57434055),t=Ru(t,n,i,a,e[12],6,1700485571),a=Ru(a,t,n,i,e[3],10,-1894986606),i=Ru(i,a,t,n,e[10],15,-1051523),n=Ru(n,i,a,t,e[1],21,-2054922799),t=Ru(t,n,i,a,e[8],6,1873313359),a=Ru(a,t,n,i,e[15],10,-30611744),i=Ru(i,a,t,n,e[6],15,-1560198380),n=Ru(n,i,a,t,e[13],21,1309151649),t=Ru(t,n,i,a,e[4],6,-145523070),a=Ru(a,t,n,i,e[11],10,-1120210379),i=Ru(i,a,t,n,e[2],15,718787259),n=Ru(n,i,a,t,e[9],21,-343485551),r[0]=$y(t,r[0]),r[1]=$y(n,r[1]),r[2]=$y(i,r[2]),r[3]=$y(a,r[3])}function iO(r,e,t,n,i,a){return e=$y($y(e,r),$y(n,a)),$y(e<<i|e>>>32-i,t)}function Ou(r,e,t,n,i,a,o){return iO(e&t|~e&n,r,e,i,a,o)}function Mu(r,e,t,n,i,a,o){return iO(e&n|t&~n,r,e,i,a,o)}function Lu(r,e,t,n,i,a,o){return iO(e^t^n,r,e,i,a,o)}function Ru(r,e,t,n,i,a,o){return iO(t^(e|~n),r,e,i,a,o)}function oW(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)f4(n,Nde(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(f4(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,f4(n,i),n}function Nde(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var DH="0123456789abcdef".split("");function Pde(r){for(var e="",t=0;t<4;t++)e+=DH[r>>8*t+4&15]+DH[r>>8*t&15];return e}function Ode(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function _2(r){return oW(r).map(Ode).join("")}var Mde=(function(r){for(var e=0;e<r.length;e++)r[e]=Pde(r[e]);return r.join("")})(oW("hello"))!="5d41402abc4b2a76b9719d911017c592";function $y(r,e){if(Mde){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function b2(r,e){var t,n,i,a;if(r!==t){for(var o=(i=r,a=1+(256/r.length|0),new Array(a+1).join(i)),s=[],c=0;c<256;c++)s[c]=c;var A=0;for(c=0;c<256;c++){var f=s[c];A=(A+f+o.charCodeAt(c))%256,s[c]=s[A],s[A]=f}t=r,n=s}else s=n;var y=e.length,C=0,x=0,k="";for(c=0;c<y;c++)x=(x+(f=s[C=(C+1)%256]))%256,s[C]=s[x],s[x]=f,o=s[(s[C]+s[x])%256],k+=String.fromCharCode(e.charCodeAt(c)^o);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var UH={print:4,modify:8,copy:16,"annot-forms":32};function hb(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(s){if(UH.perm!==void 0)throw new Error("Invalid permission: "+s);i+=UH[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=_2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=b2(this.encryptionKey,this.padding)}function Ab(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function FH(r){if(Na(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!i],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var o=e[t][a];try{o[0].apply(r,n)}catch(s){ei.console&&to.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fk(r){if(!(this instanceof Fk))return new Fk(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function sW(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function P0(r,e,t,n,i){if(!(this instanceof P0))return new P0(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,sW.call(this,n,i)}function Bb(r,e,t,n,i){if(!(this instanceof Bb))return new Bb(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,sW.call(this,n,i)}function wn(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,c=16,A="S",f=null;Na(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),s=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),A=r.defaultPathOperation||"S"),o=r.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,C={},x={internal:{},__private__:{}};x.__private__.PubSub=FH;var k="1.3",N=x.__private__.getPdfVersion=function(){return k};x.__private__.setPdfVersion=function(Y){k=Y};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return M};var D=x.__private__.getPageFormat=function(Y){return M[Y]};i=i||"a4";var H="compat",q="advanced",$=H;function ce(){this.saveGraphicsState(),re(new tt(Jt,0,0,-Jt,0,is()*Jt).toString()+" cm"),this.setFontSize(this.getFontSize()/Jt),A="n",$=q}function V(){this.restoreGraphicsState(),A="S",$=H}var he=x.__private__.combineFontStyleAndFontWeight=function(Y,Be){if(Y=="bold"&&Be=="normal"||Y=="bold"&&Be==400||Y=="normal"&&Be=="italic"||Y=="bold"&&Be=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Be&&(Y=Be==400||Be==="normal"?Y==="italic"?"italic":"normal":Be!=700&&Be!=="bold"||Y!=="normal"?(Be==700?"bold":Be)+""+Y:"bold"),Y};x.advancedAPI=function(Y){var Be=$===H;return Be&&ce.call(this),typeof Y!="function"||(Y(this),Be&&V.call(this)),this},x.compatAPI=function(Y){var Be=$===q;return Be&&V.call(this),typeof Y!="function"||(Y(this),Be&&ce.call(this)),this},x.isAdvancedAPI=function(){return $===q};var le,fe=function(Y){if($!==q)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ne=x.roundToPrecision=x.__private__.roundToPrecision=function(Y,Be){var Xe=e||Be;if(isNaN(Y)||isNaN(Xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Xe).replace(/0+$/,"")};le=x.hpf=x.__private__.hpf=typeof c=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return Ne(Y,c)}:c==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return Ne(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return Ne(Y,16)};var W=x.f2=x.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return Ne(Y,2)},ue=x.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return Ne(Y,3)},de=x.scale=x.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return $===H?Y*Jt:$===q?Y:void 0},me=function(Y){return de((function(Be){return $===H?is()-Be:$===q?Be:void 0})(Y))};x.__private__.setPrecision=x.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(e=parseInt(Y,10))};var Qe,Ee="00000000000000000000000000000000",_e=x.__private__.getFileId=function(){return Ee},ke=x.__private__.setFileId=function(Y){return Ee=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():Ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(oi=new hb(f.userPermissions,f.userPassword,f.ownerPassword,Ee)),Ee};x.setFileId=function(Y){return ke(Y),this},x.getFileId=function(){return _e()};var We=x.__private__.convertDateToPDFDate=function(Y){var Be=Y.getTimezoneOffset(),Xe=Be<0?"+":"-",ct=Math.floor(Math.abs(Be/60)),wt=Math.abs(Be%60),Zt=[Xe,ve(ct),"'",ve(wt),"'"].join("");return["D:",Y.getFullYear(),ve(Y.getMonth()+1),ve(Y.getDate()),ve(Y.getHours()),ve(Y.getMinutes()),ve(Y.getSeconds()),Zt].join("")},Oe=x.__private__.convertPDFDateToDate=function(Y){var Be=parseInt(Y.substr(2,4),10),Xe=parseInt(Y.substr(6,2),10)-1,ct=parseInt(Y.substr(8,2),10),wt=parseInt(Y.substr(10,2),10),Zt=parseInt(Y.substr(12,2),10),nr=parseInt(Y.substr(14,2),10);return new Date(Be,Xe,ct,wt,Zt,nr,0)},ze=x.__private__.setCreationDate=function(Y){var Be;if(Y===void 0&&(Y=new Date),Y instanceof Date)Be=We(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Be=Y}return Qe=Be},ne=x.__private__.getCreationDate=function(Y){var Be=Qe;return Y==="jsDate"&&(Be=Oe(Qe)),Be};x.setCreationDate=function(Y){return ze(Y),this},x.getCreationDate=function(Y){return ne(Y)};var ae,ve=x.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},Re=x.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},qe=0,Ze=[],st=[],ot=0,yt=[],Pe=[],oe=!1,pe=st;x.__private__.setCustomOutputDestination=function(Y){oe=!0,pe=Y};var J=function(Y){oe||(pe=Y)};x.__private__.resetCustomOutputDestination=function(){oe=!1,pe=st};var re=x.__private__.out=function(Y){return Y=Y.toString(),ot+=Y.length+1,pe.push(Y),pe},Ue=x.__private__.write=function(Y){return re(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},be=x.__private__.getArrayBuffer=function(Y){for(var Be=Y.length,Xe=new ArrayBuffer(Be),ct=new Uint8Array(Xe);Be--;)ct[Be]=Y.charCodeAt(Be);return Xe},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return et};var Ke=r.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(Y){return Ke=$===q?Y/Jt:Y,this};var mt,_t=x.__private__.getFontSize=x.getFontSize=function(){return $===H?Ke:Ke*Jt},Kt=r.R2L||!1;x.__private__.setR2L=x.setR2L=function(Y){return Kt=Y,this},x.__private__.getR2L=x.getR2L=function(){return Kt};var Gt,tr=x.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))mt=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');mt=Y}else mt=parseInt(Y,10)};x.__private__.getZoomMode=function(){return mt};var ur,nt=x.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');Gt=Y};x.__private__.getPageMode=function(){return Gt};var rt=x.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');ur=Y};x.__private__.getLayoutMode=function(){return ur},x.__private__.setDisplayMode=x.setDisplayMode=function(Y,Be,Xe){return tr(Y),rt(Be),nt(Xe),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(Y){if(Object.keys(Ht).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[Y]},x.__private__.getDocumentProperties=function(){return Ht},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(Y){for(var Be in Ht)Ht.hasOwnProperty(Be)&&Y[Be]&&(Ht[Be]=Y[Be]);return this},x.__private__.setDocumentProperty=function(Y,Be){if(Object.keys(Ht).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[Y]=Be};var Tt,Jt,rr,St,Vt,Nt={},yr={},Gr=[],Xt={},on={},$r={},xn={},De=null,ye=0,we=[],Se=new FH(x),Je=r.hotfixes||[],ut={},xt={},dt=[],tt=function Y(Be,Xe,ct,wt,Zt,nr){if(!(this instanceof Y))return new Y(Be,Xe,ct,wt,Zt,nr);isNaN(Be)&&(Be=1),isNaN(Xe)&&(Xe=0),isNaN(ct)&&(ct=0),isNaN(wt)&&(wt=1),isNaN(Zt)&&(Zt=0),isNaN(nr)&&(nr=0),this._matrix=[Be,Xe,ct,wt,Zt,nr]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(le).join(Y)},tt.prototype.multiply=function(Y){var Be=Y.sx*this.sx+Y.shy*this.shx,Xe=Y.sx*this.shy+Y.shy*this.sy,ct=Y.shx*this.sx+Y.sy*this.shx,wt=Y.shx*this.shy+Y.sy*this.sy,Zt=Y.tx*this.sx+Y.ty*this.shx+this.tx,nr=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new tt(Be,Xe,ct,wt,Zt,nr)},tt.prototype.decompose=function(){var Y=this.sx,Be=this.shy,Xe=this.shx,ct=this.sy,wt=this.tx,Zt=this.ty,nr=Math.sqrt(Y*Y+Be*Be),Vr=(Y/=nr)*Xe+(Be/=nr)*ct;Xe-=Y*Vr,ct-=Be*Vr;var nn=Math.sqrt(Xe*Xe+ct*ct);return Vr/=nn,Y*(ct/=nn)<Be*(Xe/=nn)&&(Y=-Y,Be=-Be,Vr=-Vr,nr=-nr),{scale:new tt(nr,0,0,nn,0,0),translate:new tt(1,0,0,1,wt,Zt),rotate:new tt(Y,Be,-Be,Y,0,0),skew:new tt(1,0,Vr,1,0,0)}},tt.prototype.toString=function(Y){return this.join(" ")},tt.prototype.inversed=function(){var Y=this.sx,Be=this.shy,Xe=this.shx,ct=this.sy,wt=this.tx,Zt=this.ty,nr=1/(Y*ct-Be*Xe),Vr=ct*nr,nn=-Be*nr,Bn=-Xe*nr,Ur=Y*nr;return new tt(Vr,nn,Bn,Ur,-Vr*wt-Bn*Zt,-nn*wt-Ur*Zt)},tt.prototype.applyToPoint=function(Y){var Be=Y.x*this.sx+Y.y*this.shx+this.tx,Xe=Y.x*this.shy+Y.y*this.sy+this.ty;return new th(Be,Xe)},tt.prototype.applyToRectangle=function(Y){var Be=this.applyToPoint(Y),Xe=this.applyToPoint(new th(Y.x+Y.w,Y.y+Y.h));return new kc(Be.x,Be.y,Xe.x-Be.x,Xe.y-Be.y)},tt.prototype.clone=function(){var Y=this.sx,Be=this.shy,Xe=this.shx,ct=this.sy,wt=this.tx,Zt=this.ty;return new tt(Y,Be,Xe,ct,wt,Zt)},x.Matrix=tt;var At=x.matrixMult=function(Y,Be){return Be.multiply(Y)},zt=new tt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=zt;var qt=function(Y,Be){if(!on[Y]){var Xe=(Be instanceof P0?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);Be.id=Xe,on[Y]=Xe,Xt[Xe]=Be,Se.publish("addPattern",Be)}};x.ShadingPattern=P0,x.TilingPattern=Bb,x.addShadingPattern=function(Y,Be){return fe("addShadingPattern()"),qt(Y,Be),this},x.beginTilingPattern=function(Y){fe("beginTilingPattern()"),cu(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},x.endTilingPattern=function(Y,Be){fe("endTilingPattern()"),Be.stream=Pe[ae].join(`
`),qt(Y,Be),Se.publish("endTilingPattern",Be),dt.pop().restore()};var or,Sr=x.__private__.newObject=function(){var Y=Ir();return Rr(Y,!0),Y},Ir=x.__private__.newObjectDeferred=function(){return qe++,Ze[qe]=function(){return ot},qe},Rr=function(Y,Be){return Be=typeof Be=="boolean"&&Be,Ze[Y]=ot,Be&&re(Y+" 0 obj"),Y},Ln=x.__private__.newAdditionalObject=function(){var Y={objId:Ir(),content:""};return yt.push(Y),Y},kn=Ir(),An=Ir(),dn=x.__private__.decodeColorString=function(Y){var Be=Y.split(" ");if(Be.length!==2||Be[1]!=="g"&&Be[1]!=="G")Be.length!==5||Be[4]!=="k"&&Be[4]!=="K"||(Be=[(1-Be[0])*(1-Be[3]),(1-Be[1])*(1-Be[3]),(1-Be[2])*(1-Be[3]),"r"]);else{var Xe=parseFloat(Be[0]);Be=[Xe,Xe,Xe,"r"]}for(var ct="#",wt=0;wt<3;wt++)ct+=("0"+Math.floor(255*parseFloat(Be[wt])).toString(16)).slice(-2);return ct},Dr=x.__private__.encodeColorString=function(Y){var Be;typeof Y=="string"&&(Y={ch1:Y});var Xe=Y.ch1,ct=Y.ch2,wt=Y.ch3,Zt=Y.ch4,nr=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Xe=="string"&&Xe.charAt(0)!=="#"){var Vr=new aW(Xe);if(Vr.ok)Xe=Vr.toHex();else if(!/^\d*\.?\d*$/.test(Xe))throw new Error('Invalid color "'+Xe+'" passed to jsPDF.encodeColorString.')}if(typeof Xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Xe)&&(Xe="#"+Xe[1]+Xe[1]+Xe[2]+Xe[2]+Xe[3]+Xe[3]),typeof Xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Xe)){var nn=parseInt(Xe.substr(1),16);Xe=nn>>16&255,ct=nn>>8&255,wt=255&nn}if(ct===void 0||Zt===void 0&&Xe===ct&&ct===wt)Be=typeof Xe=="string"?Xe+" "+nr[0]:Y.precision===2?W(Xe/255)+" "+nr[0]:ue(Xe/255)+" "+nr[0];else if(Zt===void 0||Na(Zt)==="object"){if(Zt&&!isNaN(Zt.a)&&Zt.a===0)return["1.","1.","1.",nr[1]].join(" ");Be=typeof Xe=="string"?[Xe,ct,wt,nr[1]].join(" "):Y.precision===2?[W(Xe/255),W(ct/255),W(wt/255),nr[1]].join(" "):[ue(Xe/255),ue(ct/255),ue(wt/255),nr[1]].join(" ")}else Be=typeof Xe=="string"?[Xe,ct,wt,Zt,nr[2]].join(" "):Y.precision===2?[W(Xe),W(ct),W(wt),W(Zt),nr[2]].join(" "):[ue(Xe),ue(ct),ue(wt),ue(Zt),nr[2]].join(" ");return Be},Qr=x.__private__.getFilters=function(){return o},gn=x.__private__.putStream=function(Y){var Be=(Y=Y||{}).data||"",Xe=Y.filters||Qr(),ct=Y.alreadyAppliedFilters||[],wt=Y.addLength1||!1,Zt=Be.length,nr=Y.objectId,Vr=function(so){return so};if(f!==null&&nr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Vr=oi.encryptor(nr,0));var nn={};Xe===!0&&(Xe=["FlateEncode"]);var Bn=Y.additionalKeyValues||[],Ur=(nn=wn.API.processDataByFilters!==void 0?wn.API.processDataByFilters(Be,Xe):{data:Be,reverseChain:[]}).reverseChain+(Array.isArray(ct)?ct.join(" "):ct.toString());if(nn.data.length!==0&&(Bn.push({key:"Length",value:nn.data.length}),wt===!0&&Bn.push({key:"Length1",value:Zt})),Ur.length!=0)if(Ur.split("/").length-1==1)Bn.push({key:"Filter",value:Ur});else{Bn.push({key:"Filter",value:"["+Ur+"]"});for(var vi=0;vi<Bn.length;vi+=1)if(Bn[vi].key==="DecodeParms"){for(var Sa=[],$a=0;$a<nn.reverseChain.split("/").length-1;$a+=1)Sa.push("null");Sa.push(Bn[vi].value),Bn[vi].value="["+Sa.join(" ")+"]"}}re("<<");for(var Li=0;Li<Bn.length;Li++)re("/"+Bn[Li].key+" "+Bn[Li].value);re(">>"),nn.data.length!==0&&(re("stream"),re(Vr(nn.data)),re("endstream"))},Rn=x.__private__.putPage=function(Y){var Be=Y.number,Xe=Y.data,ct=Y.objId,wt=Y.contentsObjId;Rr(ct,!0),re("<</Type /Page"),re("/Parent "+Y.rootDictionaryObjId+" 0 R"),re("/Resources "+Y.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(le(Y.mediaBox.bottomLeftX))+" "+parseFloat(le(Y.mediaBox.bottomLeftY))+" "+le(Y.mediaBox.topRightX)+" "+le(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&re("/CropBox ["+le(Y.cropBox.bottomLeftX)+" "+le(Y.cropBox.bottomLeftY)+" "+le(Y.cropBox.topRightX)+" "+le(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&re("/BleedBox ["+le(Y.bleedBox.bottomLeftX)+" "+le(Y.bleedBox.bottomLeftY)+" "+le(Y.bleedBox.topRightX)+" "+le(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&re("/TrimBox ["+le(Y.trimBox.bottomLeftX)+" "+le(Y.trimBox.bottomLeftY)+" "+le(Y.trimBox.topRightX)+" "+le(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&re("/ArtBox ["+le(Y.artBox.bottomLeftX)+" "+le(Y.artBox.bottomLeftY)+" "+le(Y.artBox.topRightX)+" "+le(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&re("/UserUnit "+Y.userUnit),Se.publish("putPage",{objId:ct,pageContext:we[Be],pageNumber:Be,page:Xe}),re("/Contents "+wt+" 0 R"),re(">>"),re("endobj");var Zt=Xe.join(`
`);return $===q&&(Zt+=`
Q`),Rr(wt,!0),gn({data:Zt,filters:Qr(),objectId:wt}),re("endobj"),ct},$i=x.__private__.putPages=function(){var Y,Be,Xe=[];for(Y=1;Y<=ye;Y++)we[Y].objId=Ir(),we[Y].contentsObjId=Ir();for(Y=1;Y<=ye;Y++)Xe.push(Rn({number:Y,data:Pe[Y],objId:we[Y].objId,contentsObjId:we[Y].contentsObjId,mediaBox:we[Y].mediaBox,cropBox:we[Y].cropBox,bleedBox:we[Y].bleedBox,trimBox:we[Y].trimBox,artBox:we[Y].artBox,userUnit:we[Y].userUnit,rootDictionaryObjId:kn,resourceDictionaryObjId:An}));Rr(kn,!0),re("<</Type /Pages");var ct="/Kids [";for(Be=0;Be<ye;Be++)ct+=Xe[Be]+" 0 R ";re(ct+"]"),re("/Count "+ye),re(">>"),re("endobj"),Se.publish("postPutPages")},Va=function(Y){Se.publish("putFont",{font:Y,out:re,newObject:Sr,putStream:gn}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=Sr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Ab(Y.postScriptName)),re("/Subtype /Type1"),typeof Y.encoding=="string"&&re("/Encoding /"+Y.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Yi=function(Y){Y.objectNumber=Sr();var Be=[];Be.push({key:"Type",value:"/XObject"}),Be.push({key:"Subtype",value:"/Form"}),Be.push({key:"BBox",value:"["+[le(Y.x),le(Y.y),le(Y.x+Y.width),le(Y.y+Y.height)].join(" ")+"]"}),Be.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Xe=Y.pages[1].join(`
`);gn({data:Xe,additionalKeyValues:Be,objectId:Y.objectNumber}),re("endobj")},ba=function(Y,Be){Be||(Be=21);var Xe=Sr(),ct=(function(nr,Vr){var nn,Bn=[],Ur=1/(Vr-1);for(nn=0;nn<1;nn+=Ur)Bn.push(nn);if(Bn.push(1),nr[0].offset!=0){var vi={offset:0,color:nr[0].color};nr.unshift(vi)}if(nr[nr.length-1].offset!=1){var Sa={offset:1,color:nr[nr.length-1].color};nr.push(Sa)}for(var $a="",Li=0,so=0;so<Bn.length;so++){for(nn=Bn[so];nn>nr[Li+1].offset;)Li++;var lo=nr[Li].offset,co=(nn-lo)/(nr[Li+1].offset-lo),nh=nr[Li].color,uu=nr[Li+1].color;$a+=Re(Math.round((1-co)*nh[0]+co*uu[0]).toString(16))+Re(Math.round((1-co)*nh[1]+co*uu[1]).toString(16))+Re(Math.round((1-co)*nh[2]+co*uu[2]).toString(16))}return $a.trim()})(Y.colors,Be),wt=[];wt.push({key:"FunctionType",value:"0"}),wt.push({key:"Domain",value:"[0.0 1.0]"}),wt.push({key:"Size",value:"["+Be+"]"}),wt.push({key:"BitsPerSample",value:"8"}),wt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gn({data:ct,additionalKeyValues:wt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Xe}),re("endobj"),Y.objectNumber=Sr(),re("<< /ShadingType "+Y.type),re("/ColorSpace /DeviceRGB");var Zt="/Coords ["+le(parseFloat(Y.coords[0]))+" "+le(parseFloat(Y.coords[1]))+" ";Y.type===2?Zt+=le(parseFloat(Y.coords[2]))+" "+le(parseFloat(Y.coords[3])):Zt+=le(parseFloat(Y.coords[2]))+" "+le(parseFloat(Y.coords[3]))+" "+le(parseFloat(Y.coords[4]))+" "+le(parseFloat(Y.coords[5])),re(Zt+="]"),Y.matrix&&re("/Matrix ["+Y.matrix.toString()+"]"),re("/Function "+Xe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Wu=function(Y,Be){var Xe=Ir(),ct=Sr();Be.push({resourcesOid:Xe,objectOid:ct}),Y.objectNumber=ct;var wt=[];wt.push({key:"Type",value:"/Pattern"}),wt.push({key:"PatternType",value:"1"}),wt.push({key:"PaintType",value:"1"}),wt.push({key:"TilingType",value:"1"}),wt.push({key:"BBox",value:"["+Y.boundingBox.map(le).join(" ")+"]"}),wt.push({key:"XStep",value:le(Y.xStep)}),wt.push({key:"YStep",value:le(Y.yStep)}),wt.push({key:"Resources",value:Xe+" 0 R"}),Y.matrix&&wt.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),gn({data:Y.stream,additionalKeyValues:wt,objectId:Y.objectNumber}),re("endobj")},Zu=function(Y){for(var Be in Y.objectNumber=Sr(),re("<<"),Y)switch(Be){case"opacity":re("/ca "+W(Y[Be]));break;case"stroke-opacity":re("/CA "+W(Y[Be]))}re(">>"),re("endobj")},wA=function(Y){Rr(Y.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Be in re("/Font <<"),Nt)Nt.hasOwnProperty(Be)&&(y===!1||y===!0&&C.hasOwnProperty(Be))&&re("/"+Be+" "+Nt[Be].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Xt).length>0){for(var Be in re("/Shading <<"),Xt)Xt.hasOwnProperty(Be)&&Xt[Be]instanceof P0&&Xt[Be].objectNumber>=0&&re("/"+Be+" "+Xt[Be].objectNumber+" 0 R");Se.publish("putShadingPatternDict"),re(">>")}})(),(function(Be){if(Object.keys(Xt).length>0){for(var Xe in re("/Pattern <<"),Xt)Xt.hasOwnProperty(Xe)&&Xt[Xe]instanceof x.TilingPattern&&Xt[Xe].objectNumber>=0&&Xt[Xe].objectNumber<Be&&re("/"+Xe+" "+Xt[Xe].objectNumber+" 0 R");Se.publish("putTilingPatternDict"),re(">>")}})(Y.objectOid),(function(){if(Object.keys($r).length>0){var Be;for(Be in re("/ExtGState <<"),$r)$r.hasOwnProperty(Be)&&$r[Be].objectNumber>=0&&re("/"+Be+" "+$r[Be].objectNumber+" 0 R");Se.publish("putGStateDict"),re(">>")}})(),(function(){for(var Be in re("/XObject <<"),ut)ut.hasOwnProperty(Be)&&ut[Be].objectNumber>=0&&re("/"+Be+" "+ut[Be].objectNumber+" 0 R");Se.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},ip=function(Y){yr[Y.fontName]=yr[Y.fontName]||{},yr[Y.fontName][Y.fontStyle]=Y.id},mi=function(Y,Be,Xe,ct,wt){var Zt={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:Y,fontName:Be,fontStyle:Xe,encoding:ct,isStandardFont:wt||!1,metadata:{}};return Se.publish("addFont",{font:Zt,instance:this}),Nt[Zt.id]=Zt,ip(Zt),Zt.id},Ga=x.__private__.pdfEscape=x.pdfEscape=function(Y,Be){return(function(Xe,ct){var wt,Zt,nr,Vr,nn,Bn,Ur,vi,Sa;if(nr=(ct=ct||{}).sourceEncoding||"Unicode",nn=ct.outputEncoding,(ct.autoencode||nn)&&Nt[Tt].metadata&&Nt[Tt].metadata[nr]&&Nt[Tt].metadata[nr].encoding&&(Vr=Nt[Tt].metadata[nr].encoding,!nn&&Nt[Tt].encoding&&(nn=Nt[Tt].encoding),!nn&&Vr.codePages&&(nn=Vr.codePages[0]),typeof nn=="string"&&(nn=Vr[nn]),nn)){for(Ur=!1,Bn=[],wt=0,Zt=Xe.length;wt<Zt;wt++)(vi=nn[Xe.charCodeAt(wt)])?Bn.push(String.fromCharCode(vi)):Bn.push(Xe[wt]),Bn[wt].charCodeAt(0)>>8&&(Ur=!0);Xe=Bn.join("")}for(wt=Xe.length;Ur===void 0&&wt!==0;)Xe.charCodeAt(wt-1)>>8&&(Ur=!0),wt--;if(!Ur)return Xe;for(Bn=ct.noBOM?[]:[254,255],wt=0,Zt=Xe.length;wt<Zt;wt++){if((Sa=(vi=Xe.charCodeAt(wt))>>8)>>8)throw new Error("Character at position "+wt+" of string '"+Xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bn.push(Sa),Bn.push(vi-(Sa<<8))}return String.fromCharCode.apply(void 0,Bn)})(Y,Be).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Es=x.__private__.beginPage=function(Y){Pe[++ye]=[],we[ye]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Xu(ye),J(Pe[ae])},Uo=function(Y,Be){var Xe,ct,wt;switch(t=Be||t,typeof Y=="string"&&(Xe=D(Y.toLowerCase()),Array.isArray(Xe)&&(ct=Xe[0],wt=Xe[1])),Array.isArray(Y)&&(ct=Y[0]*Jt,wt=Y[1]*Jt),isNaN(ct)&&(ct=i[0],wt=i[1]),(ct>14400||wt>14400)&&(to.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ct=Math.min(14400,ct),wt=Math.min(14400,wt)),i=[ct,wt],t.substr(0,1)){case"l":wt>ct&&(i=[wt,ct]);break;case"p":ct>wt&&(i=[wt,ct])}Es(i),Bc(Tc),re($l),rl!==0&&re(rl+" J"),oo!==0&&re(oo+" j"),Se.publish("addPage",{pageNumber:ye})},Pa=function(Y){Y>0&&Y<=ye&&(Pe.splice(Y,1),we.splice(Y,1),ye--,ae>ye&&(ae=ye),this.setPage(ae))},Xu=function(Y){Y>0&&Y<=ye&&(ae=Y)},rs=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Pe.length-1},ns=function(Y,Be,Xe){var ct,wt=void 0;return Xe=Xe||{},Y=Y!==void 0?Y:Nt[Tt].fontName,Be=Be!==void 0?Be:Nt[Tt].fontStyle,ct=Y.toLowerCase(),yr[ct]!==void 0&&yr[ct][Be]!==void 0?wt=yr[ct][Be]:yr[Y]!==void 0&&yr[Y][Be]!==void 0?wt=yr[Y][Be]:Xe.disableWarning===!1&&to.warn("Unable to look up font label for font '"+Y+"', '"+Be+"'. Refer to getFontList() for available fonts."),wt||Xe.noFallback||(wt=yr.times[Be])==null&&(wt=yr.times.normal),wt},Lh=x.__private__.putInfo=function(){var Y=Sr(),Be=function(ct){return ct};for(var Xe in f!==null&&(Be=oi.encryptor(Y,0)),re("<<"),re("/Producer ("+Ga(Be("jsPDF "+wn.version))+")"),Ht)Ht.hasOwnProperty(Xe)&&Ht[Xe]&&re("/"+Xe.substr(0,1).toUpperCase()+Xe.substr(1)+" ("+Ga(Be(Ht[Xe]))+")");re("/CreationDate ("+Ga(Be(Qe))+")"),re(">>"),re("endobj")},lu=x.__private__.putCatalog=function(Y){var Be=(Y=Y||{}).rootDictionaryObjId||kn;switch(Sr(),re("<<"),re("/Type /Catalog"),re("/Pages "+Be+" 0 R"),mt||(mt="fullwidth"),mt){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Xe=""+mt;Xe.substr(Xe.length-1)==="%"&&(mt=parseInt(mt)/100),typeof mt=="number"&&re("/OpenAction [3 0 R /XYZ null null "+W(mt)+"]")}switch(ur||(ur="continuous"),ur){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Gt&&re("/PageMode /"+Gt),Se.publish("putCatalog"),re(">>"),re("endobj")},Tn=x.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(qe+1)),re("/Root "+qe+" 0 R"),re("/Info "+(qe-1)+" 0 R"),f!==null&&re("/Encrypt "+oi.oid+" 0 R"),re("/ID [ <"+Ee+"> <"+Ee+"> ]"),re(">>")},Cc=x.__private__.putHeader=function(){re("%PDF-"+k),re("%")},Vl=x.__private__.putXRef=function(){var Y="0000000000";re("xref"),re("0 "+(qe+1)),re("0000000000 65535 f ");for(var Be=1;Be<=qe;Be++)typeof Ze[Be]=="function"?re((Y+Ze[Be]()).slice(-10)+" 00000 n "):Ze[Be]!==void 0?re((Y+Ze[Be]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Dn=x.__private__.buildDocument=function(){var Y;qe=0,ot=0,st=[],Ze=[],yt=[],kn=Ir(),An=Ir(),J(st),Se.publish("buildDocument"),Cc(),$i(),(function(){Se.publish("putAdditionalObjects");for(var Xe=0;Xe<yt.length;Xe++){var ct=yt[Xe];Rr(ct.objId,!0),re(ct.content),re("endobj")}Se.publish("postPutAdditionalObjects")})(),Y=[],(function(){for(var Xe in Nt)Nt.hasOwnProperty(Xe)&&(y===!1||y===!0&&C.hasOwnProperty(Xe))&&Va(Nt[Xe])})(),(function(){var Xe;for(Xe in $r)$r.hasOwnProperty(Xe)&&Zu($r[Xe])})(),(function(){for(var Xe in ut)ut.hasOwnProperty(Xe)&&Yi(ut[Xe])})(),(function(Xe){var ct;for(ct in Xt)Xt.hasOwnProperty(ct)&&(Xt[ct]instanceof P0?ba(Xt[ct]):Xt[ct]instanceof Bb&&Wu(Xt[ct],Xe))})(Y),Se.publish("putResources"),Y.forEach(wA),wA({resourcesOid:An,objectOid:Number.MAX_SAFE_INTEGER}),Se.publish("postPutResources"),f!==null&&(oi.oid=Sr(),re("<<"),re("/Filter /Standard"),re("/V "+oi.v),re("/R "+oi.r),re("/U <"+oi.toHexString(oi.U)+">"),re("/O <"+oi.toHexString(oi.O)+">"),re("/P "+oi.P),re(">>"),re("endobj")),Lh(),lu();var Be=ot;return Vl(),Tn(),re("startxref"),re(""+Be),re("%%EOF"),J(Pe[ae]),st.join(`
`)},Ss=x.__private__.getBlob=function(Y){return new Blob([be(Y)],{type:"application/pdf"})},_n=x.output=x.__private__.output=(or=function(Y,Be){switch(typeof(Be=Be||{})=="string"?Be={filename:Be}:Be.filename=Be.filename||"generated.pdf",Y){case void 0:return Dn();case"save":x.save(Be.filename);break;case"arraybuffer":return be(Dn());case"blob":return Ss(Dn());case"bloburi":case"bloburl":if(ei.URL!==void 0&&typeof ei.URL.createObjectURL=="function")return ei.URL&&ei.URL.createObjectURL(Ss(Dn()))||void 0;to.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Xe="",ct=Dn();try{Xe=RH(ct)}catch{Xe=RH(unescape(encodeURIComponent(ct)))}return"data:application/pdf;filename="+Be.filename+";base64,"+Xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ei)==="[object Window]"){var wt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Zt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Be.pdfObjectUrl&&(wt=Be.pdfObjectUrl,Zt="");var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+wt+'"'+Zt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Be)+");<\/script></body></html>",Vr=ei.open();return Vr!==null&&Vr.document.write(nr),Vr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ei)==="[object Window]"){var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Be.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Be.filename+'" width="500px" height="400px" /></body></html>',Bn=ei.open();if(Bn!==null){Bn.document.write(nn);var Ur=this;Bn.document.documentElement.querySelector("#pdfViewer").onload=function(){Bn.document.title=Be.filename,Bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ur.output("bloburl"))}}return Bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ei)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Be)+'"></iframe></body></html>',Sa=ei.open();if(Sa!==null&&(Sa.document.write(vi),Sa.document.title=Be.filename),Sa||typeof safari>"u")return Sa;break;case"datauri":case"dataurl":return ei.document.location.href=this.output("datauristring",Be);default:return null}},or.foo=function(){try{return or.apply(this,arguments)}catch(Xe){var Y=Xe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var Be="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Xe.message;if(!ei.console)throw new Error(Be);ei.console.error(Be,Xe),ei.alert&&alert(Be)}},or.foo.bar=or,or.foo),Rh=function(Y){return Array.isArray(Je)===!0&&Je.indexOf(Y)>-1};switch(n){case"pt":Jt=1;break;case"mm":Jt=72/25.4;break;case"cm":Jt=72/2.54;break;case"in":Jt=72;break;case"px":Jt=Rh("px_scaling")==1?.75:96/72;break;case"pc":case"em":Jt=12;break;case"ex":Jt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Jt=n}var oi=null;ze(),ke();var Ju=x.__private__.getPageInfo=x.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:we[Y].objId,pageNumber:Y,pageContext:we[Y]}},lf=x.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Be in we)if(we[Be].objId===Y)break;return Ju(Be)},eh=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:we[ae].objId,pageNumber:ae,pageContext:we[ae]}};x.addPage=function(){return Uo.apply(this,arguments),this},x.setPage=function(){return Xu.apply(this,arguments),J.call(this,Pe[ae]),this},x.insertPage=function(Y){return this.addPage(),this.movePage(ae,Y),this},x.movePage=function(Y,Be){var Xe,ct;if(Y>Be){Xe=Pe[Y],ct=we[Y];for(var wt=Y;wt>Be;wt--)Pe[wt]=Pe[wt-1],we[wt]=we[wt-1];Pe[Be]=Xe,we[Be]=ct,this.setPage(Be)}else if(Y<Be){Xe=Pe[Y],ct=we[Y];for(var Zt=Y;Zt<Be;Zt++)Pe[Zt]=Pe[Zt+1],we[Zt]=we[Zt+1];Pe[Be]=Xe,we[Be]=ct,this.setPage(Be)}return this},x.deletePage=function(){return Pa.apply(this,arguments),this},x.__private__.text=x.text=function(Y,Be,Xe,ct,wt){var Zt,nr,Vr,nn,Bn,Ur,vi,Sa,$a,Li=(ct=ct||{}).scope||this;if(typeof Y=="number"&&typeof Be=="number"&&(typeof Xe=="string"||Array.isArray(Xe))){var so=Xe;Xe=Be,Be=Y,Y=so}if(arguments[3]instanceof tt==0?(Vr=arguments[4],nn=arguments[5],Na(vi=arguments[3])==="object"&&vi!==null||(typeof Vr=="string"&&(nn=Vr,Vr=null),typeof vi=="string"&&(nn=vi,vi=null),typeof vi=="number"&&(Vr=vi,vi=null),ct={flags:vi,angle:Vr,align:nn})):(fe("The transform parameter of text() with a Matrix value"),$a=wt),isNaN(Be)||isNaN(Xe)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return Li;var lo,co="",nh=typeof ct.lineHeightFactor=="number"?ct.lineHeightFactor:Ts,uu=Li.internal.scaleFactor;function gd(Qn){return Qn=Qn.split("	").join(Array(ct.TabLen||9).join(" ")),Ga(Qn,vi)}function CA(Qn){for(var li,aa=Qn.concat(),Ni=[],ol=aa.length;ol--;)typeof(li=aa.shift())=="string"?Ni.push(li):Array.isArray(Qn)&&(li.length===1||li[1]===void 0&&li[2]===void 0)?Ni.push(li[0]):Ni.push([li[0],li[1],li[2]]);return Ni}function Vi(Qn,li){var aa;if(typeof Qn=="string")aa=li(Qn)[0];else if(Array.isArray(Qn)){for(var Ni,ol,tc=Qn.concat(),Is=[],qh=tc.length;qh--;)typeof(Ni=tc.shift())=="string"?Is.push(li(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(ol=li(Ni[0],Ni[1],Ni[2]),Is.push([ol[0],ol[1],ol[2]]));aa=Is}return aa}var nl=!1,Zn=!0;if(typeof Y=="string")nl=!0;else if(Array.isArray(Y)){var Ri=Y.concat();nr=[];for(var si,Ya=Ri.length;Ya--;)(typeof(si=Ri.shift())!="string"||Array.isArray(si)&&typeof si[0]!="string")&&(Zn=!1);nl=Zn}if(nl===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var Mc=Ke/Li.internal.scaleFactor,Wl=Mc*(nh-1);switch(ct.baseline){case"bottom":Xe-=Wl;break;case"top":Xe+=Mc-Wl;break;case"hanging":Xe+=Mc-2*Wl;break;case"middle":Xe+=Mc/2-Wl}if((Ur=ct.maxWidth||0)>0&&(typeof Y=="string"?Y=Li.splitTextToSize(Y,Ur):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(Qn,li){return Qn.concat(Li.splitTextToSize(li,Ur))},[]))),Zt={text:Y,x:Be,y:Xe,options:ct,mutex:{pdfEscape:Ga,activeFontKey:Tt,fonts:Nt,activeFontSize:Ke}},Se.publish("preProcessText",Zt),Y=Zt.text,Vr=(ct=Zt.options).angle,$a instanceof tt==0&&Vr&&typeof Vr=="number"){Vr*=Math.PI/180,ct.rotationDirection===0&&(Vr=-Vr),$===q&&(Vr=-Vr);var EA=Math.cos(Vr),ih=Math.sin(Vr);$a=new tt(EA,ih,-ih,EA,0,0)}else Vr&&Vr instanceof tt&&($a=Vr);$!==q||$a||($a=zt),(Bn=ct.charSpace||xA)!==void 0&&(co+=le(de(Bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sa=ct.horizontalScale)!==void 0&&(co+=le(100*Sa)+` Tz
`),ct.lang;var as=-1,Zl=ct.renderingMode!==void 0?ct.renderingMode:ct.stroke,zh=Li.internal.getCurrentPageInfo().pageContext;switch(Zl){case 0:case!1:case"fill":as=0;break;case 1:case!0:case"stroke":as=1;break;case 2:case"fillThenStroke":as=2;break;case 3:case"invisible":as=3;break;case 4:case"fillAndAddForClipping":as=4;break;case 5:case"strokeAndAddPathForClipping":as=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":as=6;break;case 7:case"addToPathForClipping":as=7}var Af=zh.usedRenderingMode!==void 0?zh.usedRenderingMode:-1;as!==-1?co+=as+` Tr
`:Af!==-1&&(co+=`0 Tr
`),as!==-1&&(zh.usedRenderingMode=as),nn=ct.align||"left";var Wa,ms=Ke*nh,SA=Li.internal.pageSize.getWidth(),hu=Nt[Tt];Bn=ct.charSpace||xA,Ur=ct.maxWidth||0,vi=Object.assign({autoencode:!0,noBOM:!0},ct.flags);var bi=[],Xl=function(Qn){return Li.getStringUnitWidth(Qn,{font:hu,charSpace:Bn,fontSize:Ke,doKerning:!1})*Ke/uu};if(Object.prototype.toString.call(Y)==="[object Array]"){var ea;nr=CA(Y),nn!=="left"&&(Wa=nr.map(Xl));var os,Au=0;if(nn==="right"){Be-=Wa[0],Y=[],Ya=nr.length;for(var Cl=0;Cl<Ya;Cl++)Cl===0?(os=el(Be),ea=ps(Xe)):(os=de(Au-Wa[Cl]),ea=-ms),Y.push([nr[Cl],os,ea]),Au=Wa[Cl]}else if(nn==="center"){Be-=Wa[0]/2,Y=[],Ya=nr.length;for(var Bs=0;Bs<Ya;Bs++)Bs===0?(os=el(Be),ea=ps(Xe)):(os=de((Au-Wa[Bs])/2),ea=-ms),Y.push([nr[Bs],os,ea]),Au=Wa[Bs]}else if(nn==="left"){Y=[],Ya=nr.length;for(var du=0;du<Ya;du++)Y.push(nr[du])}else if(nn==="justify"&&hu.encoding==="Identity-H"){Y=[],Ya=nr.length,Ur=Ur!==0?Ur:SA;for(var Lc=0,Ta=0;Ta<Ya;Ta++)if(ea=Ta===0?ps(Xe):-ms,os=Ta===0?el(Be):Lc,Ta<Ya-1){var df=de((Ur-Wa[Ta])/(nr[Ta].split(" ").length-1)),Jl=nr[Ta].split(" ");Y.push([Jl[0]+" ",os,ea]),Lc=0;for(var il=1;il<Jl.length;il++){var ec=(Xl(Jl[il-1]+" "+Jl[il])-Xl(Jl[il]))*uu+df;il==Jl.length-1?Y.push([Jl[il],ec,0]):Y.push([Jl[il]+" ",ec,0]),Lc-=ec}}else Y.push([nr[Ta],os,ea]);Y.push(["",Lc,0])}else{if(nn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],Ya=nr.length,Ur=Ur!==0?Ur:SA,Ta=0;Ta<Ya;Ta++)ea=Ta===0?ps(Xe):-ms,os=Ta===0?el(Be):0,Ta<Ya-1?bi.push(le(de((Ur-Wa[Ta])/(nr[Ta].split(" ").length-1)))):bi.push(0),Y.push([nr[Ta],os,ea])}}(typeof ct.R2L=="boolean"?ct.R2L:Kt)===!0&&(Y=Vi(Y,function(Qn,li,aa){return[Qn.split("").reverse().join(""),li,aa]})),Zt={text:Y,x:Be,y:Xe,options:ct,mutex:{pdfEscape:Ga,activeFontKey:Tt,fonts:Nt,activeFontSize:Ke}},Se.publish("postProcessText",Zt),Y=Zt.text,lo=Zt.mutex.isHex||!1;var yd=Nt[Tt].encoding;yd!=="WinAnsiEncoding"&&yd!=="StandardEncoding"||(Y=Vi(Y,function(Qn,li,aa){return[gd(Qn),li,aa]})),nr=CA(Y),Y=[];for(var Eo,Rc,ah,fu=Array.isArray(nr[0])?1:0,Dc="",oh=function(Qn,li,aa){var Ni="";return aa instanceof tt?(aa=typeof ct.angle=="number"?At(aa,new tt(1,0,0,1,Qn,li)):At(new tt(1,0,0,1,Qn,li),aa),$===q&&(aa=At(new tt(1,0,0,-1,0,0),aa)),Ni=aa.join(" ")+` Tm
`):Ni=le(Qn)+" "+le(li)+` Td
`,Ni},Ba=0;Ba<nr.length;Ba++){switch(Dc="",fu){case 1:ah=(lo?"<":"(")+nr[Ba][0]+(lo?">":")"),Eo=parseFloat(nr[Ba][1]),Rc=parseFloat(nr[Ba][2]);break;case 0:ah=(lo?"<":"(")+nr[Ba]+(lo?">":")"),Eo=el(Be),Rc=ps(Xe)}bi!==void 0&&bi[Ba]!==void 0&&(Dc=bi[Ba]+` Tw
`),Ba===0?Y.push(Dc+oh(Eo,Rc,$a)+ah):fu===0?Y.push(Dc+ah):fu===1&&Y.push(Dc+oh(Eo,Rc,$a)+ah)}Y=fu===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var al=`BT
/`;return al+=Tt+" "+Ke+` Tf
`,al+=le(Ke*nh)+` TL
`,al+=xl+`
`,al+=co,al+=Y,re(al+="ET"),C[Tt]=!0,Li};var Gl=x.__private__.clip=x.clip=function(Y){return re(Y==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Gl("evenodd")},x.__private__.discardPath=x.discardPath=function(){return re("n"),this};var Fo=x.__private__.isValidStyle=function(Y){var Be=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(Be=!0),Be};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(Y){return Fo(Y)&&(A=Y),this};var Dh=x.__private__.getStyle=x.getStyle=function(Y){var Be=A;switch(Y){case"D":case"S":Be="S";break;case"F":Be="f";break;case"FD":case"DF":Be="B";break;case"f":case"f*":case"B":case"B*":Be=Y}return Be},wl=x.close=function(){return re("h"),this};x.stroke=function(){return re("S"),this},x.fill=function(Y){return Uh("f",Y),this},x.fillEvenOdd=function(Y){return Uh("f*",Y),this},x.fillStroke=function(Y){return Uh("B",Y),this},x.fillStrokeEvenOdd=function(Y){return Uh("B*",Y),this};var Uh=function(Y,Be){Na(Be)==="object"?uf(Be,Y):re(Y)},Fh=function(Y){Y===null||$===q&&Y===void 0||(Y=Dh(Y),re(Y))};function cf(Y,Be,Xe,ct,wt){var Zt=new Bb(Be||this.boundingBox,Xe||this.xStep,ct||this.yStep,this.gState,wt||this.matrix);Zt.stream=this.stream;var nr=Y+"$$"+this.cloneIndex+++"$$";return qt(nr,Zt),Zt}var uf=function(Y,Be){var Xe=on[Y.key],ct=Xt[Xe];if(ct instanceof P0)re("q"),re(hf(Be)),ct.gState&&x.setGState(ct.gState),re(Y.matrix.toString()+" cm"),re("/"+Xe+" sh"),re("Q");else if(ct instanceof Bb){var wt=new tt(1,0,0,-1,0,is());Y.matrix&&(wt=wt.multiply(Y.matrix||zt),Xe=cf.call(ct,Y.key,Y.boundingBox,Y.xStep,Y.yStep,wt).id),re("q"),re("/Pattern cs"),re("/"+Xe+" scn"),ct.gState&&x.setGState(ct.gState),re(Be),re("Q")}},hf=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jh=x.moveTo=function(Y,Be){return re(le(de(Y))+" "+le(me(Be))+" m"),this},Ec=x.lineTo=function(Y,Be){return re(le(de(Y))+" "+le(me(Be))+" l"),this},Sc=x.curveTo=function(Y,Be,Xe,ct,wt,Zt){return re([le(de(Y)),le(me(Be)),le(de(Xe)),le(me(ct)),le(de(wt)),le(me(Zt)),"c"].join(" ")),this};x.__private__.line=x.line=function(Y,Be,Xe,ct,wt){if(isNaN(Y)||isNaN(Be)||isNaN(Xe)||isNaN(ct)||!Fo(wt))throw new Error("Invalid arguments passed to jsPDF.line");return $===H?this.lines([[Xe-Y,ct-Be]],Y,Be,[1,1],wt||"S"):this.lines([[Xe-Y,ct-Be]],Y,Be,[1,1]).stroke()},x.__private__.lines=x.lines=function(Y,Be,Xe,ct,wt,Zt){var nr,Vr,nn,Bn,Ur,vi,Sa,$a,Li,so,lo,co;if(typeof Y=="number"&&(co=Xe,Xe=Be,Be=Y,Y=co),ct=ct||[1,1],Zt=Zt||!1,isNaN(Be)||isNaN(Xe)||!Array.isArray(Y)||!Array.isArray(ct)||!Fo(wt)||typeof Zt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jh(Be,Xe),nr=ct[0],Vr=ct[1],Bn=Y.length,so=Be,lo=Xe,nn=0;nn<Bn;nn++)(Ur=Y[nn]).length===2?(so=Ur[0]*nr+so,lo=Ur[1]*Vr+lo,Ec(so,lo)):(vi=Ur[0]*nr+so,Sa=Ur[1]*Vr+lo,$a=Ur[2]*nr+so,Li=Ur[3]*Vr+lo,so=Ur[4]*nr+so,lo=Ur[5]*Vr+lo,Sc(vi,Sa,$a,Li,so,lo));return Zt&&wl(),Fh(wt),this},x.path=function(Y){for(var Be=0;Be<Y.length;Be++){var Xe=Y[Be],ct=Xe.c;switch(Xe.op){case"m":jh(ct[0],ct[1]);break;case"l":Ec(ct[0],ct[1]);break;case"c":Sc.apply(this,ct);break;case"h":wl()}}return this},x.__private__.rect=x.rect=function(Y,Be,Xe,ct,wt){if(isNaN(Y)||isNaN(Be)||isNaN(Xe)||isNaN(ct)||!Fo(wt))throw new Error("Invalid arguments passed to jsPDF.rect");return $===H&&(ct=-ct),re([le(de(Y)),le(me(Be)),le(de(Xe)),le(de(ct)),"re"].join(" ")),Fh(wt),this},x.__private__.triangle=x.triangle=function(Y,Be,Xe,ct,wt,Zt,nr){if(isNaN(Y)||isNaN(Be)||isNaN(Xe)||isNaN(ct)||isNaN(wt)||isNaN(Zt)||!Fo(nr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Xe-Y,ct-Be],[wt-Xe,Zt-ct],[Y-wt,Be-Zt]],Y,Be,[1,1],nr,!0),this},x.__private__.roundedRect=x.roundedRect=function(Y,Be,Xe,ct,wt,Zt,nr){if(isNaN(Y)||isNaN(Be)||isNaN(Xe)||isNaN(ct)||isNaN(wt)||isNaN(Zt)||!Fo(nr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vr=4/3*(Math.SQRT2-1);return wt=Math.min(wt,.5*Xe),Zt=Math.min(Zt,.5*ct),this.lines([[Xe-2*wt,0],[wt*Vr,0,wt,Zt-Zt*Vr,wt,Zt],[0,ct-2*Zt],[0,Zt*Vr,-wt*Vr,Zt,-wt,Zt],[2*wt-Xe,0],[-wt*Vr,0,-wt,-Zt*Vr,-wt,-Zt],[0,2*Zt-ct],[0,-Zt*Vr,wt*Vr,-Zt,wt,-Zt]],Y+wt,Be,[1,1],nr,!0),this},x.__private__.ellipse=x.ellipse=function(Y,Be,Xe,ct,wt){if(isNaN(Y)||isNaN(Be)||isNaN(Xe)||isNaN(ct)||!Fo(wt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Zt=4/3*(Math.SQRT2-1)*Xe,nr=4/3*(Math.SQRT2-1)*ct;return jh(Y+Xe,Be),Sc(Y+Xe,Be-nr,Y+Zt,Be-ct,Y,Be-ct),Sc(Y-Zt,Be-ct,Y-Xe,Be-nr,Y-Xe,Be),Sc(Y-Xe,Be+nr,Y-Zt,Be+ct,Y,Be+ct),Sc(Y+Zt,Be+ct,Y+Xe,Be+nr,Y+Xe,Be),Fh(wt),this},x.__private__.circle=x.circle=function(Y,Be,Xe,ct){if(isNaN(Y)||isNaN(Be)||isNaN(Xe)||!Fo(ct))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,Be,Xe,Xe,ct)},x.setFont=function(Y,Be,Xe){return Xe&&(Be=he(Be,Xe)),Tt=ns(Y,Be,{disableWarning:!1}),this};var md=x.__private__.getFont=x.getFont=function(){return Nt[ns.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var Y,Be,Xe={};for(Y in yr)if(yr.hasOwnProperty(Y))for(Be in Xe[Y]=[],yr[Y])yr[Y].hasOwnProperty(Be)&&Xe[Y].push(Be);return Xe},x.addFont=function(Y,Be,Xe,ct,wt){var Zt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Zt.indexOf(arguments[3])!==-1?wt=arguments[3]:arguments[3]&&Zt.indexOf(arguments[3])==-1&&(Xe=he(Xe,ct)),mi.call(this,Y,Be,Xe,wt=wt||"Identity-H")};var Ts,Tc=r.lineWidth||.200025,On=x.__private__.getLineWidth=x.getLineWidth=function(){return Tc},Bc=x.__private__.setLineWidth=x.setLineWidth=function(Y){return Tc=Y,re(le(de(Y))+" w"),this};x.__private__.setLineDash=wn.API.setLineDash=wn.API.setLineDashPattern=function(Y,Be){if(Y=Y||[],Be=Be||0,isNaN(Be)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Xe){return le(de(Xe))}).join(" "),Be=le(de(Be)),re("["+Y+"] "+Be+" d"),this};var Qh=x.__private__.getLineHeight=x.getLineHeight=function(){return Ke*Ts};x.__private__.getLineHeight=x.getLineHeight=function(){return Ke*Ts};var Co=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(Ts=Y),this},Ic=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Ts};Co(r.lineHeight);var el=x.__private__.getHorizontalCoordinate=function(Y){return de(Y)},ps=x.__private__.getVerticalCoordinate=function(Y){return $===q?Y:we[ae].mediaBox.topRightY-we[ae].mediaBox.bottomLeftY-de(Y)},tl=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(Y){return le(el(Y))},Hh=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(Y){return le(ps(Y))},$l=r.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return dn($l)},x.__private__.setStrokeColor=x.setDrawColor=function(Y,Be,Xe,ct){return $l=Dr({ch1:Y,ch2:Be,ch3:Xe,ch4:ct,pdfColorType:"draw",precision:2}),re($l),this};var Yl=r.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return dn(Yl)},x.__private__.setFillColor=x.setFillColor=function(Y,Be,Xe,ct){return Yl=Dr({ch1:Y,ch2:Be,ch3:Xe,ch4:ct,pdfColorType:"fill",precision:2}),re(Yl),this};var xl=r.textColor||"0 g",Wn=x.__private__.getTextColor=x.getTextColor=function(){return dn(xl)};x.__private__.setTextColor=x.setTextColor=function(Y,Be,Xe,ct){return xl=Dr({ch1:Y,ch2:Be,ch3:Xe,ch4:ct,pdfColorType:"text",precision:3}),this};var xA=r.charSpace,Oa=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(xA||0)};x.__private__.setCharSpace=x.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xA=Y,this};var rl=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(Y){var Be=x.CapJoinStyles[Y];if(Be===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rl=Be,re(Be+" J"),this};var oo=0;x.__private__.setLineJoin=x.setLineJoin=function(Y){var Be=x.CapJoinStyles[Y];if(Be===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oo=Be,re(Be+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(le(de(Y))+" M"),this},x.GState=Fk,x.setGState=function(Y){(Y=typeof Y=="string"?$r[xn[Y]]:Ea(null,Y)).equals(De)||(re("/"+Y.id+" gs"),De=Y)};var Ea=function(Y,Be){if(!Y||!xn[Y]){var Xe=!1;for(var ct in $r)if($r.hasOwnProperty(ct)&&$r[ct].equals(Be)){Xe=!0;break}if(Xe)Be=$r[ct];else{var wt="GS"+(Object.keys($r).length+1).toString(10);$r[wt]=Be,Be.id=wt}return Y&&(xn[Y]=Be.id),Se.publish("addGState",Be),Be}};x.addGState=function(Y,Be){return Ea(Y,Be),this},x.saveGraphicsState=function(){return re("q"),Gr.push({key:Tt,size:Ke,color:xl}),this},x.restoreGraphicsState=function(){re("Q");var Y=Gr.pop();return Tt=Y.key,Ke=Y.size,xl=Y.color,De=null,this},x.setCurrentTransformationMatrix=function(Y){return re(Y.toString()+" cm"),this},x.comment=function(Y){return re("#"+Y),this};var th=function(Y,Be){var Xe=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Xe},set:function(Zt){isNaN(Zt)||(Xe=parseFloat(Zt))}});var ct=Be||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ct},set:function(Zt){isNaN(Zt)||(ct=parseFloat(Zt))}});var wt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return wt},set:function(Zt){wt=Zt.toString()}}),this},kc=function(Y,Be,Xe,ct){th.call(this,Y,Be),this.type="rect";var wt=Xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return wt},set:function(nr){isNaN(nr)||(wt=parseFloat(nr))}});var Zt=ct||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Zt},set:function(nr){isNaN(nr)||(Zt=parseFloat(nr))}}),this},Nc=function(){this.page=ye,this.currentPage=ae,this.pages=Pe.slice(0),this.pagesContext=we.slice(0),this.x=rr,this.y=St,this.matrix=Vt,this.width=Oc(ae),this.height=is(ae),this.outputDestination=pe,this.id="",this.objectNumber=-1};Nc.prototype.restore=function(){ye=this.page,ae=this.currentPage,we=this.pagesContext,Pe=this.pages,rr=this.x,St=this.y,Vt=this.matrix,rh(ae,this.width),jo(ae,this.height),pe=this.outputDestination};var cu=function(Y,Be,Xe,ct,wt){dt.push(new Nc),ye=ae=0,Pe=[],rr=Y,St=Be,Vt=wt,Es([Xe,ct])};for(var Pc in x.beginFormObject=function(Y,Be,Xe,ct,wt){return cu(Y,Be,Xe,ct,wt),this},x.endFormObject=function(Y){return(function(Be){if(xt[Be])dt.pop().restore();else{var Xe=new Nc,ct="Xo"+(Object.keys(ut).length+1).toString(10);Xe.id=ct,xt[Be]=ct,ut[ct]=Xe,Se.publish("addFormObject",Xe),dt.pop().restore()}})(Y),this},x.doFormObject=function(Y,Be){var Xe=ut[xt[Y]];return re("q"),re(Be.toString()+" cm"),re("/"+Xe.id+" Do"),re("Q"),this},x.getFormObject=function(Y){var Be=ut[xt[Y]];return{x:Be.x,y:Be.y,width:Be.width,height:Be.height,matrix:Be.matrix}},x.save=function(Y,Be){return Y=Y||"generated.pdf",(Be=Be||{}).returnPromise=Be.returnPromise||!1,Be.returnPromise===!1?(x0(Ss(Dn()),Y),typeof x0.unload=="function"&&ei.setTimeout&&setTimeout(x0.unload,911),this):new Promise(function(Xe,ct){try{var wt=x0(Ss(Dn()),Y);typeof x0.unload=="function"&&ei.setTimeout&&setTimeout(x0.unload,911),Xe(wt)}catch(Zt){ct(Zt.message)}})},wn.API)wn.API.hasOwnProperty(Pc)&&(Pc==="events"&&wn.API.events.length?(function(Y,Be){var Xe,ct,wt;for(wt=Be.length-1;wt!==-1;wt--)Xe=Be[wt][0],ct=Be[wt][1],Y.subscribe.apply(Y,[Xe].concat(typeof ct=="function"?[ct]:ct))})(Se,wn.API.events):x[Pc]=wn.API[Pc]);var Oc=x.getPageWidth=function(Y){return(we[Y=Y||ae].mediaBox.topRightX-we[Y].mediaBox.bottomLeftX)/Jt},rh=x.setPageWidth=function(Y,Be){we[Y].mediaBox.topRightX=Be*Jt+we[Y].mediaBox.bottomLeftX},is=x.getPageHeight=function(Y){return(we[Y=Y||ae].mediaBox.topRightY-we[Y].mediaBox.bottomLeftY)/Jt},jo=x.setPageHeight=function(Y,Be){we[Y].mediaBox.topRightY=Be*Jt+we[Y].mediaBox.bottomLeftY};return x.internal={pdfEscape:Ga,getStyle:Dh,getFont:md,getFontSize:_t,getCharSpace:Oa,getTextColor:Wn,getLineHeight:Qh,getLineHeightFactor:Ic,getLineWidth:On,write:Ue,getHorizontalCoordinate:el,getVerticalCoordinate:ps,getCoordinateString:tl,getVerticalCoordinateString:Hh,collections:{},newObject:Sr,newAdditionalObject:Ln,newObjectDeferred:Ir,newObjectDeferredBegin:Rr,getFilters:Qr,putStream:gn,events:Se,scaleFactor:Jt,pageSize:{getWidth:function(){return Oc(ae)},setWidth:function(Y){rh(ae,Y)},getHeight:function(){return is(ae)},setHeight:function(Y){jo(ae,Y)}},encryptionOptions:f,encryption:oi,getEncryptor:function(Y){return f!==null?oi.encryptor(Y,0):function(Be){return Be}},output:_n,getNumberOfPages:rs,pages:Pe,out:re,f2:W,f3:ue,getPageInfo:Ju,getPageInfoByObjId:lf,getCurrentPageInfo:eh,getPDFVersion:N,Point:th,Rectangle:kc,Matrix:tt,hasHotfix:Rh},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Oc(ae)},set:function(Y){rh(ae,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return is(ae)},set:function(Y){jo(ae,Y)},enumerable:!0,configurable:!0}),(function(Y){for(var Be=0,Xe=et.length;Be<Xe;Be++){var ct=mi.call(this,Y[Be][0],Y[Be][1],Y[Be][2],et[Be][3],!0);y===!1&&(C[ct]=!0);var wt=Y[Be][0].split("-");ip({id:ct,fontName:wt[0],fontStyle:wt[1]||""})}Se.publish("addFonts",{fonts:Nt,dictionary:yr})}).call(x,et),Tt="F1",Uo(i,t),Se.publish("initialized"),x}hb.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},hb.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hb.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},hb.prototype.processOwnerPassword=function(r,e){return b2(_2(e).substr(0,5),r)},hb.prototype.encryptor=function(r,e){var t=_2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return b2(t,n)}},Fk.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Na(r)!==Na(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},wn.API={events:[]},wn.version="3.0.2";var ws=wn.API,Q6=1,F_=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Q1=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pi=function(r){return r.toFixed(2)},gy=function(r){return r.toFixed(5)};ws.__acroform__={};var vA=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},jH=function(r){return r*Q6},kp=function(r){var e=new cW,t=un.internal.getHeight(r)||0,n=un.internal.getWidth(r)||0;return e.BBox=[0,0,Number(pi(n)),Number(pi(t))],e},Lde=ws.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Rde=ws.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Dde=ws.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},$s=ws.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Dde(r,e-1)},Ys=ws.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lde(r,e-1)},Ws=ws.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Rde(r,e-1)},Ude=ws.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],a=r[1],o=r[2],s=r[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=n(a+s)||0,c.upperRight_X=t(i+o)||0,c.upperRight_Y=n(a)||0,[Number(pi(c.lowerLeft_X)),Number(pi(c.lowerLeft_Y)),Number(pi(c.upperRight_X)),Number(pi(c.upperRight_Y))]},Fde=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=w2(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+pi(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=kp(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},w2=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var a=t,o=un.internal.getHeight(r)||0;o=o<0?-o:o;var s=un.internal.getWidth(r)||0;s=s<0?-s:s;var c=function(W,ue,de){if(W+1<i.length){var me=ue+" "+i[W+1][0];return pB(me,r,de).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var A,f,y=pB("3",r,a).height,C=r.multiline?o-a:(o-y)/2,x=C+=2,k=0,N=0,M=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+pB(e,r,a=12).width+", FieldWidth:"+s+`
`;break}for(var D="",H=0,q=0;q<i.length;q++)if(i.hasOwnProperty(q)){var $=!1;if(i[q].length!==1&&M!==i[q].length-1){if((y+2)*(H+2)+2>o)continue e;D+=i[q][M],$=!0,N=q,q--}else{D=(D+=i[q][M]+" ").substr(D.length-1)==" "?D.substr(0,D.length-1):D;var ce=parseInt(q),V=c(ce,D,a),he=q>=i.length-1;if(V&&!he){D+=" ",M=0;continue}if(V||he){if(he)N=ce;else if(r.multiline&&(y+2)*(H+2)+2>o)continue e}else{if(!r.multiline||(y+2)*(H+2)+2>o)continue e;N=ce}}for(var le="",fe=k;fe<=N;fe++){var Ne=i[fe];if(r.multiline){if(fe===N){le+=Ne[M]+" ",M=(M+1)%Ne.length;continue}if(fe===k){le+=Ne[Ne.length-1]+" ";continue}}le+=Ne[0]+" "}switch(le=le.substr(le.length-1)==" "?le.substr(0,le.length-1):le,f=pB(le,r,a).width,r.textAlign){case"right":A=s-f-2;break;case"center":A=(s-f)/2;break;default:A=2}e+=pi(A)+" "+pi(x)+` Td
`,e+="("+F_(le)+`) Tj
`,e+=-pi(A)+` 0 Td
`,x=-(a+2),f=0,k=$?N:N+1,H++,D=""}break}return n.text=e,n.fontSize=a,n},pB=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},jde={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qde=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Hde=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Xf.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(jde)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Q6=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new uW,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Qde(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],A=s.Rect;if(s.Rect&&(s.Rect=Ude(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=un.createDefaultAppearanceStream(s),Na(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=A,s.hasAppearanceStream&&!s.appearanceStreamContent){var f=Fde(s);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(s.appearanceStreamContent){var y="";for(var C in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(C)){var x=s.appearanceStreamContent[C];if(y+="/"+C+" ",y+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var k=x[o];typeof k=="function"&&(k=k.call(i,s)),y+="/"+o+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=x)=="function"&&(k=k.call(i,s)),y+="/"+o+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);y+=">>"}c.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:s.objId}),i.internal.out("endobj")}a&&(function(N,M){for(var D in N)if(N.hasOwnProperty(D)){var H=D,q=N[D];M.internal.newObjectDeferredBegin(q.objId,!0),Na(q)==="object"&&typeof q.putStream=="function"&&q.putStream(),delete N[H]}})(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},lW=ws.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(o){return o};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),Na(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+F_(n(r[a].toString()))+")"):i+=r[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},p4=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+F_(n(r))+")"},Dp=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dp.prototype.toString=function(){return this.objId+" 0 R"},Dp.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Dp.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:lW(i,this.objId,this.scope)}):i instanceof Dp?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var cW=function(){Dp.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};vA(cW,Dp);var uW=function(){Dp.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+F_(t(r))+")"}},set:function(t){r=t}})};vA(uW,Dp);var Xf=function r(){Dp.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute F supplied.');e=D}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$s(e,3)},set:function(D){D?this.F=Ys(e,3):this.F=Ws(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute Ff supplied.');t=D}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(D){n=D!==void 0?D:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(D){n[0]=D}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(D){n[1]=D}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(D){n[2]=D}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(D){n[3]=D}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(D){switch(D){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=D;break;default:throw new Error('Invalid value "'+D+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof jk)return;a="FieldObject"+r.FieldNum++}var D=function(H){return H};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+F_(D(a))+")"},set:function(D){a=D.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(D){a=D}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(D){o=D}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(D){s=D}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(D){c=D}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/Q6:A},set:function(D){A=D}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(D){f=D}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof jk||this instanceof e_))return p4(y,this.objId,this.scope)},set:function(D){D=D.toString(),y=D}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof mc==0?p4(C,this.objId,this.scope):C},set:function(D){D=D.toString(),C=this instanceof mc==0?D.substr(0,1)==="("?Q1(D.substr(1,D.length-2)):Q1(D):D}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mc==1?Q1(C.substr(1,C.length-1)):C},set:function(D){D=D.toString(),C=this instanceof mc==1?"/"+D:D}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(D){this.V=D}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof mc==0?p4(x,this.objId,this.scope):x},set:function(D){D=D.toString(),x=this instanceof mc==0?D.substr(0,1)==="("?Q1(D.substr(1,D.length-2)):Q1(D):D}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mc==1?Q1(x.substr(1,x.length-1)):x},set:function(D){D=D.toString(),x=this instanceof mc==1?"/"+D:D}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(D){D=!!D,N=D}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(D){k=D}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,1)},set:function(D){D?this.Ff=Ys(this.Ff,1):this.Ff=Ws(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,2)},set:function(D){D?this.Ff=Ys(this.Ff,2):this.Ff=Ws(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,3)},set:function(D){D?this.Ff=Ys(this.Ff,3):this.Ff=Ws(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(D){if([0,1,2].indexOf(D)===-1)throw new Error('Invalid value "'+D+'" for attribute Q supplied.');M=D}}),Object.defineProperty(this,"textAlign",{get:function(){var D;switch(M){case 0:default:D="left";break;case 1:D="center";break;case 2:D="right"}return D},configurable:!0,enumerable:!0,set:function(D){switch(D){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};vA(Xf,Dp);var Gb=function(){Xf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lW(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=(function(a,o,s){s||(s=1);for(var c,A=[];c=o.exec(a);)A.push(c[s]);return A})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,18)},set:function(t){t?this.Ff=Ys(this.Ff,18):this.Ff=Ws(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ys(this.Ff,19):this.Ff=Ws(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,20)},set:function(t){t?(this.Ff=Ys(this.Ff,20),e.sort()):this.Ff=Ws(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,22)},set:function(t){t?this.Ff=Ys(this.Ff,22):this.Ff=Ws(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(t){t?this.Ff=Ys(this.Ff,23):this.Ff=Ws(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,27)},set:function(t){t?this.Ff=Ys(this.Ff,27):this.Ff=Ws(this.Ff,27)}}),this.hasAppearanceStream=!1};vA(Gb,Xf);var $b=function(){Gb.call(this),this.fontName="helvetica",this.combo=!1};vA($b,Gb);var Yb=function(){$b.call(this),this.combo=!0};vA(Yb,$b);var $I=function(){Yb.call(this),this.edit=!0};vA($I,Yb);var mc=function(){Xf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,15)},set:function(t){t?this.Ff=Ys(this.Ff,15):this.Ff=Ws(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,16)},set:function(t){t?this.Ff=Ys(this.Ff,16):this.Ff=Ws(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,17)},set:function(t){t?this.Ff=Ys(this.Ff,17):this.Ff=Ws(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(t){t?this.Ff=Ys(this.Ff,26):this.Ff=Ws(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+F_(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Na(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};vA(mc,Xf);var YI=function(){mc.call(this),this.pushButton=!0};vA(YI,mc);var Wb=function(){mc.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};vA(Wb,mc);var jk=function(){var r,e;Xf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+F_(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Na(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=un.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vA(jk,Xf),Wb.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Wb.prototype.createOption=function(r){var e=new jk;return e.Parent=this,e.optionName=r,this.Kids.push(e),zde.call(this.scope,e),e};var WI=function(){mc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=un.CheckBox.createAppearanceStream()};vA(WI,mc);var e_=function(){Xf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,13)},set:function(e){e?this.Ff=Ys(this.Ff,13):this.Ff=Ws(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,21)},set:function(e){e?this.Ff=Ys(this.Ff,21):this.Ff=Ws(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(e){e?this.Ff=Ys(this.Ff,23):this.Ff=Ws(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,24)},set:function(e){e?this.Ff=Ys(this.Ff,24):this.Ff=Ws(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,25)},set:function(e){e?this.Ff=Ys(this.Ff,25):this.Ff=Ws(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(e){e?this.Ff=Ys(this.Ff,26):this.Ff=Ws(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vA(e_,Xf);var ZI=function(){e_.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,14)},set:function(r){r?this.Ff=Ys(this.Ff,14):this.Ff=Ws(this.Ff,14)}}),this.password=!0};vA(ZI,e_);var un={CheckBox:{createAppearanceStream:function(){return{N:{On:un.CheckBox.YesNormal},D:{On:un.CheckBox.YesPushDown,Off:un.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=kp(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=w2(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+pi(un.internal.getWidth(r))+" "+pi(un.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+pi(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=kp(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=un.internal.getHeight(r),o=un.internal.getWidth(r),s=w2(r,r.caption);return i.push("1 g"),i.push("0 0 "+pi(o)+" "+pi(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pi(o-1)+" "+pi(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+pi(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=kp(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pi(un.internal.getWidth(r))+" "+pi(un.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:un.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=un.RadioButton.Circle.YesNormal,e.D[r]=un.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=kp(r);e.scope=r.scope;var t=[],n=un.internal.getWidth(r)<=un.internal.getHeight(r)?un.internal.getWidth(r)/4:un.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=un.internal.Bezier_C,a=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+gy(un.internal.getWidth(r)/2)+" "+gy(un.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=kp(r);e.scope=r.scope;var t=[],n=un.internal.getWidth(r)<=un.internal.getHeight(r)?un.internal.getWidth(r)/4:un.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*un.internal.Bezier_C).toFixed(5)),o=Number((n*un.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gy(un.internal.getWidth(r)/2)+" "+gy(un.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+gy(un.internal.getWidth(r)/2)+" "+gy(un.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=kp(r);e.scope=r.scope;var t=[],n=un.internal.getWidth(r)<=un.internal.getHeight(r)?un.internal.getWidth(r)/4:un.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*un.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gy(un.internal.getWidth(r)/2)+" "+gy(un.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:un.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=un.RadioButton.Cross.YesNormal,e.D[r]=un.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=kp(r);e.scope=r.scope;var t=[],n=un.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+pi(un.internal.getWidth(r)-2)+" "+pi(un.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(pi(n.x1.x)+" "+pi(n.x1.y)+" m"),t.push(pi(n.x2.x)+" "+pi(n.x2.y)+" l"),t.push(pi(n.x4.x)+" "+pi(n.x4.y)+" m"),t.push(pi(n.x3.x)+" "+pi(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=kp(r);e.scope=r.scope;var t=un.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+pi(un.internal.getWidth(r))+" "+pi(un.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pi(un.internal.getWidth(r)-2)+" "+pi(un.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(pi(t.x1.x)+" "+pi(t.x1.y)+" m"),n.push(pi(t.x2.x)+" "+pi(t.x2.y)+" l"),n.push(pi(t.x4.x)+" "+pi(t.x4.y)+" m"),n.push(pi(t.x3.x)+" "+pi(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=kp(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+pi(un.internal.getWidth(r))+" "+pi(un.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};un.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=un.internal.getWidth(r),t=un.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},un.internal.getWidth=function(r){var e=0;return Na(r)==="object"&&(e=jH(r.Rect[2])),e},un.internal.getHeight=function(r){var e=0;return Na(r)==="object"&&(e=jH(r.Rect[3])),e};var zde=ws.addField=function(r){if(Hde(this,r),!(r instanceof Xf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ws.AcroFormChoiceField=Gb,ws.AcroFormListBox=$b,ws.AcroFormComboBox=Yb,ws.AcroFormEditBox=$I,ws.AcroFormButton=mc,ws.AcroFormPushButton=YI,ws.AcroFormRadioButton=Wb,ws.AcroFormCheckBox=WI,ws.AcroFormTextField=e_,ws.AcroFormPasswordField=ZI,ws.AcroFormAppearance=un,ws.AcroForm={ChoiceField:Gb,ListBox:$b,ComboBox:Yb,EditBox:$I,Button:mc,PushButton:YI,RadioButton:Wb,CheckBox:WI,TextField:e_,PasswordField:ZI,Appearance:un},wn.AcroForm={ChoiceField:Gb,ListBox:$b,ComboBox:Yb,EditBox:$I,Button:mc,PushButton:YI,RadioButton:Wb,CheckBox:WI,TextField:e_,PasswordField:ZI,Appearance:un};wn.AcroForm;function hW(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(W,ue){var de,me,Qe,Ee,_e,ke=t;if((ue=ue||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(V(W))for(_e in n)for(Qe=n[_e],de=0;de<Qe.length;de+=1){for(Ee=!0,me=0;me<Qe[de].length;me+=1)if(Qe[de][me]!==void 0&&Qe[de][me]!==W[me]){Ee=!1;break}if(Ee===!0){ke=_e;break}}else for(_e in n)for(Qe=n[_e],de=0;de<Qe.length;de+=1){for(Ee=!0,me=0;me<Qe[de].length;me+=1)if(Qe[de][me]!==void 0&&Qe[de][me]!==W.charCodeAt(me)){Ee=!1;break}if(Ee===!0){ke=_e;break}}return ke===t&&ue!==t&&(ke=ue),ke},a=function W(ue){for(var de=this.internal.write,me=this.internal.putStream,Qe=(0,this.internal.getFilters)();Qe.indexOf("FlateEncode")!==-1;)Qe.splice(Qe.indexOf("FlateEncode"),1);ue.objectId=this.internal.newObject();var Ee=[];if(Ee.push({key:"Type",value:"/XObject"}),Ee.push({key:"Subtype",value:"/Image"}),Ee.push({key:"Width",value:ue.width}),Ee.push({key:"Height",value:ue.height}),ue.colorSpace===D.INDEXED?Ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ue.palette.length/3-1)+" "+("sMask"in ue&&ue.sMask!==void 0?ue.objectId+2:ue.objectId+1)+" 0 R]"}):(Ee.push({key:"ColorSpace",value:"/"+ue.colorSpace}),ue.colorSpace===D.DEVICE_CMYK&&Ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ee.push({key:"BitsPerComponent",value:ue.bitsPerComponent}),"decodeParameters"in ue&&ue.decodeParameters!==void 0&&Ee.push({key:"DecodeParms",value:"<<"+ue.decodeParameters+">>"}),"transparency"in ue&&Array.isArray(ue.transparency)){for(var _e="",ke=0,We=ue.transparency.length;ke<We;ke++)_e+=ue.transparency[ke]+" "+ue.transparency[ke]+" ";Ee.push({key:"Mask",value:"["+_e+"]"})}ue.sMask!==void 0&&Ee.push({key:"SMask",value:ue.objectId+1+" 0 R"});var Oe=ue.filter!==void 0?["/"+ue.filter]:void 0;if(me({data:ue.data,additionalKeyValues:Ee,alreadyAppliedFilters:Oe,objectId:ue.objectId}),de("endobj"),"sMask"in ue&&ue.sMask!==void 0){var ze=(ue.predictor!=null?"/Predictor "+ue.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+ue.width,ne={width:ue.width,height:ue.height,colorSpace:"DeviceGray",bitsPerComponent:ue.bitsPerComponent,decodeParameters:ze,data:ue.sMask};"filter"in ue&&(ne.filter=ue.filter),W.call(this,ne)}if(ue.colorSpace===D.INDEXED){var ae=this.internal.newObject();me({data:le(new Uint8Array(ue.palette)),objectId:ae}),de("endobj")}},o=function(){var W=this.internal.collections[e+"images"];for(var ue in W)a.call(this,W[ue])},s=function(){var W,ue=this.internal.collections[e+"images"],de=this.internal.write;for(var me in ue)de("/I"+(W=ue[me]).index,W.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},A=function(){var W=this.internal.collections[e+"images"];return c.call(this),W},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(W){return typeof r["process"+W.toUpperCase()]=="function"},C=function(W){return Na(W)==="object"&&W.nodeType===1},x=function(W,ue){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var de=""+W.getAttribute("src");if(de.indexOf("data:image/")===0)return GI(unescape(de).split("base64,").pop());var me=r.loadFile(de,!0);if(me!==void 0)return me}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var Qe;switch(ue){case"PNG":Qe="image/png";break;case"WEBP":Qe="image/webp";break;default:Qe="image/jpeg"}return GI(W.toDataURL(Qe,1).split("base64,").pop())}},k=function(W){var ue=this.internal.collections[e+"images"];if(ue){for(var de in ue)if(W===ue[de].alias)return ue[de]}},N=function(W,ue,de){return W||ue||(W=-96,ue=-96),W<0&&(W=-1*de.width*72/W/this.internal.scaleFactor),ue<0&&(ue=-1*de.height*72/ue/this.internal.scaleFactor),W===0&&(W=ue*de.width/de.height),ue===0&&(ue=W*de.height/de.width),[W,ue]},M=function(W,ue,de,me,Qe,Ee){var _e=N.call(this,de,me,Qe),ke=this.internal.getCoordinateString,We=this.internal.getVerticalCoordinateString,Oe=A.call(this);if(de=_e[0],me=_e[1],Oe[Qe.index]=Qe,Ee){Ee*=Math.PI/180;var ze=Math.cos(Ee),ne=Math.sin(Ee),ae=function(Re){return Re.toFixed(4)},ve=[ae(ze),ae(ne),ae(-1*ne),ae(ze),0,0,"cm"]}this.internal.write("q"),Ee?(this.internal.write([1,"0","0",1,ke(W),We(ue+me),"cm"].join(" ")),this.internal.write(ve.join(" ")),this.internal.write([ke(de),"0","0",ke(me),"0","0","cm"].join(" "))):this.internal.write([ke(de),"0","0",ke(me),ke(W),We(ue+me),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Qe.index+" Do"),this.internal.write("Q")},D=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var H=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},q=r.__addimage__.sHashCode=function(W){var ue,de,me=0;if(typeof W=="string")for(de=W.length,ue=0;ue<de;ue++)me=(me<<5)-me+W.charCodeAt(ue),me|=0;else if(V(W))for(de=W.byteLength/2,ue=0;ue<de;ue++)me=(me<<5)-me+W[ue],me|=0;return me},$=r.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var ue=!0;return W.length===0&&(ue=!1),W.length%4!=0&&(ue=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(ue=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(ue=!1),ue},ce=r.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var ue=W.indexOf(",");return ue<0?null:W.substring(0,ue).trim().endsWith("base64")?W.substring(ue+1):null};r.__addimage__.isArrayBuffer=function(W){return W instanceof ArrayBuffer};var V=r.__addimage__.isArrayBufferView=function(W){return W instanceof Int8Array||W instanceof Uint8Array||W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array},he=r.__addimage__.binaryStringToUint8Array=function(W){for(var ue=W.length,de=new Uint8Array(ue),me=0;me<ue;me++)de[me]=W.charCodeAt(me);return de},le=r.__addimage__.arrayBufferToBinaryString=function(W){for(var ue="",de=V(W)?W:new Uint8Array(W),me=0;me<de.length;me+=8192)ue+=String.fromCharCode.apply(null,de.subarray(me,me+8192));return ue};r.addImage=function(){var W,ue,de,me,Qe,Ee,_e,ke,We;if(typeof arguments[1]=="number"?(ue=t,de=arguments[1],me=arguments[2],Qe=arguments[3],Ee=arguments[4],_e=arguments[5],ke=arguments[6],We=arguments[7]):(ue=arguments[1],de=arguments[2],me=arguments[3],Qe=arguments[4],Ee=arguments[5],_e=arguments[6],ke=arguments[7],We=arguments[8]),Na(W=arguments[0])==="object"&&!C(W)&&"imageData"in W){var Oe=W;W=Oe.imageData,ue=Oe.format||ue||t,de=Oe.x||de||0,me=Oe.y||me||0,Qe=Oe.w||Oe.width||Qe,Ee=Oe.h||Oe.height||Ee,_e=Oe.alias||_e,ke=Oe.compression||ke,We=Oe.rotation||Oe.angle||We}var ze=this.internal.getFilters();if(ke===void 0&&ze.indexOf("FlateEncode")!==-1&&(ke="SLOW"),isNaN(de)||isNaN(me))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var ne=fe.call(this,W,ue,_e,ke);return M.call(this,de,me,Qe,Ee,ne,We),this};var fe=function(W,ue,de,me){var Qe,Ee,_e;if(typeof W=="string"&&i(W)===t){W=unescape(W);var ke=Ne(W,!1);(ke!==""||(ke=r.loadFile(W,!0))!==void 0)&&(W=ke)}if(C(W)&&(W=x(W,ue)),ue=i(W,ue),!y(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(((_e=de)==null||_e.length===0)&&(de=(function(We){return typeof We=="string"||V(We)?q(We):V(We.data)?q(We.data):null})(W)),(Qe=k.call(this,de))||(W instanceof Uint8Array||ue==="RGBA"||(Ee=W,W=he(W)),Qe=this["process"+ue.toUpperCase()](W,f.call(this),de,(function(We){return We&&typeof We=="string"&&(We=We.toUpperCase()),We in r.image_compression?We:H.NONE})(me),Ee)),!Qe)throw new Error("An unknown error occurred whilst processing the image.");return Qe},Ne=r.__addimage__.convertBase64ToBinaryString=function(W,ue){ue=typeof ue!="boolean"||ue;var de,me="";if(typeof W=="string"){var Qe;de=(Qe=ce(W))!==null&&Qe!==void 0?Qe:W;try{me=GI(de)}catch(Ee){if(ue)throw $(de)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};r.getImageProperties=function(W){var ue,de,me="";if(C(W)&&(W=x(W)),typeof W=="string"&&i(W)===t&&((me=Ne(W,!1))===""&&(me=r.loadFile(W)||""),W=me),de=i(W),!y(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if(W instanceof Uint8Array||(W=he(W)),!(ue=this["process"+de.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return ue.fileType=de,ue}})(wn.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};wn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),A=t.pageContext.annotations,f=!1,y=0;y<A.length&&!f;y++)switch((n=A[y]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var C=0;C<A.length;C++){n=A[C];var x=this.internal.pdfEscape,k=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),D=this.internal.getEncryptor(N.objId),H=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+x(D(n.contents))+")",a+=" /Popup "+M.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+x(D(H))+") >>",N.content=a;var q=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+q,n.open&&(a+=" /Open true"),a+=" >>",M.content=a,this.internal.write(N.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var $=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(k(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var ce=this.annotations._nameMap[n.options.name];n.options.pageNumber=ce.page,n.options.top=ce.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var V=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,a,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(t),y:A(n),w:c(t+i),h:A(n+a)},options:o,type:"link"})},r.textWithLink=function(t,n,i,a){var o,s,c=this.getTextWidth(t),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var f=this.splitTextToSize(t,s).length;o=Math.ceil(A*f)}else s=c,o=A;return this.text(t,n,i,a),i+=.2*A,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-A,s,o,a),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(wn.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},s=r.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&i.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length>=1};var A=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&a(N)&&e[N.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(N){var M=0,D=t,H="",q=0;for(M=0;M<N.length;M+=1)D[N.charCodeAt(M)]!==void 0?(q++,typeof(D=D[N.charCodeAt(M)])=="number"&&(H+=String.fromCharCode(D),D=t,q=0),M===N.length-1&&(D=t,H+=N.charAt(M-(q-1)),M-=q-1,q=0)):(D=t,H+=N.charAt(M-q),M-=q,q=0);return H};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var C=r.__arabicParser__.getCorrectForm=function(N,M,D){return o(N)?a(N)===!1?-1:!A(N)||!o(M)&&!o(D)||!o(D)&&s(M)||s(N)&&!o(M)||s(N)&&c(M)||s(N)&&s(M)?0:f(N)&&o(M)&&!s(M)&&o(D)&&A(D)?3:s(N)||!o(D)?1:2:-1},x=function(N){var M=0,D=0,H=0,q="",$="",ce="",V=(N=N||"").split("\\s+"),he=[];for(M=0;M<V.length;M+=1){for(he.push(""),D=0;D<V[M].length;D+=1)q=V[M][D],$=V[M][D-1],ce=V[M][D+1],o(q)?(H=C(q,$,ce),he[M]+=H!==-1?String.fromCharCode(e[q.charCodeAt(0)][H]):q):he[M]+=q;he[M]=y(he[M])}return he.join(" ")},k=r.__arabicParser__.processArabic=r.processArabic=function(){var N,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,D=[];if(Array.isArray(M)){var H=0;for(D=[],H=0;H<M.length;H+=1)Array.isArray(M[H])?D.push([x(M[H][0]),M[H][1],M[H][2]]):D.push([x(M[H])]);N=D}else N=x(M);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",k])})(wn.API),wn.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(s){t=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(wn.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(N){A=N}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(N){C=N}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(N){x=N}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(N){k=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,A){n.call(this);var f=(A=A||{}).fontSize||this.getFontSize(),y=A.font||this.getFont(),C=A.scaleFactor||this.internal.scaleFactor,x=0,k=0,N=0,M=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var D=A.maxWidth;D>0?typeof c=="string"?c=this.splitTextToSize(c,D):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(q,$){return q.concat(M.splitTextToSize($,D))},[])):c=Array.isArray(c)?c:[c];for(var H=0;H<c.length;H++)x<(N=this.getStringUnitWidth(c[H],{font:y})*f)&&(x=N);return x!==0&&(k=c.length),{w:x/=C,h:Math.max((k*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/C,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,C=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=y.top,x&&C&&(this.printHeaderRow(c.lineNumber,!0),c.y+=C[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};r.table=function(c,A,f,y,C){if(n.call(this),!f)throw new Error("No data for PDF table.");var x,k,N,M,D=[],H=[],q=[],$={},ce={},V=[],he=[],le=(C=C||{}).autoSize||!1,fe=C.printHeaders!==!1,Ne=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,W=C.margins||Object.assign({width:this.getPageWidth()},e),ue=typeof C.padding=="number"?C.padding:3,de=C.headerBackgroundColor||"#c8c8c8",me=C.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=fe,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=Ne,this.internal.__cell__.padding=ue,this.internal.__cell__.headerBackgroundColor=de,this.internal.__cell__.headerTextColor=me,this.setFontSize(Ne),y==null)H=D=Object.keys(f[0]),q=D.map(function(){return"left"});else if(Array.isArray(y)&&Na(y[0])==="object")for(D=y.map(function(Oe){return Oe.name}),H=y.map(function(Oe){return Oe.prompt||Oe.name||""}),q=y.map(function(Oe){return Oe.align||"left"}),x=0;x<y.length;x+=1)ce[y[x].name]=.7499990551181103*y[x].width;else Array.isArray(y)&&typeof y[0]=="string"&&(H=D=y,q=D.map(function(){return"left"}));if(le||Array.isArray(y)&&typeof y[0]=="string")for(x=0;x<D.length;x+=1){for($[M=D[x]]=f.map(function(Oe){return Oe[M]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(H[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=$[M],this.setFont(void 0,"normal"),N=0;N<k.length;N+=1)V.push(this.getTextDimensions(k[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[M]=Math.max.apply(null,V)+ue+ue,V=[]}if(fe){var Qe={};for(x=0;x<D.length;x+=1)Qe[D[x]]={},Qe[D[x]].text=H[x],Qe[D[x]].align=q[x];var Ee=s.call(this,Qe,ce);he=D.map(function(Oe){return new a(c,A,ce[Oe],Ee,Qe[Oe].text,void 0,Qe[Oe].align)}),this.setTableHeaderRow(he),this.printHeaderRow(1,!1)}var _e=y.reduce(function(Oe,ze){return Oe[ze.name]=ze.align,Oe},{});for(x=0;x<f.length;x+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:x,data:f[x]},this);var ke=s.call(this,f[x],ce);for(N=0;N<D.length;N+=1){var We=f[x][D[N]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:x,col:N,data:We},this),o.call(this,new a(c,A,ce[D[N]],ke,We,x+2,_e[D[N]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var s=function(c,A){var f=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(c).map(function(x){var k=c[x];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,A[x]-f-f)},this).map(function(x){return this.getLineHeightFactor()*x.length*y/C+f+f},this).reduce(function(x,k){return Math.max(x,k)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){f=this.internal.__cell__.tableHeaderRow[x].clone(),A&&(f.y=this.internal.__cell__.margins.top||0,C.push(f)),f.lineNumber=c;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(k)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}})(wn.API);var AW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],x2=hW(dW),fW=[100,200,300,400,500,600,700,800,900],qde=hW(fW);function m4(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return AW[a=a||"normal"]?a:"normal"})(r.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(r.weight),i=(function(a){return typeof x2[a=a||"normal"]=="number"?a:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function QH(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var Kde={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function zH(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function qH(r){return r.trimLeft()}function Vde(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Gde(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var mB,KH,VH,H1,gB,GH,$H,YH,g4=["times"];function WH(r,e,t,n){var i=4,a=XH;switch(n){case wn.API.image_compression.FAST:i=1,a=ZH;break;case wn.API.image_compression.MEDIUM:i=6,a=JH;break;case wn.API.image_compression.SLOW:i=9,a=ez}r=(function(s,c,A,f){for(var y,C=s.length/c,x=new Uint8Array(s.length+C),k=[$de,ZH,XH,JH,ez],N=0;N<C;N+=1){var M=N*c,D=s.subarray(M,M+c);if(f)x.set(f(D,A,y),M+N);else{for(var H=k.length,q=[],$=0;$<H;$+=1)q[$]=k[$](D,A,y);var ce=Wde(q.concat());x.set(q[ce],M+N)}y=D}return x})(r,e,t,a);var o=m2(r,{level:i});return wn.API.__addimage__.arrayBufferToBinaryString(o)}function $de(r){var e=Array.apply([],r);return e.unshift(0),e}function ZH(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var a=r[i-e]||0;n[i+1]=r[i]-a+256&255}return n}function XH(r,e,t){var n=r.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=t&&t[a]||0;i[a+1]=r[a]-o+256&255}return i}function JH(r,e,t){var n=r.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=r[a-e]||0,s=t&&t[a]||0;i[a+1]=r[a]+256-(o+s>>>1)&255}return i}function ez(r,e,t){var n=r.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=Yde(r[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=r[a]-o+256&255}return i}function Yde(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),a=Math.abs(r+e-t-t);return n<=i&&n<=a?r:i<=a?e:t}function Wde(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function y4(r,e,t){var n=e*t,i=Math.floor(n/8),a=16-(n-8*i+t),o=(1<<t)-1;return pW(r,i)>>a&o}function tz(r,e,t,n){var i=t*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,c=(e&s)<<o;(function(A,f,y){if(f+1<A.byteLength)A.setUint16(f,y,!1);else{var C=y>>8&255;A.setUint8(f,C)}})(r,a,pW(r,a)&~(s<<o)&65535|c)}function pW(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Zde(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],a=i>>7,o=1<<1+(7&i);r[e++],r[e++];var s=null,c=null;a&&(s=e,c=o,e+=3*o);var A=!0,f=[],y=0,C=null,x=0,k=null;for(this.width=t,this.height=n;A&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,k=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((W=r[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];y=r[e++]|r[e++]<<8,C=r[e++],1&N||(C=null),x=N>>2&7,e++;break;case 254:for(;;){if(!((W=r[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var M=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,H=r[e++]|r[e++]<<8,q=r[e++]|r[e++]<<8,$=r[e++],ce=$>>6&1,V=1<<1+(7&$),he=s,le=c,fe=!1;$>>7&&(fe=!0,he=e,le=V,e+=3*V);var Ne=e;for(e++;;){var W;if(!((W=r[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}f.push({x:M,y:D,width:H,height:q,has_local_palette:fe,palette_offset:he,palette_size:le,data_offset:Ne,data_length:e-Ne,transparent_index:C,interlaced:!!ce,delay:y,disposal:x});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return k},this.frameInfo=function(ue){if(ue<0||ue>=f.length)throw new Error("Frame index out of range.");return f[ue]},this.decodeAndBlitFrameBGRA=function(ue,de){var me=this.frameInfo(ue),Qe=me.width*me.height,Ee=new Uint8Array(Qe);rz(r,me.data_offset,Ee,Qe);var _e=me.palette_offset,ke=me.transparent_index;ke===null&&(ke=256);var We=me.width,Oe=t-We,ze=We,ne=4*(me.y*t+me.x),ae=4*((me.y+me.height)*t+me.x),ve=ne,Re=4*Oe;me.interlaced===!0&&(Re+=4*t*7);for(var qe=8,Ze=0,st=Ee.length;Ze<st;++Ze){var ot=Ee[Ze];if(ze===0&&(ze=We,(ve+=Re)>=ae&&(Re=4*Oe+4*t*(qe-1),ve=ne+(We+Oe)*(qe<<1),qe>>=1)),ot===ke)ve+=4;else{var yt=r[_e+3*ot],Pe=r[_e+3*ot+1],oe=r[_e+3*ot+2];de[ve++]=oe,de[ve++]=Pe,de[ve++]=yt,de[ve++]=255}--ze}},this.decodeAndBlitFrameRGBA=function(ue,de){var me=this.frameInfo(ue),Qe=me.width*me.height,Ee=new Uint8Array(Qe);rz(r,me.data_offset,Ee,Qe);var _e=me.palette_offset,ke=me.transparent_index;ke===null&&(ke=256);var We=me.width,Oe=t-We,ze=We,ne=4*(me.y*t+me.x),ae=4*((me.y+me.height)*t+me.x),ve=ne,Re=4*Oe;me.interlaced===!0&&(Re+=4*t*7);for(var qe=8,Ze=0,st=Ee.length;Ze<st;++Ze){var ot=Ee[Ze];if(ze===0&&(ze=We,(ve+=Re)>=ae&&(Re=4*Oe+4*t*(qe-1),ve=ne+(We+Oe)*(qe<<1),qe>>=1)),ot===ke)ve+=4;else{var yt=r[_e+3*ot],Pe=r[_e+3*ot+1],oe=r[_e+3*ot+2];de[ve++]=yt,de[ve++]=Pe,de[ve++]=oe,de[ve++]=255}--ze}}}function rz(r,e,t,n){for(var i=r[e++],a=1<<i,o=a+1,s=o+1,c=i+1,A=(1<<c)-1,f=0,y=0,C=0,x=r[e++],k=new Int32Array(4096),N=null;;){for(;f<16&&x!==0;)y|=r[e++]<<f,f+=8,x===1?x=r[e++]:--x;if(f<c)break;var M=y&A;if(y>>=c,f-=c,M!==a){if(M===o)break;for(var D=M<s?M:N,H=0,q=D;q>a;)q=k[q]>>8,++H;var $=q;if(C+H+(D!==M?1:0)>n)return void to.log("Warning, gif stream longer than expected.");t[C++]=$;var ce=C+=H;for(D!==M&&(t[C++]=$),q=D;H--;)q=k[q],t[--ce]=255&q,q>>=8;N!==null&&s<4096&&(k[s++]=N<<8|$,s>=A+1&&c<12&&(++c,A=A<<1|1)),N=M}else s=o+1,A=(1<<(c=i+1))-1,N=null}return C!==n&&to.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v4(r){var e,t,n,i,a,o=Math.floor,s=new Array(64),c=new Array(64),A=new Array(64),f=new Array(64),y=new Array(65535),C=new Array(65535),x=new Array(64),k=new Array(64),N=[],M=0,D=7,H=new Array(64),q=new Array(64),$=new Array(64),ce=new Array(256),V=new Array(2048),he=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],le=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],fe=[0,1,2,3,4,5,6,7,8,9,10,11],Ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ue=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],de=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Qe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ee(ne,ae){for(var ve=0,Re=0,qe=new Array,Ze=1;Ze<=16;Ze++){for(var st=1;st<=ne[Ze];st++)qe[ae[Re]]=[],qe[ae[Re]][0]=ve,qe[ae[Re]][1]=Ze,Re++,ve++;ve*=2}return qe}function _e(ne){for(var ae=ne[0],ve=ne[1]-1;ve>=0;)ae&1<<ve&&(M|=1<<D),ve--,--D<0&&(M==255?(ke(255),ke(0)):ke(M),D=7,M=0)}function ke(ne){N.push(ne)}function We(ne){ke(ne>>8&255),ke(255&ne)}function Oe(ne,ae,ve,Re,qe){for(var Ze,st=qe[0],ot=qe[240],yt=(function(Ke,mt){var _t,Kt,Gt,tr,ur,nt,rt,Ht,Tt,Jt,rr=0;for(Tt=0;Tt<8;++Tt){_t=Ke[rr],Kt=Ke[rr+1],Gt=Ke[rr+2],tr=Ke[rr+3],ur=Ke[rr+4],nt=Ke[rr+5],rt=Ke[rr+6];var St=_t+(Ht=Ke[rr+7]),Vt=_t-Ht,Nt=Kt+rt,yr=Kt-rt,Gr=Gt+nt,Xt=Gt-nt,on=tr+ur,$r=tr-ur,xn=St+on,De=St-on,ye=Nt+Gr,we=Nt-Gr;Ke[rr]=xn+ye,Ke[rr+4]=xn-ye;var Se=.707106781*(we+De);Ke[rr+2]=De+Se,Ke[rr+6]=De-Se;var Je=.382683433*((xn=$r+Xt)-(we=yr+Vt)),ut=.5411961*xn+Je,xt=1.306562965*we+Je,dt=.707106781*(ye=Xt+yr),tt=Vt+dt,At=Vt-dt;Ke[rr+5]=At+ut,Ke[rr+3]=At-ut,Ke[rr+1]=tt+xt,Ke[rr+7]=tt-xt,rr+=8}for(rr=0,Tt=0;Tt<8;++Tt){_t=Ke[rr],Kt=Ke[rr+8],Gt=Ke[rr+16],tr=Ke[rr+24],ur=Ke[rr+32],nt=Ke[rr+40],rt=Ke[rr+48];var zt=_t+(Ht=Ke[rr+56]),qt=_t-Ht,or=Kt+rt,Sr=Kt-rt,Ir=Gt+nt,Rr=Gt-nt,Ln=tr+ur,kn=tr-ur,An=zt+Ln,dn=zt-Ln,Dr=or+Ir,Qr=or-Ir;Ke[rr]=An+Dr,Ke[rr+32]=An-Dr;var gn=.707106781*(Qr+dn);Ke[rr+16]=dn+gn,Ke[rr+48]=dn-gn;var Rn=.382683433*((An=kn+Rr)-(Qr=Sr+qt)),$i=.5411961*An+Rn,Va=1.306562965*Qr+Rn,Yi=.707106781*(Dr=Rr+Sr),ba=qt+Yi,Wu=qt-Yi;Ke[rr+40]=Wu+$i,Ke[rr+24]=Wu-$i,Ke[rr+8]=ba+Va,Ke[rr+56]=ba-Va,rr++}for(Tt=0;Tt<64;++Tt)Jt=Ke[Tt]*mt[Tt],x[Tt]=Jt>0?Jt+.5|0:Jt-.5|0;return x})(ne,ae),Pe=0;Pe<64;++Pe)k[he[Pe]]=yt[Pe];var oe=k[0]-ve;ve=k[0],oe==0?_e(Re[0]):(_e(Re[C[Ze=32767+oe]]),_e(y[Ze]));for(var pe=63;pe>0&&k[pe]==0;)pe--;if(pe==0)return _e(st),ve;for(var J,re=1;re<=pe;){for(var Ue=re;k[re]==0&&re<=pe;)++re;var be=re-Ue;if(be>=16){J=be>>4;for(var et=1;et<=J;++et)_e(ot);be&=15}Ze=32767+k[re],_e(qe[(be<<4)+C[Ze]]),_e(y[Ze]),re++}return pe!=63&&_e(st),ve}function ze(ne){ne=Math.min(Math.max(ne,1),100),a!=ne&&((function(ae){for(var ve=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Re=0;Re<64;Re++){var qe=o((ve[Re]*ae+50)/100);qe=Math.min(Math.max(qe,1),255),s[he[Re]]=qe}for(var Ze=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],st=0;st<64;st++){var ot=o((Ze[st]*ae+50)/100);ot=Math.min(Math.max(ot,1),255),c[he[st]]=ot}for(var yt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,oe=0;oe<8;oe++)for(var pe=0;pe<8;pe++)A[Pe]=1/(s[he[Pe]]*yt[oe]*yt[pe]*8),f[Pe]=1/(c[he[Pe]]*yt[oe]*yt[pe]*8),Pe++})(ne<50?Math.floor(5e3/ne):Math.floor(200-2*ne)),a=ne)}this.encode=function(ne,ae){ae&&ze(ae),N=new Array,M=0,D=7,We(65496),We(65504),We(16),ke(74),ke(70),ke(73),ke(70),ke(0),ke(1),ke(1),ke(0),We(1),We(1),ke(0),ke(0),(function(){We(65499),We(132),ke(0);for(var Kt=0;Kt<64;Kt++)ke(s[Kt]);ke(1);for(var Gt=0;Gt<64;Gt++)ke(c[Gt])})(),(function(Kt,Gt){We(65472),We(17),ke(8),We(Gt),We(Kt),ke(3),ke(1),ke(17),ke(0),ke(2),ke(17),ke(1),ke(3),ke(17),ke(1)})(ne.width,ne.height),(function(){We(65476),We(418),ke(0);for(var Kt=0;Kt<16;Kt++)ke(le[Kt+1]);for(var Gt=0;Gt<=11;Gt++)ke(fe[Gt]);ke(16);for(var tr=0;tr<16;tr++)ke(Ne[tr+1]);for(var ur=0;ur<=161;ur++)ke(W[ur]);ke(1);for(var nt=0;nt<16;nt++)ke(ue[nt+1]);for(var rt=0;rt<=11;rt++)ke(de[rt]);ke(17);for(var Ht=0;Ht<16;Ht++)ke(me[Ht+1]);for(var Tt=0;Tt<=161;Tt++)ke(Qe[Tt])})(),We(65498),We(12),ke(3),ke(1),ke(0),ke(2),ke(17),ke(3),ke(17),ke(0),ke(63),ke(0);var ve=0,Re=0,qe=0;M=0,D=7,this.encode.displayName="_encode_";for(var Ze,st,ot,yt,Pe,oe,pe,J,re,Ue=ne.data,be=ne.width,et=ne.height,Ke=4*be,mt=0;mt<et;){for(Ze=0;Ze<Ke;){for(Pe=Ke*mt+Ze,pe=-1,J=0,re=0;re<64;re++)oe=Pe+(J=re>>3)*Ke+(pe=4*(7&re)),mt+J>=et&&(oe-=Ke*(mt+1+J-et)),Ze+pe>=Ke&&(oe-=Ze+pe-Ke+4),st=Ue[oe++],ot=Ue[oe++],yt=Ue[oe++],H[re]=(V[st]+V[ot+256|0]+V[yt+512|0]>>16)-128,q[re]=(V[st+768|0]+V[ot+1024|0]+V[yt+1280|0]>>16)-128,$[re]=(V[st+1280|0]+V[ot+1536|0]+V[yt+1792|0]>>16)-128;ve=Oe(H,A,ve,e,n),Re=Oe(q,f,Re,t,i),qe=Oe($,f,qe,t,i),Ze+=32}mt+=8}if(D>=0){var _t=[];_t[1]=D+1,_t[0]=(1<<D+1)-1,_e(_t)}return We(65497),new Uint8Array(N)},r=r||50,(function(){for(var ne=String.fromCharCode,ae=0;ae<256;ae++)ce[ae]=ne(ae)})(),e=Ee(le,fe),t=Ee(ue,de),n=Ee(Ne,W),i=Ee(me,Qe),(function(){for(var ne=1,ae=2,ve=1;ve<=15;ve++){for(var Re=ne;Re<ae;Re++)C[32767+Re]=ve,y[32767+Re]=[],y[32767+Re][1]=ve,y[32767+Re][0]=Re;for(var qe=-(ae-1);qe<=-ne;qe++)C[32767+qe]=ve,y[32767+qe]=[],y[32767+qe][1]=ve,y[32767+qe][0]=ae-1+qe;ne<<=1,ae<<=1}})(),(function(){for(var ne=0;ne<256;ne++)V[ne]=19595*ne,V[ne+256|0]=38470*ne,V[ne+512|0]=7471*ne+32768,V[ne+768|0]=-11059*ne,V[ne+1024|0]=-21709*ne,V[ne+1280|0]=32768*ne+8421375,V[ne+1536|0]=-27439*ne,V[ne+1792|0]=-5329*ne})(),ze(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Of(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nz(r){function e(fe){if(!fe)throw Error("assert :P")}function t(fe,Ne,W){for(var ue=0;4>ue;ue++)if(fe[Ne+ue]!=W.charCodeAt(ue))return!0;return!1}function n(fe,Ne,W,ue,de){for(var me=0;me<de;me++)fe[Ne+me]=W[ue+me]}function i(fe,Ne,W,ue){for(var de=0;de<ue;de++)fe[Ne+de]=W}function a(fe){return new Int32Array(fe)}function o(fe,Ne){for(var W=[],ue=0;ue<fe;ue++)W.push(new Ne);return W}function s(fe,Ne){var W=[];return(function ue(de,me,Qe){for(var Ee=Qe[me],_e=0;_e<Ee&&(de.push(Qe.length>me+1?[]:new Ne),!(Qe.length<me+1));_e++)ue(de[_e],me+1,Qe)})(W,0,fe),W}var c=function(){var fe=this;function Ne(O,F){for(var _=1<<F-1>>>0;O&_;)_>>>=1;return _?(O&_-1)+_:O}function W(O,F,_,l,p){e(!(l%_));do O[F+(l-=_)]=p;while(0<l)}function ue(O,F,_,l,p){if(e(2328>=p),512>=p)var v=a(512);else if((v=a(p))==null)return 0;return(function(E,I,R,j,G,se){var X,ee,Ae=I,Te=1<<R,Ce=a(16),Le=a(16);for(e(G!=0),e(j!=null),e(E!=null),e(0<R),ee=0;ee<G;++ee){if(15<j[ee])return 0;++Ce[j[ee]]}if(Ce[0]==G)return 0;for(Le[1]=0,X=1;15>X;++X){if(Ce[X]>1<<X)return 0;Le[X+1]=Le[X]+Ce[X]}for(ee=0;ee<G;++ee)X=j[ee],0<j[ee]&&(se[Le[X]++]=ee);if(Le[15]==1)return(j=new de).g=0,j.value=se[0],W(E,Ae,1,Te,j),Te;var Me,$e=-1,Ge=Te-1,at=0,ft=1,Ct=1,pt=1<<R;for(ee=0,X=1,G=2;X<=R;++X,G<<=1){if(ft+=Ct<<=1,0>(Ct-=Ce[X]))return 0;for(;0<Ce[X];--Ce[X])(j=new de).g=X,j.value=se[ee++],W(E,Ae+at,G,pt,j),at=Ne(at,X)}for(X=R+1,G=2;15>=X;++X,G<<=1){if(ft+=Ct<<=1,0>(Ct-=Ce[X]))return 0;for(;0<Ce[X];--Ce[X]){if(j=new de,(at&Ge)!=$e){for(Ae+=pt,Me=1<<($e=X)-R;15>$e&&!(0>=(Me-=Ce[$e]));)++$e,Me<<=1;Te+=pt=1<<(Me=$e-R),E[I+($e=at&Ge)].g=Me+R,E[I+$e].value=Ae-I-$e}j.g=X-R,j.value=se[ee++],W(E,Ae+(at>>R),G,pt,j),at=Ne(at,X)}}return ft!=2*Le[15]-1?0:Te})(O,F,_,l,p,v)}function de(){this.value=this.g=0}function me(){this.value=this.g=0}function Qe(){this.G=o(5,de),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Cl,me)}function Ee(O,F,_,l){e(O!=null),e(F!=null),e(2147483648>l),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=F,O.pa=_,O.Jd=F,O.Yc=_+l,O.Zc=4<=l?_+l-4+1:_,st(O)}function _e(O,F){for(var _=0;0<F--;)_|=yt(O,128)<<F;return _}function ke(O,F){var _=_e(O,F);return ot(O)?-_:_}function We(O,F,_,l){var p,v=0;for(e(O!=null),e(F!=null),e(4294967288>l),O.Sb=l,O.Ra=0,O.u=0,O.h=0,4<l&&(l=4),p=0;p<l;++p)v+=F[_+p]<<8*p;O.Ra=v,O.bb=l,O.oa=F,O.pa=_}function Oe(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<Lc-8>>>0,++O.bb,O.u-=8;Re(O)&&(O.h=1,O.u=0)}function ze(O,F){if(e(0<=F),!O.h&&F<=du){var _=ve(O)&Bs[F];return O.u+=F,Oe(O),_}return O.h=1,O.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ve(O){return O.Ra>>>(O.u&Lc-1)>>>0}function Re(O){return e(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>Lc}function qe(O,F){O.u=F,O.h=Re(O)}function Ze(O){O.u>=Ta&&(e(O.u>=Ta),Oe(O))}function st(O){e(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(e(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function ot(O){return _e(O,1)}function yt(O,F){var _=O.Ca;0>O.b&&st(O);var l=O.b,p=_*F>>>8,v=(O.I>>>l>p)+0;for(v?(_-=p,O.I-=p+1<<l>>>0):_=p+1,l=_,p=0;256<=l;)p+=8,l>>=8;return l=7^p+df[l],O.b-=l,O.Ca=(_<<l)-1,v}function Pe(O,F,_){O[F+0]=_>>24&255,O[F+1]=_>>16&255,O[F+2]=_>>8&255,O[F+3]=255&_}function oe(O,F){return O[F+0]|O[F+1]<<8}function pe(O,F){return oe(O,F)|O[F+2]<<16}function J(O,F){return oe(O,F)|oe(O,F+2)<<16}function re(O,F){var _=1<<F;return e(O!=null),e(0<F),O.X=a(_),O.X==null?0:(O.Mb=32-F,O.Xa=F,1)}function Ue(O,F){e(O!=null),e(F!=null),e(O.Xa==F.Xa),n(F.X,0,O.X,0,1<<F.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function et(O,F,_,l){e(_!=null),e(l!=null);var p=_[0],v=l[0];return p==0&&(p=(O*v+F/2)/F),v==0&&(v=(F*p+O/2)/O),0>=p||0>=v?0:(_[0]=p,l[0]=v,1)}function Ke(O,F){return O+(1<<F)-1>>>F}function mt(O,F){return((4278255360&O)+(4278255360&F)>>>0&4278255360)+((16711935&O)+(16711935&F)>>>0&16711935)>>>0}function _t(O,F){fe[F]=function(_,l,p,v,E,I,R){var j;for(j=0;j<E;++j){var G=fe[O](I[R+j-1],p,v+j);I[R+j]=mt(_[l+j],G)}}}function Kt(){this.ud=this.hd=this.jd=0}function Gt(O,F){return((4278124286&(O^F))>>>1)+(O&F)>>>0}function tr(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function ur(O,F){return tr(O+(O-F+.5>>1))}function nt(O,F,_){return Math.abs(F-_)-Math.abs(O-_)}function rt(O,F,_,l,p,v,E){for(l=v[E-1],_=0;_<p;++_)v[E+_]=l=mt(O[F+_],l)}function Ht(O,F,_,l,p){var v;for(v=0;v<_;++v){var E=O[F+v],I=E>>8&255,R=16711935&(R=(R=16711935&E)+((I<<16)+I));l[p+v]=(4278255360&E)+R>>>0}}function Tt(O,F){F.jd=255&O,F.hd=O>>8&255,F.ud=O>>16&255}function Jt(O,F,_,l,p,v){var E;for(E=0;E<l;++E){var I=F[_+E],R=I>>>8,j=I,G=255&(G=(G=I>>>16)+((O.jd<<24>>24)*(R<<24>>24)>>>5));j=255&(j=(j+=(O.hd<<24>>24)*(R<<24>>24)>>>5)+((O.ud<<24>>24)*(G<<24>>24)>>>5)),p[v+E]=(4278255360&I)+(G<<16)+j}}function rr(O,F,_,l,p){fe[F]=function(v,E,I,R,j,G,se,X,ee){for(R=se;R<X;++R)for(se=0;se<ee;++se)j[G++]=p(I[l(v[E++])])},fe[O]=function(v,E,I,R,j,G,se){var X=8>>v.b,ee=v.Ea,Ae=v.K[0],Te=v.w;if(8>X)for(v=(1<<v.b)-1,Te=(1<<X)-1;E<I;++E){var Ce,Le=0;for(Ce=0;Ce<ee;++Ce)Ce&v||(Le=l(R[j++])),G[se++]=p(Ae[Le&Te]),Le>>=X}else fe["VP8LMapColor"+_](R,j,Ae,Te,G,se,E,I,ee)}}function St(O,F,_,l,p){for(_=F+_;F<_;){var v=O[F++];l[p++]=v>>16&255,l[p++]=v>>8&255,l[p++]=255&v}}function Vt(O,F,_,l,p){for(_=F+_;F<_;){var v=O[F++];l[p++]=v>>16&255,l[p++]=v>>8&255,l[p++]=255&v,l[p++]=v>>24&255}}function Nt(O,F,_,l,p){for(_=F+_;F<_;){var v=(E=O[F++])>>16&240|E>>12&15,E=240&E|E>>28&15;l[p++]=v,l[p++]=E}}function yr(O,F,_,l,p){for(_=F+_;F<_;){var v=(E=O[F++])>>16&248|E>>13&7,E=E>>5&224|E>>3&31;l[p++]=v,l[p++]=E}}function Gr(O,F,_,l,p){for(_=F+_;F<_;){var v=O[F++];l[p++]=255&v,l[p++]=v>>8&255,l[p++]=v>>16&255}}function Xt(O,F,_,l,p,v){if(v==0)for(_=F+_;F<_;)Pe(l,((v=O[F++])[0]>>24|v[1]>>8&65280|v[2]<<8&16711680|v[3]<<24)>>>0),p+=32;else n(l,p,O,F,_)}function on(O,F){fe[F][0]=fe[O+"0"],fe[F][1]=fe[O+"1"],fe[F][2]=fe[O+"2"],fe[F][3]=fe[O+"3"],fe[F][4]=fe[O+"4"],fe[F][5]=fe[O+"5"],fe[F][6]=fe[O+"6"],fe[F][7]=fe[O+"7"],fe[F][8]=fe[O+"8"],fe[F][9]=fe[O+"9"],fe[F][10]=fe[O+"10"],fe[F][11]=fe[O+"11"],fe[F][12]=fe[O+"12"],fe[F][13]=fe[O+"13"],fe[F][14]=fe[O+"0"],fe[F][15]=fe[O+"0"]}function $r(O){return O==_d||O==nc||O==Di||O==ua}function xn(){this.eb=[],this.size=this.A=this.fb=0}function De(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ye(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xn,this.f.kb=new De,this.sd=null}function we(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Se(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Je(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function ut(O,F){var _=O.T,l=F.ba.f.RGBA,p=l.eb,v=l.fb+O.ka*l.A,E=To[F.ba.S],I=O.y,R=O.O,j=O.f,G=O.N,se=O.ea,X=O.W,ee=F.cc,Ae=F.dc,Te=F.Mc,Ce=F.Nc,Le=O.ka,Me=O.ka+O.T,$e=O.U,Ge=$e+1>>1;for(Le==0?E(I,R,null,null,j,G,se,X,j,G,se,X,p,v,null,null,$e):(E(F.ec,F.fc,I,R,ee,Ae,Te,Ce,j,G,se,X,p,v-l.A,p,v,$e),++_);Le+2<Me;Le+=2)ee=j,Ae=G,Te=se,Ce=X,G+=O.Rc,X+=O.Rc,v+=2*l.A,E(I,(R+=2*O.fa)-O.fa,I,R,ee,Ae,Te,Ce,j,G,se,X,p,v-l.A,p,v,$e);return R+=O.fa,O.j+Me<O.o?(n(F.ec,F.fc,I,R,$e),n(F.cc,F.dc,j,G,Ge),n(F.Mc,F.Nc,se,X,Ge),_--):1&Me||E(I,R,null,null,j,G,se,X,j,G,se,X,p,v+l.A,null,null,$e),_}function xt(O,F,_){var l=O.F,p=[O.J];if(l!=null){var v=O.U,E=F.ba.S,I=E==Za||E==Di;F=F.ba.f.RGBA;var R=[0],j=O.ka;R[0]=O.T,O.Kb&&(j==0?--R[0]:(--j,p[0]-=O.width),O.j+O.ka+O.T==O.o&&(R[0]=O.o-O.j-j));var G=F.eb;j=F.fb+j*F.A,O=So(l,p[0],O.width,v,R,G,j+(I?0:3),F.A),e(_==R),O&&$r(E)&&IA(G,j,I,v,R,F.A)}return 0}function dt(O){var F=O.ma,_=F.ba.S,l=11>_,p=_==rc||_==Gh||_==Za||_==Tl||_==12||$r(_);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!ea(F.Oa,O,p?11:12))return 0;if(p&&$r(_)&&Zn(),O.da)alert("todo:use_scaling");else{if(l){if(F.Ib=Je,O.Kb){if(_=O.U+1>>1,F.memory=a(O.U+2*_),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+O.U,F.Mc=F.cc,F.Nc=F.dc+_,F.Ib=ut,Zn()}}else alert("todo:EmitYUV");p&&(F.Jb=xt,l&&Vi())}if(l&&!cp){for(O=0;256>O;++O)Mv[O]=89858*(O-128)+uo>>Os,yf[O]=-22014*(O-128)+uo,wd[O]=-45773*(O-128),La[O]=113618*(O-128)+uo>>Os;for(O=_u;O<MA;++O)F=76283*(O-16)+uo>>Os,bu[O-_u]=Wa(F,255),up[O-_u]=Wa(F+8>>4,15);cp=1}return 1}function tt(O){var F=O.ma,_=O.U,l=O.T;return e(!(1&O.ka)),0>=_||0>=l?0:(_=F.Ib(O,F),F.Jb!=null&&F.Jb(O,F,_),F.Dc+=_,1)}function At(O){O.ma.memory=null}function zt(O,F,_,l){return ze(O,8)!=47?0:(F[0]=ze(O,14)+1,_[0]=ze(O,14)+1,l[0]=ze(O,1),ze(O,3)!=0?0:!O.h)}function qt(O,F){if(4>O)return O+1;var _=O-2>>1;return(2+(1&O)<<_)+ze(F,_)+1}function or(O,F){return 120<F?F-120:1<=(_=((_=ic[F-1])>>4)*O+(8-(15&_)))?_:1;var _}function Sr(O,F,_){var l=ve(_),p=O[F+=255&l].g-8;return 0<p&&(qe(_,_.u+8),l=ve(_),F+=O[F].value,F+=l&(1<<p)-1),qe(_,_.u+O[F].g),O[F].value}function Ir(O,F,_){return _.g+=O.g,_.value+=O.value<<F>>>0,e(8>=_.g),O.g}function Rr(O,F,_){var l=O.xc;return e((F=l==0?0:O.vc[O.md*(_>>l)+(F>>l)])<O.Wb),O.Ya[F]}function Ln(O,F,_,l){var p=O.ab,v=O.c*F,E=O.C;F=E+F;var I=_,R=l;for(l=O.Ta,_=O.Ua;0<p--;){var j=O.gc[p],G=E,se=F,X=I,ee=R,Ae=(R=l,I=_,j.Ea);switch(e(G<se),e(se<=j.nc),j.hc){case 2:ec(X,ee,(se-G)*Ae,R,I);break;case 0:var Te=G,Ce=se,Le=R,Me=I,$e=(pt=j).Ea;Te==0&&(Jl(X,ee,null,null,1,Le,Me),rt(X,ee+1,0,0,$e-1,Le,Me+1),ee+=$e,Me+=$e,++Te);for(var Ge=1<<pt.b,at=Ge-1,ft=Ke($e,pt.b),Ct=pt.K,pt=pt.w+(Te>>pt.b)*ft;Te<Ce;){var Mt=Ct,Qt=pt,Ft=1;for(il(X,ee,Le,Me-$e,1,Le,Me);Ft<$e;){var Lt=(Ft&~at)+Ge;Lt>$e&&(Lt=$e),(0,fu[Mt[Qt++]>>8&15])(X,ee+ +Ft,Le,Me+Ft-$e,Lt-Ft,Le,Me+Ft),Ft=Lt}ee+=$e,Me+=$e,++Te&at||(pt+=ft)}se!=j.nc&&n(R,I-Ae,R,I+(se-G-1)*Ae,Ae);break;case 1:for(Ae=X,Ce=ee,$e=(X=j.Ea)-(Me=X&~(Le=(ee=1<<j.b)-1)),Te=Ke(X,j.b),Ge=j.K,j=j.w+(G>>j.b)*Te;G<se;){for(at=Ge,ft=j,Ct=new Kt,pt=Ce+Me,Mt=Ce+X;Ce<pt;)Tt(at[ft++],Ct),Dc(Ct,Ae,Ce,ee,R,I),Ce+=ee,I+=ee;Ce<Mt&&(Tt(at[ft++],Ct),Dc(Ct,Ae,Ce,$e,R,I),Ce+=$e,I+=$e),++G&Le||(j+=Te)}break;case 3:if(X==R&&ee==I&&0<j.b){for(Ce=R,X=Ae=I+(se-G)*Ae-(Me=(se-G)*Ke(j.Ea,j.b)),ee=R,Le=I,Te=[],Me=($e=Me)-1;0<=Me;--Me)Te[Me]=ee[Le+Me];for(Me=$e-1;0<=Me;--Me)Ce[X+Me]=Te[Me];yd(j,G,se,R,Ae,R,I)}else yd(j,G,se,X,ee,R,I)}I=l,R=_}R!=_&&n(l,_,I,R,v)}function kn(O,F){var _=O.V,l=O.Ba+O.c*O.C,p=F-O.C;if(e(F<=O.l.o),e(16>=p),0<p){var v=O.l,E=O.Ta,I=O.Ua,R=v.width;if(Ln(O,p,_,l),p=I=[I],e((_=O.C)<(l=F)),e(v.v<v.va),l>v.o&&(l=v.o),_<v.j){var j=v.j-_;_=v.j,p[0]+=j*R}if(_>=l?_=0:(p[0]+=4*v.v,v.ka=_-v.j,v.U=v.va-v.v,v.T=l-_,_=1),_){if(I=I[0],11>(_=O.ca).S){var G=_.f.RGBA,se=(l=_.S,p=v.U,v=v.T,j=G.eb,G.A),X=v;for(G=G.fb+O.Ma*G.A;0<X--;){var ee=E,Ae=I,Te=p,Ce=j,Le=G;switch(l){case Hr:oh(ee,Ae,Te,Ce,Le);break;case rc:Ba(ee,Ae,Te,Ce,Le);break;case _d:Ba(ee,Ae,Te,Ce,Le),IA(Ce,Le,0,Te,1,0);break;case Sl:li(ee,Ae,Te,Ce,Le);break;case Gh:Xt(ee,Ae,Te,Ce,Le,1);break;case nc:Xt(ee,Ae,Te,Ce,Le,1),IA(Ce,Le,0,Te,1,0);break;case Za:Xt(ee,Ae,Te,Ce,Le,0);break;case Di:Xt(ee,Ae,Te,Ce,Le,0),IA(Ce,Le,1,Te,1,0);break;case Tl:al(ee,Ae,Te,Ce,Le);break;case ua:al(ee,Ae,Te,Ce,Le),ks(Ce,Le,Te,1,0);break;case Ns:Qn(ee,Ae,Te,Ce,Le);break;default:e(0)}I+=R,G+=se}O.Ma+=v}else alert("todo:EmitRescaledRowsYUVA");e(O.Ma<=_.height)}}O.C=F,e(O.C<=O.i)}function An(O){var F;if(0<O.ua)return 0;for(F=0;F<O.Wb;++F){var _=O.Ya[F].G,l=O.Ya[F].H;if(0<_[1][l[1]+0].g||0<_[2][l[2]+0].g||0<_[3][l[3]+0].g)return 0}return 1}function dn(O,F,_,l,p,v){if(O.Z!=0){var E=O.qd,I=O.rd;for(e(sc[O.Z]!=null);F<_;++F)sc[O.Z](E,I,l,p,l,p,v),E=l,I=p,p+=v;O.qd=E,O.rd=I}}function Dr(O,F){var _=O.l.ma,l=_.Z==0||_.Z==1?O.l.j:O.C;if(l=O.C<l?l:O.C,e(F<=O.l.o),F>l){var p=O.l.width,v=_.ca,E=_.tb+p*l,I=O.V,R=O.Ba+O.c*l,j=O.gc;e(O.ab==1),e(j[0].hc==3),Rc(j[0],l,F,I,R,v,E),dn(_,l,F,v,E,p)}O.C=O.Ma=F}function Qr(O,F,_,l,p,v,E){var I=O.$/l,R=O.$%l,j=O.m,G=O.s,se=_+O.$,X=se;p=_+l*p;var ee=_+l*v,Ae=280+G.ua,Te=O.Pb?I:16777216,Ce=0<G.ua?G.Wa:null,Le=G.wc,Me=se<ee?Rr(G,R,I):null;e(O.C<v),e(ee<=p);var $e=!1;e:for(;;){for(;$e||se<ee;){var Ge=0;if(I>=Te){var at=se-_;e((Te=O).Pb),Te.wd=Te.m,Te.xd=at,0<Te.s.ua&&Ue(Te.s.Wa,Te.s.vb),Te=I+ff}if(R&Le||(Me=Rr(G,R,I)),e(Me!=null),Me.Qb&&(F[se]=Me.qb,$e=!0),!$e)if(Ze(j),Me.jc){Ge=j,at=F;var ft=se,Ct=Me.pd[ve(Ge)&Cl-1];e(Me.jc),256>Ct.g?(qe(Ge,Ge.u+Ct.g),at[ft]=Ct.value,Ge=0):(qe(Ge,Ge.u+Ct.g-256),e(256<=Ct.value),Ge=Ct.value),Ge==0&&($e=!0)}else Ge=Sr(Me.G[0],Me.H[0],j);if(j.h)break;if($e||256>Ge){if(!$e)if(Me.nd)F[se]=(Me.qb|Ge<<8)>>>0;else{if(Ze(j),$e=Sr(Me.G[1],Me.H[1],j),Ze(j),at=Sr(Me.G[2],Me.H[2],j),ft=Sr(Me.G[3],Me.H[3],j),j.h)break;F[se]=(ft<<24|$e<<16|Ge<<8|at)>>>0}if($e=!1,++se,++R>=l&&(R=0,++I,E!=null&&I<=v&&!(I%16)&&E(O,I),Ce!=null))for(;X<se;)Ge=F[X++],Ce.X[(506832829*Ge&4294967295)>>>Ce.Mb]=Ge}else if(280>Ge){if(Ge=qt(Ge-256,j),at=Sr(Me.G[4],Me.H[4],j),Ze(j),at=or(l,at=qt(at,j)),j.h)break;if(se-_<at||p-se<Ge)break e;for(ft=0;ft<Ge;++ft)F[se+ft]=F[se+ft-at];for(se+=Ge,R+=Ge;R>=l;)R-=l,++I,E!=null&&I<=v&&!(I%16)&&E(O,I);if(e(se<=p),R&Le&&(Me=Rr(G,R,I)),Ce!=null)for(;X<se;)Ge=F[X++],Ce.X[(506832829*Ge&4294967295)>>>Ce.Mb]=Ge}else{if(!(Ge<Ae))break e;for($e=Ge-280,e(Ce!=null);X<se;)Ge=F[X++],Ce.X[(506832829*Ge&4294967295)>>>Ce.Mb]=Ge;Ge=se,e(!($e>>>(at=Ce).Xa)),F[Ge]=at.X[$e],$e=!0}$e||e(j.h==Re(j))}if(O.Pb&&j.h&&se<p)e(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&Ue(O.s.vb,O.s.Wa);else{if(j.h)break e;E?.(O,I>v?v:I),O.a=0,O.$=se-_}return 1}return O.a=3,0}function gn(O){e(O!=null),O.vc=null,O.yc=null,O.Ya=null;var F=O.Wa;F!=null&&(F.X=null),O.vb=null,e(O!=null)}function Rn(){var O=new Sa;return O==null?null:(O.a=0,O.xb=Il,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),ec=Ht,Dc=Jt,oh=St,Ba=Vt,al=Nt,Qn=yr,li=Gr,fe.VP8LMapColor32b=Eo,fe.VP8LMapColor8b=ah,O)}function $i(O,F,_,l,p){var v=1,E=[O],I=[F],R=l.m,j=l.s,G=null,se=0;e:for(;;){if(_)for(;v&&ze(R,1);){var X=E,ee=I,Ae=l,Te=1,Ce=Ae.m,Le=Ae.gc[Ae.ab],Me=ze(Ce,2);if(Ae.Oc&1<<Me)v=0;else{switch(Ae.Oc|=1<<Me,Le.hc=Me,Le.Ea=X[0],Le.nc=ee[0],Le.K=[null],++Ae.ab,e(4>=Ae.ab),Me){case 0:case 1:Le.b=ze(Ce,3)+2,Te=$i(Ke(Le.Ea,Le.b),Ke(Le.nc,Le.b),0,Ae,Le.K),Le.K=Le.K[0];break;case 3:var $e,Ge=ze(Ce,8)+1,at=16<Ge?0:4<Ge?1:2<Ge?2:3;if(X[0]=Ke(Le.Ea,at),Le.b=at,$e=Te=$i(Ge,1,0,Ae,Le.K)){var ft,Ct=Ge,pt=Le,Mt=1<<(8>>pt.b),Qt=a(Mt);if(Qt==null)$e=0;else{var Ft=pt.K[0],Lt=pt.w;for(Qt[0]=pt.K[0][0],ft=1;ft<1*Ct;++ft)Qt[ft]=mt(Ft[Lt+ft],Qt[ft-1]);for(;ft<4*Mt;++ft)Qt[ft]=0;pt.K[0]=null,pt.K[0]=Qt,$e=1}}Te=$e;break;case 2:break;default:e(0)}v=Te}}if(E=E[0],I=I[0],v&&ze(R,1)&&!(v=1<=(se=ze(R,4))&&11>=se)){l.a=3;break e}var Pt;if(Pt=v)t:{var Br,hr,ir,It=l,sr=E,Tr=I,mr=se,sn=_,Cn=It.m,rn=It.s,zr=[null],Pr=1,bn=0,xr=ac[mr];r:for(;;){if(sn&&ze(Cn,1)){var En=ze(Cn,3)+2,Wi=Ke(sr,En),ti=Ke(Tr,En),va=Wi*ti;if(!$i(Wi,ti,0,It,zr))break r;for(zr=zr[0],rn.xc=En,Br=0;Br<va;++Br){var Vn=zr[Br]>>8&65535;zr[Br]=Vn,Vn>=Pr&&(Pr=Vn+1)}}if(Cn.h)break r;for(hr=0;5>hr;++hr){var Un=ls[hr];!hr&&0<mr&&(Un+=1<<mr),bn<Un&&(bn=Un)}var Ai=o(Pr*xr,de),Aa=Pr,yn=o(Aa,Qe);if(yn==null)var Nn=null;else e(65536>=Aa),Nn=yn;var Hn=a(bn);if(Nn==null||Hn==null||Ai==null){It.a=1;break r}var zn=Ai;for(Br=ir=0;Br<Pr;++Br){var qn=Nn[Br],ci=qn.G,gi=qn.H,us=0,ho=1,ui=0;for(hr=0;5>hr;++hr){Un=ls[hr],ci[hr]=zn,gi[hr]=ir,!hr&&0<mr&&(Un+=1<<mr);i:{var sl,Qc=Un,Hi=It,oa=Hn,Hc=zn,zc=ir,wu=0,ys=Hi.m,pm=ze(ys,1);if(i(oa,0,0,Qc),pm){var mm=ze(ys,1)+1,cc=ze(ys,1),Yh=ze(ys,cc==0?1:8);oa[Yh]=1,mm==2&&(oa[Yh=ze(ys,8)]=1);var ll=1}else{var vf=a(19),kl=ze(ys,4)+4;if(19<kl){Hi.a=3;var hp=0;break i}for(sl=0;sl<kl;++sl)vf[Fc[sl]]=ze(ys,3);var $g=void 0,_f=void 0,e1=Hi,t1=vf,RA=Qc,bf=oa,gm=0,Ms=e1.m,Wh=8,Lv=o(128,de);n:for(;ue(Lv,0,7,t1,19);){if(ze(Ms,1)){var Yg=2+2*ze(Ms,3);if(($g=2+ze(Ms,Yg))>RA)break n}else $g=RA;for(_f=0;_f<RA&&$g--;){Ze(Ms);var xd=Lv[0+(127&ve(Ms))];qe(Ms,Ms.u+xd.g);var sa=xd.value;if(16>sa)bf[_f++]=sa,sa!=0&&(Wh=sa);else{var ym=sa==16,Wg=sa-16,Ap=ss[Wg],dp=ze(Ms,bd[Wg])+Ap;if(_f+dp>RA)break n;for(var fp=ym?Wh:0;0<dp--;)bf[_f++]=fp}}gm=1;break n}gm||(e1.a=3),ll=gm}(ll=ll&&!ys.h)&&(wu=ue(Hc,zc,8,oa,Qc)),ll&&wu!=0?hp=wu:(Hi.a=3,hp=0)}if(hp==0)break r;if(ho&&lh[hr]==1&&(ho=zn[ir].g==0),us+=zn[ir].g,ir+=hp,3>=hr){var Cd,vm=Hn[0];for(Cd=1;Cd<Un;++Cd)Hn[Cd]>vm&&(vm=Hn[Cd]);ui+=vm}}if(qn.nd=ho,qn.Qb=0,ho&&(qn.qb=(ci[3][gi[3]+0].value<<24|ci[1][gi[1]+0].value<<16|ci[2][gi[2]+0].value)>>>0,us==0&&256>ci[0][gi[0]+0].value&&(qn.Qb=1,qn.qb+=ci[0][gi[0]+0].value<<8)),qn.jc=!qn.Qb&&6>ui,qn.jc){var DA,hh=qn;for(DA=0;DA<Cl;++DA){var xu=DA,Zh=hh.pd[xu],_m=hh.G[0][hh.H[0]+xu];256<=_m.value?(Zh.g=_m.g+256,Zh.value=_m.value):(Zh.g=0,Zh.value=0,xu>>=Ir(_m,8,Zh),xu>>=Ir(hh.G[1][hh.H[1]+xu],16,Zh),xu>>=Ir(hh.G[2][hh.H[2]+xu],0,Zh),Ir(hh.G[3][hh.H[3]+xu],24,Zh))}}}rn.vc=zr,rn.Wb=Pr,rn.Ya=Nn,rn.yc=Ai,Pt=1;break t}Pt=0}if(!(v=Pt)){l.a=3;break e}if(0<se){if(j.ua=1<<se,!re(j.Wa,se)){l.a=1,v=0;break e}}else j.ua=0;var UA=l,Rv=E,Zg=I,Dv=UA.s,bm=Dv.xc;if(UA.c=Rv,UA.i=Zg,Dv.md=Ke(Rv,bm),Dv.wc=bm==0?-1:(1<<bm)-1,_){l.xb=lp;break e}if((G=a(E*I))==null){l.a=1,v=0;break e}v=(v=Qr(l,G,0,E,I,I,null))&&!R.h;break e}return v?(p!=null?p[0]=G:(e(G==null),e(_)),l.$=0,_||gn(j)):gn(j),v}function Va(O,F){var _=O.c*O.i,l=_+F+16*F;return e(O.c<=F),O.V=a(l),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+_+F,1)}function Yi(O,F){var _=O.C,l=F-_,p=O.V,v=O.Ba+O.c*_;for(e(F<=O.l.o);0<l;){var E=16<l?16:l,I=O.l.ma,R=O.l.width,j=R*E,G=I.ca,se=I.tb+R*_,X=O.Ta,ee=O.Ua;Ln(O,E,p,v),wi(X,ee,G,se,j),dn(I,_,_+E,G,se,R),l-=E,p+=E*O.c,_+=E}e(_==F),O.C=O.Ma=F}function ba(){this.ub=this.yd=this.td=this.Rb=0}function Wu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function wA(){this.Yb=(function(){var O=[];return(function F(_,l,p){for(var v=p[l],E=0;E<v&&(_.push(p.length>l+1?[]:0),!(p.length<l+1));E++)F(_[E],l+1,p)})(O,0,[3,11]),O})()}function ip(){this.jb=a(3),this.Wc=s([4,8],wA),this.Xc=s([4,17],wA)}function mi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ga(){this.ld=this.La=this.dd=this.tc=0}function Es(){this.Na=this.la=0}function Uo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ga),this.Y=0,this.ya=Array(new Pa),this.aa=0,this.l=new Lh}function rs(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ns(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new ba,this.Kc=new Wu,this.ed=new mi,this.Qa=new Zu,this.Ic=this.$c=this.Aa=0,this.D=new Xu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ne),this.ia=0,this.pb=o(4,Uo),this.Pa=new ip,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rs),this.Hd=0,this.rb=Array(new Es),this.sb=0,this.wa=Array(new Ga),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pa),this.L=this.aa=0,this.gd=s([4,2],Ga),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Lh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lu(){var O=new ns;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,Xa||(Xa=Dn)),O}function Tn(O,F,_){return O.a==0&&(O.a=F,O.sc=_,O.cb=0),0}function Cc(O,F,_){return 3<=_&&O[F+0]==157&&O[F+1]==1&&O[F+2]==42}function Vl(O,F){if(O==null)return 0;if(O.a=0,O.sc="OK",F==null)return Tn(O,2,"null VP8Io passed to VP8GetHeaders()");var _=F.data,l=F.w,p=F.ha;if(4>p)return Tn(O,7,"Truncated header.");var v=_[l+0]|_[l+1]<<8|_[l+2]<<16,E=O.Od;if(E.Rb=!(1&v),E.td=v>>1&7,E.yd=v>>4&1,E.ub=v>>5,3<E.td)return Tn(O,3,"Incorrect keyframe parameters.");if(!E.yd)return Tn(O,4,"Frame not displayable.");l+=3,p-=3;var I=O.Kc;if(E.Rb){if(7>p)return Tn(O,7,"cannot parse picture header");if(!Cc(_,l,p))return Tn(O,3,"Bad code word");I.c=16383&(_[l+4]<<8|_[l+3]),I.Td=_[l+4]>>6,I.i=16383&(_[l+6]<<8|_[l+5]),I.Ud=_[l+6]>>6,l+=7,p-=7,O.za=I.c+15>>4,O.Ub=I.i+15>>4,F.width=I.c,F.height=I.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,i((v=O.Pa).jb,0,255,v.jb.length),e((v=O.Qa)!=null),v.Cb=0,v.Bb=0,v.Fb=1,i(v.Zb,0,0,v.Zb.length),i(v.Lb,0,0,v.Lb)}if(E.ub>p)return Tn(O,7,"bad partition length");Ee(v=O.m,_,l,E.ub),l+=E.ub,p-=E.ub,E.Rb&&(I.Ld=ot(v),I.Kd=ot(v)),I=O.Qa;var R,j=O.Pa;if(e(v!=null),e(I!=null),I.Cb=ot(v),I.Cb){if(I.Bb=ot(v),ot(v)){for(I.Fb=ot(v),R=0;4>R;++R)I.Zb[R]=ot(v)?ke(v,7):0;for(R=0;4>R;++R)I.Lb[R]=ot(v)?ke(v,6):0}if(I.Bb)for(R=0;3>R;++R)j.jb[R]=ot(v)?_e(v,8):255}else I.Bb=0;if(v.Ka)return Tn(O,3,"cannot parse segment header");if((I=O.ed).zd=ot(v),I.Tb=_e(v,6),I.wb=_e(v,3),I.Pc=ot(v),I.Pc&&ot(v)){for(j=0;4>j;++j)ot(v)&&(I.vd[j]=ke(v,6));for(j=0;4>j;++j)ot(v)&&(I.od[j]=ke(v,6))}if(O.L=I.Tb==0?0:I.zd?1:2,v.Ka)return Tn(O,3,"cannot parse filter header");var G=p;if(p=R=l,l=R+G,I=G,O.Xb=(1<<_e(O.m,2))-1,G<3*(j=O.Xb))_=7;else{for(R+=3*j,I-=3*j,G=0;G<j;++G){var se=_[p+0]|_[p+1]<<8|_[p+2]<<16;se>I&&(se=I),Ee(O.Jc[+G],_,R,se),R+=se,I-=se,p+=3}Ee(O.Jc[+j],_,R,I),_=R<l?0:5}if(_!=0)return Tn(O,_,"cannot parse partitions");for(_=_e(R=O.m,7),p=ot(R)?ke(R,4):0,l=ot(R)?ke(R,4):0,I=ot(R)?ke(R,4):0,j=ot(R)?ke(R,4):0,R=ot(R)?ke(R,4):0,G=O.Qa,se=0;4>se;++se){if(G.Cb){var X=G.Zb[se];G.Fb||(X+=_)}else{if(0<se){O.pb[se]=O.pb[0];continue}X=_}var ee=O.pb[se];ee.Sc[0]=$h[Wa(X+p,127)],ee.Sc[1]=mu[Wa(X+0,127)],ee.Eb[0]=2*$h[Wa(X+l,127)],ee.Eb[1]=101581*mu[Wa(X+I,127)]>>16,8>ee.Eb[1]&&(ee.Eb[1]=8),ee.Qc[0]=$h[Wa(X+j,117)],ee.Qc[1]=mu[Wa(X+R,127)],ee.lc=X+R}if(!E.Rb)return Tn(O,4,"Not a key frame.");for(ot(v),E=O.Pa,_=0;4>_;++_){for(p=0;8>p;++p)for(l=0;3>l;++l)for(I=0;11>I;++I)j=yt(v,yu[_][p][l][I])?_e(v,8):Bl[_][p][l][I],E.Wc[_][p].Yb[l][I]=j;for(p=0;17>p;++p)E.Xc[_][p]=E.Wc[_][sp[p]]}return O.kc=ot(v),O.kc&&(O.Bd=_e(v,8)),O.cb=1}function Dn(O,F,_,l,p,v,E){var I=F[p].Yb[_];for(_=0;16>p;++p){if(!yt(O,I[_+0]))return p;for(;!yt(O,I[_+1]);)if(I=F[++p].Yb[0],_=0,p==16)return 16;var R=F[p+1].Yb;if(yt(O,I[_+2])){var j=O,G=0;if(yt(j,(X=I)[(se=_)+3]))if(yt(j,X[se+6])){for(I=0,se=2*(G=yt(j,X[se+8]))+(X=yt(j,X[se+9+G])),G=0,X=ha[se];X[I];++I)G+=G+yt(j,X[I]);G+=3+(8<<se)}else yt(j,X[se+7])?(G=7+2*yt(j,165),G+=yt(j,145)):G=5+yt(j,159);else G=yt(j,X[se+4])?3+yt(j,X[se+5]):2;I=R[2]}else G=1,I=R[1];R=E+Pi[p],0>(j=O).b&&st(j);var se,X=j.b,ee=(se=j.Ca>>1)-(j.I>>X)>>31;--j.b,j.Ca+=ee,j.Ca|=1,j.I-=(se+1&ee)<<X,v[R]=((G^ee)-ee)*l[(0<p)+0]}return 16}function Ss(O){var F=O.rb[O.sb-1];F.la=0,F.Na=0,i(O.zc,0,0,O.zc.length),O.ja=0}function _n(O,F,_,l,p){p=O[F+_+32*l]+(p>>3),O[F+_+32*l]=-256&p?0>p?0:255:p}function Rh(O,F,_,l,p,v){_n(O,F,0,_,l+p),_n(O,F,1,_,l+v),_n(O,F,2,_,l-v),_n(O,F,3,_,l-p)}function oi(O){return(20091*O>>16)+O}function Ju(O,F,_,l){var p,v=0,E=a(16);for(p=0;4>p;++p){var I=O[F+0]+O[F+8],R=O[F+0]-O[F+8],j=(35468*O[F+4]>>16)-oi(O[F+12]),G=oi(O[F+4])+(35468*O[F+12]>>16);E[v+0]=I+G,E[v+1]=R+j,E[v+2]=R-j,E[v+3]=I-G,v+=4,F++}for(p=v=0;4>p;++p)I=(O=E[v+0]+4)+E[v+8],R=O-E[v+8],j=(35468*E[v+4]>>16)-oi(E[v+12]),_n(_,l,0,0,I+(G=oi(E[v+4])+(35468*E[v+12]>>16))),_n(_,l,1,0,R+j),_n(_,l,2,0,R-j),_n(_,l,3,0,I-G),v++,l+=32}function lf(O,F,_,l){var p=O[F+0]+4,v=35468*O[F+4]>>16,E=oi(O[F+4]),I=35468*O[F+1]>>16;Rh(_,l,0,p+E,O=oi(O[F+1]),I),Rh(_,l,1,p+v,O,I),Rh(_,l,2,p-v,O,I),Rh(_,l,3,p-E,O,I)}function eh(O,F,_,l,p){Ju(O,F,_,l),p&&Ju(O,F+16,_,l+4)}function Gl(O,F,_,l){Ni(O,F+0,_,l,1),Ni(O,F+32,_,l+128,1)}function Fo(O,F,_,l){var p;for(O=O[F+0]+4,p=0;4>p;++p)for(F=0;4>F;++F)_n(_,l,F,p,O)}function Dh(O,F,_,l){O[F+0]&&Is(O,F+0,_,l),O[F+16]&&Is(O,F+16,_,l+4),O[F+32]&&Is(O,F+32,_,l+128),O[F+48]&&Is(O,F+48,_,l+128+4)}function wl(O,F,_,l){var p,v=a(16);for(p=0;4>p;++p){var E=O[F+0+p]+O[F+12+p],I=O[F+4+p]+O[F+8+p],R=O[F+4+p]-O[F+8+p],j=O[F+0+p]-O[F+12+p];v[0+p]=E+I,v[8+p]=E-I,v[4+p]=j+R,v[12+p]=j-R}for(p=0;4>p;++p)E=(O=v[0+4*p]+3)+v[3+4*p],I=v[1+4*p]+v[2+4*p],R=v[1+4*p]-v[2+4*p],j=O-v[3+4*p],_[l+0]=E+I>>3,_[l+16]=j+R>>3,_[l+32]=E-I>>3,_[l+48]=j-R>>3,l+=64}function Uh(O,F,_){var l,p=F-32,v=Ma,E=255-O[p-1];for(l=0;l<_;++l){var I,R=v,j=E+O[F-1];for(I=0;I<_;++I)O[F+I]=R[j+O[p+I]];F+=32}}function Fh(O,F){Uh(O,F,4)}function cf(O,F){Uh(O,F,8)}function uf(O,F){Uh(O,F,16)}function hf(O,F){var _;for(_=0;16>_;++_)n(O,F+32*_,O,F-32,16)}function jh(O,F){var _;for(_=16;0<_;--_)i(O,F,O[F-1],16),F+=32}function Ec(O,F,_){var l;for(l=0;16>l;++l)i(F,_+32*l,O,16)}function Sc(O,F){var _,l=16;for(_=0;16>_;++_)l+=O[F-1+32*_]+O[F+_-32];Ec(l>>5,O,F)}function md(O,F){var _,l=8;for(_=0;16>_;++_)l+=O[F-1+32*_];Ec(l>>4,O,F)}function Ts(O,F){var _,l=8;for(_=0;16>_;++_)l+=O[F+_-32];Ec(l>>4,O,F)}function Tc(O,F){Ec(128,O,F)}function On(O,F,_){return O+2*F+_+2>>2}function Bc(O,F){var _,l=F-32;for(l=new Uint8Array([On(O[l-1],O[l+0],O[l+1]),On(O[l+0],O[l+1],O[l+2]),On(O[l+1],O[l+2],O[l+3]),On(O[l+2],O[l+3],O[l+4])]),_=0;4>_;++_)n(O,F+32*_,l,0,l.length)}function Qh(O,F){var _=O[F-1],l=O[F-1+32],p=O[F-1+64],v=O[F-1+96];Pe(O,F+0,16843009*On(O[F-1-32],_,l)),Pe(O,F+32,16843009*On(_,l,p)),Pe(O,F+64,16843009*On(l,p,v)),Pe(O,F+96,16843009*On(p,v,v))}function Co(O,F){var _,l=4;for(_=0;4>_;++_)l+=O[F+_-32]+O[F-1+32*_];for(l>>=3,_=0;4>_;++_)i(O,F+32*_,l,4)}function Ic(O,F){var _=O[F-1+0],l=O[F-1+32],p=O[F-1+64],v=O[F-1-32],E=O[F+0-32],I=O[F+1-32],R=O[F+2-32],j=O[F+3-32];O[F+0+96]=On(l,p,O[F-1+96]),O[F+1+96]=O[F+0+64]=On(_,l,p),O[F+2+96]=O[F+1+64]=O[F+0+32]=On(v,_,l),O[F+3+96]=O[F+2+64]=O[F+1+32]=O[F+0+0]=On(E,v,_),O[F+3+64]=O[F+2+32]=O[F+1+0]=On(I,E,v),O[F+3+32]=O[F+2+0]=On(R,I,E),O[F+3+0]=On(j,R,I)}function el(O,F){var _=O[F+1-32],l=O[F+2-32],p=O[F+3-32],v=O[F+4-32],E=O[F+5-32],I=O[F+6-32],R=O[F+7-32];O[F+0+0]=On(O[F+0-32],_,l),O[F+1+0]=O[F+0+32]=On(_,l,p),O[F+2+0]=O[F+1+32]=O[F+0+64]=On(l,p,v),O[F+3+0]=O[F+2+32]=O[F+1+64]=O[F+0+96]=On(p,v,E),O[F+3+32]=O[F+2+64]=O[F+1+96]=On(v,E,I),O[F+3+64]=O[F+2+96]=On(E,I,R),O[F+3+96]=On(I,R,R)}function ps(O,F){var _=O[F-1+0],l=O[F-1+32],p=O[F-1+64],v=O[F-1-32],E=O[F+0-32],I=O[F+1-32],R=O[F+2-32],j=O[F+3-32];O[F+0+0]=O[F+1+64]=v+E+1>>1,O[F+1+0]=O[F+2+64]=E+I+1>>1,O[F+2+0]=O[F+3+64]=I+R+1>>1,O[F+3+0]=R+j+1>>1,O[F+0+96]=On(p,l,_),O[F+0+64]=On(l,_,v),O[F+0+32]=O[F+1+96]=On(_,v,E),O[F+1+32]=O[F+2+96]=On(v,E,I),O[F+2+32]=O[F+3+96]=On(E,I,R),O[F+3+32]=On(I,R,j)}function tl(O,F){var _=O[F+0-32],l=O[F+1-32],p=O[F+2-32],v=O[F+3-32],E=O[F+4-32],I=O[F+5-32],R=O[F+6-32],j=O[F+7-32];O[F+0+0]=_+l+1>>1,O[F+1+0]=O[F+0+64]=l+p+1>>1,O[F+2+0]=O[F+1+64]=p+v+1>>1,O[F+3+0]=O[F+2+64]=v+E+1>>1,O[F+0+32]=On(_,l,p),O[F+1+32]=O[F+0+96]=On(l,p,v),O[F+2+32]=O[F+1+96]=On(p,v,E),O[F+3+32]=O[F+2+96]=On(v,E,I),O[F+3+64]=On(E,I,R),O[F+3+96]=On(I,R,j)}function Hh(O,F){var _=O[F-1+0],l=O[F-1+32],p=O[F-1+64],v=O[F-1+96];O[F+0+0]=_+l+1>>1,O[F+2+0]=O[F+0+32]=l+p+1>>1,O[F+2+32]=O[F+0+64]=p+v+1>>1,O[F+1+0]=On(_,l,p),O[F+3+0]=O[F+1+32]=On(l,p,v),O[F+3+32]=O[F+1+64]=On(p,v,v),O[F+3+64]=O[F+2+64]=O[F+0+96]=O[F+1+96]=O[F+2+96]=O[F+3+96]=v}function $l(O,F){var _=O[F-1+0],l=O[F-1+32],p=O[F-1+64],v=O[F-1+96],E=O[F-1-32],I=O[F+0-32],R=O[F+1-32],j=O[F+2-32];O[F+0+0]=O[F+2+32]=_+E+1>>1,O[F+0+32]=O[F+2+64]=l+_+1>>1,O[F+0+64]=O[F+2+96]=p+l+1>>1,O[F+0+96]=v+p+1>>1,O[F+3+0]=On(I,R,j),O[F+2+0]=On(E,I,R),O[F+1+0]=O[F+3+32]=On(_,E,I),O[F+1+32]=O[F+3+64]=On(l,_,E),O[F+1+64]=O[F+3+96]=On(p,l,_),O[F+1+96]=On(v,p,l)}function Yl(O,F){var _;for(_=0;8>_;++_)n(O,F+32*_,O,F-32,8)}function xl(O,F){var _;for(_=0;8>_;++_)i(O,F,O[F-1],8),F+=32}function Wn(O,F,_){var l;for(l=0;8>l;++l)i(F,_+32*l,O,8)}function xA(O,F){var _,l=8;for(_=0;8>_;++_)l+=O[F+_-32]+O[F-1+32*_];Wn(l>>4,O,F)}function Oa(O,F){var _,l=4;for(_=0;8>_;++_)l+=O[F+_-32];Wn(l>>3,O,F)}function rl(O,F){var _,l=4;for(_=0;8>_;++_)l+=O[F-1+32*_];Wn(l>>3,O,F)}function oo(O,F){Wn(128,O,F)}function Ea(O,F,_){var l=O[F-_],p=O[F+0],v=3*(p-l)+op[1020+O[F-2*_]-O[F+_]],E=Ho[112+(v+4>>3)];O[F-_]=Ma[255+l+Ho[112+(v+3>>3)]],O[F+0]=Ma[255+p-E]}function th(O,F,_,l){var p=O[F+0],v=O[F+_];return Lr[255+O[F-2*_]-O[F-_]]>l||Lr[255+v-p]>l}function kc(O,F,_,l){return 4*Lr[255+O[F-_]-O[F+0]]+Lr[255+O[F-2*_]-O[F+_]]<=l}function Nc(O,F,_,l,p){var v=O[F-3*_],E=O[F-2*_],I=O[F-_],R=O[F+0],j=O[F+_],G=O[F+2*_],se=O[F+3*_];return 4*Lr[255+I-R]+Lr[255+E-j]>l?0:Lr[255+O[F-4*_]-v]<=p&&Lr[255+v-E]<=p&&Lr[255+E-I]<=p&&Lr[255+se-G]<=p&&Lr[255+G-j]<=p&&Lr[255+j-R]<=p}function cu(O,F,_,l){var p=2*l+1;for(l=0;16>l;++l)kc(O,F+l,_,p)&&Ea(O,F+l,_)}function Pc(O,F,_,l){var p=2*l+1;for(l=0;16>l;++l)kc(O,F+l*_,1,p)&&Ea(O,F+l*_,1)}function Oc(O,F,_,l){var p;for(p=3;0<p;--p)cu(O,F+=4*_,_,l)}function rh(O,F,_,l){var p;for(p=3;0<p;--p)Pc(O,F+=4,_,l)}function is(O,F,_,l,p,v,E,I){for(v=2*v+1;0<p--;){if(Nc(O,F,_,v,E))if(th(O,F,_,I))Ea(O,F,_);else{var R=O,j=F,G=_,se=R[j-2*G],X=R[j-G],ee=R[j+0],Ae=R[j+G],Te=R[j+2*G],Ce=27*(Me=op[1020+3*(ee-X)+op[1020+se-Ae]])+63>>7,Le=18*Me+63>>7,Me=9*Me+63>>7;R[j-3*G]=Ma[255+R[j-3*G]+Me],R[j-2*G]=Ma[255+se+Le],R[j-G]=Ma[255+X+Ce],R[j+0]=Ma[255+ee-Ce],R[j+G]=Ma[255+Ae-Le],R[j+2*G]=Ma[255+Te-Me]}F+=l}}function jo(O,F,_,l,p,v,E,I){for(v=2*v+1;0<p--;){if(Nc(O,F,_,v,E))if(th(O,F,_,I))Ea(O,F,_);else{var R=O,j=F,G=_,se=R[j-G],X=R[j+0],ee=R[j+G],Ae=Ho[112+(4+(Te=3*(X-se))>>3)],Te=Ho[112+(Te+3>>3)],Ce=Ae+1>>1;R[j-2*G]=Ma[255+R[j-2*G]+Ce],R[j-G]=Ma[255+se+Te],R[j+0]=Ma[255+X-Ae],R[j+G]=Ma[255+ee-Ce]}F+=l}}function Y(O,F,_,l,p,v){is(O,F,_,1,16,l,p,v)}function Be(O,F,_,l,p,v){is(O,F,1,_,16,l,p,v)}function Xe(O,F,_,l,p,v){var E;for(E=3;0<E;--E)jo(O,F+=4*_,_,1,16,l,p,v)}function ct(O,F,_,l,p,v){var E;for(E=3;0<E;--E)jo(O,F+=4,1,_,16,l,p,v)}function wt(O,F,_,l,p,v,E,I){is(O,F,p,1,8,v,E,I),is(_,l,p,1,8,v,E,I)}function Zt(O,F,_,l,p,v,E,I){is(O,F,1,p,8,v,E,I),is(_,l,1,p,8,v,E,I)}function nr(O,F,_,l,p,v,E,I){jo(O,F+4*p,p,1,8,v,E,I),jo(_,l+4*p,p,1,8,v,E,I)}function Vr(O,F,_,l,p,v,E,I){jo(O,F+4,1,p,8,v,E,I),jo(_,l+4,1,p,8,v,E,I)}function nn(){this.ba=new ye,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Se,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ur(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vi(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Qe,this.yc=new de}function Sa(){this.xb=this.a=0,this.l=new Lh,this.ca=new ye,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vi,this.ab=0,this.gc=o(4,Ur),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Lh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Li(O,F,_,l,p,v,E){for(O=O==null?0:O[F+0],F=0;F<E;++F)p[v+F]=O+_[l+F]&255,O=p[v+F]}function so(O,F,_,l,p,v,E){var I;if(O==null)Li(null,null,_,l,p,v,E);else for(I=0;I<E;++I)p[v+I]=O[F+I]+_[l+I]&255}function lo(O,F,_,l,p,v,E){if(O==null)Li(null,null,_,l,p,v,E);else{var I,R=O[F+0],j=R,G=R;for(I=0;I<E;++I)j=G+(R=O[F+I])-j,G=_[l+I]+(-256&j?0>j?0:255:j)&255,j=R,p[v+I]=G}}function co(O,F,_,l){var p=F.width,v=F.o;if(e(O!=null&&F!=null),0>_||0>=l||_+l>v)return null;if(!O.Cc){if(O.ga==null){var E;if(O.ga=new $a,(E=O.ga==null)||(E=F.width*F.o,e(O.Gb.length==0),O.Gb=a(E),O.Uc=0,O.Gb==null?E=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,E=1),E=!E),!E){E=O.ga;var I=O.Fa,R=O.P,j=O.qc,G=O.mb,se=O.nb,X=R+1,ee=j-1,Ae=E.l;if(e(I!=null&&G!=null&&F!=null),sc[0]=null,sc[1]=Li,sc[2]=so,sc[3]=lo,E.ca=G,E.tb=se,E.c=F.width,E.i=F.height,e(0<E.c&&0<E.i),1>=j)F=0;else if(E.$a=3&I[R+0],E.Z=I[R+0]>>2&3,E.Lc=I[R+0]>>4&3,R=I[R+0]>>6&3,0>E.$a||1<E.$a||4<=E.Z||1<E.Lc||R)F=0;else if(Ae.put=tt,Ae.ac=dt,Ae.bc=At,Ae.ma=E,Ae.width=F.width,Ae.height=F.height,Ae.Da=F.Da,Ae.v=F.v,Ae.va=F.va,Ae.j=F.j,Ae.o=F.o,E.$a)e:{e(E.$a==1),F=Rn();t:for(;;){if(F==null){F=0;break e}if(e(E!=null),E.mc=F,F.c=E.c,F.i=E.i,F.l=E.l,F.l.ma=E,F.l.width=E.c,F.l.height=E.i,F.a=0,We(F.m,I,X,ee),!$i(E.c,E.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&An(F.s)?(E.ic=1,I=F.c*F.i,F.Ta=null,F.Ua=0,F.V=a(I),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(E.ic=0,F=Va(F,E.c)),!F))break t;F=1;break e}E.mc=null,F=0}else F=ee>=E.c*E.i;E=!F}if(E)return null;O.ga.Lc!=1?O.Ga=0:l=v-_}e(O.ga!=null),e(_+l<=v);e:{if(F=(I=O.ga).c,v=I.l.o,I.$a==0){if(X=O.rc,ee=O.Vc,Ae=O.Fa,R=O.P+1+_*F,j=O.mb,G=O.nb+_*F,e(R<=O.P+O.qc),I.Z!=0)for(e(sc[I.Z]!=null),E=0;E<l;++E)sc[I.Z](X,ee,Ae,R,j,G,F),X=j,ee=G,G+=F,R+=F;else for(E=0;E<l;++E)n(j,G,Ae,R,F),X=j,ee=G,G+=F,R+=F;O.rc=X,O.Vc=ee}else{if(e(I.mc!=null),F=_+l,e((E=I.mc)!=null),e(F<=E.i),E.C>=F)F=1;else if(I.ic||Vi(),I.ic){I=E.V,X=E.Ba,ee=E.c;var Te=E.i,Ce=(Ae=1,R=E.$/ee,j=E.$%ee,G=E.m,se=E.s,E.$),Le=ee*Te,Me=ee*F,$e=se.wc,Ge=Ce<Me?Rr(se,j,R):null;e(Ce<=Le),e(F<=Te),e(An(se));t:for(;;){for(;!G.h&&Ce<Me;){if(j&$e||(Ge=Rr(se,j,R)),e(Ge!=null),Ze(G),256>(Te=Sr(Ge.G[0],Ge.H[0],G)))I[X+Ce]=Te,++Ce,++j>=ee&&(j=0,++R<=F&&!(R%16)&&Dr(E,R));else{if(!(280>Te)){Ae=0;break t}Te=qt(Te-256,G);var at,ft=Sr(Ge.G[4],Ge.H[4],G);if(Ze(G),!(Ce>=(ft=or(ee,ft=qt(ft,G)))&&Le-Ce>=Te)){Ae=0;break t}for(at=0;at<Te;++at)I[X+Ce+at]=I[X+Ce+at-ft];for(Ce+=Te,j+=Te;j>=ee;)j-=ee,++R<=F&&!(R%16)&&Dr(E,R);Ce<Me&&j&$e&&(Ge=Rr(se,j,R))}e(G.h==Re(G))}Dr(E,R>F?F:R);break t}!Ae||G.h&&Ce<Le?(Ae=0,E.a=G.h?5:3):E.$=Ce,F=Ae}else F=Qr(E,E.V,E.Ba,E.c,E.i,F,Yi);if(!F){l=0;break e}}_+l>=v&&(O.Cc=1),l=1}if(!l)return null;if(O.Cc&&((l=O.ga)!=null&&(l.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+_*p}function nh(O,F,_,l,p,v){for(;0<p--;){var E,I=O,R=F+(_?1:0),j=O,G=F+(_?0:3);for(E=0;E<l;++E){var se=j[G+4*E];se!=255&&(se*=32897,I[R+4*E+0]=I[R+4*E+0]*se>>23,I[R+4*E+1]=I[R+4*E+1]*se>>23,I[R+4*E+2]=I[R+4*E+2]*se>>23)}F+=v}}function uu(O,F,_,l,p){for(;0<l--;){var v;for(v=0;v<_;++v){var E=O[F+2*v+0],I=15&(j=O[F+2*v+1]),R=4369*I,j=(240&j|j>>4)*R>>16;O[F+2*v+0]=(240&E|E>>4)*R>>16&240|(15&E|E<<4)*R>>16>>4&15,O[F+2*v+1]=240&j|I}F+=p}}function gd(O,F,_,l,p,v,E,I){var R,j,G=255;for(j=0;j<p;++j){for(R=0;R<l;++R){var se=O[F+R];v[E+4*R]=se,G&=se}F+=_,E+=I}return G!=255}function CA(O,F,_,l,p){var v;for(v=0;v<p;++v)_[l+v]=O[F+v]>>8}function Vi(){IA=nh,ks=uu,So=gd,wi=CA}function nl(O,F,_){fe[O]=function(l,p,v,E,I,R,j,G,se,X,ee,Ae,Te,Ce,Le,Me,$e){var Ge,at=$e-1>>1,ft=I[R+0]|j[G+0]<<16,Ct=se[X+0]|ee[Ae+0]<<16;e(l!=null);var pt=3*ft+Ct+131074>>2;for(F(l[p+0],255&pt,pt>>16,Te,Ce),v!=null&&(pt=3*Ct+ft+131074>>2,F(v[E+0],255&pt,pt>>16,Le,Me)),Ge=1;Ge<=at;++Ge){var Mt=I[R+Ge]|j[G+Ge]<<16,Qt=se[X+Ge]|ee[Ae+Ge]<<16,Ft=ft+Mt+Ct+Qt+524296,Lt=Ft+2*(Mt+Ct)>>3;pt=Lt+ft>>1,ft=(Ft=Ft+2*(ft+Qt)>>3)+Mt>>1,F(l[p+2*Ge-1],255&pt,pt>>16,Te,Ce+(2*Ge-1)*_),F(l[p+2*Ge-0],255&ft,ft>>16,Te,Ce+(2*Ge-0)*_),v!=null&&(pt=Ft+Ct>>1,ft=Lt+Qt>>1,F(v[E+2*Ge-1],255&pt,pt>>16,Le,Me+(2*Ge-1)*_),F(v[E+2*Ge+0],255&ft,ft>>16,Le,Me+(2*Ge+0)*_)),ft=Mt,Ct=Qt}1&$e||(pt=3*ft+Ct+131074>>2,F(l[p+$e-1],255&pt,pt>>16,Te,Ce+($e-1)*_),v!=null&&(pt=3*Ct+ft+131074>>2,F(v[E+$e-1],255&pt,pt>>16,Le,Me+($e-1)*_)))}}function Zn(){To[Hr]=vu,To[rc]=lc,To[Sl]=ch,To[Gh]=pf,To[Za]=mf,To[Tl]=OA,To[Ns]=gf,To[_d]=lc,To[nc]=pf,To[Di]=mf,To[ua]=OA}function Ri(O){return O&-16384?0>O?0:255:O>>fm}function si(O,F){return Ri((19077*O>>8)+(26149*F>>8)-14234)}function Ya(O,F,_){return Ri((19077*O>>8)-(6419*F>>8)-(13320*_>>8)+8708)}function Mc(O,F){return Ri((19077*O>>8)+(33050*F>>8)-17685)}function Wl(O,F,_,l,p){l[p+0]=si(O,_),l[p+1]=Ya(O,F,_),l[p+2]=Mc(O,F)}function EA(O,F,_,l,p){l[p+0]=Mc(O,F),l[p+1]=Ya(O,F,_),l[p+2]=si(O,_)}function ih(O,F,_,l,p){var v=Ya(O,F,_);F=v<<3&224|Mc(O,F)>>3,l[p+0]=248&si(O,_)|v>>5,l[p+1]=F}function as(O,F,_,l,p){var v=240&Mc(O,F)|15;l[p+0]=240&si(O,_)|Ya(O,F,_)>>4,l[p+1]=v}function Zl(O,F,_,l,p){l[p+0]=255,Wl(O,F,_,l,p+1)}function zh(O,F,_,l,p){EA(O,F,_,l,p),l[p+3]=255}function Af(O,F,_,l,p){Wl(O,F,_,l,p),l[p+3]=255}function Wa(O,F){return 0>O?0:O>F?F:O}function ms(O,F,_){fe[O]=function(l,p,v,E,I,R,j,G,se){for(var X=G+(-2&se)*_;G!=X;)F(l[p+0],v[E+0],I[R+0],j,G),F(l[p+1],v[E+0],I[R+0],j,G+_),p+=2,++E,++R,G+=2*_;1&se&&F(l[p+0],v[E+0],I[R+0],j,G)}}function SA(O,F,_){return _==0?O==0?F==0?6:5:F==0?4:0:_}function hu(O,F,_,l,p){switch(O>>>30){case 3:Ni(F,_,l,p,0);break;case 2:ol(F,_,l,p);break;case 1:Is(F,_,l,p)}}function bi(O,F){var _,l,p=F.M,v=F.Nb,E=O.oc,I=O.pc+40,R=O.oc,j=O.pc+584,G=O.oc,se=O.pc+600;for(_=0;16>_;++_)E[I+32*_-1]=129;for(_=0;8>_;++_)R[j+32*_-1]=129,G[se+32*_-1]=129;for(0<p?E[I-1-32]=R[j-1-32]=G[se-1-32]=129:(i(E,I-32-1,127,21),i(R,j-32-1,127,9),i(G,se-32-1,127,9)),l=0;l<O.za;++l){var X=F.ya[F.aa+l];if(0<l){for(_=-1;16>_;++_)n(E,I+32*_-4,E,I+32*_+12,4);for(_=-1;8>_;++_)n(R,j+32*_-4,R,j+32*_+4,4),n(G,se+32*_-4,G,se+32*_+4,4)}var ee=O.Gd,Ae=O.Hd+l,Te=X.ad,Ce=X.Hc;if(0<p&&(n(E,I-32,ee[Ae].y,0,16),n(R,j-32,ee[Ae].f,0,8),n(G,se-32,ee[Ae].ea,0,8)),X.Za){var Le=E,Me=I-32+16;for(0<p&&(l>=O.za-1?i(Le,Me,ee[Ae].y[15],4):n(Le,Me,ee[Ae+1].y,0,4)),_=0;4>_;_++)Le[Me+128+_]=Le[Me+256+_]=Le[Me+384+_]=Le[Me+0+_];for(_=0;16>_;++_,Ce<<=2)Le=E,Me=I+jc[_],cs[X.Ob[_]](Le,Me),hu(Ce,Te,16*+_,Le,Me)}else if(Le=SA(l,p,X.Ob[0]),oc[Le](E,I),Ce!=0)for(_=0;16>_;++_,Ce<<=2)hu(Ce,Te,16*+_,E,I+jc[_]);for(_=X.Gc,Le=SA(l,p,X.Dd),Ps[Le](R,j),Ps[Le](G,se),Ce=Te,Le=R,Me=j,255&(X=0|_)&&(170&X?tc(Ce,256,Le,Me):qh(Ce,256,Le,Me)),X=G,Ce=se,255&(_>>=8)&&(170&_?tc(Te,320,X,Ce):qh(Te,320,X,Ce)),p<O.Ub-1&&(n(ee[Ae].y,0,E,I+480,16),n(ee[Ae].f,0,R,j+224,8),n(ee[Ae].ea,0,G,se+224,8)),_=8*v*O.B,ee=O.sa,Ae=O.ta+16*l+16*v*O.R,Te=O.qa,X=O.ra+8*l+_,Ce=O.Ha,Le=O.Ia+8*l+_,_=0;16>_;++_)n(ee,Ae+_*O.R,E,I+32*_,16);for(_=0;8>_;++_)n(Te,X+_*O.B,R,j+32*_,8),n(Ce,Le+_*O.B,G,se+32*_,8)}}function Xl(O,F,_,l,p,v,E,I,R){var j=[0],G=[0],se=0,X=R!=null?R.kd:0,ee=R??new Bn;if(O==null||12>_)return 7;ee.data=O,ee.w=F,ee.ha=_,F=[F],_=[_],ee.gb=[ee.gb];e:{var Ae=F,Te=_,Ce=ee.gb;if(e(O!=null),e(Te!=null),e(Ce!=null),Ce[0]=0,12<=Te[0]&&!t(O,Ae[0],"RIFF")){if(t(O,Ae[0]+8,"WEBP")){Ce=3;break e}var Le=J(O,Ae[0]+4);if(12>Le||4294967286<Le){Ce=3;break e}if(X&&Le>Te[0]-8){Ce=7;break e}Ce[0]=Le,Ae[0]+=12,Te[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Le=0<ee.gb[0],_=_[0];;){e:{var Me=O;Te=F,Ce=_;var $e=j,Ge=G,at=Ae=[0];if((pt=se=[se])[0]=0,8>Ce[0])Ce=7;else{if(!t(Me,Te[0],"VP8X")){if(J(Me,Te[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ft=J(Me,Te[0]+8),Ct=1+pe(Me,Te[0]+12);if(2147483648<=Ct*(Me=1+pe(Me,Te[0]+15))){Ce=3;break e}at!=null&&(at[0]=ft),$e!=null&&($e[0]=Ct),Ge!=null&&(Ge[0]=Me),Te[0]+=18,Ce[0]-=18,pt[0]=1}Ce=0}}if(se=se[0],Ae=Ae[0],Ce!=0)return Ce;if(Te=!!(2&Ae),!Le&&se)return 3;if(v!=null&&(v[0]=!!(16&Ae)),E!=null&&(E[0]=Te),I!=null&&(I[0]=0),E=j[0],Ae=G[0],se&&Te&&R==null){Ce=0;break}if(4>_){Ce=7;break}if(Le&&se||!Le&&!se&&!t(O,F[0],"ALPH")){_=[_],ee.na=[ee.na],ee.P=[ee.P],ee.Sa=[ee.Sa];e:{ft=O,Ce=F,Le=_;var pt=ee.gb;$e=ee.na,Ge=ee.P,at=ee.Sa,Ct=22,e(ft!=null),e(Le!=null),Me=Ce[0];var Mt=Le[0];for(e($e!=null),e(at!=null),$e[0]=null,Ge[0]=null,at[0]=0;;){if(Ce[0]=Me,Le[0]=Mt,8>Mt){Ce=7;break e}var Qt=J(ft,Me+4);if(4294967286<Qt){Ce=3;break e}var Ft=8+Qt+1&-2;if(Ct+=Ft,0<pt&&Ct>pt){Ce=3;break e}if(!t(ft,Me,"VP8 ")||!t(ft,Me,"VP8L")){Ce=0;break e}if(Mt[0]<Ft){Ce=7;break e}t(ft,Me,"ALPH")||($e[0]=ft,Ge[0]=Me+8,at[0]=Qt),Me+=Ft,Mt-=Ft}}if(_=_[0],ee.na=ee.na[0],ee.P=ee.P[0],ee.Sa=ee.Sa[0],Ce!=0)break}_=[_],ee.Ja=[ee.Ja],ee.xa=[ee.xa];e:if(pt=O,Ce=F,Le=_,$e=ee.gb[0],Ge=ee.Ja,at=ee.xa,ft=Ce[0],Me=!t(pt,ft,"VP8 "),Ct=!t(pt,ft,"VP8L"),e(pt!=null),e(Le!=null),e(Ge!=null),e(at!=null),8>Le[0])Ce=7;else{if(Me||Ct){if(pt=J(pt,ft+4),12<=$e&&pt>$e-12){Ce=3;break e}if(X&&pt>Le[0]-8){Ce=7;break e}Ge[0]=pt,Ce[0]+=8,Le[0]-=8,at[0]=Ct}else at[0]=5<=Le[0]&&pt[ft+0]==47&&!(pt[ft+4]>>5),Ge[0]=Le[0];Ce=0}if(_=_[0],ee.Ja=ee.Ja[0],ee.xa=ee.xa[0],F=F[0],Ce!=0)break;if(4294967286<ee.Ja)return 3;if(I==null||Te||(I[0]=ee.xa?2:1),E=[E],Ae=[Ae],ee.xa){if(5>_){Ce=7;break}I=E,X=Ae,Te=v,O==null||5>_?O=0:5<=_&&O[F+0]==47&&!(O[F+4]>>5)?(Le=[0],pt=[0],$e=[0],We(Ge=new ae,O,F,_),zt(Ge,Le,pt,$e)?(I!=null&&(I[0]=Le[0]),X!=null&&(X[0]=pt[0]),Te!=null&&(Te[0]=$e[0]),O=1):O=0):O=0}else{if(10>_){Ce=7;break}I=Ae,O==null||10>_||!Cc(O,F+3,_-3)?O=0:(X=O[F+0]|O[F+1]<<8|O[F+2]<<16,Te=16383&(O[F+7]<<8|O[F+6]),O=16383&(O[F+9]<<8|O[F+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=ee.Ja||!Te||!O?O=0:(E&&(E[0]=Te),I&&(I[0]=O),O=1))}if(!O||(E=E[0],Ae=Ae[0],se&&(j[0]!=E||G[0]!=Ae)))return 3;R!=null&&(R[0]=ee,R.offset=F-R.w,e(4294967286>F-R.w),e(R.offset==R.ha-_));break}return Ce==0||Ce==7&&se&&R==null?(v!=null&&(v[0]|=ee.na!=null&&0<ee.na.length),l!=null&&(l[0]=E),p!=null&&(p[0]=Ae),0):Ce}function ea(O,F,_){var l=F.width,p=F.height,v=0,E=0,I=l,R=p;if(F.Da=O!=null&&0<O.Da,F.Da&&(I=O.cd,R=O.bd,v=O.v,E=O.j,11>_||(v&=-2,E&=-2),0>v||0>E||0>=I||0>=R||v+I>l||E+R>p))return 0;if(F.v=v,F.j=E,F.va=v+I,F.o=E+R,F.U=I,F.T=R,F.da=O!=null&&0<O.da,F.da){if(!et(I,R,_=[O.ib],v=[O.hb]))return 0;F.ib=_[0],F.hb=v[0]}return F.ob=O!=null&&O.ob,F.Kb=O==null||!O.Sd,F.da&&(F.ob=F.ib<3*l/4&&F.hb<3*p/4,F.Kb=0),1}function os(O){if(O==null)return 2;if(11>O.S){var F=O.f.RGBA;F.fb+=(O.height-1)*F.A,F.A=-F.A}else F=O.f.kb,O=O.height,F.O+=(O-1)*F.fa,F.fa=-F.fa,F.N+=(O-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(O-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(O-1)*F.lb,F.lb=-F.lb);return 0}function Au(O,F,_,l){if(l==null||0>=O||0>=F)return 2;if(_!=null){if(_.Da){var p=_.cd,v=_.bd,E=-2&_.v,I=-2&_.j;if(0>E||0>I||0>=p||0>=v||E+p>O||I+v>F)return 2;O=p,F=v}if(_.da){if(!et(O,F,p=[_.ib],v=[_.hb]))return 2;O=p[0],F=v[0]}}l.width=O,l.height=F;e:{var R=l.width,j=l.height;if(O=l.S,0>=R||0>=j||!(O>=Hr&&13>O))O=2;else{if(0>=l.Rd&&l.sd==null){E=v=p=F=0;var G=(I=R*LA[O])*j;if(11>O||(v=(j+1)/2*(F=(R+1)/2),O==12&&(E=(p=R)*j)),(j=a(G+2*v+E))==null){O=1;break e}l.sd=j,11>O?((R=l.f.RGBA).eb=j,R.fb=0,R.A=I,R.size=G):((R=l.f.kb).y=j,R.O=0,R.fa=I,R.Fd=G,R.f=j,R.N=0+G,R.Ab=F,R.Cd=v,R.ea=j,R.W=0+G+v,R.Db=F,R.Ed=v,O==12&&(R.F=j,R.J=0+G+2*v),R.Tc=E,R.lb=p)}if(F=1,p=l.S,v=l.width,E=l.height,p>=Hr&&13>p)if(11>p)O=l.f.RGBA,F&=(I=Math.abs(O.A))*(E-1)+v<=O.size,F&=I>=v*LA[p],F&=O.eb!=null;else{O=l.f.kb,I=(v+1)/2,G=(E+1)/2,R=Math.abs(O.fa),j=Math.abs(O.Ab);var se=Math.abs(O.Db),X=Math.abs(O.lb),ee=X*(E-1)+v;F&=R*(E-1)+v<=O.Fd,F&=j*(G-1)+I<=O.Cd,F=(F&=se*(G-1)+I<=O.Ed)&R>=v&j>=I&se>=I,F&=O.y!=null,F&=O.f!=null,F&=O.ea!=null,p==12&&(F&=X>=v,F&=ee<=O.Tc,F&=O.F!=null)}else F=0;O=F?0:2}}return O!=0||_!=null&&_.fd&&(O=os(l)),O}var Cl=64,Bs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],du=24,Lc=32,Ta=8,df=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),fe.Predictor0=function(){return 4278190080},fe.Predictor1=function(O){return O},fe.Predictor2=function(O,F,_){return F[_+0]},fe.Predictor3=function(O,F,_){return F[_+1]},fe.Predictor4=function(O,F,_){return F[_-1]},fe.Predictor5=function(O,F,_){return Gt(Gt(O,F[_+1]),F[_+0])},fe.Predictor6=function(O,F,_){return Gt(O,F[_-1])},fe.Predictor7=function(O,F,_){return Gt(O,F[_+0])},fe.Predictor8=function(O,F,_){return Gt(F[_-1],F[_+0])},fe.Predictor9=function(O,F,_){return Gt(F[_+0],F[_+1])},fe.Predictor10=function(O,F,_){return Gt(Gt(O,F[_-1]),Gt(F[_+0],F[_+1]))},fe.Predictor11=function(O,F,_){var l=F[_+0];return 0>=nt(l>>24&255,O>>24&255,(F=F[_-1])>>24&255)+nt(l>>16&255,O>>16&255,F>>16&255)+nt(l>>8&255,O>>8&255,F>>8&255)+nt(255&l,255&O,255&F)?l:O},fe.Predictor12=function(O,F,_){var l=F[_+0];return(tr((O>>24&255)+(l>>24&255)-((F=F[_-1])>>24&255))<<24|tr((O>>16&255)+(l>>16&255)-(F>>16&255))<<16|tr((O>>8&255)+(l>>8&255)-(F>>8&255))<<8|tr((255&O)+(255&l)-(255&F)))>>>0},fe.Predictor13=function(O,F,_){var l=F[_-1];return(ur((O=Gt(O,F[_+0]))>>24&255,l>>24&255)<<24|ur(O>>16&255,l>>16&255)<<16|ur(O>>8&255,l>>8&255)<<8|ur(255&O,255&l))>>>0};var Jl=fe.PredictorAdd0;fe.PredictorAdd1=rt,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var il=fe.PredictorAdd2;rr("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),rr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var ec,yd=fe.ColorIndexInverseTransform,Eo=fe.MapARGB,Rc=fe.VP8LColorIndexInverseTransformAlpha,ah=fe.MapAlpha,fu=fe.VP8LPredictorsAdd=[];fu.length=16,(fe.VP8LPredictors=[]).length=16,(fe.VP8LPredictorsAdd_C=[]).length=16,(fe.VP8LPredictors_C=[]).length=16;var Dc,oh,Ba,al,Qn,li,aa,Ni,ol,tc,Is,qh,TA,Qo,Nr,gs,Uc,BA,dm,kr,sh,ap,Kh,El,IA,ks,So,wi,kA=a(511),NA=a(2041),Vh=a(225),vd=a(767),pu=0,op=NA,Ho=Vh,Ma=vd,Lr=kA,Hr=0,rc=1,Sl=2,Gh=3,Za=4,Tl=5,Ns=6,_d=7,nc=8,Di=9,ua=10,bd=[2,3,7],ss=[3,3,11],ls=[280,256,256,256,40],lh=[0,1,1,1,0],Fc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ic=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ac=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ff=8,$h=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xa=null,ha=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],PA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oc=[],cs=[],Ps=[],lp=1,Il=2,sc=[],To=[];nl("UpsampleRgbLinePair",Wl,3),nl("UpsampleBgrLinePair",EA,3),nl("UpsampleRgbaLinePair",Af,4),nl("UpsampleBgraLinePair",zh,4),nl("UpsampleArgbLinePair",Zl,4),nl("UpsampleRgba4444LinePair",as,2),nl("UpsampleRgb565LinePair",ih,2);var vu=fe.UpsampleRgbLinePair,ch=fe.UpsampleBgrLinePair,lc=fe.UpsampleRgbaLinePair,pf=fe.UpsampleBgraLinePair,mf=fe.UpsampleArgbLinePair,OA=fe.UpsampleRgba4444LinePair,gf=fe.UpsampleRgb565LinePair,Os=16,uo=1<<Os-1,_u=-227,MA=482,fm=6,cp=0,Mv=a(256),La=a(256),wd=a(256),yf=a(256),bu=a(MA-_u),up=a(MA-_u);ms("YuvToRgbRow",Wl,3),ms("YuvToBgrRow",EA,3),ms("YuvToRgbaRow",Af,4),ms("YuvToBgraRow",zh,4),ms("YuvToArgbRow",Zl,4),ms("YuvToRgba4444Row",as,2),ms("YuvToRgb565Row",ih,2);var jc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uh=[0,2,8],Vg=[8,7,6,4,4,2,2,2,1,1,1,1],Gg=1;this.WebPDecodeRGBA=function(O,F,_,l,p){var v=rc,E=new nn,I=new ye;E.ba=I,I.S=v,I.width=[I.width],I.height=[I.height];var R=I.width,j=I.height,G=new we;if(G==null||O==null)var se=2;else e(G!=null),se=Xl(O,F,_,G.width,G.height,G.Pd,G.Qd,G.format,null);if(se!=0?R=0:(R!=null&&(R[0]=G.width[0]),j!=null&&(j[0]=G.height[0]),R=1),R){I.width=I.width[0],I.height=I.height[0],l!=null&&(l[0]=I.width),p!=null&&(p[0]=I.height);e:{if(l=new Lh,(p=new Bn).data=O,p.w=F,p.ha=_,p.kd=1,F=[0],e(p!=null),((O=Xl(p.data,p.w,p.ha,null,null,null,F,null,p))==0||O==7)&&F[0]&&(O=4),(F=O)==0){if(e(E!=null),l.data=p.data,l.w=p.w+p.offset,l.ha=p.ha-p.offset,l.put=tt,l.ac=dt,l.bc=At,l.ma=E,p.xa){if((O=Rn())==null){E=1;break e}if((function(X,ee){var Ae=[0],Te=[0],Ce=[0];t:for(;;){if(X==null)return 0;if(ee==null)return X.a=2,0;if(X.l=ee,X.a=0,We(X.m,ee.data,ee.w,ee.ha),!zt(X.m,Ae,Te,Ce)){X.a=3;break t}if(X.xb=Il,ee.width=Ae[0],ee.height=Te[0],!$i(Ae[0],Te[0],1,X,null))break t;return 1}return e(X.a!=0),0})(O,l)){if(l=(F=Au(l.width,l.height,E.Oa,E.ba))==0){t:{l=O;r:for(;;){if(l==null){l=0;break t}if(e(l.s.yc!=null),e(l.s.Ya!=null),e(0<l.s.Wb),e((_=l.l)!=null),e((p=_.ma)!=null),l.xb!=0){if(l.ca=p.ba,l.tb=p.tb,e(l.ca!=null),!ea(p.Oa,_,Gh)){l.a=2;break r}if(!Va(l,_.width)||_.da)break r;if((_.da||$r(l.ca.S))&&Vi(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),l.ca.f.kb.F!=null&&Vi()),l.Pb&&0<l.s.ua&&l.s.vb.X==null&&!re(l.s.vb,l.s.Wa.Xa)){l.a=1;break r}l.xb=0}if(!Qr(l,l.V,l.Ba,l.c,l.i,_.o,kn))break r;p.Dc=l.Ma,l=1;break t}e(l.a!=0),l=0}l=!l}l&&(F=O.a)}else F=O.a}else{if((O=new lu)==null){E=1;break e}if(O.Fa=p.na,O.P=p.P,O.qc=p.Sa,Vl(O,l)){if((F=Au(l.width,l.height,E.Oa,E.ba))==0){if(O.Aa=0,_=E.Oa,e((p=O)!=null),_!=null){if(0<(R=0>(R=_.Md)?0:100<R?255:255*R/100)){for(j=G=0;4>j;++j)12>(se=p.pb[j]).lc&&(se.ia=R*Vg[0>se.lc?0:se.lc]>>3),G|=se.ia;G&&(alert("todo:VP8InitRandom"),p.ia=1)}p.Ga=_.Id,100<p.Ga?p.Ga=100:0>p.Ga&&(p.Ga=0)}(function(X,ee){if(X==null)return 0;if(ee==null)return Tn(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!Vl(X,ee))return 0;if(e(X.cb),ee.ac==null||ee.ac(ee)){ee.ob&&(X.L=0);var Ae=uh[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=ee.v-Ae>>4,X.zb=ee.j-Ae>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=ee.o+15+Ae>>4,X.Hb=ee.va+15+Ae>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Te=X.ed;for(Ae=0;4>Ae;++Ae){var Ce;if(X.Qa.Cb){var Le=X.Qa.Lb[Ae];X.Qa.Fb||(Le+=Te.Tb)}else Le=Te.Tb;for(Ce=0;1>=Ce;++Ce){var Me=X.gd[Ae][Ce],$e=Le;if(Te.Pc&&($e+=Te.vd[0],Ce&&($e+=Te.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ge=$e;0<Te.wb&&(Ge=4<Te.wb?Ge>>2:Ge>>1)>9-Te.wb&&(Ge=9-Te.wb),1>Ge&&(Ge=1),Me.dd=Ge,Me.tc=2*$e+Ge,Me.ld=40<=$e?2:15<=$e?1:0}else Me.tc=0;Me.La=Ce}}}Ae=0}else Tn(X,6,"Frame setup failed"),Ae=X.a;if(Ae=Ae==0){if(Ae){X.$c=0,0<X.Aa||(X.Ic=Gg);t:{Ae=X.Ic,Te=4*(Ge=X.za);var at=32*Ge,ft=Ge+1,Ct=0<X.L?Ge*(0<X.Aa?2:1):0,pt=(X.Aa==2?2:1)*Ge;if((Me=Te+832+(Ce=3*(16*Ae+uh[X.L])/2*at)+(Le=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Me)Ae=0;else{if(Me>X.Vb){if(X.Vb=0,X.Ec=a(Me),X.Fc=0,X.Ec==null){Ae=Tn(X,1,"no memory during frame initialization.");break t}X.Vb=Me}Me=X.Ec,$e=X.Fc,X.Ac=Me,X.Bc=$e,$e+=Te,X.Gd=o(at,rs),X.Hd=0,X.rb=o(ft+1,Es),X.sb=1,X.wa=Ct?o(Ct,Ga):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Ge),e(!0),X.oc=Me,X.pc=$e,$e+=832,X.ya=o(pt,Pa),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Ge),X.R=16*Ge,X.B=8*Ge,Ge=(at=uh[X.L])*X.R,at=at/2*X.B,X.sa=Me,X.ta=$e+Ge,X.qa=X.sa,X.ra=X.ta+16*Ae*X.R+at,X.Ha=X.qa,X.Ia=X.ra+8*Ae*X.B+at,X.$c=0,$e+=Ce,X.mb=Le?Me:null,X.nb=Le?$e:null,e($e+Le<=X.Fc+X.Vb),Ss(X),i(X.Ac,X.Bc,0,Te),Ae=1}}if(Ae){if(ee.ka=0,ee.y=X.sa,ee.O=X.ta,ee.f=X.qa,ee.N=X.ra,ee.ea=X.Ha,ee.Vd=X.Ia,ee.fa=X.R,ee.Rc=X.B,ee.F=null,ee.J=0,!pu){for(Ae=-255;255>=Ae;++Ae)kA[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)NA[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Vh[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)vd[255+Ae]=0>Ae?0:255<Ae?255:Ae;pu=1}aa=wl,Ni=eh,tc=Gl,Is=Fo,qh=Dh,ol=lf,TA=Y,Qo=Be,Nr=wt,gs=Zt,Uc=Xe,BA=ct,dm=nr,kr=Vr,sh=cu,ap=Pc,Kh=Oc,El=rh,cs[0]=Co,cs[1]=Fh,cs[2]=Bc,cs[3]=Qh,cs[4]=Ic,cs[5]=ps,cs[6]=el,cs[7]=tl,cs[8]=$l,cs[9]=Hh,oc[0]=Sc,oc[1]=uf,oc[2]=hf,oc[3]=jh,oc[4]=md,oc[5]=Ts,oc[6]=Tc,Ps[0]=xA,Ps[1]=cf,Ps[2]=Yl,Ps[3]=xl,Ps[4]=rl,Ps[5]=Oa,Ps[6]=oo,Ae=1}else Ae=0}Ae&&(Ae=(function(Mt,Qt){for(Mt.M=0;Mt.M<Mt.Va;++Mt.M){var Ft,Lt=Mt.Jc[Mt.M&Mt.Xb],Pt=Mt.m,Br=Mt;for(Ft=0;Ft<Br.za;++Ft){var hr=Pt,ir=Br,It=ir.Ac,sr=ir.Bc+4*Ft,Tr=ir.zc,mr=ir.ya[ir.aa+Ft];if(ir.Qa.Bb?mr.$b=yt(hr,ir.Pa.jb[0])?2+yt(hr,ir.Pa.jb[2]):yt(hr,ir.Pa.jb[1]):mr.$b=0,ir.kc&&(mr.Ad=yt(hr,ir.Bd)),mr.Za=!yt(hr,145)+0,mr.Za){var sn=mr.Ob,Cn=0;for(ir=0;4>ir;++ir){var rn,zr=Tr[0+ir];for(rn=0;4>rn;++rn){zr=PA[It[sr+rn]][zr];for(var Pr=gu[yt(hr,zr[0])];0<Pr;)Pr=gu[2*Pr+yt(hr,zr[Pr])];zr=-Pr,It[sr+rn]=zr}n(sn,Cn,It,sr,4),Cn+=4,Tr[0+ir]=zr}}else zr=yt(hr,156)?yt(hr,128)?1:3:yt(hr,163)?2:0,mr.Ob[0]=zr,i(It,sr,zr,4),i(Tr,0,zr,4);mr.Dd=yt(hr,142)?yt(hr,114)?yt(hr,183)?1:3:2:0}if(Br.m.Ka)return Tn(Mt,7,"Premature end-of-partition0 encountered.");for(;Mt.ja<Mt.za;++Mt.ja){if(Br=Lt,hr=(Pt=Mt).rb[Pt.sb-1],It=Pt.rb[Pt.sb+Pt.ja],Ft=Pt.ya[Pt.aa+Pt.ja],sr=Pt.kc?Ft.Ad:0)hr.la=It.la=0,Ft.Za||(hr.Na=It.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var bn,xr;if(hr=It,It=Br,sr=Pt.Pa.Xc,Tr=Pt.ya[Pt.aa+Pt.ja],mr=Pt.pb[Tr.$b],ir=Tr.ad,sn=0,Cn=Pt.rb[Pt.sb-1],zr=rn=0,i(ir,sn,0,384),Tr.Za)var En=0,Wi=sr[3];else{Pr=a(16);var ti=hr.Na+Cn.Na;if(ti=Xa(It,sr[1],ti,mr.Eb,0,Pr,0),hr.Na=Cn.Na=(0<ti)+0,1<ti)aa(Pr,0,ir,sn);else{var va=Pr[0]+3>>3;for(Pr=0;256>Pr;Pr+=16)ir[sn+Pr]=va}En=1,Wi=sr[0]}var Vn=15&hr.la,Un=15&Cn.la;for(Pr=0;4>Pr;++Pr){var Ai=1&Un;for(va=xr=0;4>va;++va)Vn=Vn>>1|(Ai=(ti=Xa(It,Wi,ti=Ai+(1&Vn),mr.Sc,En,ir,sn))>En)<<7,xr=xr<<2|(3<ti?3:1<ti?2:ir[sn+0]!=0),sn+=16;Vn>>=4,Un=Un>>1|Ai<<7,rn=(rn<<8|xr)>>>0}for(Wi=Vn,En=Un>>4,bn=0;4>bn;bn+=2){for(xr=0,Vn=hr.la>>4+bn,Un=Cn.la>>4+bn,Pr=0;2>Pr;++Pr){for(Ai=1&Un,va=0;2>va;++va)ti=Ai+(1&Vn),Vn=Vn>>1|(Ai=0<(ti=Xa(It,sr[2],ti,mr.Qc,0,ir,sn)))<<3,xr=xr<<2|(3<ti?3:1<ti?2:ir[sn+0]!=0),sn+=16;Vn>>=2,Un=Un>>1|Ai<<5}zr|=xr<<4*bn,Wi|=Vn<<4<<bn,En|=(240&Un)<<bn}hr.la=Wi,Cn.la=En,Tr.Hc=rn,Tr.Gc=zr,Tr.ia=43690&zr?0:mr.ia,sr=!(rn|zr)}if(0<Pt.L&&(Pt.wa[Pt.Y+Pt.ja]=Pt.gd[Ft.$b][Ft.Za],Pt.wa[Pt.Y+Pt.ja].La|=!sr),Br.Ka)return Tn(Mt,7,"Premature end-of-file encountered.")}if(Ss(Mt),Pt=Qt,Br=1,Ft=(Lt=Mt).D,hr=0<Lt.L&&Lt.M>=Lt.zb&&Lt.M<=Lt.Va,Lt.Aa==0)t:{if(Ft.M=Lt.M,Ft.uc=hr,bi(Lt,Ft),Br=1,Ft=(xr=Lt.D).Nb,hr=(zr=uh[Lt.L])*Lt.R,It=zr/2*Lt.B,Pr=16*Ft*Lt.R,va=8*Ft*Lt.B,sr=Lt.sa,Tr=Lt.ta-hr+Pr,mr=Lt.qa,ir=Lt.ra-It+va,sn=Lt.Ha,Cn=Lt.Ia-It+va,Un=(Vn=xr.M)==0,rn=Vn>=Lt.Va-1,Lt.Aa==2&&bi(Lt,xr),xr.uc)for(Ai=(ti=Lt).D.M,e(ti.D.uc),xr=ti.yb;xr<ti.Hb;++xr){En=xr,Wi=Ai;var Aa=(yn=(ui=ti).D).Nb;bn=ui.R;var yn=yn.wa[yn.Y+En],Nn=ui.sa,Hn=ui.ta+16*Aa*bn+16*En,zn=yn.dd,qn=yn.tc;if(qn!=0)if(e(3<=qn),ui.L==1)0<En&&ap(Nn,Hn,bn,qn+4),yn.La&&El(Nn,Hn,bn,qn),0<Wi&&sh(Nn,Hn,bn,qn+4),yn.La&&Kh(Nn,Hn,bn,qn);else{var ci=ui.B,gi=ui.qa,us=ui.ra+8*Aa*ci+8*En,ho=ui.Ha,ui=ui.Ia+8*Aa*ci+8*En;Aa=yn.ld,0<En&&(Qo(Nn,Hn,bn,qn+4,zn,Aa),gs(gi,us,ho,ui,ci,qn+4,zn,Aa)),yn.La&&(BA(Nn,Hn,bn,qn,zn,Aa),kr(gi,us,ho,ui,ci,qn,zn,Aa)),0<Wi&&(TA(Nn,Hn,bn,qn+4,zn,Aa),Nr(gi,us,ho,ui,ci,qn+4,zn,Aa)),yn.La&&(Uc(Nn,Hn,bn,qn,zn,Aa),dm(gi,us,ho,ui,ci,qn,zn,Aa))}}if(Lt.ia&&alert("todo:DitherRow"),Pt.put!=null){if(xr=16*Vn,Vn=16*(Vn+1),Un?(Pt.y=Lt.sa,Pt.O=Lt.ta+Pr,Pt.f=Lt.qa,Pt.N=Lt.ra+va,Pt.ea=Lt.Ha,Pt.W=Lt.Ia+va):(xr-=zr,Pt.y=sr,Pt.O=Tr,Pt.f=mr,Pt.N=ir,Pt.ea=sn,Pt.W=Cn),rn||(Vn-=zr),Vn>Pt.o&&(Vn=Pt.o),Pt.F=null,Pt.J=null,Lt.Fa!=null&&0<Lt.Fa.length&&xr<Vn&&(Pt.J=co(Lt,Pt,xr,Vn-xr),Pt.F=Lt.mb,Pt.F==null&&Pt.F.length==0)){Br=Tn(Lt,3,"Could not decode alpha data.");break t}xr<Pt.j&&(zr=Pt.j-xr,xr=Pt.j,e(!(1&zr)),Pt.O+=Lt.R*zr,Pt.N+=Lt.B*(zr>>1),Pt.W+=Lt.B*(zr>>1),Pt.F!=null&&(Pt.J+=Pt.width*zr)),xr<Vn&&(Pt.O+=Pt.v,Pt.N+=Pt.v>>1,Pt.W+=Pt.v>>1,Pt.F!=null&&(Pt.J+=Pt.v),Pt.ka=xr-Pt.j,Pt.U=Pt.va-Pt.v,Pt.T=Vn-xr,Br=Pt.put(Pt))}Ft+1!=Lt.Ic||rn||(n(Lt.sa,Lt.ta-hr,sr,Tr+16*Lt.R,hr),n(Lt.qa,Lt.ra-It,mr,ir+8*Lt.B,It),n(Lt.Ha,Lt.Ia-It,sn,Cn+8*Lt.B,It))}if(!Br)return Tn(Mt,6,"Output aborted.")}return 1})(X,ee)),ee.bc!=null&&ee.bc(ee),Ae&=1}return Ae?(X.cb=0,Ae):0})(O,l)||(F=O.a)}}else F=O.a}F==0&&E.Oa!=null&&E.Oa.fd&&(F=os(E.ba))}E=F}v=E!=0?null:11>v?I.f.RGBA.eb:I.f.kb.y}else v=null;return v};var LA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(fe,Ne){for(var W="",ue=0;ue<4;ue++)W+=String.fromCharCode(fe[Ne++]);return W}function f(fe,Ne){return fe[Ne+0]|fe[Ne+1]<<8}function y(fe,Ne){return(fe[Ne+0]|fe[Ne+1]<<8|fe[Ne+2]<<16)>>>0}function C(fe,Ne){return(fe[Ne+0]|fe[Ne+1]<<8|fe[Ne+2]<<16|fe[Ne+3]<<24)>>>0}new c;var x=[0],k=[0],N=[],M=new c,D=r,H=(function(fe,Ne){var W={},ue=0,de=!1,me=0,Qe=0;if(W.frames=[],!(function(ne,ae){for(var ve=0;ve<4;ve++)if(ne[ae+ve]!="RIFF".charCodeAt(ve))return!0;return!1})(fe,Ne)){for(C(fe,Ne+=4),Ne+=8;Ne<fe.length;){var Ee=A(fe,Ne),_e=C(fe,Ne+=4);Ne+=4;var ke=_e+(1&_e);switch(Ee){case"VP8 ":case"VP8L":W.frames[ue]===void 0&&(W.frames[ue]={}),(ze=W.frames[ue]).src_off=de?Qe:Ne-8,ze.src_size=me+_e+8,ue++,de&&(de=!1,me=0,Qe=0);break;case"VP8X":(ze=W.header={}).feature_flags=fe[Ne];var We=Ne+4;ze.canvas_width=1+y(fe,We),We+=3,ze.canvas_height=1+y(fe,We),We+=3;break;case"ALPH":de=!0,me=ke+8,Qe=Ne-8;break;case"ANIM":(ze=W.header).bgcolor=C(fe,Ne),We=Ne+4,ze.loop_count=f(fe,We),We+=2;break;case"ANMF":var Oe,ze;(ze=W.frames[ue]={}).offset_x=2*y(fe,Ne),Ne+=3,ze.offset_y=2*y(fe,Ne),Ne+=3,ze.width=1+y(fe,Ne),Ne+=3,ze.height=1+y(fe,Ne),Ne+=3,ze.duration=y(fe,Ne),Ne+=3,Oe=fe[Ne++],ze.dispose=1&Oe,ze.blend=Oe>>1&1}Ee!="ANMF"&&(Ne+=ke)}return W}})(D,0);H.response=D,H.rgbaoutput=!0,H.dataurl=!1;var q=H.header?H.header:null,$=H.frames?H.frames:null;if(q){q.loop_counter=q.loop_count,x=[q.canvas_height],k=[q.canvas_width];for(var ce=0;ce<$.length&&$[ce].blend!=0;ce++);}var V=$[0],he=M.WebPDecodeRGBA(D,V.src_off,V.src_size,k,x);V.rgba=he,V.imgwidth=k[0],V.imgheight=x[0];for(var le=0;le<k[0]*x[0]*4;le++)N[le]=he[le];return this.width=k,this.height=x,this.data=N,this}(function(r){var e,t,n,i,a,o,s,c,A,f=function(ne){return ne=ne||{},this.isStrokeTransparent=ne.isStrokeTransparent||!1,this.strokeOpacity=ne.strokeOpacity||1,this.strokeStyle=ne.strokeStyle||"#000000",this.fillStyle=ne.fillStyle||"#000000",this.isFillTransparent=ne.isFillTransparent||!1,this.fillOpacity=ne.fillOpacity||1,this.font=ne.font||"10px sans-serif",this.textBaseline=ne.textBaseline||"alphabetic",this.textAlign=ne.textAlign||"left",this.lineWidth=ne.lineWidth||1,this.lineJoin=ne.lineJoin||"miter",this.lineCap=ne.lineCap||"butt",this.path=ne.path||[],this.transform=ne.transform!==void 0?ne.transform.clone():new c,this.globalCompositeOperation=ne.globalCompositeOperation||"normal",this.globalAlpha=ne.globalAlpha||1,this.clip_path=ne.clip_path||[],this.currentPoint=ne.currentPoint||new o,this.miterLimit=ne.miterLimit||10,this.lastPoint=ne.lastPoint||new o,this.lineDashOffset=ne.lineDashOffset||0,this.lineDash=ne.lineDash||[],this.margin=ne.margin||[0,0,0,0],this.prevPageLastElemOffset=ne.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ne.ignoreClearRect!="boolean"||ne.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,A=new f}]);var y=function(ne){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ae=ne;Object.defineProperty(this,"pdf",{get:function(){return ae}});var ve=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ve},set:function(J){ve=!!J}});var Re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Re},set:function(J){Re=!!J}});var qe=0;Object.defineProperty(this,"posX",{get:function(){return qe},set:function(J){isNaN(J)||(qe=J)}});var Ze=0;Object.defineProperty(this,"posY",{get:function(){return Ze},set:function(J){isNaN(J)||(Ze=J)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(J){var re;typeof J=="number"?re=[J,J,J,J]:((re=new Array(4))[0]=J[0],re[1]=J.length>=2?J[1]:re[0],re[2]=J.length>=3?J[2]:re[0],re[3]=J.length>=4?J[3]:re[1]),A.margin=re}});var st=!1;Object.defineProperty(this,"autoPaging",{get:function(){return st},set:function(J){st=J}});var ot=0;Object.defineProperty(this,"lastBreak",{get:function(){return ot},set:function(J){ot=J}});var yt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return yt},set:function(J){yt=J}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(J){J instanceof f&&(A=J)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(J){A.path=J}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(J){Pe=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var re;re=C(J),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var re=C(J);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var oe=null,pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return pe},set:function(J){oe=null,pe=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var re;if(this.ctx.font=J,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(J))!==null){var Ue=re[1];re[2];var be=re[3],et=re[4];re[5];var Ke=re[6],mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(mt==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:mt==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var _t=(function(Jt){var rr,St,Vt=[],Nt=Jt.trim();if(Nt==="")return g4;if(Nt in HH)return[HH[Nt]];for(;Nt!=="";){switch(St=null,rr=(Nt=qH(Nt)).charAt(0)){case'"':case"'":St=Vde(Nt.substring(1),rr);break;default:St=Gde(Nt)}if(St===null||(Vt.push(St[0]),(Nt=qH(St[1]))!==""&&Nt.charAt(0)!==","))return g4;Nt=Nt.replace(/^,/,"")}return Vt})(Ke);if(this.fontFaces){var Kt=(function(Jt,rr){if(oe===null){var St=(function(Vt){var Nt=[];return Object.keys(Vt).forEach(function(yr){Vt[yr].forEach(function(Gr){var Xt=null;switch(Gr){case"bold":Xt={family:yr,weight:"bold"};break;case"italic":Xt={family:yr,style:"italic"};break;case"bolditalic":Xt={family:yr,weight:"bold",style:"italic"};break;case"":case"normal":Xt={family:yr}}Xt!==null&&(Xt.ref={name:yr,style:Gr},Nt.push(Xt))})}),Nt})(Jt.getFontList());oe=(function(Vt){for(var Nt={},yr=0;yr<Vt.length;++yr){var Gr=m4(Vt[yr]),Xt=Gr.family,on=Gr.stretch,$r=Gr.style,xn=Gr.weight;Nt[Xt]=Nt[Xt]||{},Nt[Xt][on]=Nt[Xt][on]||{},Nt[Xt][on][$r]=Nt[Xt][on][$r]||{},Nt[Xt][on][$r][xn]=Gr}return Nt})(St.concat(rr))}return oe})(this.pdf,this.fontFaces),Gt=_t.map(function(Jt){return{family:Jt,stretch:"normal",weight:be,style:Ue}}),tr=(function(Jt,rr,St){for(var Vt=(St=St||{}).defaultFontFamily||"times",Nt=Object.assign({},Kde,St.genericFontFamilies||{}),yr=null,Gr=null,Xt=0;Xt<rr.length;++Xt)if(Nt[(yr=m4(rr[Xt])).family]&&(yr.family=Nt[yr.family]),Jt.hasOwnProperty(yr.family)){Gr=Jt[yr.family];break}if(!(Gr=Gr||Jt[Vt]))throw new Error("Could not find a font-family for the rule '"+zH(yr)+"' and default family '"+Vt+"'.");if(Gr=(function(on,$r){if($r[on])return $r[on];var xn=x2[on],De=xn<=x2.normal?-1:1,ye=QH($r,dW,xn,De);if(!ye)throw new Error("Could not find a matching font-stretch value for "+on);return ye})(yr.stretch,Gr),Gr=(function(on,$r){if($r[on])return $r[on];for(var xn=AW[on],De=0;De<xn.length;++De)if($r[xn[De]])return $r[xn[De]];throw new Error("Could not find a matching font-style for "+on)})(yr.style,Gr),!(Gr=(function(on,$r){if($r[on])return $r[on];if(on===400&&$r[500])return $r[500];if(on===500&&$r[400])return $r[400];var xn=qde[on],De=QH($r,fW,xn,on<400?-1:1);if(!De)throw new Error("Could not find a matching font-weight for value "+on);return De})(yr.weight,Gr)))throw new Error("Failed to resolve a font for the rule '"+zH(yr)+"'.");return Gr})(Kt,Gt);this.pdf.setFont(tr.ref.name,tr.ref.style)}else{var ur="";(be==="bold"||parseInt(be,10)>=700||Ue==="bold")&&(ur="bold"),Ue==="italic"&&(ur+="italic"),ur.length===0&&(ur="normal");for(var nt="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ht=0;Ht<_t.length;Ht++){if(this.pdf.internal.getFont(_t[Ht],ur,{noFallback:!0,disableWarning:!0})!==void 0){nt=_t[Ht];break}if(ur==="bolditalic"&&this.pdf.internal.getFont(_t[Ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=_t[Ht],ur="bold";else if(this.pdf.internal.getFont(_t[Ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=_t[Ht],ur="normal";break}}if(nt===""){for(var Tt=0;Tt<_t.length;Tt++)if(rt[_t[Tt]]){nt=rt[_t[Tt]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,ur)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,ze.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,ze.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};y.prototype.setLineDash=function(ne){this.lineDash=ne},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){$.call(this,"fill",!1)},y.prototype.stroke=function(){$.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(ne,ae){if(isNaN(ne)||isNaN(ae))throw to.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ve=this.ctx.transform.applyToPoint(new o(ne,ae));this.path.push({type:"mt",x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ne,ae)},y.prototype.closePath=function(){var ne=new o(0,0),ae=0;for(ae=this.path.length-1;ae!==-1;ae--)if(this.path[ae].type==="begin"&&Na(this.path[ae+1])==="object"&&typeof this.path[ae+1].x=="number"){ne=new o(this.path[ae+1].x,this.path[ae+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(ne.x,ne.y)},y.prototype.lineTo=function(ne,ae){if(isNaN(ne)||isNaN(ae))throw to.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ve=this.ctx.transform.applyToPoint(new o(ne,ae));this.path.push({type:"lt",x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},y.prototype.quadraticCurveTo=function(ne,ae,ve,Re){if(isNaN(ve)||isNaN(Re)||isNaN(ne)||isNaN(ae))throw to.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var qe=this.ctx.transform.applyToPoint(new o(ve,Re)),Ze=this.ctx.transform.applyToPoint(new o(ne,ae));this.path.push({type:"qct",x1:Ze.x,y1:Ze.y,x:qe.x,y:qe.y}),this.ctx.lastPoint=new o(qe.x,qe.y)},y.prototype.bezierCurveTo=function(ne,ae,ve,Re,qe,Ze){if(isNaN(qe)||isNaN(Ze)||isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re))throw to.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var st=this.ctx.transform.applyToPoint(new o(qe,Ze)),ot=this.ctx.transform.applyToPoint(new o(ne,ae)),yt=this.ctx.transform.applyToPoint(new o(ve,Re));this.path.push({type:"bct",x1:ot.x,y1:ot.y,x2:yt.x,y2:yt.y,x:st.x,y:st.y}),this.ctx.lastPoint=new o(st.x,st.y)},y.prototype.arc=function(ne,ae,ve,Re,qe,Ze){if(isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re)||isNaN(qe))throw to.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ze=!!Ze,!this.ctx.transform.isIdentity){var st=this.ctx.transform.applyToPoint(new o(ne,ae));ne=st.x,ae=st.y;var ot=this.ctx.transform.applyToPoint(new o(0,ve)),yt=this.ctx.transform.applyToPoint(new o(0,0));ve=Math.sqrt(Math.pow(ot.x-yt.x,2)+Math.pow(ot.y-yt.y,2))}Math.abs(qe-Re)>=2*Math.PI&&(Re=0,qe=2*Math.PI),this.path.push({type:"arc",x:ne,y:ae,radius:ve,startAngle:Re,endAngle:qe,counterclockwise:Ze})},y.prototype.arcTo=function(ne,ae,ve,Re,qe){throw new Error("arcTo not implemented.")},y.prototype.rect=function(ne,ae,ve,Re){if(isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re))throw to.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ne,ae),this.lineTo(ne+ve,ae),this.lineTo(ne+ve,ae+Re),this.lineTo(ne,ae+Re),this.lineTo(ne,ae),this.lineTo(ne+ve,ae),this.lineTo(ne,ae)},y.prototype.fillRect=function(ne,ae,ve,Re){if(isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re))throw to.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var qe={};this.lineCap!=="butt"&&(qe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(qe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ne,ae,ve,Re),this.fill(),qe.hasOwnProperty("lineCap")&&(this.lineCap=qe.lineCap),qe.hasOwnProperty("lineJoin")&&(this.lineJoin=qe.lineJoin)}},y.prototype.strokeRect=function(ne,ae,ve,Re){if(isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re))throw to.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(ne,ae,ve,Re),this.stroke())},y.prototype.clearRect=function(ne,ae,ve,Re){if(isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re))throw to.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ne,ae,ve,Re))},y.prototype.save=function(ne){ne=typeof ne!="boolean"||ne;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,ve=0;ve<this.pdf.internal.getNumberOfPages();ve++)this.pdf.setPage(ve+1),this.pdf.internal.out("q");if(this.pdf.setPage(ae),ne){this.ctx.fontSize=this.pdf.internal.getFontSize();var Re=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Re}},y.prototype.restore=function(ne){ne=typeof ne!="boolean"||ne;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,ve=0;ve<this.pdf.internal.getNumberOfPages();ve++)this.pdf.setPage(ve+1),this.pdf.internal.out("Q");this.pdf.setPage(ae),ne&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(ne){var ae,ve,Re,qe;if(ne.isCanvasGradient===!0&&(ne=ne.getColor()),!ne)return{r:0,g:0,b:0,a:0,style:ne};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ne))ae=0,ve=0,Re=0,qe=0;else{var Ze=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ne);if(Ze!==null)ae=parseInt(Ze[1]),ve=parseInt(Ze[2]),Re=parseInt(Ze[3]),qe=1;else if((Ze=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ne))!==null)ae=parseInt(Ze[1]),ve=parseInt(Ze[2]),Re=parseInt(Ze[3]),qe=parseFloat(Ze[4]);else{if(qe=1,typeof ne=="string"&&ne.charAt(0)!=="#"){var st=new aW(ne);ne=st.ok?st.toHex():"#000000"}ne.length===4?(ae=ne.substring(1,2),ae+=ae,ve=ne.substring(2,3),ve+=ve,Re=ne.substring(3,4),Re+=Re):(ae=ne.substring(1,3),ve=ne.substring(3,5),Re=ne.substring(5,7)),ae=parseInt(ae,16),ve=parseInt(ve,16),Re=parseInt(Re,16)}}return{r:ae,g:ve,b:Re,a:qe,style:ne}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(ne,ae,ve,Re){if(isNaN(ae)||isNaN(ve)||typeof ne!="string")throw to.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Re=isNaN(Re)?void 0:Re,!x.call(this)){var qe=ke(this.ctx.transform.rotation),Ze=this.ctx.transform.scaleX;ue.call(this,{text:ne,x:ae,y:ve,scale:Ze,angle:qe,align:this.textAlign,maxWidth:Re})}},y.prototype.strokeText=function(ne,ae,ve,Re){if(isNaN(ae)||isNaN(ve)||typeof ne!="string")throw to.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){Re=isNaN(Re)?void 0:Re;var qe=ke(this.ctx.transform.rotation),Ze=this.ctx.transform.scaleX;ue.call(this,{text:ne,x:ae,y:ve,scale:Ze,renderingMode:"stroke",angle:qe,align:this.textAlign,maxWidth:Re})}},y.prototype.measureText=function(ne){if(typeof ne!="string")throw to.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ae=this.pdf,ve=this.pdf.internal.scaleFactor,Re=ae.internal.getFontSize(),qe=ae.getStringUnitWidth(ne)*Re/ae.internal.scaleFactor;return new function(Ze){var st=(Ze=Ze||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return st}}),this}({width:qe*=Math.round(96*ve/72*1e4)/1e4})},y.prototype.scale=function(ne,ae){if(isNaN(ne)||isNaN(ae))throw to.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ve=new c(ne,0,0,ae,0,0);this.ctx.transform=this.ctx.transform.multiply(ve)},y.prototype.rotate=function(ne){if(isNaN(ne))throw to.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ae=new c(Math.cos(ne),Math.sin(ne),-Math.sin(ne),Math.cos(ne),0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},y.prototype.translate=function(ne,ae){if(isNaN(ne)||isNaN(ae))throw to.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ve=new c(1,0,0,1,ne,ae);this.ctx.transform=this.ctx.transform.multiply(ve)},y.prototype.transform=function(ne,ae,ve,Re,qe,Ze){if(isNaN(ne)||isNaN(ae)||isNaN(ve)||isNaN(Re)||isNaN(qe)||isNaN(Ze))throw to.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var st=new c(ne,ae,ve,Re,qe,Ze);this.ctx.transform=this.ctx.transform.multiply(st)},y.prototype.setTransform=function(ne,ae,ve,Re,qe,Ze){ne=isNaN(ne)?1:ne,ae=isNaN(ae)?0:ae,ve=isNaN(ve)?0:ve,Re=isNaN(Re)?1:Re,qe=isNaN(qe)?0:qe,Ze=isNaN(Ze)?0:Ze,this.ctx.transform=new c(ne,ae,ve,Re,qe,Ze)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(ne,ae,ve,Re,qe,Ze,st,ot,yt){var Pe=this.pdf.getImageProperties(ne),oe=1,pe=1,J=1,re=1;Re!==void 0&&ot!==void 0&&(J=ot/Re,re=yt/qe,oe=Pe.width/Re*ot/Re,pe=Pe.height/qe*yt/qe),Ze===void 0&&(Ze=ae,st=ve,ae=0,ve=0),Re!==void 0&&ot===void 0&&(ot=Re,yt=qe),Re===void 0&&ot===void 0&&(ot=Pe.width,yt=Pe.height);for(var Ue,be=this.ctx.transform.decompose(),et=ke(be.rotate.shx),Ke=new c,mt=(Ke=(Ke=(Ke=Ke.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new s(Ze-ae*J,st-ve*re,Re*oe,qe*pe)),_t=M.call(this,mt),Kt=[],Gt=0;Gt<_t.length;Gt+=1)Kt.indexOf(_t[Gt])===-1&&Kt.push(_t[Gt]);if(q(Kt),this.autoPaging)for(var tr=Kt[0],ur=Kt[Kt.length-1],nt=tr;nt<ur+1;nt++){this.pdf.setPage(nt);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=nt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rr=nt===1?0:Tt+(nt-2)*Jt;if(this.ctx.clip_path.length!==0){var St=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Ue,this.posX+this.margin[3],-rr+Ht+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=St}var Vt=JSON.parse(JSON.stringify(mt));Vt=H([Vt],this.posX+this.margin[3],-rr+Ht+this.ctx.prevPageLastElemOffset)[0];var Nt=(nt>tr||nt<ur)&&N.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Jt,null).clip().discardPath()),this.pdf.addImage(ne,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,et),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ne,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,et)};var M=function(ne,ae,ve){var Re=[];ae=ae||this.pdf.internal.pageSize.width,ve=ve||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var qe=this.posY+this.ctx.prevPageLastElemOffset;switch(ne.type){default:case"mt":case"lt":Re.push(Math.floor((ne.y+qe)/ve)+1);break;case"arc":Re.push(Math.floor((ne.y+qe-ne.radius)/ve)+1),Re.push(Math.floor((ne.y+qe+ne.radius)/ve)+1);break;case"qct":var Ze=We(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x,ne.y);Re.push(Math.floor((Ze.y+qe)/ve)+1),Re.push(Math.floor((Ze.y+Ze.h+qe)/ve)+1);break;case"bct":var st=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y);Re.push(Math.floor((st.y+qe)/ve)+1),Re.push(Math.floor((st.y+st.h+qe)/ve)+1);break;case"rect":Re.push(Math.floor((ne.y+qe)/ve)+1),Re.push(Math.floor((ne.y+ne.h+qe)/ve)+1)}for(var ot=0;ot<Re.length;ot+=1)for(;this.pdf.internal.getNumberOfPages()<Re[ot];)D.call(this);return Re},D=function(){var ne=this.fillStyle,ae=this.strokeStyle,ve=this.font,Re=this.lineCap,qe=this.lineWidth,Ze=this.lineJoin;this.pdf.addPage(),this.fillStyle=ne,this.strokeStyle=ae,this.font=ve,this.lineCap=Re,this.lineWidth=qe,this.lineJoin=Ze},H=function(ne,ae,ve){for(var Re=0;Re<ne.length;Re++)switch(ne[Re].type){case"bct":ne[Re].x2+=ae,ne[Re].y2+=ve;case"qct":ne[Re].x1+=ae,ne[Re].y1+=ve;default:ne[Re].x+=ae,ne[Re].y+=ve}return ne},q=function(ne){return ne.sort(function(ae,ve){return ae-ve})},$=function(ne,ae){for(var ve,Re,qe=this.fillStyle,Ze=this.strokeStyle,st=this.lineCap,ot=this.lineWidth,yt=Math.abs(ot*this.ctx.transform.scaleX),Pe=this.lineJoin,oe=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),J=[],re=0;re<pe.length;re++)if(pe[re].x!==void 0)for(var Ue=M.call(this,pe[re]),be=0;be<Ue.length;be+=1)J.indexOf(Ue[be])===-1&&J.push(Ue[be]);for(var et=0;et<J.length;et++)for(;this.pdf.internal.getNumberOfPages()<J[et];)D.call(this);if(q(J),this.autoPaging)for(var Ke=J[0],mt=J[J.length-1],_t=Ke;_t<mt+1;_t++){this.pdf.setPage(_t),this.fillStyle=qe,this.strokeStyle=Ze,this.lineCap=st,this.lineWidth=yt,this.lineJoin=Pe;var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gt=_t===1?this.posY+this.margin[0]:this.margin[0],tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ur=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=_t===1?0:tr+(_t-2)*ur;if(this.ctx.clip_path.length!==0){var rt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(ve,this.posX+this.margin[3],-nt+Gt+this.ctx.prevPageLastElemOffset),ce.call(this,ne,!0),this.path=rt}if(Re=JSON.parse(JSON.stringify(oe)),this.path=H(Re,this.posX+this.margin[3],-nt+Gt+this.ctx.prevPageLastElemOffset),ae===!1||_t===0){var Ht=(_t>Ke||_t<mt)&&N.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,ur,null).clip().discardPath()),ce.call(this,ne,ae),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ot}else this.lineWidth=yt,ce.call(this,ne,ae),this.lineWidth=ot;this.path=oe},ce=function(ne,ae){if((ne!=="stroke"||ae||!k.call(this))&&(ne==="stroke"||ae||!x.call(this))){for(var ve,Re,qe=[],Ze=this.path,st=0;st<Ze.length;st++){var ot=Ze[st];switch(ot.type){case"begin":qe.push({begin:!0});break;case"close":qe.push({close:!0});break;case"mt":qe.push({start:ot,deltas:[],abs:[]});break;case"lt":var yt=qe.length;if(Ze[st-1]&&!isNaN(Ze[st-1].x)&&(ve=[ot.x-Ze[st-1].x,ot.y-Ze[st-1].y],yt>0)){for(;yt>=0;yt--)if(qe[yt-1].close!==!0&&qe[yt-1].begin!==!0){qe[yt-1].deltas.push(ve),qe[yt-1].abs.push(ot);break}}break;case"bct":ve=[ot.x1-Ze[st-1].x,ot.y1-Ze[st-1].y,ot.x2-Ze[st-1].x,ot.y2-Ze[st-1].y,ot.x-Ze[st-1].x,ot.y-Ze[st-1].y],qe[qe.length-1].deltas.push(ve);break;case"qct":var Pe=Ze[st-1].x+2/3*(ot.x1-Ze[st-1].x),oe=Ze[st-1].y+2/3*(ot.y1-Ze[st-1].y),pe=ot.x+2/3*(ot.x1-ot.x),J=ot.y+2/3*(ot.y1-ot.y),re=ot.x,Ue=ot.y;ve=[Pe-Ze[st-1].x,oe-Ze[st-1].y,pe-Ze[st-1].x,J-Ze[st-1].y,re-Ze[st-1].x,Ue-Ze[st-1].y],qe[qe.length-1].deltas.push(ve);break;case"arc":qe.push({deltas:[],abs:[],arc:!0}),Array.isArray(qe[qe.length-1].abs)&&qe[qe.length-1].abs.push(ot)}}Re=ae?null:ne==="stroke"?"stroke":"fill";for(var be=!1,et=0;et<qe.length;et++)if(qe[et].arc)for(var Ke=qe[et].abs,mt=0;mt<Ke.length;mt++){var _t=Ke[mt];_t.type==="arc"?le.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,ae,!be):de.call(this,_t.x,_t.y),be=!0}else if(qe[et].close===!0)this.pdf.internal.out("h"),be=!1;else if(qe[et].begin!==!0){var Kt=qe[et].start.x,Gt=qe[et].start.y;me.call(this,qe[et].deltas,Kt,Gt),be=!0}Re&&fe.call(this,Re),ae&&Ne.call(this)}},V=function(ne){var ae=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ve=ae*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ne-ve;case"top":return ne+ae-ve;case"hanging":return ne+ae-2*ve;case"middle":return ne+ae/2-ve;default:return ne}},he=function(ne){return ne+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var ne=function(){};return ne.colorStops=[],ne.addColorStop=function(ae,ve){this.colorStops.push([ae,ve])},ne.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ne.isCanvasGradient=!0,ne},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var le=function(ne,ae,ve,Re,qe,Ze,st,ot,yt){for(var Pe=Ee.call(this,ve,Re,qe,Ze),oe=0;oe<Pe.length;oe++){var pe=Pe[oe];oe===0&&(yt?W.call(this,pe.x1+ne,pe.y1+ae):de.call(this,pe.x1+ne,pe.y1+ae)),Qe.call(this,ne,ae,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}ot?Ne.call(this):fe.call(this,st)},fe=function(ne){switch(ne){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ne=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(ne,ae){this.pdf.internal.out(t(ne)+" "+n(ae)+" m")},ue=function(ne){var ae;switch(ne.align){case"right":case"end":ae="right";break;case"center":ae="center";break;default:ae="left"}var ve=this.pdf.getTextDimensions(ne.text),Re=V.call(this,ne.y),qe=he.call(this,Re)-ve.h,Ze=this.ctx.transform.applyToPoint(new o(ne.x,Re)),st=this.ctx.transform.decompose(),ot=new c;ot=(ot=(ot=ot.multiply(st.translate)).multiply(st.skew)).multiply(st.scale);for(var yt,Pe,oe,pe=this.ctx.transform.applyToRectangle(new s(ne.x,Re,ve.w,ve.h)),J=ot.applyToRectangle(new s(ne.x,qe,ve.w,ve.h)),re=M.call(this,J),Ue=[],be=0;be<re.length;be+=1)Ue.indexOf(re[be])===-1&&Ue.push(re[be]);if(q(Ue),this.autoPaging)for(var et=Ue[0],Ke=Ue[Ue.length-1],mt=et;mt<Ke+1;mt++){this.pdf.setPage(mt);var _t=mt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[2],tr=Gt-this.margin[0],ur=this.pdf.internal.pageSize.width-this.margin[1],nt=ur-this.margin[3],rt=mt===1?0:Kt+(mt-2)*tr;if(this.ctx.clip_path.length!==0){var Ht=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(yt,this.posX+this.margin[3],-1*rt+_t),ce.call(this,"fill",!0),this.path=Ht}var Tt=H([JSON.parse(JSON.stringify(J))],this.posX+this.margin[3],-rt+_t+this.ctx.prevPageLastElemOffset)[0];ne.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*ne.scale),oe=this.lineWidth,this.lineWidth=oe*ne.scale);var Jt=this.autoPaging!=="text";if(Jt||Tt.y+Tt.h<=Gt){if(Jt||Tt.y>=_t&&Tt.x<=ur){var rr=Jt?ne.text:this.pdf.splitTextToSize(ne.text,ne.maxWidth||ur-Tt.x)[0],St=H([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-rt+_t+this.ctx.prevPageLastElemOffset)[0],Vt=Jt&&(mt>et||mt<Ke)&&N.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,tr,null).clip().discardPath()),this.pdf.text(rr,St.x,St.y,{angle:ne.angle,align:ae,renderingMode:ne.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Tt.y<Gt&&(this.ctx.prevPageLastElemOffset+=Gt-Tt.y);ne.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=oe)}else ne.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*ne.scale),oe=this.lineWidth,this.lineWidth=oe*ne.scale),this.pdf.text(ne.text,Ze.x+this.posX,Ze.y+this.posY,{angle:ne.angle,align:ae,renderingMode:ne.renderingMode,maxWidth:ne.maxWidth}),ne.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=oe)},de=function(ne,ae,ve,Re){ve=ve||0,Re=Re||0,this.pdf.internal.out(t(ne+ve)+" "+n(ae+Re)+" l")},me=function(ne,ae,ve){return this.pdf.lines(ne,ae,ve,null,null)},Qe=function(ne,ae,ve,Re,qe,Ze,st,ot){this.pdf.internal.out([e(i(ve+ne)),e(a(Re+ae)),e(i(qe+ne)),e(a(Ze+ae)),e(i(st+ne)),e(a(ot+ae)),"c"].join(" "))},Ee=function(ne,ae,ve,Re){for(var qe=2*Math.PI,Ze=Math.PI/2;ae>ve;)ae-=qe;var st=Math.abs(ve-ae);st<qe&&Re&&(st=qe-st);for(var ot=[],yt=Re?-1:1,Pe=ae;st>1e-5;){var oe=Pe+yt*Math.min(st,Ze);ot.push(_e.call(this,ne,Pe,oe)),st-=Math.abs(oe-Pe),Pe=oe}return ot},_e=function(ne,ae,ve){var Re=(ve-ae)/2,qe=ne*Math.cos(Re),Ze=ne*Math.sin(Re),st=qe,ot=-Ze,yt=st*st+ot*ot,Pe=yt+st*qe+ot*Ze,oe=4/3*(Math.sqrt(2*yt*Pe)-Pe)/(st*Ze-ot*qe),pe=st-oe*ot,J=ot+oe*st,re=pe,Ue=-J,be=Re+ae,et=Math.cos(be),Ke=Math.sin(be);return{x1:ne*Math.cos(ae),y1:ne*Math.sin(ae),x2:pe*et-J*Ke,y2:pe*Ke+J*et,x3:re*et-Ue*Ke,y3:re*Ke+Ue*et,x4:ne*Math.cos(ve),y4:ne*Math.sin(ve)}},ke=function(ne){return 180*ne/Math.PI},We=function(ne,ae,ve,Re,qe,Ze){var st=ne+.5*(ve-ne),ot=ae+.5*(Re-ae),yt=qe+.5*(ve-qe),Pe=Ze+.5*(Re-Ze),oe=Math.min(ne,qe,st,yt),pe=Math.max(ne,qe,st,yt),J=Math.min(ae,Ze,ot,Pe),re=Math.max(ae,Ze,ot,Pe);return new s(oe,J,pe-oe,re-J)},Oe=function(ne,ae,ve,Re,qe,Ze,st,ot){var yt,Pe,oe,pe,J,re,Ue,be,et,Ke,mt,_t,Kt,Gt,tr=ve-ne,ur=Re-ae,nt=qe-ve,rt=Ze-Re,Ht=st-qe,Tt=ot-Ze;for(Pe=0;Pe<41;Pe++)et=(Ue=(oe=ne+(yt=Pe/40)*tr)+yt*((J=ve+yt*nt)-oe))+yt*(J+yt*(qe+yt*Ht-J)-Ue),Ke=(be=(pe=ae+yt*ur)+yt*((re=Re+yt*rt)-pe))+yt*(re+yt*(Ze+yt*Tt-re)-be),Pe==0?(mt=et,_t=Ke,Kt=et,Gt=Ke):(mt=Math.min(mt,et),_t=Math.min(_t,Ke),Kt=Math.max(Kt,et),Gt=Math.max(Gt,Ke));return new s(Math.round(mt),Math.round(_t),Math.round(Kt-mt),Math.round(Gt-_t))},ze=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ne,ae,ve=(ne=this.ctx.lineDash,ae=this.ctx.lineDashOffset,JSON.stringify({lineDash:ne,lineDashOffset:ae}));this.prevLineDash!==ve&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ve)}}})(wn.API),(function(r){var e=function(o){var s,c,A,f,y,C,x,k,N,M;for(c=[],A=0,f=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;f>A;A+=4)(y=(o.charCodeAt(A)<<24)+(o.charCodeAt(A+1)<<16)+(o.charCodeAt(A+2)<<8)+o.charCodeAt(A+3))!==0?(C=(y=((y=((y=((y=(y-(M=y%85))/85)-(N=y%85))/85)-(k=y%85))/85)-(x=y%85))/85)%85,c.push(C+33,x+33,k+33,N+33,M+33)):c.push(122);return(function(D,H){for(var q=H;q>0;q--)D.pop()})(c,s.length),String.fromCharCode.apply(String,c)+"~>"},t=function(o){var s,c,A,f,y,C=String,x="length",k=255,N="charCodeAt",M="slice",D="replace";for(o[M](-2),o=o[M](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),A=[],f=0,y=(o+=s="uuuuu"[M](o[x]%5||5))[x];y>f;f+=5)c=52200625*(o[N](f)-33)+614125*(o[N](f+1)-33)+7225*(o[N](f+2)-33)+85*(o[N](f+3)-33)+(o[N](f+4)-33),A.push(k&c>>24,k&c>>16,k&c>>8,k&c);return(function(H,q){for(var $=q;$>0;$--)H.pop()})(A,s[x]),C.fromCharCode.apply(C,A)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var c="",A=0;A<o.length;A+=2)c+=String.fromCharCode("0x"+(o[A]+o[A+1]));return c},a=function(o){for(var s=new Uint8Array(o.length),c=o.length;c--;)s[c]=o.charCodeAt(c);return(s=m2(s)).reduce(function(A,f){return A+String.fromCharCode(f)},"")};r.processDataByFilters=function(o,s){var c=0,A=o||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),c=0;c<s.length;c+=1)switch(s[c]){case"ASCII85Decode":case"/ASCII85Decode":A=t(A),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=e(A),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=i(A),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=n(A),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=a(A),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[c]+'" is not implemented')}return{data:A,reverseChain:f.reverse().join(" ")}}})(wn.API),(function(r){r.loadFile=function(e,t,n){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=(function(c,A,f){var y=new XMLHttpRequest,C=0,x=function(k){var N=k.length,M=[],D=String.fromCharCode;for(C=0;C<N;C+=1)M.push(D(255&k.charCodeAt(C)));return M.join("")};if(y.open("GET",c,!A),y.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(y.onload=function(){y.status===200?f(x(this.responseText)):f(void 0)}),y.send(null),A&&y.status===200)return x(y.responseText)})(i,a,o)}catch{}return s})(e,t,n)},r.loadImageFile=r.loadFile})(wn.API),(function(r){function e(){return(ei.html2canvas?Promise.resolve(ei.html2canvas):XM(()=>Promise.resolve().then(()=>Uve),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(ei.DOMPurify?Promise.resolve(ei.DOMPurify):XM(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var c=Na(s);return c==="undefined"?"undefined":c==="string"||s instanceof String?"string":c==="number"||s instanceof Number?"number":c==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(s,c){var A=document.createElement(s);for(var f in c.className&&(A.className=c.className),c.innerHTML&&c.dompurify&&(A.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)A.style[f]=c.style[f];return A},a=function s(c,A){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),y=c.firstChild;y;y=y.nextSibling)A!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||f.appendChild(s(y,A));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function s(c){var A=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),A);return(f=f.setProgress(1,s,1,[s])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,c){return s.__proto__=c||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,c){return this.then(function(){switch(c=c||(function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),c){case"string":return this.then(t).then(function(A){return this.set({src:i("div",{innerHTML:s,dompurify:A})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(c){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,c(this.prop.container,A)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(c){var A=this.opt.jsPDF,f=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=f,f)for(var x=0;x<f.length;++x){var k=f[x],N=k.src.find(function(M){return M.format==="truetype"});N&&A.addFont(N.url,k.ref.name,k.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=C.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,A.context2d.save(!0),c(this.prop.container,C)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,c,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(s,c):this.outputPdf(s,c)},o.prototype.outputPdf=function(s,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,c)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var c=Object.keys(s||{}).map(function(A){if(A in o.template.prop)return function(){this.prop[A]=s[A]};switch(A){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[A]=s[A]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(s,c){return this.then(function(){var A=s in o.template.prop?this.prop[s]:this.opt[s];return c?c(A):A})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function c(A,f){return Math.floor(A*f/72*96)}return this.then(function(){(s=s||wn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:c(s.inner.width,s.k),height:c(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,c,A,f){return s!=null&&(this.progress.val=s),c!=null&&(this.progress.state=c),A!=null&&(this.progress.n=A),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,c,A,f){return this.setProgress(s?this.progress.val+s:null,c||null,A?this.progress.n+A:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(s,c){var A=this;return this.thenCore(s,c,function(f,y){return A.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(C){return A.updateProgress(null,f),C}).then(f,y).then(function(C){return A.updateProgress(1),C})})},o.prototype.thenCore=function(s,c,A){A=A||Promise.prototype.then;var f=this;s&&(s=s.bind(f)),c&&(c=c.bind(f));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),C=A.call(y,s,c);return o.convert(C,f.__proto__)},o.prototype.thenExternal=function(s,c){return Promise.prototype.then.call(this,s,c)},o.prototype.thenList=function(s){var c=this;return s.forEach(function(A){c=c.thenCore(A)}),c},o.prototype.catch=function(s){s&&(s=s.bind(this));var c=Promise.prototype.catch.call(this,s);return o.convert(c,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,wn.getPageSize=function(s,c,A){if(Na(s)==="object"){var f=s;s=f.orientation,c=f.unit||c,A=f.format||A}c=c||"mm",A=A||"a4",s=(""+(s||"P")).toLowerCase();var y,C=(""+A).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+c}var k,N=0,M=0;if(x.hasOwnProperty(C))N=x[C][1]/y,M=x[C][0]/y;else try{N=A[1],M=A[0]}catch{throw new Error("Invalid format: "+A)}if(s==="p"||s==="portrait")s="p",M>N&&(k=M,M=N,N=k);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",N>M&&(k=M,M=N,N=k)}return{width:M,height:N,unit:c,k:y,orientation:s}},r.html=function(s,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(m4):null;var A=new o(c);return c.worker?A:A.from(s).doCallback()}})(wn.API),wn.API.addJS=function(r){return VH=r,this.internal.events.subscribe("postPutResources",function(){mB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mB+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),KH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mB!==void 0&&KH!==void 0&&this.internal.out("/Names <</JavaScript "+mB+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var c=s[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,f=[];for(a=0;a<A;a++){var y=t.internal.newObject();f.push(y);var C=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<f.length;a++)t.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(wn.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,a,o,s){var c,A=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(y){for(var C,x=256*y.charCodeAt(4)+y.charCodeAt(5),k=y.length,N={width:0,height:0,numcomponents:1},M=4;M<k;M+=2){if(M+=x,e.indexOf(y.charCodeAt(M+1))!==-1){C=256*y.charCodeAt(M+5)+y.charCodeAt(M+6),N={width:256*y.charCodeAt(M+7)+y.charCodeAt(M+8),height:C,numcomponents:y.charCodeAt(M+9)};break}x=256*y.charCodeAt(M+2)+y.charCodeAt(M+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}f={data:t,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:A,index:n,alias:i}}return f}})(wn.API),wn.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,a=kde(r,{checkCrc:!0}),o=a.width,s=a.height,c=a.channels,A=a.palette,f=a.depth;i=A&&c===1?(function(he){for(var le=he.width,fe=he.height,Ne=he.data,W=he.palette,ue=he.depth,de=!1,me=[],Qe=[],Ee=void 0,_e=!1,ke=0,We=0;We<W.length;We++){var Oe=WQ(W[We],4),ze=Oe[0],ne=Oe[1],ae=Oe[2],ve=Oe[3];me.push(ze,ne,ae),ve!=null&&(ve===0?(ke++,Qe.length<1&&Qe.push(We)):ve<255&&(_e=!0))}if(_e||ke>1){de=!0,Qe=void 0;var Re=le*fe;Ee=new Uint8Array(Re);for(var qe=new DataView(Ne.buffer),Ze=0;Ze<Re;Ze++){var st=y4(qe,Ze,ue),ot=WQ(W[st],4)[3];Ee[Ze]=ot}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:Ne,alphaBytes:Ee,needSMask:de,palette:me,mask:Qe}})(a):c===2||c===4?(function(he){for(var le=he.data,fe=he.width,Ne=he.height,W=he.channels,ue=he.depth,de=W===2?"DeviceGray":"DeviceRGB",me=W-1,Qe=fe*Ne,Ee=me,_e=Qe*Ee,ke=1*Qe,We=Math.ceil(_e*ue/8),Oe=Math.ceil(ke*ue/8),ze=new Uint8Array(We),ne=new Uint8Array(Oe),ae=new DataView(le.buffer),ve=new DataView(ze.buffer),Re=new DataView(ne.buffer),qe=!1,Ze=0;Ze<Qe;Ze++){for(var st=Ze*W,ot=0;ot<Ee;ot++)tz(ve,y4(ae,st+ot,ue),Ze*Ee+ot,ue);var yt=y4(ae,st+Ee,ue);yt<(1<<ue)-1&&(qe=!0),tz(Re,yt,1*Ze,ue)}return{colorSpace:de,colorsPerPixel:me,colorBytes:ze,alphaBytes:ne,needSMask:qe}})(a):(function(he){var le=he.data,fe=he.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:fe,colorsPerPixel:fe==="DeviceGray"?1:3,colorBytes:le instanceof Uint8Array?le:new Uint8Array(le.buffer),needSMask:!1}})(a);var y,C,x,k=i,N=k.colorSpace,M=k.colorsPerPixel,D=k.colorBytes,H=k.alphaBytes,q=k.needSMask,$=k.palette,ce=k.mask,V=null;return n!==wn.API.image_compression.NONE&&typeof m2=="function"?(V=(function(he){var le;switch(he){case wn.API.image_compression.FAST:le=11;break;case wn.API.image_compression.MEDIUM:le=13;break;case wn.API.image_compression.SLOW:le=14;break;default:le=12}return le})(n),y=this.decode.FLATE_DECODE,C="/Predictor ".concat(V," "),r=WH(D,o*M,M,n),q&&(x=WH(H,o,1,n))):(y=void 0,C="",r=D,q&&(x=H)),C+="/Colors ".concat(M," /BitsPerComponent ").concat(f," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:t,data:r,index:e,filter:y,decodeParameters:C,transparency:ce,palette:$,sMask:x,predictor:V,width:o,height:s,bitsPerComponent:f,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,n,i){var a=new Zde(e),o=a.width,s=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:o,height:s},f=new v4(100).encode(A,100);return r.processJPEG.call(this,f,t,n,i)},r.processGIF87A=r.processGIF89A})(wn.API),Of.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Of.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){to.log("bit decode error:"+t)}},Of.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var c=this.palette[a>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}t!==0&&(this.pos+=4-t)}},Of.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,c=15&a,A=this.palette[s];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*i+1>=this.width)break;A=this.palette[c],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Of.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},Of.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,A=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=c,this.data[f+1]=s,this.data[f+2]=o,this.data[f+3]=A}this.pos+=r}},Of.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,A=(o>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=A,this.data[f+1]=c,this.data[f+2]=s,this.data[f+3]=255}this.pos+=r}},Of.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Of.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},Of.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,i){var a=new Of(e,!1),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},A=new v4(100).encode(c,100);return r.processJPEG.call(this,A,t,n,i)}})(wn.API),nz.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,i){var a=new nz(e),o=a.width,s=a.height,c={data:a.getData(),width:o,height:s},A=new v4(100).encode(c,100);return r.processJPEG.call(this,A,t,n,i)}})(wn.API),wn.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,c=0,A=0;A<i;A+=4){var f=n[A],y=n[A+1],C=n[A+2],x=n[A+3];a[s++]=f,a[s++]=y,a[s++]=C,o[c++]=x}var k=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:k,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},wn.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},H1=wn.API,gB=H1.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,c=s.fof?s.fof:1,A=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=A.fof?A.fof:1,y=e.doKerning!==!1,C=0,x=r.length,k=0,N=s[0]||c,M=[];for(t=0;t<x;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(C=y&&Na(A[n])==="object"&&!isNaN(parseInt(A[n][k],10))?A[n][k]/f:0,M.push((s[n]||N)/c+C)),k=n;return M},GH=H1.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return H1.processArabic&&(r=H1.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:gB.apply(this,arguments).reduce(function(a,o){return a+o},0)},$H=function(r,e,t,n){for(var i=[],a=0,o=r.length,s=0;a!==o&&s+e[a]<t;)s+=e[a],a++;i.push(r.slice(0,a));var c=a;for(s=0;a!==o;)s+e[a]>n&&(i.push(r.slice(c,a)),s=0,c=a),s+=e[a],a++;return c!==a&&i.push(r.slice(c,a)),i},YH=function(r,e,t){t||(t={});var n,i,a,o,s,c,A,f=[],y=[f],C=t.textIndent||0,x=0,k=0,N=r.split(" "),M=gB.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var D=Array(c).join(" "),H=[];N.map(function($){($=$.split(/\s*\n/)).length>1?H=H.concat($.map(function(ce,V){return(V&&ce.length?`
`:"")+ce})):H.push($[0])}),N=H,c=GH.apply(this,[D,t])}for(a=0,o=N.length;a<o;a++){var q=0;if(n=N[a],c&&n[0]==`
`&&(n=n.substr(1),q=1),C+x+(k=(i=gB.apply(this,[n,t])).reduce(function($,ce){return $+ce},0))>e||q){if(k>e){for(s=$H.apply(this,[n,i,e-(C+x),e]),f.push(s.shift()),f=[s.pop()];s.length;)y.push([s.shift()]);k=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function($,ce){return $+ce},0)}else f=[n];y.push(f),C=k+c,x=M}else f.push(n),C+=x+k,x=M}return A=c?function($,ce){return(ce?D:"")+$.join(" ")}:function($){return $.join(" ")},y.map(A)},H1.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var y=this.internal.getFont(f.fontName,f.fontStyle),C="Unicode";return y.metadata[C]?{widths:y.metadata[C].widths||{0:1},kerning:y.metadata[C].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var s,c,A=[];for(s=0,c=n.length;s<c;s++)A=A.concat(YH.apply(this,[n[s],o,a]));return A},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[t[a]]=e[a],i[e[a]]=t[a];var o=function(C){return"0x"+parseInt(C,10).toString(16)},s=r.__fontmetrics__.compress=function(C){var x,k,N,M,D=["{"];for(var H in C){if(x=C[H],isNaN(parseInt(H,10))?k="'"+H+"'":(H=parseInt(H,10),k=(k=o(H).slice(2)).slice(0,-1)+i[k.slice(-1)]),typeof x=="number")x<0?(N=o(x).slice(3),M="-"):(N=o(x).slice(2),M=""),N=M+N.slice(0,-1)+i[N.slice(-1)];else{if(Na(x)!=="object")throw new Error("Don't know what to do with value type "+Na(x)+".");N=s(x)}D.push(k+N)}return D.push("}"),D.join("")},c=r.__fontmetrics__.uncompress=function(C){if(typeof C!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,k,N,M,D={},H=1,q=D,$=[],ce="",V="",he=C.length-1,le=1;le<he;le+=1)(M=C[le])=="'"?x?(N=x.join(""),x=void 0):x=[]:x?x.push(M):M=="{"?($.push([q,N]),q={},N=void 0):M=="}"?((k=$.pop())[0][k[1]]=q,N=void 0,q=k[0]):M=="-"?H=-1:N===void 0?n.hasOwnProperty(M)?(ce+=n[M],N=parseInt(ce,16)*H,H=1,ce=""):ce+=M:n.hasOwnProperty(M)?(V+=n[M],q[N]=parseInt(V,16)*H,H=1,N=void 0,V=""):V+=M;return D},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},y={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(C){var x=C.font,k=y.Unicode[x.postScriptName];k&&(x.metadata.Unicode={},x.metadata.Unicode.widths=k.widths,x.metadata.Unicode.kerning=k.kerning);var N=f.Unicode[x.postScriptName];N&&(x.metadata.Unicode.encoding=N,x.encoding=N.codePages[0])}])})(wn.API),(function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(GI(s)),o.metadata=r.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})(wn),wn.API.addSvgAsImage=function(r,e,t,n,i,a,o,s){if(isNaN(e)||isNaN(t))throw to.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw to.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var A=c.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(ei.canvg?Promise.resolve(ei.canvg):XM(()=>import("./index.es-C6ANztUG.js"),[])).catch(function(C){return Promise.reject(new Error("Could not load canvg: "+C))}).then(function(C){return C.default?C.default:C}).then(function(C){return C.fromString(A,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(f)}).then(function(){y.addImage(c.toDataURL("image/jpeg",1),e,t,n,i,o,s)})},wn.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},wn.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],A=0,f=0,y=0;function C(k,N){var M,D=!1;for(M=0;M<k.length;M+=1)k[M]===N&&(D=!0);return D}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var x=s.length;for(y=0;y<x;y+=1)t[s[y]].value=t[s[y]].defaultValue,t[s[y]].explicitSet=!1}if(Na(r)==="object"){for(i in r)if(a=r[i],C(s,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&C(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(A=0;A<a.length;A+=1)if(n=!0,a[A].length===1&&typeof a[A][0]=="number")c.push(String(a[A]-1));else if(a[A].length>1){for(f=0;f<a[A].length;f+=1)typeof a[A][f]!="number"&&(n=!1);n===!0&&c.push([a[A][0]-1,a[A][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,N=[];for(k in t)t[k].explicitSet===!0&&(t[k].type==="name"?N.push("/"+k+" /"+t[k].value):N.push("/"+k+" "+t[k].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=a.length+o.length+s.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(wn.API),(function(r){var e=r.API,t=e.pdfEscape16=function(a,o){for(var s,c=o.metadata.Unicode.widths,A=["","0","00","000","0000"],f=[""],y=0,C=a.length;y<C;++y){if(s=o.metadata.characterToGlyph(a.charCodeAt(y)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(y),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return f.join("");s=s.toString(16),f.push(A[4-s.length],s)}return f.join("")},n=function(a){var o,s,c,A,f,y,C;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],y=0,C=(s=Object.keys(a).sort(function(x,k){return x-k})).length;y<C;y++)o=s[y],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(A=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+A+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,A=o.newObject,f=o.putStream;if(s.metadata instanceof r.API.TTFFont&&s.encoding==="Identity-H"){for(var y=s.metadata.Unicode.widths,C=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),x="",k=0;k<C.length;k++)x+=String.fromCharCode(C[k]);var N=A();f({data:x,addLength1:!0,objectId:N}),c("endobj");var M=A();f({data:n(s.metadata.toUnicode),addLength1:!0,objectId:M}),c("endobj");var D=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ab(s.fontName)),c("/FontFile2 "+N+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var H=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ab(s.fontName)),c("/FontDescriptor "+D+" 0 R"),c("/W "+r.API.PDFObject.convert(y)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+M+" 0 R"),c("/BaseFont /"+Ab(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+H+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,c=o.out,A=o.newObject,f=o.putStream;if(s.metadata instanceof r.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var y=s.metadata.rawData,C="",x=0;x<y.length;x++)C+=String.fromCharCode(y[x]);var k=A();f({data:C,addLength1:!0,objectId:k}),c("endobj");var N=A();f({data:n(s.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var M=A();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+k+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+Ab(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=A();for(var D=0;D<s.metadata.hmtx.widths.length;D++)s.metadata.hmtx.widths[D]=parseInt(s.metadata.hmtx.widths[D]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Ab(s.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",c=a.x,A=a.y,f=a.options||{},y=a.mutex||{},C=y.pdfEscape,x=y.activeFontKey,k=y.fonts,N=x,M="",D=0,H="",q=k[N].encoding;if(k[N].encoding!=="Identity-H")return{text:s,x:c,y:A,options:f,mutex:y};for(H=s,N=x,Array.isArray(s)&&(H=s[0]),D=0;D<H.length;D+=1)k[N].metadata.hasOwnProperty("cmap")&&(o=k[N].metadata.cmap.unicode.codeMap[H[D].charCodeAt(0)]),o||H[D].charCodeAt(0)<256&&k[N].metadata.hasOwnProperty("Unicode")?M+=H[D]:M+="";var $="";return parseInt(N.slice(1))<14||q==="WinAnsiEncoding"?$=C(M,N).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&($=t(M,k[N])),y.isHex=!0,{text:$,x:c,y:A,options:f,mutex:y}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?s.push([i(Object.assign({},c,{text:o[A][0]})).text,o[A][1],o[A][2]]):s.push(i(Object.assign({},c,{text:o[A]})).text);a.text=s}else a.text=i(Object.assign({},c,{text:o})).text}])})(wn),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(wn.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,o,s,c,A,f,y=e,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],D=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,q=0;this.__bidiEngine__={};var $=function(W){var ue=W.charCodeAt(),de=ue>>8,me=N[de];return me!==void 0?y[256*me+(255&ue)]:de===252||de===253?"AL":D.test(de)?"L":de===8?"R":"N"},ce=function(W){for(var ue,de=0;de<W.length;de++){if((ue=$(W.charAt(de)))==="L")return!1;if(ue==="R")return!0}return!1},V=function(W,ue,de,me){var Qe,Ee,_e,ke,We=ue[me];switch(We){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"N":case"AN":break;case"EN":H&&(We="AN");break;case"AL":H=!0,We="R";break;case"WS":case"BN":We="N";break;case"CS":me<1||me+1>=ue.length||(Qe=de[me-1])!=="EN"&&Qe!=="AN"||(Ee=ue[me+1])!=="EN"&&Ee!=="AN"?We="N":H&&(Ee="AN"),We=Ee===Qe?Ee:"N";break;case"ES":We=(Qe=me>0?de[me-1]:"B")==="EN"&&me+1<ue.length&&ue[me+1]==="EN"?"EN":"N";break;case"ET":if(me>0&&de[me-1]==="EN"){We="EN";break}if(H){We="N";break}for(_e=me+1,ke=ue.length;_e<ke&&ue[_e]==="ET";)_e++;We=_e<ke&&ue[_e]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(ke=ue.length,_e=me+1;_e<ke&&ue[_e]==="NSM";)_e++;if(_e<ke){var Oe=W[me],ze=Oe>=1425&&Oe<=2303||Oe===64286;if(Qe=ue[_e],ze&&(Qe==="R"||Qe==="AL")){We="R";break}}}We=me<1||(Qe=ue[me-1])==="B"?"N":de[me-1];break;case"B":H=!1,i=!0,We=q;break;case"S":a=!0,We="N"}return We},he=function(W,ue,de){var me=W.split("");return de&&le(me,de,{hiLevel:q}),me.reverse(),ue&&ue.reverse(),me.join("")},le=function(W,ue,de){var me,Qe,Ee,_e,ke,We=-1,Oe=W.length,ze=0,ne=[],ae=q?x:C,ve=[];for(H=!1,i=!1,a=!1,Qe=0;Qe<Oe;Qe++)ve[Qe]=$(W[Qe]);for(Ee=0;Ee<Oe;Ee++){if(ke=ze,ne[Ee]=V(W,ve,ne,Ee),me=240&(ze=ae[ke][k[ne[Ee]]]),ze&=15,ue[Ee]=_e=ae[ze][5],me>0)if(me===16){for(Qe=We;Qe<Ee;Qe++)ue[Qe]=1;We=-1}else We=-1;if(ae[ze][6])We===-1&&(We=Ee);else if(We>-1){for(Qe=We;Qe<Ee;Qe++)ue[Qe]=_e;We=-1}ve[Ee]==="B"&&(ue[Ee]=0),de.hiLevel|=_e}a&&(function(Re,qe,Ze){for(var st=0;st<Ze;st++)if(Re[st]==="S"){qe[st]=q;for(var ot=st-1;ot>=0&&Re[ot]==="WS";ot--)qe[ot]=q}})(ve,ue,Oe)},fe=function(W,ue,de,me,Qe){if(!(Qe.hiLevel<W)){if(W===1&&q===1&&!i)return ue.reverse(),void(de&&de.reverse());for(var Ee,_e,ke,We,Oe=ue.length,ze=0;ze<Oe;){if(me[ze]>=W){for(ke=ze+1;ke<Oe&&me[ke]>=W;)ke++;for(We=ze,_e=ke-1;We<_e;We++,_e--)Ee=ue[We],ue[We]=ue[_e],ue[_e]=Ee,de&&(Ee=de[We],de[We]=de[_e],de[_e]=Ee);ze=ke}ze++}}},Ne=function(W,ue,de){var me=W.split(""),Qe={hiLevel:q};return de||(de=[]),le(me,de,Qe),(function(Ee,_e,ke){if(ke.hiLevel!==0&&f)for(var We,Oe=0;Oe<Ee.length;Oe++)_e[Oe]===1&&(We=M.indexOf(Ee[Oe]))>=0&&(Ee[Oe]=M[We+1])})(me,de,Qe),fe(2,me,ue,de,Qe),fe(1,me,ue,de,Qe),me.join("")};return this.__bidiEngine__.doBidiReorder=function(W,ue,de){if((function(Qe,Ee){if(Ee)for(var _e=0;_e<Qe.length;_e++)Ee[_e]=_e;s===void 0&&(s=ce(Qe)),A===void 0&&(A=ce(Qe))})(W,ue),o||!c||A)if(o&&c&&s^A)q=s?1:0,W=he(W,ue,de);else if(!o&&c&&A)q=s?1:0,W=Ne(W,ue,de),W=he(W,ue);else if(!o||s||c||A){if(o&&!c&&s^A)W=he(W,ue),s?(q=0,W=Ne(W,ue,de)):(q=1,W=Ne(W,ue,de),W=he(W,ue));else if(o&&s&&!c&&A)q=1,W=Ne(W,ue,de),W=he(W,ue);else if(!o&&!c&&s^A){var me=f;s?(q=1,W=Ne(W,ue,de),q=0,f=!1,W=Ne(W,ue,de),f=me):(q=0,W=Ne(W,ue,de),W=he(W,ue),q=1,f=!1,W=Ne(W,ue,de),f=me,W=he(W,ue))}}else q=0,W=Ne(W,ue,de);else q=s?1:0,W=Ne(W,ue,de);return W},this.__bidiEngine__.setOptions=function(W){W&&(o=W.isInputVisual,c=W.isOutputVisual,s=W.isInputRtl,A=W.isOutputRtl,f=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([t.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([t.doBidiReorder(i[s])]);n.text=o}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(wn),wn.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new pv(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Afe(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Xde(this.contents),this.head=new efe(this),this.name=new afe(this),this.cmap=new mW(this),this.toUnicode={},this.hhea=new tfe(this),this.maxp=new ofe(this),this.hmtx=new sfe(this),this.post=new nfe(this),this.os2=new rfe(this),this.loca=new hfe(this),this.glyf=new lfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,A;for(A=[],o=0,s=(c=this.bbox).length;o<s;o++)e=c[o],A.push(Math.round(e*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return o*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var Jf,pv=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,a,o,s,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},r})(),Xde=(function(){var r;function e(t){var n,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,a,o,s,c,A,f,y,C,x,k,N;for(N in x=Object.keys(t).length,c=Math.log(2),y=16*Math.floor(Math.log(x)/c),o=Math.floor(y/c),f=16*x-y,(i=new pv).writeInt(this.scalarType),i.writeShort(x),i.writeShort(y),i.writeShort(o),i.writeShort(f),a=16*x,A=i.pos+a,s=null,k=[],t)for(C=t[N],i.writeString(N),i.writeInt(r(C)),i.writeInt(A),i.writeInt(C.length),k=k.concat(C),N==="head"&&(s=A),A+=C.length;A%4;)k.push(0),A++;return i.write(k),n=2981146554-r(i.data),i.pos=s+8,i.writeUInt32(n),i.data},r=function(t){var n,i,a,o;for(t=gW.call(t);t.length%4;)t.push(0);for(a=new pv(t),i=0,n=0,o=t.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),Jde={}.hasOwnProperty,am=function(r,e){for(var t in e)Jde.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Jf=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var efe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new pv).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),iz=(function(){function r(e,t){var n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(x=e.readUInt16(),C=x/2,e.pos+=6,a=(function(){var $,ce;for(ce=[],c=$=0;0<=C?$<C:$>C;c=0<=C?++$:--$)ce.push(e.readUInt16());return ce})(),e.pos+=2,N=(function(){var $,ce;for(ce=[],c=$=0;0<=C?$<C:$>C;c=0<=C?++$:--$)ce.push(e.readUInt16());return ce})(),A=(function(){var $,ce;for(ce=[],c=$=0;0<=C?$<C:$>C;c=0<=C?++$:--$)ce.push(e.readUInt16());return ce})(),f=(function(){var $,ce;for(ce=[],c=$=0;0<=C?$<C:$>C;c=0<=C?++$:--$)ce.push(e.readUInt16());return ce})(),i=(this.length-e.pos+this.offset)/2,s=(function(){var $,ce;for(ce=[],c=$=0;0<=i?$<i:$>i;c=0<=i?++$:--$)ce.push(e.readUInt16());return ce})(),c=D=0,q=a.length;D<q;c=++D)for(M=a[c],n=H=k=N[c];k<=M?H<=M:H>=M;n=k<=M?++H:--H)f[c]===0?o=n+A[c]:(o=s[f[c]/2+(n-k)-(C-c)]||0)!==0&&(o+=A[c]),this.codeMap[n]=65535&o}e.pos=y}return r.encode=function(e,t){var n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,he,le,fe,Ne,W,ue,de,me,Qe,Ee,_e,ke,We,Oe,ze,ne,ae,ve,Re,qe,Ze,st,ot,yt,Pe,oe;switch(me=new pv,o=Object.keys(e).sort(function(pe,J){return pe-J}),t){case"macroman":for(N=0,M=(function(){var pe=[];for(k=0;k<256;++k)pe.push(0);return pe})(),H={0:0},a={},Qe=0,We=o.length;Qe<We;Qe++)H[ot=e[i=o[Qe]]]==null&&(H[ot]=++N),a[i]={old:e[i],new:H[e[i]]},M[i]=H[e[i]];return me.writeUInt16(1),me.writeUInt16(0),me.writeUInt32(12),me.writeUInt16(0),me.writeUInt16(262),me.writeUInt16(0),me.write(M),{charMap:a,subtable:me.data,maxGlyphID:N+1};case"unicode":for(ue=[],y=[],q=0,H={},n={},D=A=null,Ee=0,Oe=o.length;Ee<Oe;Ee++)H[ce=e[i=o[Ee]]]==null&&(H[ce]=++q),n[i]={old:ce,new:H[ce]},s=H[ce]-i,D!=null&&s===A||(D&&y.push(D),ue.push(i),A=s),D=i;for(D&&y.push(D),y.push(65535),ue.push(65535),Ne=2*(fe=ue.length),le=2*Math.pow(Math.log(fe)/Math.LN2,2),C=Math.log(le/2)/Math.LN2,he=2*fe-le,c=[],V=[],x=[],k=_e=0,ze=ue.length;_e<ze;k=++_e){if(W=ue[k],f=y[k],W===65535){c.push(0),V.push(0);break}if(W-(de=n[W].new)>=32768)for(c.push(0),V.push(2*(x.length+fe-k)),i=ke=W;W<=f?ke<=f:ke>=f;i=W<=f?++ke:--ke)x.push(n[i].new);else c.push(de-W),V.push(0)}for(me.writeUInt16(3),me.writeUInt16(1),me.writeUInt32(12),me.writeUInt16(4),me.writeUInt16(16+8*fe+2*x.length),me.writeUInt16(0),me.writeUInt16(Ne),me.writeUInt16(le),me.writeUInt16(C),me.writeUInt16(he),Ze=0,ne=y.length;Ze<ne;Ze++)i=y[Ze],me.writeUInt16(i);for(me.writeUInt16(0),st=0,ae=ue.length;st<ae;st++)i=ue[st],me.writeUInt16(i);for(yt=0,ve=c.length;yt<ve;yt++)s=c[yt],me.writeUInt16(s);for(Pe=0,Re=V.length;Pe<Re;Pe++)$=V[Pe],me.writeUInt16($);for(oe=0,qe=x.length;oe<qe;oe++)N=x[oe],me.writeUInt16(N);return{charMap:n,subtable:me.data,maxGlyphID:q+1}}},r})(),mW=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new iz(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=iz.encode(e,t),(i=new pv).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r})(),tfe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),rfe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),nfe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,s,c;for(c=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)c.push(e.readUInt32());return c}).call(this)}},r})(),ife=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},afe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,a,o,s,c,A,f,y,C;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(c={},a=f=0,y=n.length;f<y;a=++f)i=n[a],e.pos=i.offset,A=e.readString(i.length),o=new ife(A,i),c[C=i.nameID]==null&&(c[C]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r})(),ofe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),sfe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,a,o,s,c;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var A,f;for(f=[],t=A=0;0<=i?A<i:A>i;t=0<=i?++A:--A)f.push(e.readInt16());return f})(),this.widths=(function(){var A,f,y,C;for(C=[],A=0,f=(y=this.metrics).length;A<f;A++)a=y[A],C.push(a.advance);return C}).call(this),n=this.widths[this.widths.length-1],c=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),gW=[].slice,lfe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,a,o,s,c,A,f,y;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,o=(s=new pv(t.read(i))).readShort(),A=s.readShort(),y=s.readShort(),c=s.readShort(),f=s.readShort(),this.cache[e]=o===-1?new ufe(s,A,y,c,f):new cfe(s,o,A,y,c,f),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,a,o,s,c;for(o=[],a=[],s=0,c=t.length;s<c;s++)i=e[t[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},r})(),cfe=(function(){function r(e,t,n,i,a,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),ufe=(function(){function r(e,t,n,i,a){var o,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new pv(gW.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),hfe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return am(r,Jf),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<t.length&&t[a]==o){++a,n[o]=i;var s=this.offsets[o],c=this.offsets[o+1]-s;c>0&&(i+=c)}for(var A=new Array(4*n.length),f=0;f<n.length;++f)A[4*f+3]=255&n[f],A[4*f+2]=(65280&n[f])>>8,A[4*f+1]=(16711680&n[f])>>16,A[4*f]=(4278190080&n[f])>>24;return A},r})(),Afe=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,a,o,s,c;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(n=i[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))n=c[a],i[a]=n;return i},r.prototype.encode=function(e,t){var n,i,a,o,s,c,A,f,y,C,x,k,N,M,D;for(i in n=mW.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),x={0:0},D=n.charMap)x[(c=D[i]).old]=c.new;for(k in C=n.maxGlyphID,o)k in x||(x[k]=C++);return f=(function(H){var q,$;for(q in $={},H)$[H[q]]=q;return $})(x),y=Object.keys(f).sort(function(H,q){return H-q}),N=(function(){var H,q,$;for($=[],H=0,q=y.length;H<q;H++)s=y[H],$.push(f[s]);return $})(),a=this.font.glyf.encode(o,N,x),A=this.font.loca.encode(a.offsets,N),M={cmap:this.font.cmap.raw(),glyf:a.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},r})();wn.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,a,o;if(Array.isArray(t))return"["+(function(){var s,c,A;for(A=[],s=0,c=t.length;s<c;s++)n=t[s],A.push(e.convert(n));return A})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)o=t[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+t},e})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var C2=function(r,e){return C2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},C2(r,e)};function ep(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");C2(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var E2=function(){return E2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},E2.apply(this,arguments)};function bh(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{A(n.next(f))}catch(y){o(y)}}function c(f){try{A(n.throw(f))}catch(y){o(y)}}function A(f){f.done?a(f.value):i(f.value).then(s,c)}A((n=n.apply(r,[])).next())})}function Fu(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(A){return function(f){return c([A,f])}}function c(A){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=A[0]&2?i.return:A[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,A[1])).done)return a;switch(i=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,i=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){t.label=A[1];break}if(A[0]===6&&t.label<a[1]){t.label=a[1],a=A;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(A);break}a[2]&&t.ops.pop(),t.trys.pop();continue}A=e.call(r,t)}catch(f){A=[6,f],i=0}finally{n=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function yB(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||e)}var vg=(function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),aO=function(r,e){return vg.fromClientRect(r,e.getBoundingClientRect())},dfe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new vg(0,0,n,i)},oO=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var a=r.charCodeAt(t++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},qs=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,a="";++i<t;){var o=r[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===t||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},az="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ffe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vB=0;vB<az.length;vB++)ffe[az.charCodeAt(vB)]=vB;var oz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _B=0;_B<oz.length;_B++)jC[oz.charCodeAt(_B)]=_B;var pfe=function(r){var e=r.length*.75,t=r.length,n,i=0,a,o,s,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<t;n+=4)a=jC[r.charCodeAt(n)],o=jC[r.charCodeAt(n+1)],s=jC[r.charCodeAt(n+2)],c=jC[r.charCodeAt(n+3)],f[i++]=a<<2|o>>4,f[i++]=(o&15)<<4|s>>2,f[i++]=(s&3)<<6|c&63;return A},mfe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},gfe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},t_=5,H6=11,_4=2,yfe=H6-t_,yW=65536>>t_,vfe=1<<t_,b4=vfe-1,_fe=1024>>t_,bfe=yW+_fe,wfe=bfe,xfe=32,Cfe=wfe+xfe,Efe=65536>>H6,Sfe=1<<yfe,Tfe=Sfe-1,sz=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},Bfe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},Ife=function(r,e){var t=pfe(r),n=Array.isArray(t)?gfe(t):new Uint32Array(t),i=Array.isArray(t)?mfe(t):new Uint16Array(t),a=24,o=sz(i,a/2,n[4]/2),s=n[5]===2?sz(i,(a+n[4])/2):Bfe(n,Math.ceil((a+n[4])/4));return new kfe(n[0],n[1],n[2],n[3],o,s)},kfe=(function(){function r(e,t,n,i,a,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>t_],t=(t<<_4)+(e&b4),this.data[t];if(e<=65535)return t=this.index[yW+(e-55296>>t_)],t=(t<<_4)+(e&b4),this.data[t];if(e<this.highStart)return t=Cfe-Efe+(e>>H6),t=this.index[t],t+=e>>t_&Tfe,t=this.index[t],t=(t<<_4)+(e&b4),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),lz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nfe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bB=0;bB<lz.length;bB++)Nfe[lz.charCodeAt(bB)]=bB;var Pfe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",cz=50,Ofe=1,vW=2,_W=3,Mfe=4,Lfe=5,uz=7,bW=8,hz=9,Yy=10,S2=11,Az=12,T2=13,Rfe=14,QC=15,B2=16,wB=17,Hx=18,Dfe=19,dz=20,I2=21,zx=22,w4=23,z1=24,XA=25,HC=26,zC=27,q1=28,Ufe=29,O0=30,Ffe=31,xB=32,CB=33,k2=34,N2=35,P2=36,qE=37,O2=38,XI=39,JI=40,x4=41,wW=42,jfe=43,Qfe=[9001,65288],xW="!",Gi="",EB="",M2=Ife(Pfe),Um=[O0,P2],L2=[Ofe,vW,_W,Lfe],CW=[Yy,bW],fz=[zC,HC],Hfe=L2.concat(CW),pz=[O2,XI,JI,k2,N2],zfe=[QC,T2],qfe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(a,o){var s=M2.get(a);if(s>cz?(i.push(!0),s-=cz):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),t.push(B2);if(s===Mfe||s===S2){if(o===0)return n.push(o),t.push(O0);var c=t[o-1];return Hfe.indexOf(c)===-1?(n.push(n[o-1]),t.push(c)):(n.push(o),t.push(O0))}if(n.push(o),s===Ffe)return t.push(e==="strict"?I2:qE);if(s===wW||s===Ufe)return t.push(O0);if(s===jfe)return a>=131072&&a<=196605||a>=196608&&a<=262141?t.push(qE):t.push(O0);t.push(s)}),[n,t,i]},C4=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var a=t;a<=n.length;){a++;var o=n[a];if(o===e)return!0;if(o!==Yy)break}if(i===Yy)for(var a=t;a>0;){a--;var s=n[a];if(Array.isArray(r)?r.indexOf(s)!==-1:r===s)for(var c=t;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Yy)break}if(s!==Yy)break}return!1},mz=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===Yy)t--;else return n}return 0},Kfe=function(r,e,t,n,i){if(t[n]===0)return Gi;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Gi;var o=a-1,s=a+1,c=e[a],A=o>=0?e[o]:0,f=e[s];if(c===vW&&f===_W)return Gi;if(L2.indexOf(c)!==-1)return xW;if(L2.indexOf(f)!==-1||CW.indexOf(f)!==-1)return Gi;if(mz(a,e)===bW)return EB;if(M2.get(r[a])===S2||(c===xB||c===CB)&&M2.get(r[s])===S2||c===uz||f===uz||c===hz||[Yy,T2,QC].indexOf(c)===-1&&f===hz||[wB,Hx,Dfe,z1,q1].indexOf(f)!==-1||mz(a,e)===zx||C4(w4,zx,a,e)||C4([wB,Hx],I2,a,e)||C4(Az,Az,a,e))return Gi;if(c===Yy)return EB;if(c===w4||f===w4)return Gi;if(f===B2||c===B2)return EB;if([T2,QC,I2].indexOf(f)!==-1||c===Rfe||A===P2&&zfe.indexOf(c)!==-1||c===q1&&f===P2||f===dz||Um.indexOf(f)!==-1&&c===XA||Um.indexOf(c)!==-1&&f===XA||c===zC&&[qE,xB,CB].indexOf(f)!==-1||[qE,xB,CB].indexOf(c)!==-1&&f===HC||Um.indexOf(c)!==-1&&fz.indexOf(f)!==-1||fz.indexOf(c)!==-1&&Um.indexOf(f)!==-1||[zC,HC].indexOf(c)!==-1&&(f===XA||[zx,QC].indexOf(f)!==-1&&e[s+1]===XA)||[zx,QC].indexOf(c)!==-1&&f===XA||c===XA&&[XA,q1,z1].indexOf(f)!==-1)return Gi;if([XA,q1,z1,wB,Hx].indexOf(f)!==-1)for(var y=a;y>=0;){var C=e[y];if(C===XA)return Gi;if([q1,z1].indexOf(C)!==-1)y--;else break}if([zC,HC].indexOf(f)!==-1)for(var y=[wB,Hx].indexOf(c)!==-1?o:a;y>=0;){var C=e[y];if(C===XA)return Gi;if([q1,z1].indexOf(C)!==-1)y--;else break}if(O2===c&&[O2,XI,k2,N2].indexOf(f)!==-1||[XI,k2].indexOf(c)!==-1&&[XI,JI].indexOf(f)!==-1||[JI,N2].indexOf(c)!==-1&&f===JI||pz.indexOf(c)!==-1&&[dz,HC].indexOf(f)!==-1||pz.indexOf(f)!==-1&&c===zC||Um.indexOf(c)!==-1&&Um.indexOf(f)!==-1||c===z1&&Um.indexOf(f)!==-1||Um.concat(XA).indexOf(c)!==-1&&f===zx&&Qfe.indexOf(r[s])===-1||Um.concat(XA).indexOf(f)!==-1&&c===Hx)return Gi;if(c===x4&&f===x4){for(var x=t[a],k=1;x>0&&(x--,e[x]===x4);)k++;if(k%2!==0)return Gi}return c===xB&&f===CB?Gi:EB},Vfe=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=qfe(r,e.lineBreak),n=t[0],i=t[1],a=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(s){return[XA,O0,wW].indexOf(s)!==-1?qE:s}));var o=e.wordBreak==="keep-all"?a.map(function(s,c){return s&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,i,o]},Gfe=(function(){function r(e,t,n,i){this.codePoints=e,this.required=t===xW,this.start=n,this.end=i}return r.prototype.slice=function(){return qs.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),$fe=function(r,e){var t=oO(r),n=Vfe(t,e),i=n[0],a=n[1],o=n[2],s=t.length,c=0,A=0;return{next:function(){if(A>=s)return{done:!0,value:null};for(var f=Gi;A<s&&(f=Kfe(t,a,i,++A,o))===Gi;);if(f!==Gi||A===s){var y=new Gfe(t,f,c,A);return c=A,{value:y,done:!1}}return{done:!0,value:null}}}},Yfe=1,Wfe=2,OS=4,gz=8,Qk=10,yz=47,hE=92,Zfe=9,Xfe=32,SB=34,qx=61,Jfe=35,epe=36,tpe=37,TB=39,BB=40,Kx=41,rpe=95,lA=45,npe=33,ipe=60,ape=62,ope=64,spe=91,lpe=93,cpe=61,upe=123,IB=63,hpe=125,vz=124,Ape=126,dpe=128,_z=65533,E4=42,Q0=43,fpe=44,ppe=58,mpe=59,KE=46,gpe=0,ype=8,vpe=11,_pe=14,bpe=31,wpe=127,Tp=-1,EW=48,SW=97,TW=101,xpe=102,Cpe=117,Epe=122,BW=65,IW=69,kW=70,Spe=85,Tpe=90,Hu=function(r){return r>=EW&&r<=57},Bpe=function(r){return r>=55296&&r<=57343},K1=function(r){return Hu(r)||r>=BW&&r<=kW||r>=SW&&r<=xpe},Ipe=function(r){return r>=SW&&r<=Epe},kpe=function(r){return r>=BW&&r<=Tpe},Npe=function(r){return Ipe(r)||kpe(r)},Ppe=function(r){return r>=dpe},kB=function(r){return r===Qk||r===Zfe||r===Xfe},Hk=function(r){return Npe(r)||Ppe(r)||r===rpe},bz=function(r){return Hk(r)||Hu(r)||r===lA},Ope=function(r){return r>=gpe&&r<=ype||r===vpe||r>=_pe&&r<=bpe||r===wpe},My=function(r,e){return r!==hE?!1:e!==Qk},NB=function(r,e,t){return r===lA?Hk(e)||My(e,t):Hk(r)?!0:!!(r===hE&&My(r,e))},S4=function(r,e,t){return r===Q0||r===lA?Hu(e)?!0:e===KE&&Hu(t):Hu(r===KE?e:r)},Mpe=function(r){var e=0,t=1;(r[e]===Q0||r[e]===lA)&&(r[e]===lA&&(t=-1),e++);for(var n=[];Hu(r[e]);)n.push(r[e++]);var i=n.length?parseInt(qs.apply(void 0,n),10):0;r[e]===KE&&e++;for(var a=[];Hu(r[e]);)a.push(r[e++]);var o=a.length,s=o?parseInt(qs.apply(void 0,a),10):0;(r[e]===IW||r[e]===TW)&&e++;var c=1;(r[e]===Q0||r[e]===lA)&&(r[e]===lA&&(c=-1),e++);for(var A=[];Hu(r[e]);)A.push(r[e++]);var f=A.length?parseInt(qs.apply(void 0,A),10):0;return t*(i+s*Math.pow(10,-o))*Math.pow(10,c*f)},Lpe={type:2},Rpe={type:3},Dpe={type:4},Upe={type:13},Fpe={type:8},jpe={type:21},Qpe={type:9},Hpe={type:10},zpe={type:11},qpe={type:12},Kpe={type:14},PB={type:23},Vpe={type:1},Gpe={type:25},$pe={type:24},Ype={type:26},Wpe={type:27},Zpe={type:28},Xpe={type:29},Jpe={type:31},R2={type:32},NW=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(oO(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==R2;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case SB:return this.consumeStringToken(SB);case Jfe:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(bz(t)||My(n,i)){var a=NB(t,n,i)?Wfe:Yfe,o=this.consumeName();return{type:5,value:o,flags:a}}break;case epe:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),Upe;break;case TB:return this.consumeStringToken(TB);case BB:return Lpe;case Kx:return Rpe;case E4:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),Kpe;break;case Q0:if(S4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fpe:return Dpe;case lA:var s=e,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(S4(s,c,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(NB(s,c,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===lA&&A===ape)return this.consumeCodePoint(),this.consumeCodePoint(),$pe;break;case KE:if(S4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yz:if(this.peekCodePoint(0)===E4)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===E4&&(f=this.consumeCodePoint(),f===yz))return this.consumeToken();if(f===Tp)return this.consumeToken()}break;case ppe:return Ype;case mpe:return Wpe;case ipe:if(this.peekCodePoint(0)===npe&&this.peekCodePoint(1)===lA&&this.peekCodePoint(2)===lA)return this.consumeCodePoint(),this.consumeCodePoint(),Gpe;break;case ope:var y=this.peekCodePoint(0),C=this.peekCodePoint(1),x=this.peekCodePoint(2);if(NB(y,C,x)){var o=this.consumeName();return{type:7,value:o}}break;case spe:return Zpe;case hE:if(My(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case lpe:return Xpe;case cpe:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),Fpe;break;case upe:return zpe;case hpe:return qpe;case Cpe:case Spe:var k=this.peekCodePoint(0),N=this.peekCodePoint(1);return k===Q0&&(K1(N)||N===IB)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vz:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),Qpe;if(this.peekCodePoint(0)===vz)return this.consumeCodePoint(),jpe;break;case Ape:if(this.peekCodePoint(0)===qx)return this.consumeCodePoint(),Hpe;break;case Tp:return R2}return kB(e)?(this.consumeWhiteSpace(),Jpe):Hu(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Hk(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:qs(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();K1(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===IB&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(qs.apply(void 0,e.map(function(c){return c===IB?EW:c})),16),a=parseInt(qs.apply(void 0,e.map(function(c){return c===IB?kW:c})),16);return{type:30,start:i,end:a}}var o=parseInt(qs.apply(void 0,e),16);if(this.peekCodePoint(0)===lA&&K1(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];K1(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();var a=parseInt(qs.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===BB?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===BB?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tp)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===TB||t===SB){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tp||this.peekCodePoint(0)===Kx)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),PB)}for(;;){var i=this.consumeCodePoint();if(i===Tp||i===Kx)return{type:22,value:qs.apply(void 0,e)};if(kB(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Tp||this.peekCodePoint(0)===Kx?(this.consumeCodePoint(),{type:22,value:qs.apply(void 0,e)}):(this.consumeBadUrlRemnants(),PB);if(i===SB||i===TB||i===BB||Ope(i))return this.consumeBadUrlRemnants(),PB;if(i===hE)if(My(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),PB;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;kB(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Kx||e===Tp)return;My(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=qs.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===Tp||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===Qk)return this._value.splice(0,n),Vpe;if(i===hE){var a=this._value[n+1];a!==Tp&&a!==void 0&&(a===Qk?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):My(i,a)&&(t+=this.consumeStringSlice(n),t+=qs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=OS,n=this.peekCodePoint(0);for((n===Q0||n===lA)&&e.push(this.consumeCodePoint());Hu(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===KE&&Hu(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gz;Hu(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===IW||n===TW)&&((i===Q0||i===lA)&&Hu(a)||Hu(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gz;Hu(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Mpe(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(NB(i,a,o)){var s=this.consumeName();return{type:15,number:t,flags:n,unit:s}}return i===tpe?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(K1(e)){for(var t=qs(e);K1(this.peekCodePoint(0))&&t.length<6;)t+=qs(this.consumeCodePoint());kB(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||Bpe(n)||n>1114111?_z:n}return e===Tp?_z:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(bz(t))e+=qs(t);else if(My(t,this.peekCodePoint(0)))e+=qs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),PW=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new NW;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||tme(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?R2:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),MS=function(r){return r.type===15},qw=function(r){return r.type===17},qa=function(r){return r.type===20},eme=function(r){return r.type===0},D2=function(r,e){return qa(r)&&r.value===e},OW=function(r){return r.type!==31},gw=function(r){return r.type!==31&&r.type!==4},om=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},tme=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},mv=function(r){return r.type===17||r.type===15},ml=function(r){return r.type===16||mv(r)},MW=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},eu={type:17,number:0,flags:OS},z6={type:16,number:50,flags:OS},Wy={type:16,number:100,flags:OS},qC=function(r,e,t){var n=r[0],i=r[1];return[vo(n,e),vo(typeof i<"u"?i:n,t)]},vo=function(r,e){if(r.type===16)return r.number/100*e;if(MS(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},LW="deg",RW="grad",DW="rad",UW="turn",sO={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case LW:return Math.PI*e.number/180;case RW:return Math.PI/200*e.number;case DW:return e.number;case UW:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},FW=function(r){return r.type===15&&(r.unit===LW||r.unit===RW||r.unit===DW||r.unit===UW)},jW=function(r){var e=r.filter(qa).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[eu,eu];case"to top":case"bottom":return Kd(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[eu,Wy];case"to right":case"left":return Kd(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wy,Wy];case"to bottom":case"top":return Kd(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wy,eu];case"to left":case"right":return Kd(270)}return 0},Kd=function(r){return Math.PI*r/180},tv={name:"color",parse:function(r,e){if(e.type===18){var t=rme[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Zy(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return Zy(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Zy(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return Zy(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var s=ig[e.value.toUpperCase()];if(typeof s<"u")return s}return ig.TRANSPARENT}},rv=function(r){return(255&r)===0},dc=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},Zy=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},wz=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},xz=function(r,e){var t=e.filter(gw);if(t.length===3){var n=t.map(wz),i=n[0],a=n[1],o=n[2];return Zy(i,a,o,1)}if(t.length===4){var s=t.map(wz),i=s[0],a=s[1],o=s[2],c=s[3];return Zy(i,a,o,c)}return 0};function T4(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var Cz=function(r,e){var t=e.filter(gw),n=t[0],i=t[1],a=t[2],o=t[3],s=(n.type===17?Kd(n.number):sO.parse(r,n))/(Math.PI*2),c=ml(i)?i.number/100:0,A=ml(a)?a.number/100:0,f=typeof o<"u"&&ml(o)?vo(o,1):1;if(c===0)return Zy(A*255,A*255,A*255,1);var y=A<=.5?A*(c+1):A+c-A*c,C=A*2-y,x=T4(C,y,s+1/3),k=T4(C,y,s),N=T4(C,y,s-1/3);return Zy(x*255,k*255,N*255,f)},rme={hsl:Cz,hsla:Cz,rgb:xz,rgba:xz},AE=function(r,e){return tv.parse(r,PW.create(e).parseComponentValue())},ig={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},nme={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(qa(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ime={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lO=function(r,e){var t=tv.parse(r,e[0]),n=e[1];return n&&ml(n)?{color:t,stop:n}:{color:t,stop:null}},Ez=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=eu),n.stop===null&&(n.stop=Wy);for(var i=[],a=0,o=0;o<r.length;o++){var s=r[o].stop;if(s!==null){var c=vo(s,e);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var A=null,o=0;o<i.length;o++){var f=i[o];if(f===null)A===null&&(A=o);else if(A!==null){for(var y=o-A,C=i[A-1],x=(f-C)/(y+1),k=1;k<=y;k++)i[A+k-1]=x*k;A=null}}return r.map(function(N,M){var D=N.color;return{color:D,stop:Math.max(Math.min(1,i[M]/e),0)}})},ame=function(r,e,t){var n=e/2,i=t/2,a=vo(r[0],e)-n,o=i-vo(r[1],t);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},ome=function(r,e,t){var n=typeof r=="number"?r:ame(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),a=e/2,o=t/2,s=i/2,c=Math.sin(n-Math.PI/2)*s,A=Math.cos(n-Math.PI/2)*s;return[i,a-A,a+A,o-c,o+c]},Lf=function(r,e){return Math.sqrt(r*r+e*e)},Sz=function(r,e,t,n,i){var a=[[0,0],[0,e],[r,0],[r,e]];return a.reduce(function(o,s){var c=s[0],A=s[1],f=Lf(t-c,n-A);return(i?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:s,optimumDistance:f}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},sme=function(r,e,t,n,i){var a=0,o=0;switch(r.size){case 0:r.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)a=o=Math.min(Lf(e,t),Lf(e,t-i),Lf(e-n,t),Lf(e-n,t-i));else if(r.shape===1){var s=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),c=Sz(n,i,e,t,!0),A=c[0],f=c[1];a=Lf(A-e,(f-t)/s),o=s*a}break;case 1:r.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)a=o=Math.max(Lf(e,t),Lf(e,t-i),Lf(e-n,t),Lf(e-n,t-i));else if(r.shape===1){var s=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),y=Sz(n,i,e,t,!1),A=y[0],f=y[1];a=Lf(A-e,(f-t)/s),o=s*a}break}return Array.isArray(r.size)&&(a=vo(r.size[0],n),o=r.size.length===2?vo(r.size[1],i):a),[a,o]},lme=function(r,e){var t=Kd(180),n=[];return om(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){t=jW(i);return}else if(FW(o)){t=sO.parse(r,o);return}}var s=lO(r,i);n.push(s)}),{angle:t,stops:n,type:1}},OB=function(r,e){var t=Kd(180),n=[];return om(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=jW(i);return}else if(FW(o)){t=(sO.parse(r,o)+Kd(270))%Kd(360);return}}var s=lO(r,i);n.push(s)}),{angle:t,stops:n,type:1}},cme=function(r,e){var t=Kd(180),n=[],i=1,a=0,o=3,s=[];return om(e).forEach(function(c,A){var f=c[0];if(A===0){if(qa(f)&&f.value==="linear"){i=1;return}else if(qa(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var y=tv.parse(r,f.values[0]);n.push({stop:eu,color:y})}else if(f.name==="to"){var y=tv.parse(r,f.values[0]);n.push({stop:Wy,color:y})}else if(f.name==="color-stop"){var C=f.values.filter(gw);if(C.length===2){var y=tv.parse(r,C[1]),x=C[0];qw(x)&&n.push({stop:{type:16,number:x.number*100,flags:x.flags},color:y})}}}}),i===1?{angle:(t+Kd(180))%Kd(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:s,type:i}},QW="closest-side",HW="farthest-side",zW="closest-corner",qW="farthest-corner",KW="circle",VW="ellipse",GW="cover",$W="contain",ume=function(r,e){var t=0,n=3,i=[],a=[];return om(e).forEach(function(o,s){var c=!0;if(s===0){var A=!1;c=o.reduce(function(y,C){if(A)if(qa(C))switch(C.value){case"center":return a.push(z6),y;case"top":case"left":return a.push(eu),y;case"right":case"bottom":return a.push(Wy),y}else(ml(C)||mv(C))&&a.push(C);else if(qa(C))switch(C.value){case KW:return t=0,!1;case VW:return t=1,!1;case"at":return A=!0,!1;case QW:return n=0,!1;case GW:case HW:return n=1,!1;case $W:case zW:return n=2,!1;case qW:return n=3,!1}else if(mv(C)||ml(C))return Array.isArray(n)||(n=[]),n.push(C),!1;return y},c)}if(c){var f=lO(r,o);i.push(f)}}),{size:n,shape:t,stops:i,position:a,type:2}},MB=function(r,e){var t=0,n=3,i=[],a=[];return om(e).forEach(function(o,s){var c=!0;if(s===0?c=o.reduce(function(f,y){if(qa(y))switch(y.value){case"center":return a.push(z6),!1;case"top":case"left":return a.push(eu),!1;case"right":case"bottom":return a.push(Wy),!1}else if(ml(y)||mv(y))return a.push(y),!1;return f},c):s===1&&(c=o.reduce(function(f,y){if(qa(y))switch(y.value){case KW:return t=0,!1;case VW:return t=1,!1;case $W:case QW:return n=0,!1;case HW:return n=1,!1;case zW:return n=2,!1;case GW:case qW:return n=3,!1}else if(mv(y)||ml(y))return Array.isArray(n)||(n=[]),n.push(y),!1;return f},c)),c){var A=lO(r,o);i.push(A)}}),{size:n,shape:t,stops:i,position:a,type:2}},hme=function(r){return r.type===1},Ame=function(r){return r.type===2},q6={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=YW[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function dme(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!YW[r.name])}var YW={"linear-gradient":lme,"-moz-linear-gradient":OB,"-ms-linear-gradient":OB,"-o-linear-gradient":OB,"-webkit-linear-gradient":OB,"radial-gradient":ume,"-moz-radial-gradient":MB,"-ms-radial-gradient":MB,"-o-radial-gradient":MB,"-webkit-radial-gradient":MB,"-webkit-gradient":cme},fme={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return gw(n)&&dme(n)}).map(function(n){return q6.parse(r,n)})}},pme={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(qa(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mme={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return om(e).map(function(t){return t.filter(ml)}).map(MW)}},gme={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return om(e).map(function(t){return t.filter(qa).map(function(n){return n.value}).join(" ")}).map(yme)}},yme=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Zb;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Zb||(Zb={}));var vme={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return om(e).map(function(t){return t.filter(_me)})}},_me=function(r){return qa(r)||ml(r)},cO=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},bme=cO("top"),wme=cO("right"),xme=cO("bottom"),Cme=cO("left"),uO=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return MW(t.filter(ml))}}},Eme=uO("top-left"),Sme=uO("top-right"),Tme=uO("bottom-right"),Bme=uO("bottom-left"),hO=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ime=hO("top"),kme=hO("right"),Nme=hO("bottom"),Pme=hO("left"),AO=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return MS(t)?t.number:0}}},Ome=AO("top"),Mme=AO("right"),Lme=AO("bottom"),Rme=AO("left"),Dme={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ume={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Fme={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(qa).reduce(function(t,n){return t|jme(n.value)},0)}},jme=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Qme={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Hme={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},zk;(function(r){r.NORMAL="normal",r.STRICT="strict"})(zk||(zk={}));var zme={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return zk.STRICT;case"normal":default:return zk.NORMAL}}},qme={name:"line-height",initialValue:"normal",prefix:!1,type:4},Tz=function(r,e){return qa(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:ml(r)?vo(r,e):e},Kme={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:q6.parse(r,e)}},Vme={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},U2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},dO=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},Gme=dO("top"),$me=dO("right"),Yme=dO("bottom"),Wme=dO("left"),Zme={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(qa).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Xme={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},fO=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Jme=fO("top"),ege=fO("right"),tge=fO("bottom"),rge=fO("left"),nge={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ige={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},age={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&D2(e[0],"none")?[]:om(e).map(function(t){for(var n={color:ig.TRANSPARENT,offsetX:eu,offsetY:eu,blur:eu},i=0,a=0;a<t.length;a++){var o=t[a];mv(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=tv.parse(r,o)}return n})}},oge={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sge={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=uge[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},lge=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},cge=function(r){var e=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],e.length===16?[t,n,i,a,o,s]:null},uge={matrix:lge,matrix3d:cge},Bz={type:16,number:50,flags:OS},hge=[Bz,Bz],Age={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(ml);return t.length!==2?hge:[t[0],t[1]]}},dge={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},dE;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(dE||(dE={}));var fge={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return dE.BREAK_ALL;case"keep-all":return dE.KEEP_ALL;case"normal":default:return dE.NORMAL}}},pge={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(qw(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},WW={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},mge={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return qw(e)?e.number:1}},gge={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yge={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(qa).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},vge={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},_ge={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bge={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(qw(e))return e.number;if(qa(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},wge={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(qa).map(function(t){return t.value})}},xge={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},jl=function(r,e){return(r&e)!==0},Cge={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Ege={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(OW),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(o.type===20){var c=s&&qw(s)?s.number:1;n.push({counter:o.value,increment:c})}}return n}},Sge={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(OW),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(qa(a)&&a.value!=="none"){var s=o&&qw(o)?o.number:0;t.push({counter:a.value,reset:s})}}return t}},Tge={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(MS).map(function(t){return WW.parse(r,t)})}},Bge={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(eme);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;n.push({open:o,close:s})}return n}},Iz=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},Ige={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&D2(e[0],"none")?[]:om(e).map(function(t){for(var n={color:255,offsetX:eu,offsetY:eu,blur:eu,spread:eu,inset:!1},i=0,a=0;a<t.length;a++){var o=t[a];D2(o,"inset")?n.inset=!0:mv(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=tv.parse(r,o)}return n})}},kge={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(qa).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Nge={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pge={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return MS(e)?e.number:0}},Oge=(function(){function r(e,t){var n,i;this.animationDuration=Jr(e,Tge,t.animationDuration),this.backgroundClip=Jr(e,nme,t.backgroundClip),this.backgroundColor=Jr(e,ime,t.backgroundColor),this.backgroundImage=Jr(e,fme,t.backgroundImage),this.backgroundOrigin=Jr(e,pme,t.backgroundOrigin),this.backgroundPosition=Jr(e,mme,t.backgroundPosition),this.backgroundRepeat=Jr(e,gme,t.backgroundRepeat),this.backgroundSize=Jr(e,vme,t.backgroundSize),this.borderTopColor=Jr(e,bme,t.borderTopColor),this.borderRightColor=Jr(e,wme,t.borderRightColor),this.borderBottomColor=Jr(e,xme,t.borderBottomColor),this.borderLeftColor=Jr(e,Cme,t.borderLeftColor),this.borderTopLeftRadius=Jr(e,Eme,t.borderTopLeftRadius),this.borderTopRightRadius=Jr(e,Sme,t.borderTopRightRadius),this.borderBottomRightRadius=Jr(e,Tme,t.borderBottomRightRadius),this.borderBottomLeftRadius=Jr(e,Bme,t.borderBottomLeftRadius),this.borderTopStyle=Jr(e,Ime,t.borderTopStyle),this.borderRightStyle=Jr(e,kme,t.borderRightStyle),this.borderBottomStyle=Jr(e,Nme,t.borderBottomStyle),this.borderLeftStyle=Jr(e,Pme,t.borderLeftStyle),this.borderTopWidth=Jr(e,Ome,t.borderTopWidth),this.borderRightWidth=Jr(e,Mme,t.borderRightWidth),this.borderBottomWidth=Jr(e,Lme,t.borderBottomWidth),this.borderLeftWidth=Jr(e,Rme,t.borderLeftWidth),this.boxShadow=Jr(e,Ige,t.boxShadow),this.color=Jr(e,Dme,t.color),this.direction=Jr(e,Ume,t.direction),this.display=Jr(e,Fme,t.display),this.float=Jr(e,Qme,t.cssFloat),this.fontFamily=Jr(e,vge,t.fontFamily),this.fontSize=Jr(e,_ge,t.fontSize),this.fontStyle=Jr(e,xge,t.fontStyle),this.fontVariant=Jr(e,wge,t.fontVariant),this.fontWeight=Jr(e,bge,t.fontWeight),this.letterSpacing=Jr(e,Hme,t.letterSpacing),this.lineBreak=Jr(e,zme,t.lineBreak),this.lineHeight=Jr(e,qme,t.lineHeight),this.listStyleImage=Jr(e,Kme,t.listStyleImage),this.listStylePosition=Jr(e,Vme,t.listStylePosition),this.listStyleType=Jr(e,U2,t.listStyleType),this.marginTop=Jr(e,Gme,t.marginTop),this.marginRight=Jr(e,$me,t.marginRight),this.marginBottom=Jr(e,Yme,t.marginBottom),this.marginLeft=Jr(e,Wme,t.marginLeft),this.opacity=Jr(e,mge,t.opacity);var a=Jr(e,Zme,t.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Jr(e,Xme,t.overflowWrap),this.paddingTop=Jr(e,Jme,t.paddingTop),this.paddingRight=Jr(e,ege,t.paddingRight),this.paddingBottom=Jr(e,tge,t.paddingBottom),this.paddingLeft=Jr(e,rge,t.paddingLeft),this.paintOrder=Jr(e,kge,t.paintOrder),this.position=Jr(e,ige,t.position),this.textAlign=Jr(e,nge,t.textAlign),this.textDecorationColor=Jr(e,gge,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Jr(e,yge,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Jr(e,age,t.textShadow),this.textTransform=Jr(e,oge,t.textTransform),this.transform=Jr(e,sge,t.transform),this.transformOrigin=Jr(e,Age,t.transformOrigin),this.visibility=Jr(e,dge,t.visibility),this.webkitTextStrokeColor=Jr(e,Nge,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Jr(e,Pge,t.webkitTextStrokeWidth),this.wordBreak=Jr(e,fge,t.wordBreak),this.zIndex=Jr(e,pge,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return rv(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return jl(this.display,4)||jl(this.display,33554432)||jl(this.display,268435456)||jl(this.display,536870912)||jl(this.display,67108864)||jl(this.display,134217728)},r})(),Mge=(function(){function r(e,t){this.content=Jr(e,Cge,t.content),this.quotes=Jr(e,Bge,t.quotes)}return r})(),kz=(function(){function r(e,t){this.counterIncrement=Jr(e,Ege,t.counterIncrement),this.counterReset=Jr(e,Sge,t.counterReset)}return r})(),Jr=function(r,e,t){var n=new NW,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var a=new PW(n.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(r,qa(o)?o.value:e.initialValue);case 0:return e.parse(r,a.parseComponentValue());case 1:return e.parse(r,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return sO.parse(r,a.parseComponentValue());case"color":return tv.parse(r,a.parseComponentValue());case"image":return q6.parse(r,a.parseComponentValue());case"length":var s=a.parseComponentValue();return mv(s)?s:eu;case"length-percentage":var c=a.parseComponentValue();return ml(c)?c:eu;case"time":return WW.parse(r,a.parseComponentValue())}break}},Lge="data-html2canvas-debug",Rge=function(r){var e=r.getAttribute(Lge);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},F2=function(r,e){var t=Rge(r);return t===1||e===t},sm=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,F2(t,3))debugger;this.styles=new Oge(e,window.getComputedStyle(t,null)),H2(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=aO(this.context,t),F2(t,4)&&(this.flags|=16)}return r})(),Dge="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Nz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var LB=0;LB<Nz.length;LB++)KC[Nz.charCodeAt(LB)]=LB;var Uge=function(r){var e=r.length*.75,t=r.length,n,i=0,a,o,s,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<t;n+=4)a=KC[r.charCodeAt(n)],o=KC[r.charCodeAt(n+1)],s=KC[r.charCodeAt(n+2)],c=KC[r.charCodeAt(n+3)],f[i++]=a<<2|o>>4,f[i++]=(o&15)<<4|s>>2,f[i++]=(s&3)<<6|c&63;return A},Fge=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},jge=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},r_=5,K6=11,B4=2,Qge=K6-r_,ZW=65536>>r_,Hge=1<<r_,I4=Hge-1,zge=1024>>r_,qge=ZW+zge,Kge=qge,Vge=32,Gge=Kge+Vge,$ge=65536>>K6,Yge=1<<Qge,Wge=Yge-1,Pz=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},Zge=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},Xge=function(r,e){var t=Uge(r),n=Array.isArray(t)?jge(t):new Uint32Array(t),i=Array.isArray(t)?Fge(t):new Uint16Array(t),a=24,o=Pz(i,a/2,n[4]/2),s=n[5]===2?Pz(i,(a+n[4])/2):Zge(n,Math.ceil((a+n[4])/4));return new Jge(n[0],n[1],n[2],n[3],o,s)},Jge=(function(){function r(e,t,n,i,a,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>r_],t=(t<<B4)+(e&I4),this.data[t];if(e<=65535)return t=this.index[ZW+(e-55296>>r_)],t=(t<<B4)+(e&I4),this.data[t];if(e<this.highStart)return t=Gge-$ge+(e>>K6),t=this.index[t],t+=e>>r_&Wge,t=this.index[t],t=(t<<B4)+(e&I4),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),Oz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eye=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var RB=0;RB<Oz.length;RB++)eye[Oz.charCodeAt(RB)]=RB;var tye=1,k4=2,N4=3,Mz=4,Lz=5,rye=7,Rz=8,P4=9,O4=10,Dz=11,Uz=12,Fz=13,jz=14,M4=15,nye=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var a=r.charCodeAt(t++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},iye=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,a="";++i<t;){var o=r[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===t||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},aye=Xge(Dge),Fd="",L4="",oye=function(r){return aye.get(r)},sye=function(r,e,t){var n=t-2,i=e[n],a=e[t-1],o=e[t];if(a===k4&&o===N4)return Fd;if(a===k4||a===N4||a===Mz||o===k4||o===N4||o===Mz)return L4;if(a===Rz&&[Rz,P4,Dz,Uz].indexOf(o)!==-1||(a===Dz||a===P4)&&(o===P4||o===O4)||(a===Uz||a===O4)&&o===O4||o===Fz||o===Lz||o===rye||a===tye)return Fd;if(a===Fz&&o===jz){for(;i===Lz;)i=e[--n];if(i===jz)return Fd}if(a===M4&&o===M4){for(var s=0;i===M4;)s++,i=e[--n];if(s%2===0)return Fd}return L4},lye=function(r){var e=nye(r),t=e.length,n=0,i=0,a=e.map(oye);return{next:function(){if(n>=t)return{done:!0,value:null};for(var o=Fd;n<t&&(o=sye(e,a,++n))===Fd;);if(o!==Fd||n===t){var s=iye.apply(null,e.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},cye=function(r){for(var e=lye(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},uye=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),a=Math.round(i.height);if(r.body.removeChild(n),a===e)return!0}}return!1},hye=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=oO(n.data).map(function(c){return qs(c)}),a=0,o={},s=i.every(function(c,A){t.setStart(n,a),t.setEnd(n,a+c.length);var f=t.getBoundingClientRect();a+=c.length;var y=f.x>o.x||f.y>o.y;return o=f,A===0?!0:y});return r.body.removeChild(e),s},Aye=function(){return typeof new Image().crossOrigin<"u"},dye=function(){return typeof new XMLHttpRequest().responseType=="string"},fye=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},Qz=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},pye=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,a=e.toDataURL();i.src=a;var o=j2(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),Hz(o).then(function(s){n.drawImage(s,0,0);var c=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var A=r.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=t+"px",Qz(c)?Hz(j2(t,t,0,0,A)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),Qz(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},j2=function(r,e,t,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",r.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Hz=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Wc={get SUPPORT_RANGE_BOUNDS(){var r=uye(document);return Object.defineProperty(Wc,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Wc.SUPPORT_RANGE_BOUNDS&&hye(document);return Object.defineProperty(Wc,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=fye(document);return Object.defineProperty(Wc,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?pye(document):Promise.resolve(!1);return Object.defineProperty(Wc,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=Aye();return Object.defineProperty(Wc,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=dye();return Object.defineProperty(Wc,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Wc,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Wc,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},fE=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),mye=function(r,e,t,n){var i=vye(e,t),a=[],o=0;return i.forEach(function(s){if(t.textDecorationLine.length||s.trim().length>0)if(Wc.SUPPORT_RANGE_BOUNDS){var c=zz(n,o,s.length).getClientRects();if(c.length>1){var A=V6(s),f=0;A.forEach(function(C){a.push(new fE(C,vg.fromDOMRectList(r,zz(n,f+o,C.length).getClientRects()))),f+=C.length})}else a.push(new fE(s,vg.fromDOMRectList(r,c)))}else{var y=n.splitText(s.length);a.push(new fE(s,gye(r,n))),n=y}else Wc.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));o+=s.length}),a},gye=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=aO(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return vg.EMPTY},zz=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},V6=function(r){if(Wc.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return cye(r)},yye=function(r,e){if(Wc.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return bye(r,e)},vye=function(r,e){return e.letterSpacing!==0?V6(r):yye(r,e)},_ye=[32,160,4961,65792,65793,4153,4241],bye=function(r,e){for(var t=$fe(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),s=oO(o),c="";s.forEach(function(A){_ye.indexOf(A)===-1?c+=qs(A):(c.length&&n.push(c),n.push(qs(A)),c="")}),c.length&&n.push(c)}};!(i=t.next()).done;)a();return n},wye=(function(){function r(e,t,n){this.text=xye(t.data,n.textTransform),this.textBounds=mye(e,this.text,n,t)}return r})(),xye=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(Cye,Eye);case 2:return r.toUpperCase();default:return r}},Cye=/(^|\s|:|-|\(|\))([a-z])/g,Eye=function(r,e,t){return r.length>0?e+t.toUpperCase():r},XW=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(sm),JW=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(sm),eZ=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this,a=new XMLSerializer,o=aO(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(sm),tZ=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e})(sm),Q2=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(sm),Sye=[{type:15,flags:0,unit:"px",number:3}],Tye=[{type:16,flags:0,number:50}],Bye=function(r){return r.width>r.height?new vg(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new vg(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},Iye=function(r){var e=r.type===kye?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},qk="checkbox",Kk="radio",kye="password",qz=707406591,G6=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Iye(n),(i.type===qk||i.type===Kk)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Bye(i.bounds)),i.type){case qk:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Sye;break;case Kk:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Tye;break}return i}return e})(sm),rZ=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e})(sm),nZ=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e})(sm),iZ=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=oZ(t,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?AE(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ig.TRANSPARENT,o=n.contentWindow.document.body?AE(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):ig.TRANSPARENT;i.backgroundColor=rv(a)?rv(o)?i.styles.backgroundColor:o:a}}catch{}return i}return e})(sm),Nye=["OL","UL","MENU"],ek=function(r,e,t,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,sZ(i)&&i.data.trim().length>0)t.textNodes.push(new wye(r,i,t.styles));else if(Ib(i))if(hZ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return ek(r,s,t,n)});else{var o=aZ(r,i);o.styles.isVisible()&&(Pye(i,o,n)?o.flags|=4:Oye(o.styles)&&(o.flags|=2),Nye.indexOf(i.tagName)!==-1&&(o.flags|=8),t.elements.push(o),i.slot,i.shadowRoot?ek(r,i.shadowRoot,o,n):!Vk(i)&&!lZ(i)&&!Gk(i)&&ek(r,i,o,n))}},aZ=function(r,e){return z2(e)?new XW(r,e):cZ(e)?new JW(r,e):lZ(e)?new eZ(r,e):Mye(e)?new tZ(r,e):Lye(e)?new Q2(r,e):Rye(e)?new G6(r,e):Gk(e)?new rZ(r,e):Vk(e)?new nZ(r,e):uZ(e)?new iZ(r,e):new sm(r,e)},oZ=function(r,e){var t=aZ(r,e);return t.flags|=4,ek(r,e,t,t),t},Pye=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||$6(r)&&t.styles.isTransparent()},Oye=function(r){return r.isPositioned()||r.isFloating()},sZ=function(r){return r.nodeType===Node.TEXT_NODE},Ib=function(r){return r.nodeType===Node.ELEMENT_NODE},H2=function(r){return Ib(r)&&typeof r.style<"u"&&!tk(r)},tk=function(r){return typeof r.className=="object"},Mye=function(r){return r.tagName==="LI"},Lye=function(r){return r.tagName==="OL"},Rye=function(r){return r.tagName==="INPUT"},Dye=function(r){return r.tagName==="HTML"},lZ=function(r){return r.tagName==="svg"},$6=function(r){return r.tagName==="BODY"},cZ=function(r){return r.tagName==="CANVAS"},Kz=function(r){return r.tagName==="VIDEO"},z2=function(r){return r.tagName==="IMG"},uZ=function(r){return r.tagName==="IFRAME"},Vz=function(r){return r.tagName==="STYLE"},Uye=function(r){return r.tagName==="SCRIPT"},Vk=function(r){return r.tagName==="TEXTAREA"},Gk=function(r){return r.tagName==="SELECT"},hZ=function(r){return r.tagName==="SLOT"},Gz=function(r){return r.tagName.indexOf("-")>0},Fye=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(s){var c=t.counters[s.counter];c&&s.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=s.increment)});var o=[];return a&&i.forEach(function(s){var c=t.counters[s.counter];o.push(s.counter),c||(c=t.counters[s.counter]=[]),c.push(s.reset)}),o},r})(),$z={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Yz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},V1=function(r,e,t,n,i,a){return r<e||r>t?VE(r,i,a.length>0):n.integers.reduce(function(o,s,c){for(;r>=s;)r-=s,o+=n.values[c];return o},"")+a},AZ=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},js=function(r,e,t,n,i){var a=t-e+1;return(r<0?"-":"")+(AZ(Math.abs(r),a,n,function(o){return qs(Math.floor(o%a)+e)})+i)},u0=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return AZ(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},db=1,Ty=2,By=4,VC=8,Fm=function(r,e,t,n,i,a){if(r<-9999||r>9999)return VE(r,4,i.length>0);var o=Math.abs(r),s=i;if(o===0)return e[0]+s;for(var c=0;o>0&&c<=4;c++){var A=o%10;A===0&&jl(a,db)&&s!==""?s=e[A]+s:A>1||A===1&&c===0||A===1&&c===1&&jl(a,Ty)||A===1&&c===1&&jl(a,By)&&r>100||A===1&&c>1&&jl(a,VC)?s=e[A]+(c>0?t[c-1]:"")+s:A===1&&c>0&&(s=t[c-1]+s),o=Math.floor(o/10)}return(r<0?n:"")+s},Wz="",Zz="",Xz="",R4="",VE=function(r,e,t){var n=t?". ":"",i=t?"":"",a=t?", ":"",o=t?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=js(r,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return u0(r,"",i);case 6:return V1(r,1,3999,$z,3,n).toLowerCase();case 7:return V1(r,1,3999,$z,3,n);case 8:return js(r,945,969,!1,n);case 9:return js(r,97,122,!1,n);case 10:return js(r,65,90,!1,n);case 11:return js(r,1632,1641,!0,n);case 12:case 49:return V1(r,1,9999,Yz,3,n);case 35:return V1(r,1,9999,Yz,3,n).toLowerCase();case 13:return js(r,2534,2543,!0,n);case 14:case 30:return js(r,6112,6121,!0,n);case 15:return u0(r,"",i);case 16:return u0(r,"",i);case 17:case 48:return Fm(r,"",Wz,"",i,Ty|By|VC);case 47:return Fm(r,"",Zz,"",i,db|Ty|By|VC);case 42:return Fm(r,"",Wz,"",i,Ty|By|VC);case 41:return Fm(r,"",Zz,"",i,db|Ty|By|VC);case 26:return Fm(r,"","",Xz,i,0);case 25:return Fm(r,"","",Xz,i,db|Ty|By);case 31:return Fm(r,"","",R4,a,db|Ty|By);case 33:return Fm(r,"","",R4,a,0);case 32:return Fm(r,"","",R4,a,db|Ty|By);case 18:return js(r,2406,2415,!0,n);case 20:return V1(r,1,19999,Qye,3,n);case 21:return js(r,2790,2799,!0,n);case 22:return js(r,2662,2671,!0,n);case 22:return V1(r,1,10999,jye,3,n);case 23:return u0(r,"");case 24:return u0(r,"");case 27:return js(r,3302,3311,!0,n);case 28:return u0(r,"",i);case 29:return u0(r,"",i);case 34:return js(r,3792,3801,!0,n);case 37:return js(r,6160,6169,!0,n);case 38:return js(r,4160,4169,!0,n);case 39:return js(r,2918,2927,!0,n);case 40:return js(r,1776,1785,!0,n);case 43:return js(r,3046,3055,!0,n);case 44:return js(r,3174,3183,!0,n);case 45:return js(r,3664,3673,!0,n);case 46:return js(r,3872,3881,!0,n);case 3:default:return js(r,48,57,!0,n)}},dZ="data-html2canvas-ignore",Jz=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Fye,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=Hye(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=i.contentWindow,c=s.document,A=Kye(i).then(function(){return bh(n,void 0,void 0,function(){var f,y;return Fu(this,function(C){switch(C.label){case 0:return this.scrolledElements.forEach(Yye),s&&(s.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==t.top||s.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-t.left,s.scrollY-t.top,0,0))),f=this.options.onclone,y=this.clonedReferenceElement,typeof y>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:C.sent(),C.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,qye(c)]:[3,4];case 3:C.sent(),C.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(c,y)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(Gye(document.doctype)+"<html></html>"),$ye(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},r.prototype.createElementClone=function(e){if(F2(e,2))debugger;if(cZ(e))return this.createCanvasClone(e);if(Kz(e))return this.createVideoClone(e);if(Vz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return z2(t)&&(z2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),Gz(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return D4(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var s=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(s){var c=s.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Ib(t)||!Uye(t)&&!t.hasAttribute(dZ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ib(t)||!Vz(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Ib(a)&&hZ(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(s){return i.appendChildNode(t,s,n)})}else this.appendChildNode(t,a,n)},r.prototype.cloneNode=function(e,t){if(sZ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ib(e)&&(H2(e)||tk(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),s=n.getComputedStyle(e,":after");this.referenceElement===e&&H2(i)&&(this.clonedReferenceElement=i),$6(i)&&Xye(i);var c=this.counters.parse(new kz(this.context,a)),A=this.resolvePseudoContent(e,i,o,pE.BEFORE);Gz(e)&&(t=!0),Kz(e)||this.cloneChildNodes(e,i,t),A&&i.insertBefore(A,i.firstChild);var f=this.resolvePseudoContent(e,i,s,pE.AFTER);return f&&i.appendChild(f),this.counters.pop(c),(a&&(this.options.copyStyles||tk(e))&&!uZ(e)||t)&&D4(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Vk(e)||Gk(e))&&(Vk(i)||Gk(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var a=this;if(n){var o=n.content,s=t.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new kz(this.context,n));var c=new Mge(this.context,n),A=s.createElement("html2canvaspseudoelement");D4(n,A),c.content.forEach(function(y){if(y.type===0)A.appendChild(s.createTextNode(y.value));else if(y.type===22){var C=s.createElement("img");C.src=y.value,C.style.opacity="1",A.appendChild(C)}else if(y.type===18){if(y.name==="attr"){var x=y.values.filter(qa);x.length&&A.appendChild(s.createTextNode(e.getAttribute(x[0].value)||""))}else if(y.name==="counter"){var k=y.values.filter(gw),N=k[0],M=k[1];if(N&&qa(N)){var D=a.counters.getCounterValue(N.value),H=M&&qa(M)?U2.parse(a.context,M.value):3;A.appendChild(s.createTextNode(VE(D,H,!1)))}}else if(y.name==="counters"){var q=y.values.filter(gw),N=q[0],$=q[1],M=q[2];if(N&&qa(N)){var ce=a.counters.getCounterValues(N.value),V=M&&qa(M)?U2.parse(a.context,M.value):3,he=$&&$.type===0?$.value:"",le=ce.map(function(W){return VE(W,V,!1)}).join(he);A.appendChild(s.createTextNode(le))}}}else if(y.type===20)switch(y.value){case"open-quote":A.appendChild(s.createTextNode(Iz(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":A.appendChild(s.createTextNode(Iz(c.quotes,--a.quoteDepth,!1)));break;default:A.appendChild(s.createTextNode(y.value))}}),A.className=q2+" "+K2;var f=i===pE.BEFORE?" "+q2:" "+K2;return tk(t)?t.className.baseValue+=f:t.className+=f,A}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),pE;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(pE||(pE={}));var Hye=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(dZ,"true"),r.body.appendChild(t),t},zye=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},qye=function(r){return Promise.all([].slice.call(r.images,0).map(zye))},Kye=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(r))},50)}})},Vye=["all","d","content"],D4=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);Vye.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},Gye=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},$ye=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},Yye=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},Wye=":before",Zye=":after",q2="___html2canvas___pseudoelement_before",K2="___html2canvas___pseudoelement_after",e7=`{
    content: "" !important;
    display: none !important;
}`,Xye=function(r){Jye(r,"."+q2+Wye+e7+`
         .`+K2+Zye+e7)},Jye=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},fZ=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),eve=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(F4(e)||ive(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return bh(this,void 0,void 0,function(){var t,n,i,a,o=this;return Fu(this,function(s){switch(s.label){case 0:return t=fZ.isSameOrigin(e),n=!U4(e)&&this._options.useCORS===!0&&Wc.SUPPORT_CORS_IMAGES&&!t,i=!U4(e)&&!t&&!F4(e)&&typeof this._options.proxy=="string"&&Wc.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!U4(e)&&!F4(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,A){var f=new Image;f.onload=function(){return c(f)},f.onerror=A,(ave(a)||n)&&(f.crossOrigin="anonymous"),f.src=a,f.complete===!0&&setTimeout(function(){return c(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,o){var s=Wc.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(s==="text")a(c.response);else{var y=new FileReader;y.addEventListener("load",function(){return a(y.result)},!1),y.addEventListener("error",function(C){return o(C)},!1),y.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var A=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+s),s!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=s),t._options.imageTimeout){var f=t._options.imageTimeout;c.timeout=f,c.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+i)}}c.send()})},r})(),tve=/^data:image\/svg\+xml/i,rve=/^data:image\/.*;base64,/i,nve=/^data:image\/.*/i,ive=function(r){return Wc.SUPPORT_SVG_DRAWING||!ove(r)},U4=function(r){return nve.test(r)},ave=function(r){return rve.test(r)},F4=function(r){return r.substr(0,4)==="blob"},ove=function(r){return r.substr(-3).toLowerCase()==="svg"||tve.test(r)},Wr=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),G1=function(r,e,t){return new Wr(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},DB=(function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=G1(this.start,this.startControl,e),i=G1(this.startControl,this.endControl,e),a=G1(this.endControl,this.end,e),o=G1(n,i,e),s=G1(i,a,e),c=G1(o,s,e);return t?new r(this.start,n,o,c):new r(c,s,a,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Hd=function(r){return r.type===1},sve=(function(){function r(e){var t=e.styles,n=e.bounds,i=qC(t.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],s=qC(t.borderTopRightRadius,n.width,n.height),c=s[0],A=s[1],f=qC(t.borderBottomRightRadius,n.width,n.height),y=f[0],C=f[1],x=qC(t.borderBottomLeftRadius,n.width,n.height),k=x[0],N=x[1],M=[];M.push((a+c)/n.width),M.push((k+y)/n.width),M.push((o+N)/n.height),M.push((A+C)/n.height);var D=Math.max.apply(Math,M);D>1&&(a/=D,o/=D,c/=D,A/=D,y/=D,C/=D,k/=D,N/=D);var H=n.width-c,q=n.height-C,$=n.width-y,ce=n.height-N,V=t.borderTopWidth,he=t.borderRightWidth,le=t.borderBottomWidth,fe=t.borderLeftWidth,Ne=vo(t.paddingTop,e.bounds.width),W=vo(t.paddingRight,e.bounds.width),ue=vo(t.paddingBottom,e.bounds.width),de=vo(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?$o(n.left+fe/3,n.top+V/3,a-fe/3,o-V/3,wa.TOP_LEFT):new Wr(n.left+fe/3,n.top+V/3),this.topRightBorderDoubleOuterBox=a>0||o>0?$o(n.left+H,n.top+V/3,c-he/3,A-V/3,wa.TOP_RIGHT):new Wr(n.left+n.width-he/3,n.top+V/3),this.bottomRightBorderDoubleOuterBox=y>0||C>0?$o(n.left+$,n.top+q,y-he/3,C-le/3,wa.BOTTOM_RIGHT):new Wr(n.left+n.width-he/3,n.top+n.height-le/3),this.bottomLeftBorderDoubleOuterBox=k>0||N>0?$o(n.left+fe/3,n.top+ce,k-fe/3,N-le/3,wa.BOTTOM_LEFT):new Wr(n.left+fe/3,n.top+n.height-le/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?$o(n.left+fe*2/3,n.top+V*2/3,a-fe*2/3,o-V*2/3,wa.TOP_LEFT):new Wr(n.left+fe*2/3,n.top+V*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?$o(n.left+H,n.top+V*2/3,c-he*2/3,A-V*2/3,wa.TOP_RIGHT):new Wr(n.left+n.width-he*2/3,n.top+V*2/3),this.bottomRightBorderDoubleInnerBox=y>0||C>0?$o(n.left+$,n.top+q,y-he*2/3,C-le*2/3,wa.BOTTOM_RIGHT):new Wr(n.left+n.width-he*2/3,n.top+n.height-le*2/3),this.bottomLeftBorderDoubleInnerBox=k>0||N>0?$o(n.left+fe*2/3,n.top+ce,k-fe*2/3,N-le*2/3,wa.BOTTOM_LEFT):new Wr(n.left+fe*2/3,n.top+n.height-le*2/3),this.topLeftBorderStroke=a>0||o>0?$o(n.left+fe/2,n.top+V/2,a-fe/2,o-V/2,wa.TOP_LEFT):new Wr(n.left+fe/2,n.top+V/2),this.topRightBorderStroke=a>0||o>0?$o(n.left+H,n.top+V/2,c-he/2,A-V/2,wa.TOP_RIGHT):new Wr(n.left+n.width-he/2,n.top+V/2),this.bottomRightBorderStroke=y>0||C>0?$o(n.left+$,n.top+q,y-he/2,C-le/2,wa.BOTTOM_RIGHT):new Wr(n.left+n.width-he/2,n.top+n.height-le/2),this.bottomLeftBorderStroke=k>0||N>0?$o(n.left+fe/2,n.top+ce,k-fe/2,N-le/2,wa.BOTTOM_LEFT):new Wr(n.left+fe/2,n.top+n.height-le/2),this.topLeftBorderBox=a>0||o>0?$o(n.left,n.top,a,o,wa.TOP_LEFT):new Wr(n.left,n.top),this.topRightBorderBox=c>0||A>0?$o(n.left+H,n.top,c,A,wa.TOP_RIGHT):new Wr(n.left+n.width,n.top),this.bottomRightBorderBox=y>0||C>0?$o(n.left+$,n.top+q,y,C,wa.BOTTOM_RIGHT):new Wr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=k>0||N>0?$o(n.left,n.top+ce,k,N,wa.BOTTOM_LEFT):new Wr(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?$o(n.left+fe,n.top+V,Math.max(0,a-fe),Math.max(0,o-V),wa.TOP_LEFT):new Wr(n.left+fe,n.top+V),this.topRightPaddingBox=c>0||A>0?$o(n.left+Math.min(H,n.width-he),n.top+V,H>n.width+he?0:Math.max(0,c-he),Math.max(0,A-V),wa.TOP_RIGHT):new Wr(n.left+n.width-he,n.top+V),this.bottomRightPaddingBox=y>0||C>0?$o(n.left+Math.min($,n.width-fe),n.top+Math.min(q,n.height-le),Math.max(0,y-he),Math.max(0,C-le),wa.BOTTOM_RIGHT):new Wr(n.left+n.width-he,n.top+n.height-le),this.bottomLeftPaddingBox=k>0||N>0?$o(n.left+fe,n.top+Math.min(ce,n.height-le),Math.max(0,k-fe),Math.max(0,N-le),wa.BOTTOM_LEFT):new Wr(n.left+fe,n.top+n.height-le),this.topLeftContentBox=a>0||o>0?$o(n.left+fe+de,n.top+V+Ne,Math.max(0,a-(fe+de)),Math.max(0,o-(V+Ne)),wa.TOP_LEFT):new Wr(n.left+fe+de,n.top+V+Ne),this.topRightContentBox=c>0||A>0?$o(n.left+Math.min(H,n.width+fe+de),n.top+V+Ne,H>n.width+fe+de?0:c-fe+de,A-(V+Ne),wa.TOP_RIGHT):new Wr(n.left+n.width-(he+W),n.top+V+Ne),this.bottomRightContentBox=y>0||C>0?$o(n.left+Math.min($,n.width-(fe+de)),n.top+Math.min(q,n.height+V+Ne),Math.max(0,y-(he+W)),C-(le+ue),wa.BOTTOM_RIGHT):new Wr(n.left+n.width-(he+W),n.top+n.height-(le+ue)),this.bottomLeftContentBox=k>0||N>0?$o(n.left+fe+de,n.top+ce,Math.max(0,k-(fe+de)),N-(le+ue),wa.BOTTOM_LEFT):new Wr(n.left+fe+de,n.top+n.height-(le+ue))}return r})(),wa;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(wa||(wa={}));var $o=function(r,e,t,n,i){var a=4*((Math.sqrt(2)-1)/3),o=t*a,s=n*a,c=r+t,A=e+n;switch(i){case wa.TOP_LEFT:return new DB(new Wr(r,A),new Wr(r,A-s),new Wr(c-o,e),new Wr(c,e));case wa.TOP_RIGHT:return new DB(new Wr(r,e),new Wr(r+o,e),new Wr(c,A-s),new Wr(c,A));case wa.BOTTOM_RIGHT:return new DB(new Wr(c,e),new Wr(c,e+s),new Wr(r+o,A),new Wr(r,A));case wa.BOTTOM_LEFT:default:return new DB(new Wr(c,A),new Wr(c-o,A),new Wr(r,e+s),new Wr(r,e))}},$k=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},lve=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},Yk=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},cve=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),UB=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),uve=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),hve=function(r){return r.type===0},pZ=function(r){return r.type===1},Ave=function(r){return r.type===2},t7=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},dve=function(r,e,t,n,i){return r.map(function(a,o){switch(o){case 0:return a.add(e,t);case 1:return a.add(e+n,t);case 2:return a.add(e+n,t+i);case 3:return a.add(e,t+i)}return a})},mZ=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),gZ=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new sve(this.container),this.container.styles.opacity<1&&this.effects.push(new uve(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new cve(n,i,a))}if(this.container.styles.overflowX!==0){var o=$k(this.curves),s=Yk(this.curves);t7(o,s)?this.effects.push(new UB(o,6)):(this.effects.push(new UB(o,2)),this.effects.push(new UB(s,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!pZ(c)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=$k(n.curves),s=Yk(n.curves);t7(o,s)||i.unshift(new UB(s,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(c){return jl(c.target,e)})},r})(),V2=function(r,e,t,n){r.container.elements.forEach(function(i){var a=jl(i.flags,4),o=jl(i.flags,2),s=new gZ(i,r);jl(i.styles.display,2048)&&n.push(s);var c=jl(i.flags,8)?[]:n;if(a||o){var A=a||i.styles.isPositioned()?t:e,f=new mZ(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var y=i.styles.zIndex.order;if(y<0){var C=0;A.negativeZIndex.some(function(k,N){return y>k.element.container.styles.zIndex.order?(C=N,!1):C>0}),A.negativeZIndex.splice(C,0,f)}else if(y>0){var x=0;A.positiveZIndex.some(function(k,N){return y>=k.element.container.styles.zIndex.order?(x=N+1,!1):x>0}),A.positiveZIndex.splice(x,0,f)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?A.nonPositionedFloats.push(f):A.nonPositionedInlineLevel.push(f);V2(s,f,a?f:t,c)}else i.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),V2(s,e,t,c);jl(i.flags,8)&&yZ(i,c)})},yZ=function(r,e){for(var t=r instanceof Q2?r.start:1,n=r instanceof Q2?r.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof tZ&&typeof a.container.value=="number"&&a.container.value!==0&&(t=a.container.value),a.listValue=VE(t,a.container.styles.listStyleType,!0),t+=n?-1:1}},fve=function(r){var e=new gZ(r,null),t=new mZ(e),n=[];return V2(e,t,t,n),yZ(e.container,n),t},r7=function(r,e){switch(e){case 0:return Vd(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Vd(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Vd(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Vd(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},pve=function(r,e){switch(e){case 0:return Vd(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Vd(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Vd(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Vd(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},mve=function(r,e){switch(e){case 0:return Vd(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Vd(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Vd(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Vd(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},gve=function(r,e){switch(e){case 0:return FB(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return FB(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return FB(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return FB(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},FB=function(r,e){var t=[];return Hd(r)?t.push(r.subdivide(.5,!1)):t.push(r),Hd(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Vd=function(r,e,t,n){var i=[];return Hd(r)?i.push(r.subdivide(.5,!1)):i.push(r),Hd(t)?i.push(t.subdivide(.5,!0)):i.push(t),Hd(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Hd(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},vZ=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Wk=function(r){var e=r.styles,t=r.bounds,n=vo(e.paddingLeft,t.width),i=vo(e.paddingRight,t.width),a=vo(e.paddingTop,t.width),o=vo(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+o))},yve=function(r,e){return r===0?e.bounds:r===2?Wk(e):vZ(e)},vve=function(r,e){return r===0?e.bounds:r===2?Wk(e):vZ(e)},j4=function(r,e,t){var n=yve(fb(r.styles.backgroundOrigin,e),r),i=vve(fb(r.styles.backgroundClip,e),r),a=_ve(fb(r.styles.backgroundSize,e),t,n),o=a[0],s=a[1],c=qC(fb(r.styles.backgroundPosition,e),n.width-o,n.height-s),A=bve(fb(r.styles.backgroundRepeat,e),c,a,n,i),f=Math.round(n.left+c[0]),y=Math.round(n.top+c[1]);return[A,f,y,o,s]},$1=function(r){return qa(r)&&r.value===Zb.AUTO},jB=function(r){return typeof r=="number"},_ve=function(r,e,t){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1];if(!o)return[0,0];if(ml(o)&&s&&ml(s))return[vo(o,t.width),vo(s,t.height)];var c=jB(a);if(qa(o)&&(o.value===Zb.CONTAIN||o.value===Zb.COVER)){if(jB(a)){var A=t.width/t.height;return A<a!=(o.value===Zb.COVER)?[t.width,t.width/a]:[t.height*a,t.height]}return[t.width,t.height]}var f=jB(n),y=jB(i),C=f||y;if($1(o)&&(!s||$1(s))){if(f&&y)return[n,i];if(!c&&!C)return[t.width,t.height];if(C&&c){var x=f?n:i*a,k=y?i:n/a;return[x,k]}var N=f?n:t.width,M=y?i:t.height;return[N,M]}if(c){var D=0,H=0;return ml(o)?D=vo(o,t.width):ml(s)&&(H=vo(s,t.height)),$1(o)?D=H*a:(!s||$1(s))&&(H=D/a),[D,H]}var q=null,$=null;if(ml(o)?q=vo(o,t.width):s&&ml(s)&&($=vo(s,t.height)),q!==null&&(!s||$1(s))&&($=f&&y?q/n*i:t.height),$!==null&&$1(o)&&(q=f&&y?$/i*n:t.width),q!==null&&$!==null)return[q,$];throw new Error("Unable to calculate background-size for element")},fb=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},bve=function(r,e,t,n,i){var a=e[0],o=e[1],s=t[0],c=t[1];switch(r){case 2:return[new Wr(Math.round(n.left),Math.round(n.top+o)),new Wr(Math.round(n.left+n.width),Math.round(n.top+o)),new Wr(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Wr(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Wr(Math.round(n.left+a),Math.round(n.top)),new Wr(Math.round(n.left+a+s),Math.round(n.top)),new Wr(Math.round(n.left+a+s),Math.round(n.height+n.top)),new Wr(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Wr(Math.round(n.left+a),Math.round(n.top+o)),new Wr(Math.round(n.left+a+s),Math.round(n.top+o)),new Wr(Math.round(n.left+a+s),Math.round(n.top+o+c)),new Wr(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new Wr(Math.round(i.left),Math.round(i.top)),new Wr(Math.round(i.left+i.width),Math.round(i.top)),new Wr(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Wr(Math.round(i.left),Math.round(i.height+i.top))]}},wve="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n7="Hidden Text",xve=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=wve,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(n7)),n.appendChild(a),n.appendChild(i);var s=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(n7)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:c}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),_Z=(function(){function r(e,t){this.context=e,this.options=t}return r})(),Cve=1e4,Eve=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new xve(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),Ave(t)&&(this.ctx.globalAlpha=t.opacity),hve(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),pZ(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return bh(this,void 0,void 0,function(){var n;return Fu(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return bh(this,void 0,void 0,function(){return Fu(this,function(n){switch(n.label){case 0:if(jl(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var a=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var o=V6(t.text);o.reduce(function(s,c){return a.ctx.fillText(c,s,t.bounds.top+i),s+a.ctx.measureText(c).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=kve(t.fontFamily).join(", "),a=MS(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(t,n){return bh(this,void 0,void 0,function(){var i,a,o,s,c,A,f,y,C=this;return Fu(this,function(x){return i=this.createFontStyle(n),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,s),A=c.baseline,f=c.middle,y=n.paintOrder,t.textBounds.forEach(function(k){y.forEach(function(N){switch(N){case 0:C.ctx.fillStyle=dc(n.color),C.renderTextWithLetterSpacing(k,n.letterSpacing,A);var M=n.textShadow;M.length&&k.text.trim().length&&(M.slice(0).reverse().forEach(function(D){C.ctx.shadowColor=dc(D.color),C.ctx.shadowOffsetX=D.offsetX.number*C.options.scale,C.ctx.shadowOffsetY=D.offsetY.number*C.options.scale,C.ctx.shadowBlur=D.blur.number,C.renderTextWithLetterSpacing(k,n.letterSpacing,A)}),C.ctx.shadowColor="",C.ctx.shadowOffsetX=0,C.ctx.shadowOffsetY=0,C.ctx.shadowBlur=0),n.textDecorationLine.length&&(C.ctx.fillStyle=dc(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(D){switch(D){case 1:C.ctx.fillRect(k.bounds.left,Math.round(k.bounds.top+A),k.bounds.width,1);break;case 2:C.ctx.fillRect(k.bounds.left,Math.round(k.bounds.top),k.bounds.width,1);break;case 3:C.ctx.fillRect(k.bounds.left,Math.ceil(k.bounds.top+f),k.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&k.text.trim().length&&(C.ctx.strokeStyle=dc(n.webkitTextStrokeColor),C.ctx.lineWidth=n.webkitTextStrokeWidth,C.ctx.lineJoin=window.chrome?"miter":"round",C.ctx.strokeText(k.text,k.bounds.left,k.bounds.top+A)),C.ctx.strokeStyle="",C.ctx.lineWidth=0,C.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var a=Wk(t),o=Yk(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return bh(this,void 0,void 0,function(){var n,i,a,o,s,c,H,H,A,f,y,C,$,x,k,ce,N,M,D,H,q,$,ce;return Fu(this,function(V){switch(V.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,a=n.styles,o=0,s=n.textNodes,V.label=1;case 1:return o<s.length?(c=s[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:V.sent(),V.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof XW))return[3,8];V.label=5;case 5:return V.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return H=V.sent(),this.renderReplacedElement(n,i,H),[3,8];case 7:return V.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof JW&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof eZ))return[3,12];V.label=9;case 9:return V.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return H=V.sent(),this.renderReplacedElement(n,i,H),[3,12];case 11:return V.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof iZ&&n.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:f=V.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),V.label=14;case 14:if(n instanceof G6&&(y=Math.min(n.bounds.width,n.bounds.height),n.type===qk?n.checked&&(this.ctx.save(),this.path([new Wr(n.bounds.left+y*.39363,n.bounds.top+y*.79),new Wr(n.bounds.left+y*.16,n.bounds.top+y*.5549),new Wr(n.bounds.left+y*.27347,n.bounds.top+y*.44071),new Wr(n.bounds.left+y*.39694,n.bounds.top+y*.5649),new Wr(n.bounds.left+y*.72983,n.bounds.top+y*.23),new Wr(n.bounds.left+y*.84,n.bounds.top+y*.34085),new Wr(n.bounds.left+y*.39363,n.bounds.top+y*.79)]),this.ctx.fillStyle=dc(qz),this.ctx.fill(),this.ctx.restore()):n.type===Kk&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+y/2,n.bounds.top+y/2,y/4,0,Math.PI*2,!0),this.ctx.fillStyle=dc(qz),this.ctx.fill(),this.ctx.restore())),Sve(n)&&n.value.length){switch(C=this.createFontStyle(a),$=C[0],x=C[1],k=this.fontMetrics.getMetrics($,x).baseline,this.ctx.font=$,this.ctx.fillStyle=dc(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Bve(n.styles.textAlign),ce=Wk(n),N=0,n.styles.textAlign){case 1:N+=ce.width/2;break;case 2:N+=ce.width;break}M=ce.add(N,0,0,-ce.height/2+1),this.ctx.save(),this.path([new Wr(ce.left,ce.top),new Wr(ce.left+ce.width,ce.top),new Wr(ce.left+ce.width,ce.top+ce.height),new Wr(ce.left,ce.top+ce.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fE(n.value,M),a.letterSpacing,k),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!jl(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(D=n.styles.listStyleImage,D.type!==0)return[3,18];H=void 0,q=D.url,V.label=15;case 15:return V.trys.push([15,17,,18]),[4,this.context.cache.match(q)];case 16:return H=V.sent(),this.ctx.drawImage(H,n.bounds.left-(H.width+10),n.bounds.top),[3,18];case 17:return V.sent(),this.context.logger.error("Error loading list-style-image "+q),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&($=this.createFontStyle(a)[0],this.ctx.font=$,this.ctx.fillStyle=dc(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ce=new vg(n.bounds.left,n.bounds.top+vo(n.styles.paddingTop,n.bounds.width),n.bounds.width,Tz(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fE(t.listValue,ce),a.letterSpacing,Tz(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),V.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return bh(this,void 0,void 0,function(){var n,i,D,a,o,D,s,c,D,A,f,D,y,C,D,x,k,D,N,M,D;return Fu(this,function(H){switch(H.label){case 0:if(jl(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:H.sent(),n=0,i=t.negativeZIndex,H.label=2;case 2:return n<i.length?(D=i[n],[4,this.renderStack(D)]):[3,5];case 3:H.sent(),H.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:H.sent(),a=0,o=t.nonInlineLevel,H.label=7;case 7:return a<o.length?(D=o[a],[4,this.renderNode(D)]):[3,10];case 8:H.sent(),H.label=9;case 9:return a++,[3,7];case 10:s=0,c=t.nonPositionedFloats,H.label=11;case 11:return s<c.length?(D=c[s],[4,this.renderStack(D)]):[3,14];case 12:H.sent(),H.label=13;case 13:return s++,[3,11];case 14:A=0,f=t.nonPositionedInlineLevel,H.label=15;case 15:return A<f.length?(D=f[A],[4,this.renderStack(D)]):[3,18];case 16:H.sent(),H.label=17;case 17:return A++,[3,15];case 18:y=0,C=t.inlineLevel,H.label=19;case 19:return y<C.length?(D=C[y],[4,this.renderNode(D)]):[3,22];case 20:H.sent(),H.label=21;case 21:return y++,[3,19];case 22:x=0,k=t.zeroOrAutoZIndexOrTransformedOrOpacity,H.label=23;case 23:return x<k.length?(D=k[x],[4,this.renderStack(D)]):[3,26];case 24:H.sent(),H.label=25;case 25:return x++,[3,23];case 26:N=0,M=t.positiveZIndex,H.label=27;case 27:return N<M.length?(D=M[N],[4,this.renderStack(D)]):[3,30];case 28:H.sent(),H.label=29;case 29:return N++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,a){var o=Hd(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Hd(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,a){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(t,n,i){var a;if(t.width===n&&t.height===i)return t;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,i);var c=s.getContext("2d");return c.drawImage(t,0,0,t.width,t.height,0,0,n,i),s},e.prototype.renderBackgroundImage=function(t){return bh(this,void 0,void 0,function(){var n,i,a,o,s,c;return Fu(this,function(A){switch(A.label){case 0:n=t.styles.backgroundImage.length-1,i=function(f){var y,C,x,Ne,Ee,_e,de,me,le,k,Ne,Ee,_e,de,me,N,M,D,H,q,$,ce,V,he,le,fe,Ne,W,ue,de,me,Qe,Ee,_e,ke,We,Oe,ze,ne,ae,ve,Re;return Fu(this,function(qe){switch(qe.label){case 0:if(f.type!==0)return[3,5];y=void 0,C=f.url,qe.label=1;case 1:return qe.trys.push([1,3,,4]),[4,a.context.cache.match(C)];case 2:return y=qe.sent(),[3,4];case 3:return qe.sent(),a.context.logger.error("Error loading background-image "+C),[3,4];case 4:return y&&(x=j4(t,n,[y.width,y.height,y.width/y.height]),Ne=x[0],Ee=x[1],_e=x[2],de=x[3],me=x[4],le=a.ctx.createPattern(a.resizeImage(y,de,me),"repeat"),a.renderRepeat(Ne,le,Ee,_e)),[3,6];case 5:hme(f)?(k=j4(t,n,[null,null,null]),Ne=k[0],Ee=k[1],_e=k[2],de=k[3],me=k[4],N=ome(f.angle,de,me),M=N[0],D=N[1],H=N[2],q=N[3],$=N[4],ce=document.createElement("canvas"),ce.width=de,ce.height=me,V=ce.getContext("2d"),he=V.createLinearGradient(D,q,H,$),Ez(f.stops,M).forEach(function(Ze){return he.addColorStop(Ze.stop,dc(Ze.color))}),V.fillStyle=he,V.fillRect(0,0,de,me),de>0&&me>0&&(le=a.ctx.createPattern(ce,"repeat"),a.renderRepeat(Ne,le,Ee,_e))):Ame(f)&&(fe=j4(t,n,[null,null,null]),Ne=fe[0],W=fe[1],ue=fe[2],de=fe[3],me=fe[4],Qe=f.position.length===0?[z6]:f.position,Ee=vo(Qe[0],de),_e=vo(Qe[Qe.length-1],me),ke=sme(f,Ee,_e,de,me),We=ke[0],Oe=ke[1],We>0&&Oe>0&&(ze=a.ctx.createRadialGradient(W+Ee,ue+_e,0,W+Ee,ue+_e,We),Ez(f.stops,We*2).forEach(function(Ze){return ze.addColorStop(Ze.stop,dc(Ze.color))}),a.path(Ne),a.ctx.fillStyle=ze,We!==Oe?(ne=t.bounds.left+.5*t.bounds.width,ae=t.bounds.top+.5*t.bounds.height,ve=Oe/We,Re=1/ve,a.ctx.save(),a.ctx.translate(ne,ae),a.ctx.transform(1,0,0,ve,0,0),a.ctx.translate(-ne,-ae),a.ctx.fillRect(W,Re*(ue-ae)+ae,de,me*Re),a.ctx.restore()):a.ctx.fill())),qe.label=6;case 6:return n--,[2]}})},a=this,o=0,s=t.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<s.length?(c=s[o],[5,i(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return bh(this,void 0,void 0,function(){return Fu(this,function(a){return this.path(r7(i,n)),this.ctx.fillStyle=dc(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,a){return bh(this,void 0,void 0,function(){var o,s;return Fu(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=pve(a,i),this.path(o),this.ctx.fillStyle=dc(t),this.ctx.fill(),s=mve(a,i),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return bh(this,void 0,void 0,function(){var n,i,a,o,s,c,A,f,y=this;return Fu(this,function(C){switch(C.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!rv(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Tve(fb(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rv(n.backgroundColor)||(this.ctx.fillStyle=dc(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:C.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(x){y.ctx.save();var k=$k(t.curves),N=x.inset?0:Cve,M=dve(k,-N+(x.inset?1:-1)*x.spread.number,(x.inset?1:-1)*x.spread.number,x.spread.number*(x.inset?-2:2),x.spread.number*(x.inset?-2:2));x.inset?(y.path(k),y.ctx.clip(),y.mask(M)):(y.mask(k),y.ctx.clip(),y.path(M)),y.ctx.shadowOffsetX=x.offsetX.number+N,y.ctx.shadowOffsetY=x.offsetY.number,y.ctx.shadowColor=dc(x.color),y.ctx.shadowBlur=x.blur.number,y.ctx.fillStyle=x.inset?dc(x.color):"rgba(0,0,0,1)",y.ctx.fill(),y.ctx.restore()}),C.label=2;case 2:s=0,c=0,A=a,C.label=3;case 3:return c<A.length?(f=A[c],f.style!==0&&!rv(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,s,t.curves,2)]:[3,11]):[3,13];case 4:return C.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,s,t.curves,3)];case 6:return C.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,s,t.curves)];case 8:return C.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,s,t.curves)];case 10:C.sent(),C.label=11;case 11:s++,C.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,a,o){return bh(this,void 0,void 0,function(){var s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,ce,V;return Fu(this,function(he){return this.ctx.save(),s=gve(a,i),c=r7(a,i),o===2&&(this.path(c),this.ctx.clip()),Hd(c[0])?(A=c[0].start.x,f=c[0].start.y):(A=c[0].x,f=c[0].y),Hd(c[1])?(y=c[1].end.x,C=c[1].end.y):(y=c[1].x,C=c[1].y),i===0||i===2?x=Math.abs(A-y):x=Math.abs(f-C),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(c.slice(0,2)),k=n<3?n*3:n*2,N=n<3?n*2:n,o===3&&(k=n,N=n),M=!0,x<=k*2?M=!1:x<=k*2+N?(D=x/(2*k+N),k*=D,N*=D):(H=Math.floor((x+N)/(k+N)),q=(x-H*k)/(H-1),$=(x-(H+1)*k)/H,N=$<=0||Math.abs(N-q)<Math.abs(N-$)?q:$),M&&(o===3?this.ctx.setLineDash([0,k+N]):this.ctx.setLineDash([k,N])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=dc(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Hd(c[0])&&(ce=c[3],V=c[0],this.ctx.beginPath(),this.formatPath([new Wr(ce.end.x,ce.end.y),new Wr(V.start.x,V.start.y)]),this.ctx.stroke()),Hd(c[1])&&(ce=c[1],V=c[2],this.ctx.beginPath(),this.formatPath([new Wr(ce.end.x,ce.end.y),new Wr(V.start.x,V.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return bh(this,void 0,void 0,function(){var n;return Fu(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=dc(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=fve(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(_Z),Sve=function(r){return r instanceof nZ||r instanceof rZ?!0:r instanceof G6&&r.type!==Kk&&r.type!==qk},Tve=function(r,e){switch(r){case 0:return $k(e);case 2:return lve(e);case 1:default:return Yk(e)}},Bve=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Ive=["-apple-system","system-ui"],kve=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return Ive.indexOf(e)===-1}):r},Nve=(function(r){ep(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return bh(this,void 0,void 0,function(){var n,i;return Fu(this,function(a){switch(a.label){case 0:return n=j2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Pve(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=dc(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(_Z),Pve=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Ove=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,yB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,yB([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,yB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,yB([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),Mve=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new Ove({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new eve(this,e)}return r.instanceCount=1,r})(),Lve=function(r,e){return e===void 0&&(e={}),Rve(r,e)};typeof window<"u"&&fZ.setContext(window);var Rve=function(r,e){return bh(void 0,void 0,void 0,function(){var t,n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,he,V,he,le,fe,Ne,W,ue,de,me,Qe,Ee,_e,ke,We,Oe,ze,ne,ae,ve;return Fu(this,function(Re){switch(Re.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(le=e.allowTaint)!==null&&le!==void 0?le:!1,imageTimeout:(fe=e.imageTimeout)!==null&&fe!==void 0?fe:15e3,proxy:e.proxy,useCORS:(Ne=e.useCORS)!==null&&Ne!==void 0?Ne:!1},a=E2({logging:(W=e.logging)!==null&&W!==void 0?W:!0,cache:e.cache},i),o={windowWidth:(ue=e.windowWidth)!==null&&ue!==void 0?ue:n.innerWidth,windowHeight:(de=e.windowHeight)!==null&&de!==void 0?de:n.innerHeight,scrollX:(me=e.scrollX)!==null&&me!==void 0?me:n.pageXOffset,scrollY:(Qe=e.scrollY)!==null&&Qe!==void 0?Qe:n.pageYOffset},s=new vg(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Mve(a,s),A=(Ee=e.foreignObjectRendering)!==null&&Ee!==void 0?Ee:!1,f={allowTaint:(_e=e.allowTaint)!==null&&_e!==void 0?_e:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),y=new Jz(c,r,f),C=y.clonedReferenceElement,C?[4,y.toIFrame(t,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=Re.sent(),k=$6(C)||Dye(C)?dfe(C.ownerDocument):aO(c,C),N=k.width,M=k.height,D=k.left,H=k.top,q=Dve(c,C,e.backgroundColor),$={canvas:e.canvas,backgroundColor:q,scale:(We=(ke=e.scale)!==null&&ke!==void 0?ke:n.devicePixelRatio)!==null&&We!==void 0?We:1,x:((Oe=e.x)!==null&&Oe!==void 0?Oe:0)+D,y:((ze=e.y)!==null&&ze!==void 0?ze:0)+H,width:(ne=e.width)!==null&&ne!==void 0?ne:Math.ceil(N),height:(ae=e.height)!==null&&ae!==void 0?ae:Math.ceil(M)},A?(c.logger.debug("Document cloned, using foreign object rendering"),he=new Nve(c,$),[4,he.render(C)]):[3,3];case 2:return ce=Re.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+D+","+H+" with size "+N+"x"+M+" using computed rendering"),c.logger.debug("Starting DOM parsing"),V=oZ(c,C),q===V.styles.backgroundColor&&(V.styles.backgroundColor=ig.TRANSPARENT),c.logger.debug("Starting renderer for element at "+$.x+","+$.y+" with size "+$.width+"x"+$.height),he=new Eve(c,$),[4,he.render(V)];case 4:ce=Re.sent(),Re.label=5;case 5:return(!((ve=e.removeContainer)!==null&&ve!==void 0)||ve)&&(Jz.destroy(x)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,ce]}})})},Dve=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?AE(r,getComputedStyle(n.documentElement).backgroundColor):ig.TRANSPARENT,a=n.body?AE(r,getComputedStyle(n.body).backgroundColor):ig.TRANSPARENT,o=typeof t=="string"?AE(r,t):t===null?ig.TRANSPARENT:4294967295;return e===n.documentElement?rv(i)?rv(a)?o:a:i:o};const Uve=Object.freeze(Object.defineProperty({__proto__:null,default:Lve},Symbol.toStringTag,{value:"Module"}));var Q4={},H4={},i7;function Fve(){return i7||(i7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(H4)),H4}var z4={},a7;function bZ(){return a7||(a7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(z4)),z4}var q4={},o7;function wZ(){return o7||(o7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(q4)),q4}var K4={},s7;function Y6(){return s7||(s7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){const n=[],i=t.length;if(i===0)return n;let a=0,o="",s="",c=!1;for(t.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const A=t[a];s?A==="\\"&&a+1<i?(a++,o+=t[a]):A===s?s="":o+=A:c?A==='"'||A==="'"?s=A:A==="]"?(c=!1,n.push(o),o=""):o+=A:A==="["?(c=!0,o&&(n.push(o),o="")):A==="."?o&&(n.push(o),o=""):o+=A,a++}return o&&n.push(o),n}r.toPath=e})(K4)),K4}var l7;function W6(){return l7||(l7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Fve(),t=bZ(),n=wZ(),i=Y6();function a(s,c,A){if(s==null)return A;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return A;const f=s[c];return f===void 0?t.isDeepKey(c)?a(s,i.toPath(c),A):A:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=s[c];return f===void 0?A:f}default:{if(Array.isArray(c))return o(s,c,A);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return A;const f=s[c];return f===void 0?A:f}}}function o(s,c,A){if(c.length===0)return A;let f=s;for(let y=0;y<c.length;y++){if(f==null||e.isUnsafeProperty(c[y]))return A;f=f[c[y]]}return f===void 0?A:f}r.get=a})(Q4)),Q4}var V4,c7;function jve(){return c7||(c7=1,V4=W6().get),V4}var Qve=jve();const x_=Og(Qve);var G4={exports:{}},Fa={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u7;function Hve(){if(u7)return Fa;u7=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),C=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function k(N){if(typeof N=="object"&&N!==null){var M=N.$$typeof;switch(M){case r:switch(N=N.type,N){case t:case i:case n:case c:case A:case C:return N;default:switch(N=N&&N.$$typeof,N){case o:case s:case y:case f:return N;case a:return N;default:return M}}case e:return M}}}return Fa.ContextConsumer=a,Fa.ContextProvider=o,Fa.Element=r,Fa.ForwardRef=s,Fa.Fragment=t,Fa.Lazy=y,Fa.Memo=f,Fa.Portal=e,Fa.Profiler=i,Fa.StrictMode=n,Fa.Suspense=c,Fa.SuspenseList=A,Fa.isContextConsumer=function(N){return k(N)===a},Fa.isContextProvider=function(N){return k(N)===o},Fa.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===r},Fa.isForwardRef=function(N){return k(N)===s},Fa.isFragment=function(N){return k(N)===t},Fa.isLazy=function(N){return k(N)===y},Fa.isMemo=function(N){return k(N)===f},Fa.isPortal=function(N){return k(N)===e},Fa.isProfiler=function(N){return k(N)===i},Fa.isStrictMode=function(N){return k(N)===n},Fa.isSuspense=function(N){return k(N)===c},Fa.isSuspenseList=function(N){return k(N)===A},Fa.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===t||N===i||N===n||N===c||N===A||typeof N=="object"&&N!==null&&(N.$$typeof===y||N.$$typeof===f||N.$$typeof===o||N.$$typeof===a||N.$$typeof===s||N.$$typeof===x||N.getModuleId!==void 0)},Fa.typeOf=k,Fa}var h7;function zve(){return h7||(h7=1,G4.exports=Hve()),G4.exports}var qve=zve(),yc=r=>r===0?0:r>0?1:-1,mA=r=>typeof r=="number"&&r!=+r,H0=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,pn=r=>(typeof r=="number"||r instanceof Number)&&!mA(r),Wp=r=>pn(r)||typeof r=="string",Kve=0,GE=r=>{var e=++Kve;return"".concat(r||"").concat(e)},Gu=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pn(e)&&typeof e!="string")return n;var a;if(H0(e)){if(t==null)return n;var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return mA(a)&&(a=n),i&&t!=null&&a>t&&(a=t),a},xZ=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1};function za(r,e,t){return pn(r)&&pn(e)?r+t*(e-r):e}function CZ(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):x_(n,e))===t)}var Ro=r=>r===null||typeof r>"u",LS=r=>Ro(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1)),Vve=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Z6(r){if(typeof r!="string")return!1;var e=Vve;return e.includes(r)}var Gve=["viewBox","children"],A7=["points","pathLength"],$4={svg:Gve,polygon:A7,polyline:A7},X6=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(Z.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(i=>{Z6(i)&&(n[i]=(a=>t[i](t,a)))}),n},$ve=(r,e,t)=>n=>(r(e,t,n),null),pO=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(i=>{var a=r[i];Z6(i)&&typeof a=="function"&&(n||(n={}),n[i]=$ve(a,e,t))}),n},Yve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function EZ(r){if(typeof r!="string")return!1;var e=Yve;return e.includes(r)}function af(r){var e=Object.entries(r).filter(t=>{var[n]=t;return EZ(n)});return Object.fromEntries(e)}var d7=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",f7=null,Y4=null,SZ=r=>{if(r===f7&&Array.isArray(Y4))return Y4;var e=[];return Z.Children.forEach(r,t=>{Ro(t)||(qve.isFragment(t)?e=e.concat(SZ(t.props.children)):e.push(t))}),Y4=e,f7=r,e};function J6(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(i=>d7(i)):n=[d7(e)],SZ(r).forEach(i=>{var a=x_(i,"type.displayName")||x_(i,"type.name");n.indexOf(a)!==-1&&t.push(i)}),t}var mO=r=>r&&typeof r=="object"&&"clipDot"in r?!!r.clipDot:!0,Wve=(r,e,t,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&$4?.[n])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),s=typeof r!="function"&&(!!n&&a.includes(e)||EZ(e)),c=!!t&&Z6(e);return o||s||c},Do=(r,e,t)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(Z.isValidElement(r)&&(n=r.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;Wve((o=n)===null||o===void 0?void 0:o[a],a,e,t)&&(i[a]=n[a])}),i},Zve=["children","width","height","viewBox","className","style","title","desc"];function G2(){return G2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},G2.apply(null,arguments)}function Xve(r,e){if(r==null)return{};var t,n,i=Jve(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Jve(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var TZ=Z.forwardRef((r,e)=>{var{children:t,width:n,height:i,viewBox:a,className:o,style:s,title:c,desc:A}=r,f=Xve(r,Zve),y=a||{width:n,height:i,x:0,y:0},C=ki("recharts-surface",o);return Z.createElement("svg",G2({},Do(f,!0,"svg"),{className:C,width:n,height:i,style:s,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:e}),Z.createElement("title",null,c),Z.createElement("desc",null,A),t)}),e0e=["children","className"];function $2(){return $2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},$2.apply(null,arguments)}function t0e(r,e){if(r==null)return{};var t,n,i=r0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function r0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Cs=Z.forwardRef((r,e)=>{var{children:t,className:n}=r,i=t0e(r,e0e),a=ki("recharts-layer",n);return Z.createElement("g",$2({className:a},Do(i,!0),{ref:e}),t)}),n0e=Z.createContext(null);function go(r){return function(){return r}}const BZ=Math.cos,Zk=Math.sin,tp=Math.sqrt,Xk=Math.PI,gO=2*Xk,Y2=Math.PI,W2=2*Y2,C0=1e-6,i0e=W2-C0;function IZ(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function a0e(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return IZ;const t=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class o0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?IZ:a0e(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,a,o){this._append`C${+e},${+t},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,t,n,i,a){if(e=+e,t=+t,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-e,A=i-t,f=o-e,y=s-t,C=f*f+y*y;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(C>C0)if(!(Math.abs(y*c-A*f)>C0)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let x=n-o,k=i-s,N=c*c+A*A,M=x*x+k*k,D=Math.sqrt(N),H=Math.sqrt(C),q=a*Math.tan((Y2-Math.acos((N+C-M)/(2*D*H)))/2),$=q/H,ce=q/D;Math.abs($-1)>C0&&this._append`L${e+$*f},${t+$*y}`,this._append`A${a},${a},0,0,${+(y*x>f*k)},${this._x1=e+ce*c},${this._y1=t+ce*A}`}}arc(e,t,n,i,a,o){if(e=+e,t=+t,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),A=e+s,f=t+c,y=1^o,C=o?i-a:a-i;this._x1===null?this._append`M${A},${f}`:(Math.abs(this._x1-A)>C0||Math.abs(this._y1-f)>C0)&&this._append`L${A},${f}`,n&&(C<0&&(C=C%W2+W2),C>i0e?this._append`A${n},${n},0,1,${y},${e-s},${t-c}A${n},${n},0,1,${y},${this._x1=A},${this._y1=f}`:C>C0&&this._append`A${n},${n},0,${+(C>=Y2)},${y},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function e5(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new o0e(e)}function t5(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function kZ(r){this._context=r}kZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function yO(r){return new kZ(r)}function NZ(r){return r[0]}function PZ(r){return r[1]}function OZ(r,e){var t=go(!0),n=null,i=yO,a=null,o=e5(s);r=typeof r=="function"?r:r===void 0?NZ:go(r),e=typeof e=="function"?e:e===void 0?PZ:go(e);function s(c){var A,f=(c=t5(c)).length,y,C=!1,x;for(n==null&&(a=i(x=o())),A=0;A<=f;++A)!(A<f&&t(y=c[A],A,c))===C&&((C=!C)?a.lineStart():a.lineEnd()),C&&a.point(+r(y,A,c),+e(y,A,c));if(x)return a=null,x+""||null}return s.x=function(c){return arguments.length?(r=typeof c=="function"?c:go(+c),s):r},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:go(+c),s):e},s.defined=function(c){return arguments.length?(t=typeof c=="function"?c:go(!!c),s):t},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function QB(r,e,t){var n=null,i=go(!0),a=null,o=yO,s=null,c=e5(A);r=typeof r=="function"?r:r===void 0?NZ:go(+r),e=typeof e=="function"?e:go(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?PZ:go(+t);function A(y){var C,x,k,N=(y=t5(y)).length,M,D=!1,H,q=new Array(N),$=new Array(N);for(a==null&&(s=o(H=c())),C=0;C<=N;++C){if(!(C<N&&i(M=y[C],C,y))===D)if(D=!D)x=C,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),k=C-1;k>=x;--k)s.point(q[k],$[k]);s.lineEnd(),s.areaEnd()}D&&(q[C]=+r(M,C,y),$[C]=+e(M,C,y),s.point(n?+n(M,C,y):q[C],t?+t(M,C,y):$[C]))}if(H)return s=null,H+""||null}function f(){return OZ().defined(i).curve(o).context(a)}return A.x=function(y){return arguments.length?(r=typeof y=="function"?y:go(+y),n=null,A):r},A.x0=function(y){return arguments.length?(r=typeof y=="function"?y:go(+y),A):r},A.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:go(+y),A):n},A.y=function(y){return arguments.length?(e=typeof y=="function"?y:go(+y),t=null,A):e},A.y0=function(y){return arguments.length?(e=typeof y=="function"?y:go(+y),A):e},A.y1=function(y){return arguments.length?(t=y==null?null:typeof y=="function"?y:go(+y),A):t},A.lineX0=A.lineY0=function(){return f().x(r).y(e)},A.lineY1=function(){return f().x(r).y(t)},A.lineX1=function(){return f().x(n).y(e)},A.defined=function(y){return arguments.length?(i=typeof y=="function"?y:go(!!y),A):i},A.curve=function(y){return arguments.length?(o=y,a!=null&&(s=o(a)),A):o},A.context=function(y){return arguments.length?(y==null?a=s=null:s=o(a=y),A):a},A}class MZ{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function s0e(r){return new MZ(r,!0)}function l0e(r){return new MZ(r,!1)}const r5={draw(r,e){const t=tp(e/Xk);r.moveTo(t,0),r.arc(0,0,t,0,gO)}},c0e={draw(r,e){const t=tp(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},LZ=tp(1/3),u0e=LZ*2,h0e={draw(r,e){const t=tp(e/u0e),n=t*LZ;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},A0e={draw(r,e){const t=tp(e),n=-t/2;r.rect(n,n,t,t)}},d0e=.8908130915292852,RZ=Zk(Xk/10)/Zk(7*Xk/10),f0e=Zk(gO/10)*RZ,p0e=-BZ(gO/10)*RZ,m0e={draw(r,e){const t=tp(e*d0e),n=f0e*t,i=p0e*t;r.moveTo(0,-t),r.lineTo(n,i);for(let a=1;a<5;++a){const o=gO*a/5,s=BZ(o),c=Zk(o);r.lineTo(c*t,-s*t),r.lineTo(s*n-c*i,c*n+s*i)}r.closePath()}},W4=tp(3),g0e={draw(r,e){const t=-tp(e/(W4*3));r.moveTo(0,t*2),r.lineTo(-W4*t,-t),r.lineTo(W4*t,-t),r.closePath()}},Md=-.5,Ld=tp(3)/2,Z2=1/tp(12),y0e=(Z2/2+1)*3,v0e={draw(r,e){const t=tp(e/y0e),n=t/2,i=t*Z2,a=n,o=t*Z2+t,s=-a,c=o;r.moveTo(n,i),r.lineTo(a,o),r.lineTo(s,c),r.lineTo(Md*n-Ld*i,Ld*n+Md*i),r.lineTo(Md*a-Ld*o,Ld*a+Md*o),r.lineTo(Md*s-Ld*c,Ld*s+Md*c),r.lineTo(Md*n+Ld*i,Md*i-Ld*n),r.lineTo(Md*a+Ld*o,Md*o-Ld*a),r.lineTo(Md*s+Ld*c,Md*c-Ld*s),r.closePath()}};function _0e(r,e){let t=null,n=e5(i);r=typeof r=="function"?r:go(r||r5),e=typeof e=="function"?e:go(e===void 0?64:+e);function i(){let a;if(t||(t=a=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(r=typeof a=="function"?a:go(a),i):r},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:go(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function Jk(){}function eN(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function DZ(r){this._context=r}DZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eN(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function b0e(r){return new DZ(r)}function UZ(r){this._context=r}UZ.prototype={areaStart:Jk,areaEnd:Jk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:eN(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function w0e(r){return new UZ(r)}function FZ(r){this._context=r}FZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:eN(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function x0e(r){return new FZ(r)}function jZ(r){this._context=r}jZ.prototype={areaStart:Jk,areaEnd:Jk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function C0e(r){return new jZ(r)}function p7(r){return r<0?-1:1}function m7(r,e,t){var n=r._x1-r._x0,i=e-r._x1,a=(r._y1-r._y0)/(n||i<0&&-0),o=(t-r._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(p7(a)+p7(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function g7(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function Z4(r,e,t){var n=r._x0,i=r._y0,a=r._x1,o=r._y1,s=(a-n)/3;r._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*t,a,o)}function tN(r){this._context=r}tN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z4(this,this._t0,g7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,Z4(this,g7(this,t=m7(this,r,e)),t);break;default:Z4(this,this._t0,t=m7(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function QZ(r){this._context=new HZ(r)}(QZ.prototype=Object.create(tN.prototype)).point=function(r,e){tN.prototype.point.call(this,e,r)};function HZ(r){this._context=r}HZ.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,i,a){this._context.bezierCurveTo(e,r,n,t,a,i)}};function E0e(r){return new tN(r)}function S0e(r){return new QZ(r)}function zZ(r){this._context=r}zZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=y7(r),i=y7(e),a=0,o=1;o<t;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],r[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function y7(r){var e,t=r.length-1,n,i=new Array(t),a=new Array(t),o=new Array(t);for(i[0]=0,a[0]=2,o[0]=r[0]+2*r[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,o[e]=4*r[e]+2*r[e+1];for(i[t-1]=2,a[t-1]=7,o[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[t-1]=o[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[t-1]=(r[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*r[e+1]-i[e+1];return[i,a]}function T0e(r){return new zZ(r)}function vO(r,e){this._context=r,this._t=e}vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function B0e(r){return new vO(r,.5)}function I0e(r){return new vO(r,0)}function k0e(r){return new vO(r,1)}function yw(r,e){if((o=r.length)>1)for(var t=1,n,i,a=r[e[0]],o,s=a.length;t<o;++t)for(i=a,a=r[e[t]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function X2(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function N0e(r,e){return r[e]}function P0e(r){const e=[];return e.key=r,e}function O0e(){var r=go([]),e=X2,t=yw,n=N0e;function i(a){var o=Array.from(r.apply(this,arguments),P0e),s,c=o.length,A=-1,f;for(const y of a)for(s=0,++A;s<c;++s)(o[s][A]=[0,+n(y,o[s].key,A,a)]).data=y;for(s=0,f=t5(e(o));s<c;++s)o[f[s]].index=s;return t(o,f),o}return i.keys=function(a){return arguments.length?(r=typeof a=="function"?a:go(Array.from(a)),i):r},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:go(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?X2:typeof a=="function"?a:go(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??yw,i):t},i}function M0e(r,e){if((n=r.length)>0){for(var t,n,i=0,a=r[0].length,o;i<a;++i){for(o=t=0;t<n;++t)o+=r[t][i][1]||0;if(o)for(t=0;t<n;++t)r[t][i][1]/=o}yw(r,e)}}function L0e(r,e){if((i=r.length)>0){for(var t=0,n=r[e[0]],i,a=n.length;t<a;++t){for(var o=0,s=0;o<i;++o)s+=r[o][t][1]||0;n[t][1]+=n[t][0]=-s/2}yw(r,e)}}function R0e(r,e){if(!(!((o=r.length)>0)||!((a=(i=r[e[0]]).length)>0))){for(var t=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,A=0;s<o;++s){for(var f=r[e[s]],y=f[n][1]||0,C=f[n-1][1]||0,x=(y-C)/2,k=0;k<s;++k){var N=r[e[k]],M=N[n][1]||0,D=N[n-1][1]||0;x+=M-D}c+=y,A+=x*y}i[n-1][1]+=i[n-1][0]=t,c&&(t-=A/c)}i[n-1][1]+=i[n-1][0]=t,yw(r,e)}}var D0e=["type","size","sizeType"];function J2(){return J2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},J2.apply(null,arguments)}function v7(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function _7(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v7(Object(t),!0).forEach(function(n){U0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):v7(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function U0e(r,e,t){return(e=F0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function F0e(r){var e=j0e(r,"string");return typeof e=="symbol"?e:e+""}function j0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Q0e(r,e){if(r==null)return{};var t,n,i=H0e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function H0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var qZ={symbolCircle:r5,symbolCross:c0e,symbolDiamond:h0e,symbolSquare:A0e,symbolStar:m0e,symbolTriangle:g0e,symbolWye:v0e},z0e=Math.PI/180,q0e=r=>{var e="symbol".concat(LS(r));return qZ[e]||r5},K0e=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*z0e;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},V0e=(r,e)=>{qZ["symbol".concat(LS(r))]=e},KZ=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,i=Q0e(r,D0e),a=_7(_7({},i),{},{type:e,size:t,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var C=q0e(o),x=_0e().type(C).size(K0e(t,n,o));return x()},{className:c,cx:A,cy:f}=a,y=Do(a,!0);return A===+A&&f===+f&&t===+t?Z.createElement("path",J2({},y,{className:ki("recharts-symbols",c),transform:"translate(".concat(A,", ").concat(f,")"),d:s()})):null};KZ.registerSymbol=V0e;var X4={},J4={},b7;function G0e(){return b7||(b7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const i=new Map;for(let a=0;a<t.length;a++){const o=t[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}r.uniqBy=e})(J4)),J4}var eL={},w7;function VZ(){return w7||(w7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(eL)),eL}var tL={},rL={},nL={},x7;function $0e(){return x7||(x7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(nL)),nL}var C7;function n5(){return C7||(C7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=$0e();function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(rL)),rL}var iL={},E7;function Y0e(){return E7||(E7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(iL)),iL}var S7;function W0e(){return S7||(S7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=n5(),t=Y0e();function n(i){return t.isObjectLike(i)&&e.isArrayLike(i)}r.isArrayLikeObject=n})(tL)),tL}var aL={},oL={},T7;function Z0e(){return T7||(T7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=W6();function t(n){return function(i){return e.get(i,n)}}r.property=t})(oL)),oL}var sL={},lL={},cL={},uL={},B7;function GZ(){return B7||(B7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(uL)),uL}var hL={},I7;function $Z(){return I7||(I7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(hL)),hL}var AL={},k7;function YZ(){return k7||(k7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(AL)),AL}var N7;function X0e(){return N7||(N7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=i5(),t=GZ(),n=$Z(),i=YZ();function a(y,C,x){return typeof x!="function"?e.isMatch(y,C):o(y,C,function k(N,M,D,H,q,$){const ce=x(N,M,D,H,q,$);return ce!==void 0?!!ce:o(N,M,k,$)},new Map)}function o(y,C,x,k){if(C===y)return!0;switch(typeof C){case"object":return s(y,C,x,k);case"function":return Object.keys(C).length>0?o(y,{...C},x,k):i.eq(y,C);default:return t.isObject(y)?typeof C=="string"?C==="":!0:i.eq(y,C)}}function s(y,C,x,k){if(C==null)return!0;if(Array.isArray(C))return A(y,C,x,k);if(C instanceof Map)return c(y,C,x,k);if(C instanceof Set)return f(y,C,x,k);const N=Object.keys(C);if(y==null)return N.length===0;if(N.length===0)return!0;if(k&&k.has(C))return k.get(C)===y;k&&k.set(C,y);try{for(let M=0;M<N.length;M++){const D=N[M];if(!n.isPrimitive(y)&&!(D in y)||C[D]===void 0&&y[D]!==void 0||C[D]===null&&y[D]!==null||!x(y[D],C[D],D,y,C,k))return!1}return!0}finally{k&&k.delete(C)}}function c(y,C,x,k){if(C.size===0)return!0;if(!(y instanceof Map))return!1;for(const[N,M]of C.entries()){const D=y.get(N);if(x(D,M,N,y,C,k)===!1)return!1}return!0}function A(y,C,x,k){if(C.length===0)return!0;if(!Array.isArray(y))return!1;const N=new Set;for(let M=0;M<C.length;M++){const D=C[M];let H=!1;for(let q=0;q<y.length;q++){if(N.has(q))continue;const $=y[q];let ce=!1;if(x($,D,M,y,C,k)&&(ce=!0),ce){N.add(q),H=!0;break}}if(!H)return!1}return!0}function f(y,C,x,k){return C.size===0?!0:y instanceof Set?A([...y],[...C],x,k):!1}r.isMatchWith=a,r.isSetMatch=f})(cL)),cL}var P7;function i5(){return P7||(P7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=X0e();function t(n,i){return e.isMatchWith(n,i,()=>{})}r.isMatch=t})(lL)),lL}var dL={},fL={},pL={},O7;function J0e(){return O7||(O7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(pL)),pL}var mL={},M7;function WZ(){return M7||(M7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(mL)),mL}var gL={},L7;function ZZ(){return L7||(L7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",A="[object Set]",f="[object Array]",y="[object Function]",C="[object ArrayBuffer]",x="[object Object]",k="[object Error]",N="[object DataView]",M="[object Uint8Array]",D="[object Uint8ClampedArray]",H="[object Uint16Array]",q="[object Uint32Array]",$="[object BigUint64Array]",ce="[object Int8Array]",V="[object Int16Array]",he="[object Int32Array]",le="[object BigInt64Array]",fe="[object Float32Array]",Ne="[object Float64Array]";r.argumentsTag=a,r.arrayBufferTag=C,r.arrayTag=f,r.bigInt64ArrayTag=le,r.bigUint64ArrayTag=$,r.booleanTag=i,r.dataViewTag=N,r.dateTag=s,r.errorTag=k,r.float32ArrayTag=fe,r.float64ArrayTag=Ne,r.functionTag=y,r.int16ArrayTag=V,r.int32ArrayTag=he,r.int8ArrayTag=ce,r.mapTag=c,r.numberTag=n,r.objectTag=x,r.regexpTag=e,r.setTag=A,r.stringTag=t,r.symbolTag=o,r.uint16ArrayTag=H,r.uint32ArrayTag=q,r.uint8ArrayTag=M,r.uint8ClampedArrayTag=D})(gL)),gL}var yL={},R7;function e_e(){return R7||(R7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})(yL)),yL}var D7;function XZ(){return D7||(D7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=J0e(),t=WZ(),n=ZZ(),i=$Z(),a=e_e();function o(f,y){return s(f,void 0,f,new Map,y)}function s(f,y,C,x=new Map,k=void 0){const N=k?.(f,y,C,x);if(N!==void 0)return N;if(i.isPrimitive(f))return f;if(x.has(f))return x.get(f);if(Array.isArray(f)){const M=new Array(f.length);x.set(f,M);for(let D=0;D<f.length;D++)M[D]=s(f[D],D,C,x,k);return Object.hasOwn(f,"index")&&(M.index=f.index),Object.hasOwn(f,"input")&&(M.input=f.input),M}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const M=new RegExp(f.source,f.flags);return M.lastIndex=f.lastIndex,M}if(f instanceof Map){const M=new Map;x.set(f,M);for(const[D,H]of f)M.set(D,s(H,D,C,x,k));return M}if(f instanceof Set){const M=new Set;x.set(f,M);for(const D of f)M.add(s(D,void 0,C,x,k));return M}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const M=new(Object.getPrototypeOf(f)).constructor(f.length);x.set(f,M);for(let D=0;D<f.length;D++)M[D]=s(f[D],D,C,x,k);return M}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const M=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return x.set(f,M),c(M,f,C,x,k),M}if(typeof File<"u"&&f instanceof File){const M=new File([f],f.name,{type:f.type});return x.set(f,M),c(M,f,C,x,k),M}if(f instanceof Blob){const M=new Blob([f],{type:f.type});return x.set(f,M),c(M,f,C,x,k),M}if(f instanceof Error){const M=new f.constructor;return x.set(f,M),M.message=f.message,M.name=f.name,M.stack=f.stack,M.cause=f.cause,c(M,f,C,x,k),M}if(typeof f=="object"&&A(f)){const M=Object.create(Object.getPrototypeOf(f));return x.set(f,M),c(M,f,C,x,k),M}return f}function c(f,y,C=f,x,k){const N=[...Object.keys(y),...e.getSymbols(y)];for(let M=0;M<N.length;M++){const D=N[M],H=Object.getOwnPropertyDescriptor(f,D);(H==null||H.writable)&&(f[D]=s(y[D],D,C,x,k))}}function A(f){switch(t.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=o,r.cloneDeepWithImpl=s,r.copyProperties=c})(fL)),fL}var U7;function t_e(){return U7||(U7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=XZ();function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(dL)),dL}var F7;function r_e(){return F7||(F7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=i5(),t=t_e();function n(i){return i=t.cloneDeep(i),a=>e.isMatch(a,i)}r.matches=n})(sL)),sL}var vL={},_L={},bL={},j7;function n_e(){return j7||(j7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=XZ(),t=ZZ();function n(i,a){return e.cloneDeepWith(i,(o,s,c,A)=>{const f=a?.(o,s,c,A);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const y=new i.constructor(i?.valueOf());return e.copyProperties(y,i),y}case t.argumentsTag:{const y={};return e.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}r.cloneDeepWith=n})(bL)),bL}var Q7;function i_e(){return Q7||(Q7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=n_e();function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(_L)),_L}var wL={},xL={},H7;function JZ(){return H7||(H7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(xL)),xL}var CL={},z7;function a_e(){return z7||(z7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=WZ();function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})(CL)),CL}var q7;function o_e(){return q7||(q7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=bZ(),t=JZ(),n=a_e(),i=Y6();function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&e.isDeepKey(s)&&o?.[s]==null?c=i.toPath(s):c=[s],c.length===0)return!1;let A=o;for(let f=0;f<c.length;f++){const y=c[f];if((A==null||!Object.hasOwn(A,y))&&!((Array.isArray(A)||n.isArguments(A))&&t.isIndex(y)&&y<A.length))return!1;A=A[y]}return!0}r.has=a})(wL)),wL}var K7;function s_e(){return K7||(K7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=i5(),t=wZ(),n=i_e(),i=W6(),a=o_e();function o(s,c){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=t.toKey(s);break}}return c=n.cloneDeep(c),function(A){const f=i.get(A,s);return f===void 0?a.has(A,s):c===void 0?f===void 0:e.isMatch(f,c)}}r.matchesProperty=o})(vL)),vL}var V7;function l_e(){return V7||(V7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=VZ(),t=Z0e(),n=r_e(),i=s_e();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return t.property(o)}}r.iteratee=a})(aL)),aL}var G7;function c_e(){return G7||(G7=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=G0e(),t=VZ(),n=W0e(),i=l_e();function a(o,s=t.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(s)):[]}r.uniqBy=a})(X4)),X4}var EL,$7;function u_e(){return $7||($7=1,EL=c_e().uniqBy),EL}var h_e=u_e();const Y7=Og(h_e);function A_e(r,e,t){return e===!0?Y7(r,t):typeof e=="function"?Y7(r,e):r}var SL={exports:{}},TL={},BL={exports:{}},IL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W7;function d_e(){if(W7)return IL;W7=1;var r=Fw();function e(y,C){return y===C&&(y!==0||1/y===1/C)||y!==y&&C!==C}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,i=r.useEffect,a=r.useLayoutEffect,o=r.useDebugValue;function s(y,C){var x=C(),k=n({inst:{value:x,getSnapshot:C}}),N=k[0].inst,M=k[1];return a(function(){N.value=x,N.getSnapshot=C,c(N)&&M({inst:N})},[y,x,C]),i(function(){return c(N)&&M({inst:N}),y(function(){c(N)&&M({inst:N})})},[y]),o(x),x}function c(y){var C=y.getSnapshot;y=y.value;try{var x=C();return!t(y,x)}catch{return!0}}function A(y,C){return C()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A:s;return IL.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:f,IL}var Z7;function f_e(){return Z7||(Z7=1,BL.exports=d_e()),BL.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X7;function p_e(){if(X7)return TL;X7=1;var r=Fw(),e=f_e();function t(A,f){return A===f&&(A!==0||1/A===1/f)||A!==A&&f!==f}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=r.useRef,o=r.useEffect,s=r.useMemo,c=r.useDebugValue;return TL.useSyncExternalStoreWithSelector=function(A,f,y,C,x){var k=a(null);if(k.current===null){var N={hasValue:!1,value:null};k.current=N}else N=k.current;k=s(function(){function D(V){if(!H){if(H=!0,q=V,V=C(V),x!==void 0&&N.hasValue){var he=N.value;if(x(he,V))return $=he}return $=V}if(he=$,n(q,V))return he;var le=C(V);return x!==void 0&&x(he,le)?(q=V,he):(q=V,$=le)}var H=!1,q,$,ce=y===void 0?null:y;return[function(){return D(f())},ce===null?void 0:function(){return D(ce())}]},[f,y,C,x]);var M=i(A,k[0],k[1]);return o(function(){N.hasValue=!0,N.value=M},[M]),c(M),M},TL}var J7;function m_e(){return J7||(J7=1,SL.exports=p_e()),SL.exports}var g_e=m_e(),a5=Z.createContext(null),y_e=r=>r,Xs=()=>{var r=Z.useContext(a5);return r?r.store.dispatch:y_e},rk=()=>{},v_e=()=>rk,__e=(r,e)=>r===e;function mn(r){var e=Z.useContext(a5);return g_e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:v_e,e?e.store.getState:rk,e?e.store.getState:rk,e?r:rk,__e)}function b_e(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function w_e(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function x_e(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var e9=r=>Array.isArray(r)?r:[r];function C_e(r){const e=Array.isArray(r[0])?r[0]:r;return x_e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function E_e(r,e){const t=[],{length:n}=r;for(let i=0;i<n;i++)t.push(r[i].apply(null,e));return t}var S_e=class{constructor(r){this.value=r}deref(){return this.value}},T_e=typeof WeakRef<"u"?WeakRef:S_e,B_e=0,t9=1;function HB(){return{s:B_e,v:void 0,o:null,p:null}}function eX(r,e={}){let t=HB();const{resultEqualityCheck:n}=e;let i,a=0;function o(){let s=t;const{length:c}=arguments;for(let y=0,C=c;y<C;y++){const x=arguments[y];if(typeof x=="function"||typeof x=="object"&&x!==null){let k=s.o;k===null&&(s.o=k=new WeakMap);const N=k.get(x);N===void 0?(s=HB(),k.set(x,s)):s=N}else{let k=s.p;k===null&&(s.p=k=new Map);const N=k.get(x);N===void 0?(s=HB(),k.set(x,s)):s=N}}const A=s;let f;if(s.s===t9)f=s.v;else if(f=r.apply(null,arguments),a++,n){const y=i?.deref?.()??i;y!=null&&n(y,f)&&(f=y,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new T_e(f):f}return A.s=t9,A.v=f,f}return o.clearCache=()=>{t=HB(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function I_e(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...i)=>{let a=0,o=0,s,c={},A=i.pop();typeof A=="object"&&(c=A,A=i.pop()),b_e(A,`createSelector expects an output function after the inputs, but received: [${typeof A}]`);const f={...t,...c},{memoize:y,memoizeOptions:C=[],argsMemoize:x=eX,argsMemoizeOptions:k=[]}=f,N=e9(C),M=e9(k),D=C_e(i),H=y(function(){return a++,A.apply(null,arguments)},...N),q=x(function(){o++;const ce=E_e(D,arguments);return s=H.apply(null,ce),s},...M);return Object.assign(q,{resultFunc:A,memoizedResultFunc:H,dependencies:D,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:y,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Rt=I_e(eX),k_e=Object.assign((r,e=Rt)=>{w_e(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(a=>r[a]);return e(n,(...a)=>a.reduce((o,s,c)=>(o[t[c]]=s,o),{}))},{withTypes:()=>k_e}),kL={},NL={},PL={},r9;function N_e(){return r9||(r9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,i,a)=>{if(n!==i){const o=e(n),s=e(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};r.compareValues=t})(PL)),PL}var OL={},ML={},n9;function tX(){return n9||(n9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(ML)),ML}var i9;function P_e(){return i9||(i9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=tX(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!t.test(a))||o!=null&&Object.hasOwn(o,a)}r.isKey=i})(OL)),OL}var a9;function O_e(){return a9||(a9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=N_e(),t=P_e(),n=Y6();function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(x=>String(x));const A=(x,k)=>{let N=x;for(let M=0;M<k.length&&N!=null;++M)N=N[k[M]];return N},f=(x,k)=>k==null||x==null?k:typeof x=="object"&&"key"in x?Object.hasOwn(k,x.key)?k[x.key]:A(k,x.path):typeof x=="function"?x(k):Array.isArray(x)?A(k,x):typeof k=="object"?k[x]:k,y=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||t.isKey(x)?x:{key:x,path:n.toPath(x)}));return a.map(x=>({original:x,criteria:y.map(k=>f(k,x))})).slice().sort((x,k)=>{for(let N=0;N<y.length;N++){const M=e.compareValues(x.criteria[N],k.criteria[N],s[N]);if(M!==0)return M}return 0}).map(x=>x.original)}r.orderBy=i})(NL)),NL}var LL={},o9;function M_e(){return o9||(o9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const i=[],a=Math.floor(n),o=(s,c)=>{for(let A=0;A<s.length;A++){const f=s[A];Array.isArray(f)&&c<a?o(f,c+1):i.push(f)}};return o(t,0),i}r.flatten=e})(LL)),LL}var RL={},s9;function rX(){return s9||(s9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=JZ(),t=n5(),n=GZ(),i=YZ();function a(o,s,c){return n.isObject(c)&&(typeof s=="number"&&t.isArrayLike(c)&&e.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.eq(c[s],o):!1}r.isIterateeCall=a})(RL)),RL}var l9;function L_e(){return l9||(l9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=O_e(),t=M_e(),n=rX();function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,t.flatten(o),["asc"])}r.sortBy=i})(kL)),kL}var DL,c9;function R_e(){return c9||(c9=1,DL=L_e().sortBy),DL}var D_e=R_e();const _O=Og(D_e);var nX=r=>r.legend.settings,U_e=r=>r.legend.size,F_e=r=>r.legend.payload;Rt([F_e,nX],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?_O(n,t):n});var zB=1;function j_e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=Z.useState({height:0,left:0,top:0,width:0}),n=Z.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>zB||Math.abs(o.left-e.left)>zB||Math.abs(o.top-e.top)>zB||Math.abs(o.width-e.width)>zB)&&t({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Yc(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var Q_e=typeof Symbol=="function"&&Symbol.observable||"@@observable",u9=Q_e,UL=()=>Math.random().toString(36).substring(7).split("").join("."),H_e={INIT:`@@redux/INIT${UL()}`,REPLACE:`@@redux/REPLACE${UL()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${UL()}`},rN=H_e;function o5(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function iX(r,e,t){if(typeof r!="function")throw new Error(Yc(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Yc(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Yc(1));return t(iX)(r,e)}let n=r,i=e,a=new Map,o=a,s=0,c=!1;function A(){o===a&&(o=new Map,a.forEach((M,D)=>{o.set(D,M)}))}function f(){if(c)throw new Error(Yc(3));return i}function y(M){if(typeof M!="function")throw new Error(Yc(4));if(c)throw new Error(Yc(5));let D=!0;A();const H=s++;return o.set(H,M),function(){if(D){if(c)throw new Error(Yc(6));D=!1,A(),o.delete(H),a=null}}}function C(M){if(!o5(M))throw new Error(Yc(7));if(typeof M.type>"u")throw new Error(Yc(8));if(typeof M.type!="string")throw new Error(Yc(17));if(c)throw new Error(Yc(9));try{c=!0,i=n(i,M)}finally{c=!1}return(a=o).forEach(H=>{H()}),M}function x(M){if(typeof M!="function")throw new Error(Yc(10));n=M,C({type:rN.REPLACE})}function k(){const M=y;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Yc(11));function H(){const $=D;$.next&&$.next(f())}return H(),{unsubscribe:M(H)}},[u9](){return this}}}return C({type:rN.INIT}),{dispatch:C,subscribe:y,getState:f,replaceReducer:x,[u9]:k}}function z_e(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:rN.INIT})>"u")throw new Error(Yc(12));if(typeof t(void 0,{type:rN.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yc(13))})}function aX(r){const e=Object.keys(r),t={};for(let a=0;a<e.length;a++){const o=e[a];typeof r[o]=="function"&&(t[o]=r[o])}const n=Object.keys(t);let i;try{z_e(t)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const A={};for(let f=0;f<n.length;f++){const y=n[f],C=t[y],x=o[y],k=C(x,s);if(typeof k>"u")throw s&&s.type,new Error(Yc(14));A[y]=k,c=c||k!==x}return c=c||n.length!==Object.keys(o).length,c?A:o}}function nN(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function q_e(...r){return e=>(t,n)=>{const i=e(t,n);let a=()=>{throw new Error(Yc(15))};const o={getState:i.getState,dispatch:(c,...A)=>a(c,...A)},s=r.map(c=>c(o));return a=nN(...s)(i.dispatch),{...i,dispatch:a}}}function oX(r){return o5(r)&&"type"in r&&typeof r.type=="string"}var sX=Symbol.for("immer-nothing"),h9=Symbol.for("immer-draftable"),dd=Symbol.for("immer-state");function jf(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var vw=Object.getPrototypeOf;function C_(r){return!!r&&!!r[dd]}function _g(r){return r?lX(r)||Array.isArray(r)||!!r[h9]||!!r.constructor?.[h9]||RS(r)||wO(r):!1}var K_e=Object.prototype.constructor.toString();function lX(r){if(!r||typeof r!="object")return!1;const e=vw(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===K_e}function iN(r,e){bO(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function bO(r){const e=r[dd];return e?e.type_:Array.isArray(r)?1:RS(r)?2:wO(r)?3:0}function eU(r,e){return bO(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function cX(r,e,t){const n=bO(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function V_e(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function RS(r){return r instanceof Map}function wO(r){return r instanceof Set}function E0(r){return r.copy_||r.base_}function tU(r,e){if(RS(r))return new Map(r);if(wO(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=lX(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[dd];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:r[o]})}return Object.create(vw(r),n)}else{const n=vw(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function s5(r,e=!1){return xO(r)||C_(r)||!_g(r)||(bO(r)>1&&Object.defineProperties(r,{set:{value:qB},add:{value:qB},clear:{value:qB},delete:{value:qB}}),Object.freeze(r),e&&Object.values(r).forEach(t=>s5(t,!0))),r}function qB(){jf(2)}function xO(r){return Object.isFrozen(r)}var G_e={};function E_(r){const e=G_e[r];return e||jf(0,r),e}var $E;function uX(){return $E}function $_e(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A9(r,e){e&&(E_("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function rU(r){nU(r),r.drafts_.forEach(Y_e),r.drafts_=null}function nU(r){r===$E&&($E=r.parent_)}function d9(r){return $E=$_e($E,r)}function Y_e(r){const e=r[dd];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function f9(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[dd].modified_&&(rU(e),jf(4)),_g(r)&&(r=aN(e,r),e.parent_||oN(e,r)),e.patches_&&E_("Patches").generateReplacementPatches_(t[dd].base_,r,e.patches_,e.inversePatches_)):r=aN(e,t,[]),rU(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==sX?r:void 0}function aN(r,e,t){if(xO(e))return e;const n=e[dd];if(!n)return iN(e,(i,a)=>p9(r,n,e,i,a,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return oN(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),iN(a,(s,c)=>p9(r,n,i,s,c,t,o)),oN(r,i,!1),t&&r.patches_&&E_("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function p9(r,e,t,n,i,a,o){if(C_(i)){const s=a&&e&&e.type_!==3&&!eU(e.assigned_,n)?a.concat(n):void 0,c=aN(r,i,s);if(cX(t,n,c),C_(c))r.canAutoFreeze_=!1;else return}else o&&t.add(i);if(_g(i)&&!xO(i)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;aN(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(RS(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&oN(r,i)}}function oN(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&s5(e,t)}function W_e(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:uX(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=l5;t&&(i=[n],a=YE);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var l5={get(r,e){if(e===dd)return r;const t=E0(r);if(!eU(t,e))return Z_e(r,t,e);const n=t[e];return r.finalized_||!_g(n)?n:n===FL(r.base_,e)?(jL(r),r.copy_[e]=aU(n,r)):n},has(r,e){return e in E0(r)},ownKeys(r){return Reflect.ownKeys(E0(r))},set(r,e,t){const n=hX(E0(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=FL(E0(r),e),a=i?.[dd];if(a&&a.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(V_e(t,i)&&(t!==void 0||eU(r.base_,e)))return!0;jL(r),iU(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return FL(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,jL(r),iU(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=E0(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){jf(11)},getPrototypeOf(r){return vw(r.base_)},setPrototypeOf(){jf(12)}},YE={};iN(l5,(r,e)=>{YE[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});YE.deleteProperty=function(r,e){return YE.set.call(this,r,e,void 0)};YE.set=function(r,e,t){return l5.set.call(this,r[0],e,t,r[0])};function FL(r,e){const t=r[dd];return(t?E0(t):r)[e]}function Z_e(r,e,t){const n=hX(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function hX(r,e){if(!(e in r))return;let t=vw(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=vw(t)}}function iU(r){r.modified_||(r.modified_=!0,r.parent_&&iU(r.parent_))}function jL(r){r.copy_||(r.copy_=tU(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var X_e=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const o=this;return function(c=a,...A){return o.produce(c,f=>t.call(this,f,...A))}}typeof t!="function"&&jf(6),n!==void 0&&typeof n!="function"&&jf(7);let i;if(_g(e)){const a=d9(this),o=aU(e,void 0);let s=!0;try{i=t(o),s=!1}finally{s?rU(a):nU(a)}return A9(a,n),f9(i,a)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===sX&&(i=void 0),this.autoFreeze_&&s5(i,!0),n){const a=[],o=[];E_("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else jf(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,c=>e(c,...s));let n,i;return[this.produce(e,t,(o,s)=>{n=o,i=s}),n,i]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){_g(r)||jf(8),C_(r)&&(r=ag(r));const e=d9(this),t=aU(r,void 0);return t[dd].isManual_=!0,nU(e),t}finishDraft(r,e){const t=r&&r[dd];(!t||!t.isManual_)&&jf(9);const{scope_:n}=t;return A9(n,e),f9(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=E_("Patches").applyPatches_;return C_(r)?n(r,e):this.produce(r,i=>n(i,e))}};function aU(r,e){const t=RS(r)?E_("MapSet").proxyMap_(r,e):wO(r)?E_("MapSet").proxySet_(r,e):W_e(r,e);return(e?e.scope_:uX()).drafts_.push(t),t}function ag(r){return C_(r)||jf(10,r),AX(r)}function AX(r){if(!_g(r)||xO(r))return r;const e=r[dd];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=tU(r,e.scope_.immer_.useStrictShallowCopy_)}else t=tU(r,!0);return iN(t,(n,i)=>{cX(t,n,AX(i))}),e&&(e.finalized_=!1),t}var J_e=new X_e,dX=J_e.produce;function fX(r){return({dispatch:t,getState:n})=>i=>a=>typeof a=="function"?a(t,n,r):i(a)}var e1e=fX(),t1e=fX,r1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nN:nN.apply(null,arguments)};function Xd(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(hd(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>oX(n)&&n.type===r,t}var pX=class GC extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,GC.prototype)}static get[Symbol.species](){return GC}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new GC(...e[0].concat(this)):new GC(...e.concat(this))}};function m9(r){return _g(r)?dX(r,()=>{}):r}function KB(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function n1e(r){return typeof r=="boolean"}var i1e=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new pX;return t&&(n1e(t)?o.push(e1e):o.push(t1e(t.extraArgument))),o},a1e="RTK_autoBatch",g9=r=>e=>{setTimeout(e,r)},o1e=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,a=!1,o=!1;const s=new Set,c=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:g9(10):r.type==="callback"?r.queueNotification:g9(r.timeout),A=()=>{o=!1,a&&(a=!1,s.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const y=()=>i&&f(),C=n.subscribe(y);return s.add(f),()=>{C(),s.delete(f)}},dispatch(f){try{return i=!f?.meta?.[a1e],a=!i,a&&(o||(o=!0,c(A))),n.dispatch(f)}finally{i=!0}}})},s1e=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new pX(r);return n&&i.push(o1e(typeof n=="object"?n:void 0)),i};function l1e(r){const e=i1e(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=r||{};let s;if(typeof t=="function")s=t;else if(o5(t))s=aX(t);else throw new Error(hd(1));let c;typeof n=="function"?c=n(e):c=e();let A=nN;i&&(A=r1e({trace:!1,...typeof i=="object"&&i}));const f=q_e(...c),y=s1e(f);let C=typeof o=="function"?o(y):y();const x=A(...C);return iX(s,a,x)}function mX(r){const e={},t=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(hd(28));if(s in e)throw new Error(hd(29));return e[s]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&t.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return t.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return r(i),[e,t,n]}function c1e(r){return typeof r=="function"}function u1e(r,e){let[t,n,i]=mX(e),a;if(c1e(r))a=()=>m9(r());else{const s=m9(r);a=()=>s}function o(s=a(),c){let A=[t[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return A.filter(f=>!!f).length===0&&(A=[i]),A.reduce((f,y)=>{if(y)if(C_(f)){const x=y(f,c);return x===void 0?f:x}else{if(_g(f))return dX(f,C=>y(C,c));{const C=y(f,c);if(C===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return C}}return f},s)}return o.getInitialState=a,o}var h1e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A1e=(r=21)=>{let e="",t=r;for(;t--;)e+=h1e[Math.random()*64|0];return e},d1e=Symbol.for("rtk-slice-createasyncthunk");function f1e(r,e){return`${r}/${e}`}function p1e({creators:r}={}){const e=r?.asyncThunk?.[d1e];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(hd(11));const o=(typeof n.reducers=="function"?n.reducers(g1e()):n.reducers)||{},s=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},A={addCase(q,$){const ce=typeof q=="string"?q:q.type;if(!ce)throw new Error(hd(12));if(ce in c.sliceCaseReducersByType)throw new Error(hd(13));return c.sliceCaseReducersByType[ce]=$,A},addMatcher(q,$){return c.sliceMatchers.push({matcher:q,reducer:$}),A},exposeAction(q,$){return c.actionCreators[q]=$,A},exposeCaseReducer(q,$){return c.sliceCaseReducersByName[q]=$,A}};s.forEach(q=>{const $=o[q],ce={reducerName:q,type:f1e(i,q),createNotation:typeof n.reducers=="function"};v1e($)?b1e(ce,$,A,e):y1e(ce,$,A)});function f(){const[q={},$=[],ce=void 0]=typeof n.extraReducers=="function"?mX(n.extraReducers):[n.extraReducers],V={...q,...c.sliceCaseReducersByType};return u1e(n.initialState,he=>{for(let le in V)he.addCase(le,V[le]);for(let le of c.sliceMatchers)he.addMatcher(le.matcher,le.reducer);for(let le of $)he.addMatcher(le.matcher,le.reducer);ce&&he.addDefaultCase(ce)})}const y=q=>q,C=new Map,x=new WeakMap;let k;function N(q,$){return k||(k=f()),k(q,$)}function M(){return k||(k=f()),k.getInitialState()}function D(q,$=!1){function ce(he){let le=he[q];return typeof le>"u"&&$&&(le=KB(x,ce,M)),le}function V(he=y){const le=KB(C,$,()=>new WeakMap);return KB(le,he,()=>{const fe={};for(const[Ne,W]of Object.entries(n.selectors??{}))fe[Ne]=m1e(W,he,()=>KB(x,he,M),$);return fe})}return{reducerPath:q,getSelectors:V,get selectors(){return V(ce)},selectSlice:ce}}const H={name:i,reducer:N,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:M,...D(a),injectInto(q,{reducerPath:$,...ce}={}){const V=$??a;return q.inject({reducerPath:V,reducer:N},ce),{...H,...D(V,!0)}}};return H}}function m1e(r,e,t,n){function i(a,...o){let s=e(a);return typeof s>"u"&&n&&(s=t()),r(s,...o)}return i.unwrapped=r,i}var pd=p1e();function g1e(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function y1e({type:r,reducerName:e,createNotation:t},n,i){let a,o;if("reducer"in n){if(t&&!_1e(n))throw new Error(hd(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(r,a).exposeCaseReducer(e,a).exposeAction(e,o?Xd(r,o):Xd(r))}function v1e(r){return r._reducerDefinitionType==="asyncThunk"}function _1e(r){return r._reducerDefinitionType==="reducerWithPrepare"}function b1e({type:r,reducerName:e},t,n,i){if(!i)throw new Error(hd(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:A,options:f}=t,y=i(r,a,f);n.exposeAction(e,y),o&&n.addCase(y.fulfilled,o),s&&n.addCase(y.pending,s),c&&n.addCase(y.rejected,c),A&&n.addMatcher(y.settled,A),n.exposeCaseReducer(e,{fulfilled:o||VB,pending:s||VB,rejected:c||VB,settled:A||VB})}function VB(){}var w1e="task",gX="listener",yX="completed",c5="cancelled",x1e=`task-${c5}`,C1e=`task-${yX}`,oU=`${gX}-${c5}`,E1e=`${gX}-${yX}`,CO=class{constructor(r){this.code=r,this.message=`${w1e} ${c5} (reason: ${r})`}name="TaskAbortError";message},u5=(r,e)=>{if(typeof r!="function")throw new TypeError(hd(32))},sN=()=>{},vX=(r,e=sN)=>(r.catch(e),r),_X=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),n_=(r,e)=>{const t=r.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),r.abort(e))},i_=r=>{if(r.aborted){const{reason:e}=r;throw new CO(e)}};function bX(r,e){let t=sN;return new Promise((n,i)=>{const a=()=>i(new CO(r.reason));if(r.aborted){a();return}t=_X(r,a),e.finally(()=>t()).then(n,i)}).finally(()=>{t=sN})}var S1e=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof CO?"cancelled":"rejected",error:t}}finally{e?.()}},lN=r=>e=>vX(bX(r,e).then(t=>(i_(r),t))),wX=r=>{const e=lN(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:Xb}=Object,y9={},EO="listenerMiddleware",T1e=(r,e)=>{const t=n=>_X(r,()=>n_(n,r.reason));return(n,i)=>{u5(n);const a=new AbortController;t(a);const o=S1e(async()=>{i_(r),i_(a.signal);const s=await n({pause:lN(a.signal),delay:wX(a.signal),signal:a.signal});return i_(a.signal),s},()=>n_(a,C1e));return i?.autoJoin&&e.push(o.catch(sN)),{result:lN(r)(o),cancel(){n_(a,x1e)}}}},B1e=(r,e)=>{const t=async(n,i)=>{i_(e);let a=()=>{};const s=[new Promise((c,A)=>{let f=r({predicate:n,effect:(y,C)=>{C.unsubscribe(),c([y,C.getState(),C.getOriginalState()])}});a=()=>{f(),A()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await bX(e,Promise.race(s));return i_(e),c}finally{a()}};return(n,i)=>vX(t(n,i))},xX=r=>{let{type:e,actionCreator:t,matcher:n,predicate:i,effect:a}=r;if(e)i=Xd(e).match;else if(t)e=t.type,i=t.match;else if(n)i=n;else if(!i)throw new Error(hd(21));return u5(a),{predicate:i,type:e,effect:a}},CX=Xb(r=>{const{type:e,predicate:t,effect:n}=xX(r);return{id:A1e(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(hd(22))}}},{withTypes:()=>CX}),v9=(r,e)=>{const{type:t,effect:n,predicate:i}=xX(e);return Array.from(r.values()).find(a=>(typeof t=="string"?a.type===t:a.predicate===i)&&a.effect===n)},sU=r=>{r.pending.forEach(e=>{n_(e,oU)})},I1e=r=>()=>{r.forEach(sU),r.clear()},_9=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},EX=Xb(Xd(`${EO}/add`),{withTypes:()=>EX}),k1e=Xd(`${EO}/removeAll`),SX=Xb(Xd(`${EO}/remove`),{withTypes:()=>SX}),N1e=(...r)=>{console.error(`${EO}/error`,...r)},DS=(r={})=>{const e=new Map,{extra:t,onError:n=N1e}=r;u5(n);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),y=>{f.unsubscribe(),y?.cancelActive&&sU(f)}),a=f=>{const y=v9(e,f)??CX(f);return i(y)};Xb(a,{withTypes:()=>a});const o=f=>{const y=v9(e,f);return y&&(y.unsubscribe(),f.cancelActive&&sU(y)),!!y};Xb(o,{withTypes:()=>o});const s=async(f,y,C,x)=>{const k=new AbortController,N=B1e(a,k.signal),M=[];try{f.pending.add(k),await Promise.resolve(f.effect(y,Xb({},C,{getOriginalState:x,condition:(D,H)=>N(D,H).then(Boolean),take:N,delay:wX(k.signal),pause:lN(k.signal),extra:t,signal:k.signal,fork:T1e(k.signal,M),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((D,H,q)=>{D!==k&&(n_(D,oU),q.delete(D))})},cancel:()=>{n_(k,oU),f.pending.delete(k)},throwIfCancelled:()=>{i_(k.signal)}})))}catch(D){D instanceof CO||_9(n,D,{raisedBy:"effect"})}finally{await Promise.all(M),n_(k,E1e),f.pending.delete(k)}},c=I1e(e);return{middleware:f=>y=>C=>{if(!oX(C))return y(C);if(EX.match(C))return a(C.payload);if(k1e.match(C)){c();return}if(SX.match(C))return o(C.payload);let x=f.getState();const k=()=>{if(x===y9)throw new Error(hd(23));return x};let N;try{if(N=y(C),e.size>0){const M=f.getState(),D=Array.from(e.values());for(const H of D){let q=!1;try{q=H.predicate(C,M,x)}catch($){q=!1,_9(n,$,{raisedBy:"predicate"})}q&&s(H,C,f,k)}}}finally{x=y9}return N},startListening:a,stopListening:o,clearListeners:c}};function hd(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var P1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TX=pd({name:"chartLayout",initialState:P1e,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,i,a;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,r.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:O1e,setLayout:M1e,setChartSize:L1e,setScale:R1e}=TX.actions,D1e=TX.reducer;function b9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function w9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(t),!0).forEach(function(n){U1e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):b9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function U1e(r,e,t){return(e=F1e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function F1e(r){var e=j1e(r,"string");return typeof e=="symbol"?e:e+""}function j1e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var cN=Math.PI/180,Q1e=r=>r*180/Math.PI,gl=(r,e,t,n)=>({x:r+Math.cos(-cN*n)*t,y:e+Math.sin(-cN*n)*t}),BX=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},H1e=(r,e)=>{var{x:t,y:n}=r,{x:i,y:a}=e;return Math.sqrt((t-i)**2+(n-a)**2)},z1e=(r,e)=>{var{x:t,y:n}=r,{cx:i,cy:a}=e,o=H1e({x:t,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(t-i)/o,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:o,angle:Q1e(c),angleInRadian:c}},q1e=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),i=Math.floor(t/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:t-a*360}},K1e=(r,e)=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),a=Math.floor(n/360),o=Math.min(i,a);return r+o*360},V1e=(r,e)=>{var{x:t,y:n}=r,{radius:i,angle:a}=z1e({x:t,y:n},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:A}=q1e(e),f=a,y;if(c<=A){for(;f>A;)f-=360;for(;f<c;)f+=360;y=f>=c&&f<=A}else{for(;f>c;)f-=360;for(;f<A;)f+=360;y=f>=A&&f<=c}return y?w9(w9({},e),{},{radius:i,angle:K1e(f,e)}):null};function IX(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function x9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(t),!0).forEach(function(n){G1e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):x9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function G1e(r,e,t){return(e=$1e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $1e(r){var e=Y1e(r,"string");return typeof e=="symbol"?e:e+""}function Y1e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ka(r,e,t){return Ro(r)||Ro(e)?t:Wp(e)?x_(r,e,t):typeof e=="function"?e(r):t}var W1e=(r,e,t,n,i)=>{var a,o=-1,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||r==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<s;c++){var A=c>0?t[c-1].coordinate:t[s-1].coordinate,f=t[c].coordinate,y=c>=s-1?t[0].coordinate:t[c+1].coordinate,C=void 0;if(yc(f-A)!==yc(y-f)){var x=[];if(yc(y-f)===yc(i[1]-i[0])){C=y;var k=f+i[1]-i[0];x[0]=Math.min(k,(k+A)/2),x[1]=Math.max(k,(k+A)/2)}else{C=A;var N=y+i[1]-i[0];x[0]=Math.min(f,(N+f)/2),x[1]=Math.max(f,(N+f)/2)}var M=[Math.min(f,(C+f)/2),Math.max(f,(C+f)/2)];if(r>M[0]&&r<=M[1]||r>=x[0]&&r<=x[1]){({index:o}=t[c]);break}}else{var D=Math.min(A,y),H=Math.max(A,y);if(r>(D+f)/2&&r<=(H+f)/2){({index:o}=t[c]);break}}}else if(e){for(var q=0;q<s;q++)if(q===0&&r<=(e[q].coordinate+e[q+1].coordinate)/2||q>0&&q<s-1&&r>(e[q].coordinate+e[q-1].coordinate)/2&&r<=(e[q].coordinate+e[q+1].coordinate)/2||q===s-1&&r>(e[q].coordinate+e[q-1].coordinate)/2){({index:o}=e[q]);break}}return o},Z1e=(r,e,t)=>{if(e&&t){var{width:n,height:i}=t,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&pn(r[a]))return zd(zd({},r),{},{[a]:r[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&pn(r[o]))return zd(zd({},r),{},{[o]:r[o]+(i||0)})}return r},lm=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",kX=(r,e,t,n)=>{if(n)return r.map(s=>s.coordinate);var i,a,o=r.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===t&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(t),o},NX=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:A,tickCount:f,ticks:y,niceTicks:C,axisType:x}=r;if(!o)return null;var k=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,N=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(N=x==="angleAxis"&&a&&a.length>=2?yc(a[0]-a[1])*2*N:N,y||C){var M=(y||C||[]).map((D,H)=>{var q=n?n.indexOf(D):D;return{coordinate:o(q)+N,value:D,offset:N,index:H}});return M.filter(D=>!mA(D.coordinate))}return c&&A?A.map((D,H)=>({coordinate:o(D)+N,value:D,index:H,offset:N})):o.ticks&&f!=null?o.ticks(f).map((D,H)=>({coordinate:o(D)+N,value:D,offset:N,index:H})):o.domain().map((D,H)=>({coordinate:o(D)+N,value:n?n[D]:D,index:H,offset:N}))},C9=1e-4,X1e=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),i=Math.min(n[0],n[1])-C9,a=Math.max(n[0],n[1])+C9,o=r(e[0]),s=r(e[t-1]);(o<i||o>a||s<i||s>a)&&r.domain([e[0],e[t-1]])}},J1e=(r,e)=>{if(!e||e.length!==2||!pn(e[0])||!pn(e[1]))return r;var t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[r[0],r[1]];return(!pn(r[0])||r[0]<t)&&(i[0]=t),(!pn(r[1])||r[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<t&&(i[1]=t),i},ebe=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var i=0,a=0,o=0;o<e;++o){var s=mA(r[o][t][1])?r[o][t][0]:r[o][t][1];s>=0?(r[o][t][0]=i,r[o][t][1]=i+s,i=r[o][t][1]):(r[o][t][0]=a,r[o][t][1]=a+s,a=r[o][t][1])}},tbe=r=>{var e=r.length;if(!(e<=0))for(var t=0,n=r[0].length;t<n;++t)for(var i=0,a=0;a<e;++a){var o=mA(r[a][t][1])?r[a][t][0]:r[a][t][1];o>=0?(r[a][t][0]=i,r[a][t][1]=i+o,i=r[a][t][1]):(r[a][t][0]=0,r[a][t][1]=0)}},rbe={sign:ebe,expand:M0e,none:yw,silhouette:L0e,wiggle:R0e,positive:tbe},nbe=(r,e,t)=>{var n=rbe[t],i=O0e().keys(e).value((a,o)=>+Ka(a,o,0)).order(X2).offset(n);return i(r)};function PX(r){return r==null?void 0:String(r)}function uN(r){var{axis:e,ticks:t,bandSize:n,entry:i,index:a,dataKey:o}=r;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ro(i[e.dataKey])){var s=CZ(t,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return t[a]?t[a].coordinate+n/2:null}var c=Ka(i,Ro(o)?e.dataKey:o);return Ro(c)?null:e.scale(c)}var E9=r=>{var{axis:e,ticks:t,offset:n,bandSize:i,entry:a,index:o}=r;if(e.type==="category")return t[o]?t[o].coordinate+n:null;var s=Ka(a,e.dataKey,e.scale.domain()[o]);return Ro(s)?null:e.scale(s)-i/2+n},ibe=r=>{var{numericAxis:e}=r,t=e.scale.domain();if(e.type==="number"){var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n<=0&&i>=0?0:i<0?i:n}return t[0]},abe=r=>{var e=r.flat(2).filter(pn);return[Math.min(...e),Math.max(...e)]},obe=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],sbe=(r,e,t)=>{if(r!=null)return obe(Object.keys(r).reduce((n,i)=>{var a=r[i],{stackedData:o}=a,s=o.reduce((c,A)=>{var f=IX(A,e,t),y=abe(f);return[Math.min(c[0],y[0]),Math.max(c[1],y[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},S9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S_=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var i=_O(e,f=>f.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],A=i[o-1];a=Math.min((c.coordinate||0)-(A.coordinate||0),a)}return a===1/0?0:a}return t?void 0:0};function B9(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:i,name:a}=r;return zd(zd({},e),{},{dataKey:t,payload:n,value:i,name:a})}function Cv(r,e){if(r)return String(r);if(typeof e=="string")return e}function lbe(r,e,t,n,i){if(t==="horizontal"||t==="vertical"){var a=r>=i.left&&r<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:r,y:e}:null}return n?V1e({x:r,y:e},n):null}var cbe=(r,e,t,n)=>{var i=e.find(A=>A&&A.index===t);if(i){if(r==="horizontal")return{x:i.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:i.coordinate};if(r==="centric"){var a=i.coordinate,{radius:o}=n;return zd(zd(zd({},n),gl(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=n;return zd(zd(zd({},n),gl(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{x:0,y:0}},ube=(r,e)=>e==="horizontal"?r.x:e==="vertical"?r.y:e==="centric"?r.angle:r.radius,Lg=r=>r.layout.width,Rg=r=>r.layout.height,hbe=r=>r.layout.scale,OX=r=>r.layout.margin,SO=Rt(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),TO=Rt(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),MX="data-recharts-item-index",LX="data-recharts-item-data-key",US=60;function I9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function GB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(t),!0).forEach(function(n){Abe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):I9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Abe(r,e,t){return(e=dbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dbe(r){var e=fbe(r,"string");return typeof e=="symbol"?e:e+""}function fbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var pbe=r=>r.brush.height;function mbe(r){var e=TO(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:US;return t+i}return t},0)}function gbe(r){var e=TO(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:US;return t+i}return t},0)}function ybe(r){var e=SO(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function vbe(r){var e=SO(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var Hl=Rt([Lg,Rg,OX,pbe,mbe,gbe,ybe,vbe,nX,U_e],(r,e,t,n,i,a,o,s,c,A)=>{var f={left:(t.left||0)+i,right:(t.right||0)+a},y={top:(t.top||0)+o,bottom:(t.bottom||0)+s},C=GB(GB({},y),f),x=C.bottom;C.bottom+=n,C=Z1e(C,c,A);var k=r-C.left-C.right,N=e-C.top-C.bottom;return GB(GB({brushBottom:x},C),{},{width:Math.max(k,0),height:Math.max(N,0)})}),_be=Rt(Hl,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),h5=Rt(Lg,Rg,(r,e)=>({x:0,y:0,width:r,height:e})),bbe=Z.createContext(null),Yu=()=>Z.useContext(bbe)!=null,BO=r=>r.brush,IO=Rt([BO,Hl,OX],(r,e,t)=>({height:r.height,x:pn(r.x)?r.x:e.left,y:pn(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:pn(r.width)?r.width:e.width})),A5=()=>{var r,e=Yu(),t=mn(_be),n=mn(IO),i=(r=mn(BO))===null||r===void 0?void 0:r.padding;return!e||!n||!i?t:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wbe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RX=()=>{var r;return(r=mn(Hl))!==null&&r!==void 0?r:wbe},DX=()=>mn(Lg),UX=()=>mn(Rg),Ki=r=>r.layout.layoutType,FS=()=>mn(Ki),xbe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FX=pd({name:"legend",initialState:xbe,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload(r,e){r.payload.push(e.payload)},removeLegendPayload(r,e){var t=ag(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)}}}),{setLegendSize:X$e,setLegendSettings:J$e,addLegendPayload:jX,removeLegendPayload:QX}=FX.actions,Cbe=FX.reducer;function lU(){return lU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lU.apply(null,arguments)}function k9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function QL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k9(Object(t),!0).forEach(function(n){Ebe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):k9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ebe(r,e,t){return(e=Sbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Sbe(r){var e=Tbe(r,"string");return typeof e=="symbol"?e:e+""}function Tbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Bbe(r){return Array.isArray(r)&&Wp(r[0])&&Wp(r[1])?r.join(" ~ "):r}var Ibe=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:A,label:f,labelFormatter:y,accessibilityLayer:C=!1}=r,x=()=>{if(a&&a.length){var ce={padding:0,margin:0},V=(s?_O(a,s):a).map((he,le)=>{if(he.type==="none")return null;var fe=he.formatter||o||Bbe,{value:Ne,name:W}=he,ue=Ne,de=W;if(fe){var me=fe(Ne,W,he,le,a);if(Array.isArray(me))[ue,de]=me;else if(me!=null)ue=me;else return null}var Qe=QL({display:"block",paddingTop:4,paddingBottom:4,color:he.color||"#000"},n);return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(le),style:Qe},Wp(de)?Z.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Wp(de)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},ue),Z.createElement("span",{className:"recharts-tooltip-item-unit"},he.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:ce},V)}return null},k=QL({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),N=QL({margin:0},i),M=!Ro(f),D=M?f:"",H=ki("recharts-default-tooltip",c),q=ki("recharts-tooltip-label",A);M&&y&&a!==void 0&&a!==null&&(D=y(f,a));var $=C?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",lU({className:H,style:k},$),Z.createElement("p",{className:q,style:N},Z.isValidElement(D)?D:"".concat(D)),x())},Vx="recharts-tooltip-wrapper",kbe={visibility:"hidden"};function Nbe(r){var{coordinate:e,translateX:t,translateY:n}=r;return ki(Vx,{["".concat(Vx,"-right")]:pn(t)&&e&&pn(e.x)&&t>=e.x,["".concat(Vx,"-left")]:pn(t)&&e&&pn(e.x)&&t<e.x,["".concat(Vx,"-bottom")]:pn(n)&&e&&pn(e.y)&&n>=e.y,["".concat(Vx,"-top")]:pn(n)&&e&&pn(e.y)&&n<e.y})}function N9(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:A}=r;if(a&&pn(a[n]))return a[n];var f=t[n]-s-(i>0?i:0),y=t[n]+i;if(e[n])return o[n]?f:y;var C=c[n];if(C==null)return 0;if(o[n]){var x=f,k=C;return x<k?Math.max(y,C):Math.max(f,C)}if(A==null)return 0;var N=y+s,M=C+A;return N>M?Math.max(f,C):Math.max(y,C)}function Pbe(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Obe(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:c}=r,A,f,y;return o.height>0&&o.width>0&&t?(f=N9({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),y=N9({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),A=Pbe({translateX:f,translateY:y,useTranslate3d:s})):A=kbe,{cssProperties:A,cssClasses:Nbe({translateX:f,translateY:y,coordinate:t})}}function P9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $B(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P9(Object(t),!0).forEach(function(n){cU(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):P9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cU(r,e,t){return(e=Mbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mbe(r){var e=Lbe(r,"string");return typeof e=="symbol"?e:e+""}function Lbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Rbe extends Z.PureComponent{constructor(){super(...arguments),cU(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cU(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:A,position:f,reverseDirection:y,useTranslate3d:C,viewBox:x,wrapperStyle:k,lastBoundingBox:N,innerRef:M,hasPortalFromProps:D}=this.props,{cssClasses:H,cssProperties:q}=Obe({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:A,position:f,reverseDirection:y,tooltipBox:{height:N.height,width:N.width},useTranslate3d:C,viewBox:x}),$=D?{}:$B($B({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},q),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),ce=$B($B({},$),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},k);return Z.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:H,style:ce,ref:M},a)}}var Dbe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Dg={devToolsEnabled:!1,isSsr:Dbe()},HX=()=>mn(r=>r.rootProps.accessibilityLayer);function au(r){return Number.isFinite(r)}function _w(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function uU(){return uU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},uU.apply(null,arguments)}function O9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function M9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(t),!0).forEach(function(n){Ube(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):O9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ube(r,e,t){return(e=Fbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Fbe(r){var e=jbe(r,"string");return typeof e=="symbol"?e:e+""}function jbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var L9={curveBasisClosed:w0e,curveBasisOpen:x0e,curveBasis:b0e,curveBumpX:s0e,curveBumpY:l0e,curveLinearClosed:C0e,curveLinear:yO,curveMonotoneX:E0e,curveMonotoneY:S0e,curveNatural:T0e,curveStep:B0e,curveStepAfter:k0e,curveStepBefore:I0e},YB=r=>au(r.x)&&au(r.y),Gx=r=>r.x,$x=r=>r.y,Qbe=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(LS(r));return(t==="curveMonotone"||t==="curveBump")&&e?L9["".concat(t).concat(e==="vertical"?"Y":"X")]:L9[t]||yO},Hbe=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:i,connectNulls:a=!1}=r,o=Qbe(e,i),s=a?t.filter(YB):t,c;if(Array.isArray(n)){var A=a?n.filter(y=>YB(y)):n,f=s.map((y,C)=>M9(M9({},y),{},{base:A[C]}));return i==="vertical"?c=QB().y($x).x1(Gx).x0(y=>y.base.x):c=QB().x(Gx).y1($x).y0(y=>y.base.y),c.defined(YB).curve(o),c(f)}return i==="vertical"&&pn(n)?c=QB().y($x).x1(Gx).x0(n):pn(n)?c=QB().x(Gx).y1($x).y0(n):c=OZ().x(Gx).y($x),c.defined(YB).curve(o),c(s)},Jb=r=>{var{className:e,points:t,path:n,pathRef:i}=r;if((!t||!t.length)&&!n)return null;var a=t&&t.length?Hbe(r):n;return Z.createElement("path",uU({},af(r),X6(r),{className:ki("recharts-curve",e),d:a===null?void 0:a,ref:i}))},zbe=["x","y","top","left","width","height","className"];function hU(){return hU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hU.apply(null,arguments)}function R9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qbe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(t),!0).forEach(function(n){Kbe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):R9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Kbe(r,e,t){return(e=Vbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Vbe(r){var e=Gbe(r,"string");return typeof e=="symbol"?e:e+""}function Gbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $be(r,e){if(r==null)return{};var t,n,i=Ybe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Ybe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var Wbe=(r,e,t,n,i,a)=>"M".concat(r,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(t),Zbe=r=>{var{x:e=0,y:t=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=r,c=$be(r,zbe),A=qbe({x:e,y:t,top:n,left:i,width:a,height:o},c);return!pn(e)||!pn(t)||!pn(a)||!pn(o)||!pn(n)||!pn(i)?null:Z.createElement("path",hU({},Do(A,!0),{className:ki("recharts-cross",s),d:Wbe(e,t,a,o,n,i)}))};function Xbe(r,e,t,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-i,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function D9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Jbe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(t),!0).forEach(function(n){ewe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):D9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ewe(r,e,t){return(e=twe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function twe(r){var e=rwe(r,"string");return typeof e=="symbol"?e:e+""}function rwe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zl(r,e){var t=Jbe({},r),n=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),t);return a}function nwe(){}function U9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function F9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(t),!0).forEach(function(n){iwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):U9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function iwe(r,e,t){return(e=awe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function awe(r){var e=owe(r,"string");return typeof e=="symbol"?e:e+""}function owe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var swe=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),zX=(r,e,t)=>r.map(n=>"".concat(swe(n)," ").concat(e,"ms ").concat(t)).join(","),lwe=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(i=>n.includes(i))),WE=(r,e)=>Object.keys(e).reduce((t,n)=>F9(F9({},t),{},{[n]:r(n,e[n])}),{});function j9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Zc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(t),!0).forEach(function(n){cwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cwe(r,e,t){return(e=uwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uwe(r){var e=hwe(r,"string");return typeof e=="symbol"?e:e+""}function hwe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var hN=(r,e,t)=>r+(e-r)*t,AU=r=>{var{from:e,to:t}=r;return e!==t},qX=(r,e,t)=>{var n=WE((i,a)=>{if(AU(a)){var[o,s]=r(a.from,a.to,a.velocity);return Zc(Zc({},a),{},{from:o,velocity:s})}return a},e);return t<1?WE((i,a)=>AU(a)?Zc(Zc({},a),{},{velocity:hN(a.velocity,n[i].velocity,t),from:hN(a.from,n[i].from,t)}):a,e):qX(r,n,t-1)};function Awe(r,e,t,n,i,a){var o,s=n.reduce((C,x)=>Zc(Zc({},C),{},{[x]:{from:r[x],velocity:0,to:e[x]}}),{}),c=()=>WE((C,x)=>x.from,s),A=()=>!Object.values(s).filter(AU).length,f=null,y=C=>{o||(o=C);var x=C-o,k=x/t.dt;s=qX(t,s,k),i(Zc(Zc(Zc({},r),e),c())),o=C,A()||(f=a.setTimeout(y))};return()=>(f=a.setTimeout(y),()=>{f()})}function dwe(r,e,t,n,i,a,o){var s=null,c=i.reduce((y,C)=>Zc(Zc({},y),{},{[C]:[r[C],e[C]]}),{}),A,f=y=>{A||(A=y);var C=(y-A)/n,x=WE((N,M)=>hN(...M,t(C)),c);if(a(Zc(Zc(Zc({},r),e),x)),C<1)s=o.setTimeout(f);else{var k=WE((N,M)=>hN(...M,t(1)),c);a(Zc(Zc(Zc({},r),e),k))}};return()=>(s=o.setTimeout(f),()=>{s()})}const fwe=(r,e,t,n,i,a)=>{var o=lwe(r,e);return t.isStepper===!0?Awe(r,e,t,o,i,a):dwe(r,e,t,n,o,i,a)};var AN=1e-4,KX=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],VX=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),Q9=(r,e)=>t=>{var n=KX(r,e);return VX(n,t)},pwe=(r,e)=>t=>{var n=KX(r,e),i=[...n.map((a,o)=>a*o).slice(1),0];return VX(i,t)},H9=function(){for(var e,t,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[e,n,t,i]=[0,0,1,1];break;case"ease":[e,n,t,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,i]=[.42,0,1,1];break;case"ease-out":[e,n,t,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,t,i]=c[1].split(")")[0].split(",").map(k=>parseFloat(k)))}}else o.length===4&&([e,n,t,i]=o);var A=Q9(e,t),f=Q9(n,i),y=pwe(e,t),C=k=>k>1?1:k<0?0:k,x=k=>{for(var N=k>1?1:k,M=N,D=0;D<8;++D){var H=A(M)-N,q=y(M);if(Math.abs(H-N)<AN||q<AN)return f(M);M=C(M-H/q)}return f(M)};return x.isStepper=!1,x},mwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:i=17}=e,a=(o,s,c)=>{var A=-(o-s)*t,f=c*n,y=c+(A-f)*i/1e3,C=c*i/1e3+o;return Math.abs(C-s)<AN&&Math.abs(y)<AN?[s,0]:[C,y]};return a.isStepper=!0,a.dt=i,a},gwe=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H9(r);case"spring":return mwe();default:if(r.split("(")[0]==="cubic-bezier")return H9(r)}return typeof r=="function"?r:null};function ywe(r){var e,t=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...A]=s;if(typeof c=="number"){i=r.setTimeout(a.bind(null,A),c);return}a(c),i=r.setTimeout(a.bind(null,A));return}typeof o=="string"&&(e=o,t(e)),typeof o=="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(t=o,()=>{t=()=>null}),getTimeoutController:()=>r}}class vwe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=t?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function _we(){return ywe(new vwe)}var bwe=Z.createContext(_we);function wwe(r,e){var t=Z.useContext(bwe);return Z.useMemo(()=>e??t(r),[r,e,t])}var xwe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},z9={t:0},HL={t:1};function Kw(r){var e=zl(r,xwe),{isActive:t,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:A}=e,f=wwe(e.animationId,e.animationManager),[y,C]=Z.useState(t?z9:HL),x=Z.useRef(null);return Z.useEffect(()=>{t||C(HL)},[t]),Z.useEffect(()=>{if(!t||!n)return nwe;var k=fwe(z9,HL,gwe(a),i,C,f.getTimeoutController()),N=()=>{x.current=k()};return f.start([c,o,N,i,s]),()=>{f.stop(),x.current&&x.current(),s()}},[t,n,i,a,o,c,s,f]),A(y.t)}function Vw(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=Z.useRef(GE(e)),n=Z.useRef(r);return n.current!==r&&(t.current=GE(e),n.current=r),t.current}function q9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function K9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(t),!0).forEach(function(n){Cwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):q9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cwe(r,e,t){return(e=Ewe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ewe(r){var e=Swe(r,"string");return typeof e=="symbol"?e:e+""}function Swe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dN(){return dN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dN.apply(null,arguments)}var V9=(r,e,t,n,i)=>{var a=Math.min(Math.abs(t)/2,Math.abs(n)/2),o=n>=0?1:-1,s=t>=0?1:-1,c=n>=0&&t>=0||n<0&&t<0?1:0,A;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],y=0,C=4;y<C;y++)f[y]=i[y]>a?a:i[y];A="M".concat(r,",").concat(e+o*f[0]),f[0]>0&&(A+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(r+s*f[0],",").concat(e)),A+="L ".concat(r+t-s*f[1],",").concat(e),f[1]>0&&(A+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(r+t,",").concat(e+o*f[1])),A+="L ".concat(r+t,",").concat(e+n-o*f[2]),f[2]>0&&(A+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(r+t-s*f[2],",").concat(e+n)),A+="L ".concat(r+s*f[3],",").concat(e+n),f[3]>0&&(A+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(r,",").concat(e+n-o*f[3])),A+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);A="M ".concat(r,",").concat(e+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(r+s*x,",").concat(e,`
            L `).concat(r+t-s*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(r+t,",").concat(e+o*x,`
            L `).concat(r+t,",").concat(e+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(r+t-s*x,",").concat(e+n,`
            L `).concat(r+s*x,",").concat(e+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(r,",").concat(e+n-o*x," Z")}else A="M ".concat(r,",").concat(e," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return A},Twe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GX=r=>{var e=zl(r,Twe),t=Z.useRef(null),[n,i]=Z.useState(-1);Z.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var me=t.current.getTotalLength();me&&i(me)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:A,className:f}=e,{animationEasing:y,animationDuration:C,animationBegin:x,isAnimationActive:k,isUpdateAnimationActive:N}=e,M=Z.useRef(s),D=Z.useRef(c),H=Z.useRef(a),q=Z.useRef(o),$=Z.useMemo(()=>({x:a,y:o,width:s,height:c,radius:A}),[a,o,s,c,A]),ce=Vw($,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var V=ki("recharts-rectangle",f);if(!N)return Z.createElement("path",dN({},Do(e,!0),{className:V,d:V9(a,o,s,c,A)}));var he=M.current,le=D.current,fe=H.current,Ne=q.current,W="0px ".concat(n===-1?1:n,"px"),ue="".concat(n,"px 0px"),de=zX(["strokeDasharray"],C,typeof y=="string"?y:void 0);return Z.createElement(Kw,{animationId:ce,key:ce,canBegin:n>0,duration:C,easing:y,isActive:N,begin:x},me=>{var Qe=za(he,s,me),Ee=za(le,c,me),_e=za(fe,a,me),ke=za(Ne,o,me);t.current&&(M.current=Qe,D.current=Ee,H.current=_e,q.current=ke);var We;return k?me>0?We={transition:de,strokeDasharray:ue}:We={strokeDasharray:W}:We={strokeDasharray:ue},Z.createElement("path",dN({},Do(e,!0),{className:V,d:V9(_e,ke,Qe,Ee,A),ref:t,style:K9(K9({},We),e.style)}))})};function $X(r){var{cx:e,cy:t,radius:n,startAngle:i,endAngle:a}=r,o=gl(e,t,n,i),s=gl(e,t,n,a);return{points:[o,s],cx:e,cy:t,radius:n,startAngle:i,endAngle:a}}function dU(){return dU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dU.apply(null,arguments)}var Bwe=(r,e)=>{var t=yc(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},WB=r=>{var{cx:e,cy:t,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=r,A=s*(o?1:-1)+n,f=Math.asin(s/A)/cN,y=c?i:i+a*f,C=gl(e,t,A,y),x=gl(e,t,n,y),k=c?i-a*f:i,N=gl(e,t,A*Math.cos(f*cN),k);return{center:C,circleTangency:x,lineTangency:N,theta:f}},YX=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=r,s=Bwe(a,o),c=a+s,A=gl(e,t,i,a),f=gl(e,t,i,c),y="M ".concat(A.x,",").concat(A.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var C=gl(e,t,n,a),x=gl(e,t,n,c);y+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(C.x,",").concat(C.y," Z")}else y+="L ".concat(e,",").concat(t," Z");return y},Iwe=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:A}=r,f=yc(A-c),{circleTangency:y,lineTangency:C,theta:x}=WB({cx:e,cy:t,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:N,theta:M}=WB({cx:e,cy:t,radius:i,angle:A,sign:-f,cornerRadius:a,cornerIsExternal:s}),D=s?Math.abs(c-A):Math.abs(c-A)-x-M;if(D<0)return o?"M ".concat(C.x,",").concat(C.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):YX({cx:e,cy:t,innerRadius:n,outerRadius:i,startAngle:c,endAngle:A});var H="M ".concat(C.x,",").concat(C.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
  `);if(n>0){var{circleTangency:q,lineTangency:$,theta:ce}=WB({cx:e,cy:t,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:V,lineTangency:he,theta:le}=WB({cx:e,cy:t,radius:n,angle:A,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),fe=s?Math.abs(c-A):Math.abs(c-A)-ce-le;if(fe<0&&a===0)return"".concat(H,"L").concat(e,",").concat(t,"Z");H+="L".concat(he.x,",").concat(he.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(fe>180),",").concat(+(f>0),",").concat(q.x,",").concat(q.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,"Z")}else H+="L".concat(e,",").concat(t,"Z");return H},kwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WX=r=>{var e=zl(r,kwe),{cx:t,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:A,endAngle:f,className:y}=e;if(a<i||A===f)return null;var C=ki("recharts-sector",y),x=a-i,k=Gu(o,x,0,!0),N;return k>0&&Math.abs(A-f)<360?N=Iwe({cx:t,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,x/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:A,endAngle:f}):N=YX({cx:t,cy:n,innerRadius:i,outerRadius:a,startAngle:A,endAngle:f}),Z.createElement("path",dU({},Do(e,!0),{className:C,d:N}))};function Nwe(r,e,t){var n,i,a,o;if(r==="horizontal")n=e.x,a=n,i=t.top,o=t.top+t.height;else if(r==="vertical")i=e.y,o=i,n=t.left,a=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var{cx:s,cy:c,innerRadius:A,outerRadius:f,angle:y}=e,C=gl(s,c,A,y),x=gl(s,c,f,y);n=C.x,i=C.y,a=x.x,o=x.y}else return $X(e);return[{x:n,y:i},{x:a,y:o}]}var zL={},qL={},KL={},G9;function Pwe(){return G9||(G9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=tX();function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(KL)),KL}var $9;function Owe(){return $9||($9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=Pwe();function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(qL)),qL}var Y9;function Mwe(){return Y9||(Y9=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=rX(),t=Owe();function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=t.toFinite(i),a===void 0?(a=i,i=0):a=t.toFinite(a),o=o===void 0?i<a?1:-1:t.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let A=0;A<s;A++)c[A]=i,i+=o;return c}r.range=n})(zL)),zL}var VL,W9;function Lwe(){return W9||(W9=1,VL=Mwe().range),VL}var Rwe=Lwe();const ZX=Og(Rwe);function nv(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Dwe(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function d5(r){let e,t,n;r.length!==2?(e=nv,t=(s,c)=>nv(r(s),c),n=(s,c)=>r(s)-c):(e=r===nv||r===Dwe?r:Uwe,t=r,n=r);function i(s,c,A=0,f=s.length){if(A<f){if(e(c,c)!==0)return f;do{const y=A+f>>>1;t(s[y],c)<0?A=y+1:f=y}while(A<f)}return A}function a(s,c,A=0,f=s.length){if(A<f){if(e(c,c)!==0)return f;do{const y=A+f>>>1;t(s[y],c)<=0?A=y+1:f=y}while(A<f)}return A}function o(s,c,A=0,f=s.length){const y=i(s,c,A,f-1);return y>A&&n(s[y-1],c)>-n(s[y],c)?y-1:y}return{left:i,center:o,right:a}}function Uwe(){return 0}function XX(r){return r===null?NaN:+r}function*Fwe(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const jwe=d5(nv),jS=jwe.right;d5(XX).center;class Z9 extends Map{constructor(e,t=zwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(X9(this,e))}has(e){return super.has(X9(this,e))}set(e,t){return super.set(Qwe(this,e),t)}delete(e){return super.delete(Hwe(this,e))}}function X9({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function Qwe({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function Hwe({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function zwe(r){return r!==null&&typeof r=="object"?r.valueOf():r}function qwe(r=nv){if(r===nv)return JX;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function JX(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const Kwe=Math.sqrt(50),Vwe=Math.sqrt(10),Gwe=Math.sqrt(2);function fN(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Kwe?10:a>=Vwe?5:a>=Gwe?2:1;let s,c,A;return i<0?(A=Math.pow(10,-i)/o,s=Math.round(r*A),c=Math.round(e*A),s/A<r&&++s,c/A>e&&--c,A=-A):(A=Math.pow(10,i)*o,s=Math.round(r/A),c=Math.round(e/A),s*A<r&&++s,c*A>e&&--c),c<s&&.5<=t&&t<2?fN(r,e,t*2):[s,c,A]}function fU(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,a,o]=n?fN(e,r,t):fN(r,e,t);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let A=0;A<s;++A)c[A]=(a-A)/-o;else for(let A=0;A<s;++A)c[A]=(a-A)*o;else if(o<0)for(let A=0;A<s;++A)c[A]=(i+A)/-o;else for(let A=0;A<s;++A)c[A]=(i+A)*o;return c}function pU(r,e,t){return e=+e,r=+r,t=+t,fN(r,e,t)[2]}function mU(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?pU(e,r,t):pU(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function J9(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function eq(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function eJ(r,e,t=0,n=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(i=i===void 0?JX:qwe(i);n>t;){if(n-t>600){const c=n-t+1,A=e-t+1,f=Math.log(c),y=.5*Math.exp(2*f/3),C=.5*Math.sqrt(f*y*(c-y)/c)*(A-c/2<0?-1:1),x=Math.max(t,Math.floor(e-A*y/c+C)),k=Math.min(n,Math.floor(e+(c-A)*y/c+C));eJ(r,e,x,k,i)}const a=r[e];let o=t,s=n;for(Yx(r,t,e),i(r[n],a)>0&&Yx(r,t,n);o<s;){for(Yx(r,o,s),++o,--s;i(r[o],a)<0;)++o;for(;i(r[s],a)>0;)--s}i(r[t],a)===0?Yx(r,t,s):(++s,Yx(r,s,n)),s<=e&&(t=s+1),e<=s&&(n=s-1)}return r}function Yx(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function $we(r,e,t){if(r=Float64Array.from(Fwe(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return eq(r);if(e>=1)return J9(r);var n,i=(n-1)*e,a=Math.floor(i),o=J9(eJ(r,a).subarray(0,a+1)),s=eq(r.subarray(a+1));return o+(s-o)*(i-a)}}function Ywe(r,e,t=XX){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,i=(n-1)*e,a=Math.floor(i),o=+t(r[a],a,r),s=+t(r[a+1],a+1,r);return o+(s-o)*(i-a)}}function Wwe(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,a=new Array(i);++n<i;)a[n]=r+n*t;return a}function of(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function Ug(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gU=Symbol("implicit");function f5(){var r=new Z9,e=[],t=[],n=gU;function i(a){let o=r.get(a);if(o===void 0){if(n!==gU)return n;r.set(a,o=e.push(a)-1)}return t[o%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],r=new Z9;for(const o of a)r.has(o)||r.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return f5(e,t).unknown(n)},of.apply(i,arguments),i}function p5(){var r=f5().unknown(void 0),e=r.domain,t=r.range,n=0,i=1,a,o,s=!1,c=0,A=0,f=.5;delete r.unknown;function y(){var C=e().length,x=i<n,k=x?i:n,N=x?n:i;a=(N-k)/Math.max(1,C-c+A*2),s&&(a=Math.floor(a)),k+=(N-k-a*(C-c))*f,o=a*(1-c),s&&(k=Math.round(k),o=Math.round(o));var M=Wwe(C).map(function(D){return k+a*D});return t(x?M.reverse():M)}return r.domain=function(C){return arguments.length?(e(C),y()):e()},r.range=function(C){return arguments.length?([n,i]=C,n=+n,i=+i,y()):[n,i]},r.rangeRound=function(C){return[n,i]=C,n=+n,i=+i,s=!0,y()},r.bandwidth=function(){return o},r.step=function(){return a},r.round=function(C){return arguments.length?(s=!!C,y()):s},r.padding=function(C){return arguments.length?(c=Math.min(1,A=+C),y()):c},r.paddingInner=function(C){return arguments.length?(c=Math.min(1,C),y()):c},r.paddingOuter=function(C){return arguments.length?(A=+C,y()):A},r.align=function(C){return arguments.length?(f=Math.max(0,Math.min(1,C)),y()):f},r.copy=function(){return p5(e(),[n,i]).round(s).paddingInner(c).paddingOuter(A).align(f)},of.apply(y(),arguments)}function tJ(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return tJ(e())},r}function Zwe(){return tJ(p5.apply(null,arguments).paddingInner(1))}function m5(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function rJ(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function QS(){}var ZE=.7,pN=1/ZE,ew="\\s*([+-]?\\d+)\\s*",XE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xwe=/^#([0-9a-f]{3,8})$/,Jwe=new RegExp(`^rgb\\(${ew},${ew},${ew}\\)$`),exe=new RegExp(`^rgb\\(${qp},${qp},${qp}\\)$`),txe=new RegExp(`^rgba\\(${ew},${ew},${ew},${XE}\\)$`),rxe=new RegExp(`^rgba\\(${qp},${qp},${qp},${XE}\\)$`),nxe=new RegExp(`^hsl\\(${XE},${qp},${qp}\\)$`),ixe=new RegExp(`^hsla\\(${XE},${qp},${qp},${XE}\\)$`),tq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m5(QS,JE,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:rq,formatHex:rq,formatHex8:axe,formatHsl:oxe,formatRgb:nq,toString:nq});function rq(){return this.rgb().formatHex()}function axe(){return this.rgb().formatHex8()}function oxe(){return nJ(this).formatHsl()}function nq(){return this.rgb().formatRgb()}function JE(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Xwe.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?iq(e):t===3?new hA(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ZB(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ZB(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jwe.exec(r))?new hA(e[1],e[2],e[3],1):(e=exe.exec(r))?new hA(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=txe.exec(r))?ZB(e[1],e[2],e[3],e[4]):(e=rxe.exec(r))?ZB(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nxe.exec(r))?sq(e[1],e[2]/100,e[3]/100,1):(e=ixe.exec(r))?sq(e[1],e[2]/100,e[3]/100,e[4]):tq.hasOwnProperty(r)?iq(tq[r]):r==="transparent"?new hA(NaN,NaN,NaN,0):null}function iq(r){return new hA(r>>16&255,r>>8&255,r&255,1)}function ZB(r,e,t,n){return n<=0&&(r=e=t=NaN),new hA(r,e,t,n)}function sxe(r){return r instanceof QS||(r=JE(r)),r?(r=r.rgb(),new hA(r.r,r.g,r.b,r.opacity)):new hA}function yU(r,e,t,n){return arguments.length===1?sxe(r):new hA(r,e,t,n??1)}function hA(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}m5(hA,yU,rJ(QS,{brighter(r){return r=r==null?pN:Math.pow(pN,r),new hA(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?ZE:Math.pow(ZE,r),new hA(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new hA(a_(this.r),a_(this.g),a_(this.b),mN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aq,formatHex:aq,formatHex8:lxe,formatRgb:oq,toString:oq}));function aq(){return`#${z0(this.r)}${z0(this.g)}${z0(this.b)}`}function lxe(){return`#${z0(this.r)}${z0(this.g)}${z0(this.b)}${z0((isNaN(this.opacity)?1:this.opacity)*255)}`}function oq(){const r=mN(this.opacity);return`${r===1?"rgb(":"rgba("}${a_(this.r)}, ${a_(this.g)}, ${a_(this.b)}${r===1?")":`, ${r})`}`}function mN(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function a_(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function z0(r){return r=a_(r),(r<16?"0":"")+r.toString(16)}function sq(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Qf(r,e,t,n)}function nJ(r){if(r instanceof Qf)return new Qf(r.h,r.s,r.l,r.opacity);if(r instanceof QS||(r=JE(r)),!r)return new Qf;if(r instanceof Qf)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),a=Math.max(e,t,n),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(t-n)/s+(t<n)*6:t===a?o=(n-e)/s+2:o=(e-t)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Qf(o,s,c,r.opacity)}function cxe(r,e,t,n){return arguments.length===1?nJ(r):new Qf(r,e,t,n??1)}function Qf(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}m5(Qf,cxe,rJ(QS,{brighter(r){return r=r==null?pN:Math.pow(pN,r),new Qf(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?ZE:Math.pow(ZE,r),new Qf(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new hA(GL(r>=240?r-240:r+120,i,n),GL(r,i,n),GL(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Qf(lq(this.h),XB(this.s),XB(this.l),mN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=mN(this.opacity);return`${r===1?"hsl(":"hsla("}${lq(this.h)}, ${XB(this.s)*100}%, ${XB(this.l)*100}%${r===1?")":`, ${r})`}`}}));function lq(r){return r=(r||0)%360,r<0?r+360:r}function XB(r){return Math.max(0,Math.min(1,r||0))}function GL(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const g5=r=>()=>r;function uxe(r,e){return function(t){return r+t*e}}function hxe(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Axe(r){return(r=+r)==1?iJ:function(e,t){return t-e?hxe(e,t,r):g5(isNaN(e)?t:e)}}function iJ(r,e){var t=e-r;return t?uxe(r,t):g5(isNaN(r)?e:r)}const cq=(function r(e){var t=Axe(e);function n(i,a){var o=t((i=yU(i)).r,(a=yU(a)).r),s=t(i.g,a.g),c=t(i.b,a.b),A=iJ(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=c(f),i.opacity=A(f),i+""}}return n.gamma=r,n})(1);function dxe(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=r[i]*(1-a)+e[i]*a;return n}}function fxe(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function pxe(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),a=new Array(t),o;for(o=0;o<n;++o)i[o]=Gw(r[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function mxe(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function gN(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function gxe(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=Gw(r[i],e[i]):n[i]=e[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var vU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$L=new RegExp(vU.source,"g");function yxe(r){return function(){return r}}function vxe(r){return function(e){return r(e)+""}}function _xe(r,e){var t=vU.lastIndex=$L.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(r=r+"",e=e+"";(n=vU.exec(r))&&(i=$L.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:gN(n,i)})),t=$L.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?vxe(c[0].x):yxe(e):(e=c.length,function(A){for(var f=0,y;f<e;++f)s[(y=c[f]).i]=y.x(A);return s.join("")})}function Gw(r,e){var t=typeof e,n;return e==null||t==="boolean"?g5(e):(t==="number"?gN:t==="string"?(n=JE(e))?(e=n,cq):_xe:e instanceof JE?cq:e instanceof Date?mxe:fxe(e)?dxe:Array.isArray(e)?pxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gxe:gN)(r,e)}function y5(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function bxe(r,e){e===void 0&&(e=r,r=Gw);for(var t=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);t<n;)a[t]=r(i,i=e[++t]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function wxe(r){return function(){return r}}function yN(r){return+r}var uq=[0,1];function Th(r){return r}function _U(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:wxe(isNaN(e)?NaN:.5)}function xxe(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function Cxe(r,e,t){var n=r[0],i=r[1],a=e[0],o=e[1];return i<n?(n=_U(i,n),a=t(o,a)):(n=_U(n,i),a=t(a,o)),function(s){return a(n(s))}}function Exe(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=_U(r[o],r[o+1]),a[o]=t(e[o],e[o+1]);return function(s){var c=jS(r,s,1,n)-1;return a[c](i[c](s))}}function HS(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function kO(){var r=uq,e=uq,t=Gw,n,i,a,o=Th,s,c,A;function f(){var C=Math.min(r.length,e.length);return o!==Th&&(o=xxe(r[0],r[C-1])),s=C>2?Exe:Cxe,c=A=null,y}function y(C){return C==null||isNaN(C=+C)?a:(c||(c=s(r.map(n),e,t)))(n(o(C)))}return y.invert=function(C){return o(i((A||(A=s(e,r.map(n),gN)))(C)))},y.domain=function(C){return arguments.length?(r=Array.from(C,yN),f()):r.slice()},y.range=function(C){return arguments.length?(e=Array.from(C),f()):e.slice()},y.rangeRound=function(C){return e=Array.from(C),t=y5,f()},y.clamp=function(C){return arguments.length?(o=C?!0:Th,f()):o!==Th},y.interpolate=function(C){return arguments.length?(t=C,f()):t},y.unknown=function(C){return arguments.length?(a=C,y):a},function(C,x){return n=C,i=x,f()}}function v5(){return kO()(Th,Th)}function Sxe(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function vN(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function bw(r){return r=vN(Math.abs(r)),r?r[1]:NaN}function Txe(r,e){return function(t,n){for(var i=t.length,a=[],o=0,s=r[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(t.substring(i-=s,i+s)),!((c+=s+1)>n));)s=r[o=(o+1)%r.length];return a.reverse().join(e)}}function Bxe(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var Ixe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eS(r){if(!(e=Ixe.exec(r)))throw new Error("invalid format: "+r);var e;return new _5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}eS.prototype=_5.prototype;function _5(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}_5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kxe(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var aJ;function Nxe(r,e){var t=vN(r,e);if(!t)return r+"";var n=t[0],i=t[1],a=i-(aJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vN(r,Math.max(0,e+a-1))[0]}function hq(r,e){var t=vN(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Aq={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Sxe,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>hq(r*100,e),r:hq,s:Nxe,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function dq(r){return r}var fq=Array.prototype.map,pq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pxe(r){var e=r.grouping===void 0||r.thousands===void 0?dq:Txe(fq.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",a=r.numerals===void 0?dq:Bxe(fq.call(r.numerals,String)),o=r.percent===void 0?"%":r.percent+"",s=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function A(y){y=eS(y);var C=y.fill,x=y.align,k=y.sign,N=y.symbol,M=y.zero,D=y.width,H=y.comma,q=y.precision,$=y.trim,ce=y.type;ce==="n"?(H=!0,ce="g"):Aq[ce]||(q===void 0&&(q=12),$=!0,ce="g"),(M||C==="0"&&x==="=")&&(M=!0,C="0",x="=");var V=N==="$"?t:N==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",he=N==="$"?n:/[%p]/.test(ce)?o:"",le=Aq[ce],fe=/[defgprs%]/.test(ce);q=q===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function Ne(W){var ue=V,de=he,me,Qe,Ee;if(ce==="c")de=le(W)+de,W="";else{W=+W;var _e=W<0||1/W<0;if(W=isNaN(W)?c:le(Math.abs(W),q),$&&(W=kxe(W)),_e&&+W==0&&k!=="+"&&(_e=!1),ue=(_e?k==="("?k:s:k==="-"||k==="("?"":k)+ue,de=(ce==="s"?pq[8+aJ/3]:"")+de+(_e&&k==="("?")":""),fe){for(me=-1,Qe=W.length;++me<Qe;)if(Ee=W.charCodeAt(me),48>Ee||Ee>57){de=(Ee===46?i+W.slice(me+1):W.slice(me))+de,W=W.slice(0,me);break}}}H&&!M&&(W=e(W,1/0));var ke=ue.length+W.length+de.length,We=ke<D?new Array(D-ke+1).join(C):"";switch(H&&M&&(W=e(We+W,We.length?D-de.length:1/0),We=""),x){case"<":W=ue+W+de+We;break;case"=":W=ue+We+W+de;break;case"^":W=We.slice(0,ke=We.length>>1)+ue+W+de+We.slice(ke);break;default:W=We+ue+W+de;break}return a(W)}return Ne.toString=function(){return y+""},Ne}function f(y,C){var x=A((y=eS(y),y.type="f",y)),k=Math.max(-8,Math.min(8,Math.floor(bw(C)/3)))*3,N=Math.pow(10,-k),M=pq[8+k/3];return function(D){return x(N*D)+M}}return{format:A,formatPrefix:f}}var JB,b5,oJ;Oxe({thousands:",",grouping:[3],currency:["$",""]});function Oxe(r){return JB=Pxe(r),b5=JB.format,oJ=JB.formatPrefix,JB}function Mxe(r){return Math.max(0,-bw(Math.abs(r)))}function Lxe(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bw(e)/3)))*3-bw(Math.abs(r)))}function Rxe(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,bw(e)-bw(r))+1}function sJ(r,e,t,n){var i=mU(r,e,t),a;switch(n=eS(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(a=Lxe(i,o))&&(n.precision=a),oJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Rxe(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Mxe(i))&&(n.precision=a-(n.type==="%")*2);break}}return b5(n)}function Ev(r){var e=r.domain;return r.ticks=function(t){var n=e();return fU(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return sJ(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],c,A,f=10;for(s<o&&(A=o,o=s,s=A,A=i,i=a,a=A);f-- >0;){if(A=pU(o,s,t),A===c)return n[i]=o,n[a]=s,e(n);if(A>0)o=Math.floor(o/A)*A,s=Math.ceil(s/A)*A;else if(A<0)o=Math.ceil(o*A)/A,s=Math.floor(s*A)/A;else break;c=A}return r},r}function lJ(){var r=v5();return r.copy=function(){return HS(r,lJ())},of.apply(r,arguments),Ev(r)}function cJ(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,yN),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return cJ(r).unknown(e)},r=arguments.length?Array.from(r,yN):[0,1],Ev(t)}function uJ(r,e){r=r.slice();var t=0,n=r.length-1,i=r[t],a=r[n],o;return a<i&&(o=t,t=n,n=o,o=i,i=a,a=o),r[t]=e.floor(i),r[n]=e.ceil(a),r}function mq(r){return Math.log(r)}function gq(r){return Math.exp(r)}function Dxe(r){return-Math.log(-r)}function Uxe(r){return-Math.exp(-r)}function Fxe(r){return isFinite(r)?+("1e"+r):r<0?0:r}function jxe(r){return r===10?Fxe:r===Math.E?Math.exp:e=>Math.pow(r,e)}function Qxe(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function yq(r){return(e,t)=>-r(-e,t)}function w5(r){const e=r(mq,gq),t=e.domain;let n=10,i,a;function o(){return i=Qxe(n),a=jxe(n),t()[0]<0?(i=yq(i),a=yq(a),r(Dxe,Uxe)):r(mq,gq),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(t(s),o()):t()},e.ticks=s=>{const c=t();let A=c[0],f=c[c.length-1];const y=f<A;y&&([A,f]=[f,A]);let C=i(A),x=i(f),k,N;const M=s==null?10:+s;let D=[];if(!(n%1)&&x-C<M){if(C=Math.floor(C),x=Math.ceil(x),A>0){for(;C<=x;++C)for(k=1;k<n;++k)if(N=C<0?k/a(-C):k*a(C),!(N<A)){if(N>f)break;D.push(N)}}else for(;C<=x;++C)for(k=n-1;k>=1;--k)if(N=C>0?k/a(-C):k*a(C),!(N<A)){if(N>f)break;D.push(N)}D.length*2<M&&(D=fU(A,f,M))}else D=fU(C,x,Math.min(x-C,M)).map(a);return y?D.reverse():D},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=eS(c)).precision==null&&(c.trim=!0),c=b5(c)),s===1/0)return c;const A=Math.max(1,n*s/e.ticks().length);return f=>{let y=f/a(Math.round(i(f)));return y*n<n-.5&&(y*=n),y<=A?c(f):""}},e.nice=()=>t(uJ(t(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function hJ(){const r=w5(kO()).domain([1,10]);return r.copy=()=>HS(r,hJ()).base(r.base()),of.apply(r,arguments),r}function vq(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function _q(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function x5(r){var e=1,t=r(vq(e),_q(e));return t.constant=function(n){return arguments.length?r(vq(e=+n),_q(e)):e},Ev(t)}function AJ(){var r=x5(kO());return r.copy=function(){return HS(r,AJ()).constant(r.constant())},of.apply(r,arguments)}function bq(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function Hxe(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function zxe(r){return r<0?-r*r:r*r}function C5(r){var e=r(Th,Th),t=1;function n(){return t===1?r(Th,Th):t===.5?r(Hxe,zxe):r(bq(t),bq(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,n()):t},Ev(e)}function E5(){var r=C5(kO());return r.copy=function(){return HS(r,E5()).exponent(r.exponent())},of.apply(r,arguments),r}function qxe(){return E5.apply(null,arguments).exponent(.5)}function wq(r){return Math.sign(r)*r*r}function Kxe(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function dJ(){var r=v5(),e=[0,1],t=!1,n;function i(a){var o=Kxe(r(a));return isNaN(o)?n:t?Math.round(o):o}return i.invert=function(a){return r.invert(wq(a))},i.domain=function(a){return arguments.length?(r.domain(a),i):r.domain()},i.range=function(a){return arguments.length?(r.range((e=Array.from(a,yN)).map(wq)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(r.clamp(a),i):r.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dJ(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},of.apply(i,arguments),Ev(i)}function fJ(){var r=[],e=[],t=[],n;function i(){var o=0,s=Math.max(1,e.length);for(t=new Array(s-1);++o<s;)t[o-1]=Ywe(r,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[jS(t,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?t[s-1]:r[0],s<t.length?t[s]:r[r.length-1]]},a.domain=function(o){if(!arguments.length)return r.slice();r=[];for(let s of o)s!=null&&!isNaN(s=+s)&&r.push(s);return r.sort(nv),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return t.slice()},a.copy=function(){return fJ().domain(r).range(e).unknown(n)},of.apply(a,arguments)}function pJ(){var r=0,e=1,t=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[jS(n,c,0,t)]:a}function s(){var c=-1;for(n=new Array(t);++c<t;)n[c]=((c+1)*e-(c-t)*r)/(t+1);return o}return o.domain=function(c){return arguments.length?([r,e]=c,r=+r,e=+e,s()):[r,e]},o.range=function(c){return arguments.length?(t=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var A=i.indexOf(c);return A<0?[NaN,NaN]:A<1?[r,n[0]]:A>=t?[n[t-1],e]:[n[A-1],n[A]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return pJ().domain([r,e]).range(i).unknown(a)},of.apply(Ev(o),arguments)}function mJ(){var r=[.5],e=[0,1],t,n=1;function i(a){return a!=null&&a<=a?e[jS(r,a,0,n)]:t}return i.domain=function(a){return arguments.length?(r=Array.from(a),n=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[r[o-1],r[o]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return mJ().domain(r).range(e).unknown(t)},of.apply(i,arguments)}const YL=new Date,WL=new Date;function ql(r,e,t,n){function i(a){return r(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(r(a=new Date(+a)),a),i.ceil=a=>(r(a=new Date(a-1)),e(a,1),r(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let A;do c.push(A=new Date(+a)),e(a,s),r(a);while(A<a&&a<o);return c},i.filter=a=>ql(o=>{if(o>=o)for(;r(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),t&&(i.count=(a,o)=>(YL.setTime(+a),WL.setTime(+o),r(YL),r(WL),Math.floor(t(YL,WL))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const _N=ql(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);_N.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?ql(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):_N);_N.range;const Zm=1e3,Gd=Zm*60,Xm=Gd*60,bg=Xm*24,S5=bg*7,xq=bg*30,ZL=bg*365,q0=ql(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*Zm)},(r,e)=>(e-r)/Zm,r=>r.getUTCSeconds());q0.range;const T5=ql(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Zm)},(r,e)=>{r.setTime(+r+e*Gd)},(r,e)=>(e-r)/Gd,r=>r.getMinutes());T5.range;const B5=ql(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Gd)},(r,e)=>(e-r)/Gd,r=>r.getUTCMinutes());B5.range;const I5=ql(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Zm-r.getMinutes()*Gd)},(r,e)=>{r.setTime(+r+e*Xm)},(r,e)=>(e-r)/Xm,r=>r.getHours());I5.range;const k5=ql(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*Xm)},(r,e)=>(e-r)/Xm,r=>r.getUTCHours());k5.range;const zS=ql(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Gd)/bg,r=>r.getDate()-1);zS.range;const NO=ql(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/bg,r=>r.getUTCDate()-1);NO.range;const gJ=ql(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/bg,r=>Math.floor(r/bg));gJ.range;function j_(r){return ql(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gd)/S5)}const PO=j_(0),bN=j_(1),Vxe=j_(2),Gxe=j_(3),ww=j_(4),$xe=j_(5),Yxe=j_(6);PO.range;bN.range;Vxe.range;Gxe.range;ww.range;$xe.range;Yxe.range;function Q_(r){return ql(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/S5)}const OO=Q_(0),wN=Q_(1),Wxe=Q_(2),Zxe=Q_(3),xw=Q_(4),Xxe=Q_(5),Jxe=Q_(6);OO.range;wN.range;Wxe.range;Zxe.range;xw.range;Xxe.range;Jxe.range;const N5=ql(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());N5.range;const P5=ql(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());P5.range;const wg=ql(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());wg.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ql(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});wg.range;const xg=ql(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());xg.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ql(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});xg.range;function yJ(r,e,t,n,i,a){const o=[[q0,1,Zm],[q0,5,5*Zm],[q0,15,15*Zm],[q0,30,30*Zm],[a,1,Gd],[a,5,5*Gd],[a,15,15*Gd],[a,30,30*Gd],[i,1,Xm],[i,3,3*Xm],[i,6,6*Xm],[i,12,12*Xm],[n,1,bg],[n,2,2*bg],[t,1,S5],[e,1,xq],[e,3,3*xq],[r,1,ZL]];function s(A,f,y){const C=f<A;C&&([A,f]=[f,A]);const x=y&&typeof y.range=="function"?y:c(A,f,y),k=x?x.range(A,+f+1):[];return C?k.reverse():k}function c(A,f,y){const C=Math.abs(f-A)/y,x=d5(([,,M])=>M).right(o,C);if(x===o.length)return r.every(mU(A/ZL,f/ZL,y));if(x===0)return _N.every(Math.max(mU(A,f,y),1));const[k,N]=o[C/o[x-1][2]<o[x][2]/C?x-1:x];return k.every(N)}return[s,c]}const[eCe,tCe]=yJ(xg,P5,OO,gJ,k5,B5),[rCe,nCe]=yJ(wg,N5,PO,zS,I5,T5);function XL(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function JL(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Wx(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function iCe(r){var e=r.dateTime,t=r.date,n=r.time,i=r.periods,a=r.days,o=r.shortDays,s=r.months,c=r.shortMonths,A=Zx(i),f=Xx(i),y=Zx(a),C=Xx(a),x=Zx(o),k=Xx(o),N=Zx(s),M=Xx(s),D=Zx(c),H=Xx(c),q={a:_e,A:ke,b:We,B:Oe,c:null,d:Iq,e:Iq,f:TCe,g:DCe,G:FCe,H:CCe,I:ECe,j:SCe,L:vJ,m:BCe,M:ICe,p:ze,q:ne,Q:Pq,s:Oq,S:kCe,u:NCe,U:PCe,V:OCe,w:MCe,W:LCe,x:null,X:null,y:RCe,Y:UCe,Z:jCe,"%":Nq},$={a:ae,A:ve,b:Re,B:qe,c:null,d:kq,e:kq,f:qCe,g:eEe,G:rEe,H:QCe,I:HCe,j:zCe,L:bJ,m:KCe,M:VCe,p:Ze,q:st,Q:Pq,s:Oq,S:GCe,u:$Ce,U:YCe,V:WCe,w:ZCe,W:XCe,x:null,X:null,y:JCe,Y:tEe,Z:nEe,"%":Nq},ce={a:Ne,A:W,b:ue,B:de,c:me,d:Tq,e:Tq,f:_Ce,g:Sq,G:Eq,H:Bq,I:Bq,j:mCe,L:vCe,m:pCe,M:gCe,p:fe,q:fCe,Q:wCe,s:xCe,S:yCe,u:cCe,U:uCe,V:hCe,w:lCe,W:ACe,x:Qe,X:Ee,y:Sq,Y:Eq,Z:dCe,"%":bCe};q.x=V(t,q),q.X=V(n,q),q.c=V(e,q),$.x=V(t,$),$.X=V(n,$),$.c=V(e,$);function V(ot,yt){return function(Pe){var oe=[],pe=-1,J=0,re=ot.length,Ue,be,et;for(Pe instanceof Date||(Pe=new Date(+Pe));++pe<re;)ot.charCodeAt(pe)===37&&(oe.push(ot.slice(J,pe)),(be=Cq[Ue=ot.charAt(++pe)])!=null?Ue=ot.charAt(++pe):be=Ue==="e"?" ":"0",(et=yt[Ue])&&(Ue=et(Pe,be)),oe.push(Ue),J=pe+1);return oe.push(ot.slice(J,pe)),oe.join("")}}function he(ot,yt){return function(Pe){var oe=Wx(1900,void 0,1),pe=le(oe,ot,Pe+="",0),J,re;if(pe!=Pe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(yt&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(J=JL(Wx(oe.y,0,1)),re=J.getUTCDay(),J=re>4||re===0?wN.ceil(J):wN(J),J=NO.offset(J,(oe.V-1)*7),oe.y=J.getUTCFullYear(),oe.m=J.getUTCMonth(),oe.d=J.getUTCDate()+(oe.w+6)%7):(J=XL(Wx(oe.y,0,1)),re=J.getDay(),J=re>4||re===0?bN.ceil(J):bN(J),J=zS.offset(J,(oe.V-1)*7),oe.y=J.getFullYear(),oe.m=J.getMonth(),oe.d=J.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),re="Z"in oe?JL(Wx(oe.y,0,1)).getUTCDay():XL(Wx(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(re+5)%7:oe.w+oe.U*7-(re+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,JL(oe)):XL(oe)}}function le(ot,yt,Pe,oe){for(var pe=0,J=yt.length,re=Pe.length,Ue,be;pe<J;){if(oe>=re)return-1;if(Ue=yt.charCodeAt(pe++),Ue===37){if(Ue=yt.charAt(pe++),be=ce[Ue in Cq?yt.charAt(pe++):Ue],!be||(oe=be(ot,Pe,oe))<0)return-1}else if(Ue!=Pe.charCodeAt(oe++))return-1}return oe}function fe(ot,yt,Pe){var oe=A.exec(yt.slice(Pe));return oe?(ot.p=f.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function Ne(ot,yt,Pe){var oe=x.exec(yt.slice(Pe));return oe?(ot.w=k.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function W(ot,yt,Pe){var oe=y.exec(yt.slice(Pe));return oe?(ot.w=C.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function ue(ot,yt,Pe){var oe=D.exec(yt.slice(Pe));return oe?(ot.m=H.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function de(ot,yt,Pe){var oe=N.exec(yt.slice(Pe));return oe?(ot.m=M.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function me(ot,yt,Pe){return le(ot,e,yt,Pe)}function Qe(ot,yt,Pe){return le(ot,t,yt,Pe)}function Ee(ot,yt,Pe){return le(ot,n,yt,Pe)}function _e(ot){return o[ot.getDay()]}function ke(ot){return a[ot.getDay()]}function We(ot){return c[ot.getMonth()]}function Oe(ot){return s[ot.getMonth()]}function ze(ot){return i[+(ot.getHours()>=12)]}function ne(ot){return 1+~~(ot.getMonth()/3)}function ae(ot){return o[ot.getUTCDay()]}function ve(ot){return a[ot.getUTCDay()]}function Re(ot){return c[ot.getUTCMonth()]}function qe(ot){return s[ot.getUTCMonth()]}function Ze(ot){return i[+(ot.getUTCHours()>=12)]}function st(ot){return 1+~~(ot.getUTCMonth()/3)}return{format:function(ot){var yt=V(ot+="",q);return yt.toString=function(){return ot},yt},parse:function(ot){var yt=he(ot+="",!1);return yt.toString=function(){return ot},yt},utcFormat:function(ot){var yt=V(ot+="",$);return yt.toString=function(){return ot},yt},utcParse:function(ot){var yt=he(ot+="",!0);return yt.toString=function(){return ot},yt}}}var Cq={"-":"",_:" ",0:"0"},wc=/^\s*\d+/,aCe=/^%/,oCe=/[\\^$*+?|[\]().{}]/g;function ya(r,e,t){var n=r<0?"-":"",i=(n?-r:r)+"",a=i.length;return n+(a<t?new Array(t-a+1).join(e)+i:i)}function sCe(r){return r.replace(oCe,"\\$&")}function Zx(r){return new RegExp("^(?:"+r.map(sCe).join("|")+")","i")}function Xx(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function lCe(r,e,t){var n=wc.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function cCe(r,e,t){var n=wc.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function uCe(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function hCe(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function ACe(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function Eq(r,e,t){var n=wc.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function Sq(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function dCe(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function fCe(r,e,t){var n=wc.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function pCe(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function Tq(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function mCe(r,e,t){var n=wc.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function Bq(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function gCe(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function yCe(r,e,t){var n=wc.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function vCe(r,e,t){var n=wc.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function _Ce(r,e,t){var n=wc.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function bCe(r,e,t){var n=aCe.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function wCe(r,e,t){var n=wc.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function xCe(r,e,t){var n=wc.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function Iq(r,e){return ya(r.getDate(),e,2)}function CCe(r,e){return ya(r.getHours(),e,2)}function ECe(r,e){return ya(r.getHours()%12||12,e,2)}function SCe(r,e){return ya(1+zS.count(wg(r),r),e,3)}function vJ(r,e){return ya(r.getMilliseconds(),e,3)}function TCe(r,e){return vJ(r,e)+"000"}function BCe(r,e){return ya(r.getMonth()+1,e,2)}function ICe(r,e){return ya(r.getMinutes(),e,2)}function kCe(r,e){return ya(r.getSeconds(),e,2)}function NCe(r){var e=r.getDay();return e===0?7:e}function PCe(r,e){return ya(PO.count(wg(r)-1,r),e,2)}function _J(r){var e=r.getDay();return e>=4||e===0?ww(r):ww.ceil(r)}function OCe(r,e){return r=_J(r),ya(ww.count(wg(r),r)+(wg(r).getDay()===4),e,2)}function MCe(r){return r.getDay()}function LCe(r,e){return ya(bN.count(wg(r)-1,r),e,2)}function RCe(r,e){return ya(r.getFullYear()%100,e,2)}function DCe(r,e){return r=_J(r),ya(r.getFullYear()%100,e,2)}function UCe(r,e){return ya(r.getFullYear()%1e4,e,4)}function FCe(r,e){var t=r.getDay();return r=t>=4||t===0?ww(r):ww.ceil(r),ya(r.getFullYear()%1e4,e,4)}function jCe(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ya(e/60|0,"0",2)+ya(e%60,"0",2)}function kq(r,e){return ya(r.getUTCDate(),e,2)}function QCe(r,e){return ya(r.getUTCHours(),e,2)}function HCe(r,e){return ya(r.getUTCHours()%12||12,e,2)}function zCe(r,e){return ya(1+NO.count(xg(r),r),e,3)}function bJ(r,e){return ya(r.getUTCMilliseconds(),e,3)}function qCe(r,e){return bJ(r,e)+"000"}function KCe(r,e){return ya(r.getUTCMonth()+1,e,2)}function VCe(r,e){return ya(r.getUTCMinutes(),e,2)}function GCe(r,e){return ya(r.getUTCSeconds(),e,2)}function $Ce(r){var e=r.getUTCDay();return e===0?7:e}function YCe(r,e){return ya(OO.count(xg(r)-1,r),e,2)}function wJ(r){var e=r.getUTCDay();return e>=4||e===0?xw(r):xw.ceil(r)}function WCe(r,e){return r=wJ(r),ya(xw.count(xg(r),r)+(xg(r).getUTCDay()===4),e,2)}function ZCe(r){return r.getUTCDay()}function XCe(r,e){return ya(wN.count(xg(r)-1,r),e,2)}function JCe(r,e){return ya(r.getUTCFullYear()%100,e,2)}function eEe(r,e){return r=wJ(r),ya(r.getUTCFullYear()%100,e,2)}function tEe(r,e){return ya(r.getUTCFullYear()%1e4,e,4)}function rEe(r,e){var t=r.getUTCDay();return r=t>=4||t===0?xw(r):xw.ceil(r),ya(r.getUTCFullYear()%1e4,e,4)}function nEe(){return"+0000"}function Nq(){return"%"}function Pq(r){return+r}function Oq(r){return Math.floor(+r/1e3)}var Y1,xJ,CJ;iEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iEe(r){return Y1=iCe(r),xJ=Y1.format,Y1.parse,CJ=Y1.utcFormat,Y1.utcParse,Y1}function aEe(r){return new Date(r)}function oEe(r){return r instanceof Date?+r:+new Date(+r)}function O5(r,e,t,n,i,a,o,s,c,A){var f=v5(),y=f.invert,C=f.domain,x=A(".%L"),k=A(":%S"),N=A("%I:%M"),M=A("%I %p"),D=A("%a %d"),H=A("%b %d"),q=A("%B"),$=A("%Y");function ce(V){return(c(V)<V?x:s(V)<V?k:o(V)<V?N:a(V)<V?M:n(V)<V?i(V)<V?D:H:t(V)<V?q:$)(V)}return f.invert=function(V){return new Date(y(V))},f.domain=function(V){return arguments.length?C(Array.from(V,oEe)):C().map(aEe)},f.ticks=function(V){var he=C();return r(he[0],he[he.length-1],V??10)},f.tickFormat=function(V,he){return he==null?ce:A(he)},f.nice=function(V){var he=C();return(!V||typeof V.range!="function")&&(V=e(he[0],he[he.length-1],V??10)),V?C(uJ(he,V)):f},f.copy=function(){return HS(f,O5(r,e,t,n,i,a,o,s,c,A))},f}function sEe(){return of.apply(O5(rCe,nCe,wg,N5,PO,zS,I5,T5,q0,xJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lEe(){return of.apply(O5(eCe,tCe,xg,P5,OO,NO,k5,B5,q0,CJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function MO(){var r=0,e=1,t,n,i,a,o=Th,s=!1,c;function A(y){return y==null||isNaN(y=+y)?c:o(i===0?.5:(y=(a(y)-t)*i,s?Math.max(0,Math.min(1,y)):y))}A.domain=function(y){return arguments.length?([r,e]=y,t=a(r=+r),n=a(e=+e),i=t===n?0:1/(n-t),A):[r,e]},A.clamp=function(y){return arguments.length?(s=!!y,A):s},A.interpolator=function(y){return arguments.length?(o=y,A):o};function f(y){return function(C){var x,k;return arguments.length?([x,k]=C,o=y(x,k),A):[o(0),o(1)]}}return A.range=f(Gw),A.rangeRound=f(y5),A.unknown=function(y){return arguments.length?(c=y,A):c},function(y){return a=y,t=y(r),n=y(e),i=t===n?0:1/(n-t),A}}function Sv(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function EJ(){var r=Ev(MO()(Th));return r.copy=function(){return Sv(r,EJ())},Ug.apply(r,arguments)}function SJ(){var r=w5(MO()).domain([1,10]);return r.copy=function(){return Sv(r,SJ()).base(r.base())},Ug.apply(r,arguments)}function TJ(){var r=x5(MO());return r.copy=function(){return Sv(r,TJ()).constant(r.constant())},Ug.apply(r,arguments)}function M5(){var r=C5(MO());return r.copy=function(){return Sv(r,M5()).exponent(r.exponent())},Ug.apply(r,arguments)}function cEe(){return M5.apply(null,arguments).exponent(.5)}function BJ(){var r=[],e=Th;function t(n){if(n!=null&&!isNaN(n=+n))return e((jS(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(nv),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,i)=>e(i/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(i,a)=>$we(r,a/n))},t.copy=function(){return BJ(e).domain(r)},Ug.apply(t,arguments)}function LO(){var r=0,e=.5,t=1,n=1,i,a,o,s,c,A=Th,f,y=!1,C;function x(N){return isNaN(N=+N)?C:(N=.5+((N=+f(N))-a)*(n*N<n*a?s:c),A(y?Math.max(0,Math.min(1,N)):N))}x.domain=function(N){return arguments.length?([r,e,t]=N,i=f(r=+r),a=f(e=+e),o=f(t=+t),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[r,e,t]},x.clamp=function(N){return arguments.length?(y=!!N,x):y},x.interpolator=function(N){return arguments.length?(A=N,x):A};function k(N){return function(M){var D,H,q;return arguments.length?([D,H,q]=M,A=bxe(N,[D,H,q]),x):[A(0),A(.5),A(1)]}}return x.range=k(Gw),x.rangeRound=k(y5),x.unknown=function(N){return arguments.length?(C=N,x):C},function(N){return f=N,i=N(r),a=N(e),o=N(t),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function IJ(){var r=Ev(LO()(Th));return r.copy=function(){return Sv(r,IJ())},Ug.apply(r,arguments)}function kJ(){var r=w5(LO()).domain([.1,1,10]);return r.copy=function(){return Sv(r,kJ()).base(r.base())},Ug.apply(r,arguments)}function NJ(){var r=x5(LO());return r.copy=function(){return Sv(r,NJ()).constant(r.constant())},Ug.apply(r,arguments)}function L5(){var r=C5(LO());return r.copy=function(){return Sv(r,L5()).exponent(r.exponent())},Ug.apply(r,arguments)}function uEe(){return L5.apply(null,arguments).exponent(.5)}const $C=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p5,scaleDiverging:IJ,scaleDivergingLog:kJ,scaleDivergingPow:L5,scaleDivergingSqrt:uEe,scaleDivergingSymlog:NJ,scaleIdentity:cJ,scaleImplicit:gU,scaleLinear:lJ,scaleLog:hJ,scaleOrdinal:f5,scalePoint:Zwe,scalePow:E5,scaleQuantile:fJ,scaleQuantize:pJ,scaleRadial:dJ,scaleSequential:EJ,scaleSequentialLog:SJ,scaleSequentialPow:M5,scaleSequentialQuantile:BJ,scaleSequentialSqrt:cEe,scaleSequentialSymlog:TJ,scaleSqrt:qxe,scaleSymlog:AJ,scaleThreshold:mJ,scaleTime:sEe,scaleUtc:lEe,tickFormat:sJ},Symbol.toStringTag,{value:"Module"}));var Tv=r=>r.chartData,R5=Rt([Tv],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),qS=(r,e,t,n)=>n?R5(r):Tv(r);function Cw(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if(au(e)&&au(t))return!0}return!1}function Mq(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function hEe(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,i,a;if(au(t))i=t;else if(typeof t=="function")return;if(au(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Cw(o))return o}}function AEe(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(Cw(n))return Mq(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[i,a]=r,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(pn(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&S9.test(i)){var c=S9.exec(i);if(c==null||e==null)o=void 0;else{var A=+c[1];o=e[0]-A}}else o=e?.[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(pn(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e?.[1]))}catch{}else if(typeof a=="string"&&T9.test(a)){var f=T9.exec(a);if(f==null||e==null)s=void 0;else{var y=+f[1];s=e[1]+y}}else s=e?.[1];var C=[o,s];if(Cw(C))return e==null?C:Mq(C,e,t)}}}var $w=1e9,dEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},U5,Jo=!0,Jd="[DecimalError] ",o_=Jd+"Invalid argument: ",D5=Jd+"Exponent out of range: ",Yw=Math.floor,S0=Math.pow,fEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sd,pc=1e7,Po=7,PJ=9007199254740991,xN=Yw(PJ/Po),an={};an.absoluteValue=an.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};an.comparedTo=an.cmp=function(r){var e,t,n,i,a=this;if(r=new a.constructor(r),a.s!==r.s)return a.s||-r.s;if(a.e!==r.e)return a.e>r.e^a.s<0?1:-1;for(n=a.d.length,i=r.d.length,e=0,t=n<i?n:i;e<t;++e)if(a.d[e]!==r.d[e])return a.d[e]>r.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};an.decimalPlaces=an.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*Po;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};an.dividedBy=an.div=function(r){return og(this,new this.constructor(r))};an.dividedToIntegerBy=an.idiv=function(r){var e=this,t=e.constructor;return io(og(e,new t(r),0,1),t.precision)};an.equals=an.eq=function(r){return!this.cmp(r)};an.exponent=function(){return _l(this)};an.greaterThan=an.gt=function(r){return this.cmp(r)>0};an.greaterThanOrEqualTo=an.gte=function(r){return this.cmp(r)>=0};an.isInteger=an.isint=function(){return this.e>this.d.length-2};an.isNegative=an.isneg=function(){return this.s<0};an.isPositive=an.ispos=function(){return this.s>0};an.isZero=function(){return this.s===0};an.lessThan=an.lt=function(r){return this.cmp(r)<0};an.lessThanOrEqualTo=an.lte=function(r){return this.cmp(r)<1};an.logarithm=an.log=function(r){var e,t=this,n=t.constructor,i=n.precision,a=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(sd))throw Error(Jd+"NaN");if(t.s<1)throw Error(Jd+(t.s?"NaN":"-Infinity"));return t.eq(sd)?new n(0):(Jo=!1,e=og(tS(t,a),tS(r,a),a),Jo=!0,io(e,i))};an.minus=an.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?LJ(e,r):OJ(e,(r.s=-r.s,r))};an.modulo=an.mod=function(r){var e,t=this,n=t.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(Jd+"NaN");return t.s?(Jo=!1,e=og(t,r,0,1).times(r),Jo=!0,t.minus(e)):io(new n(t),i)};an.naturalExponential=an.exp=function(){return MJ(this)};an.naturalLogarithm=an.ln=function(){return tS(this)};an.negated=an.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};an.plus=an.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?OJ(e,r):LJ(e,(r.s=-r.s,r))};an.precision=an.sd=function(r){var e,t,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(o_+r);if(e=_l(i)+1,n=i.d.length-1,t=n*Po+1,n=i.d[n],n){for(;n%10==0;n/=10)t--;for(n=i.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};an.squareRoot=an.sqrt=function(){var r,e,t,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Jd+"NaN")}for(r=_l(s),Jo=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Up(s.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Yw((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new c(e)):n=new c(i.toString()),t=c.precision,i=o=t+3;;)if(a=n,n=a.plus(og(s,a,o+2)).times(.5),Up(a.d).slice(0,o)===(e=Up(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(io(a,t+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Jo=!0,io(n,t)};an.times=an.mul=function(r){var e,t,n,i,a,o,s,c,A,f=this,y=f.constructor,C=f.d,x=(r=new y(r)).d;if(!f.s||!r.s)return new y(0);for(r.s*=f.s,t=f.e+r.e,c=C.length,A=x.length,c<A&&(a=C,C=x,x=a,o=c,c=A,A=o),a=[],o=c+A,n=o;n--;)a.push(0);for(n=A;--n>=0;){for(e=0,i=c+n;i>n;)s=a[i]+x[n]*C[i-n-1]+e,a[i--]=s%pc|0,e=s/pc|0;a[i]=(a[i]+e)%pc|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=t,Jo?io(r,y.precision):r};an.toDecimalPlaces=an.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Zp(r,0,$w),e===void 0?e=n.rounding:Zp(e,0,8),io(t,r+_l(t)+1,e))};an.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=T_(n,!0):(Zp(r,0,$w),e===void 0?e=i.rounding:Zp(e,0,8),n=io(new i(n),r+1,e),t=T_(n,!0,r+1)),t};an.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?T_(i):(Zp(r,0,$w),e===void 0?e=a.rounding:Zp(e,0,8),n=io(new a(i),r+_l(i)+1,e),t=T_(n.abs(),!1,r+_l(n)+1),i.isneg()&&!i.isZero()?"-"+t:t)};an.toInteger=an.toint=function(){var r=this,e=r.constructor;return io(new e(r),_l(r)+1,e.rounding)};an.toNumber=function(){return+this};an.toPower=an.pow=function(r){var e,t,n,i,a,o,s=this,c=s.constructor,A=12,f=+(r=new c(r));if(!r.s)return new c(sd);if(s=new c(s),!s.s){if(r.s<1)throw Error(Jd+"Infinity");return s}if(s.eq(sd))return s;if(n=c.precision,r.eq(sd))return io(s,n);if(e=r.e,t=r.d.length-1,o=e>=t,a=s.s,o){if((t=f<0?-f:f)<=PJ){for(i=new c(sd),e=Math.ceil(n/Po+4),Jo=!1;t%2&&(i=i.times(s),Rq(i.d,e)),t=Yw(t/2),t!==0;)s=s.times(s),Rq(s.d,e);return Jo=!0,r.s<0?new c(sd).div(i):io(i,n)}}else if(a<0)throw Error(Jd+"NaN");return a=a<0&&r.d[Math.max(e,t)]&1?-1:1,s.s=1,Jo=!1,i=r.times(tS(s,n+A)),Jo=!0,i=MJ(i),i.s=a,i};an.toPrecision=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?(t=_l(i),n=T_(i,t<=a.toExpNeg||t>=a.toExpPos)):(Zp(r,1,$w),e===void 0?e=a.rounding:Zp(e,0,8),i=io(new a(i),r,e),t=_l(i),n=T_(i,r<=t||t<=a.toExpNeg,r)),n};an.toSignificantDigits=an.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Zp(r,1,$w),e===void 0?e=n.rounding:Zp(e,0,8)),io(new n(t),r,e)};an.toString=an.valueOf=an.val=an.toJSON=an[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=_l(r),t=r.constructor;return T_(r,e<=t.toExpNeg||e>=t.toExpPos)};function OJ(r,e){var t,n,i,a,o,s,c,A,f=r.constructor,y=f.precision;if(!r.s||!e.s)return e.s||(e=new f(r)),Jo?io(e,y):e;if(c=r.d,A=e.d,o=r.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=A.length):(n=A,i=o,s=c.length),o=Math.ceil(y/Po),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=A.length,s-a<0&&(a=s,n=A,A=c,c=n),t=0;a;)t=(c[--a]=c[a]+A[a]+t)/pc|0,c[a]%=pc;for(t&&(c.unshift(t),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,Jo?io(e,y):e}function Zp(r,e,t){if(r!==~~r||r<e||r>t)throw Error(o_+r)}function Up(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=Po-n.length,t&&(a+=Ly(t)),a+=n;o=r[e],n=o+"",t=Po-n.length,t&&(a+=Ly(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var og=(function(){function r(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%pc|0,o=a/pc|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function t(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*pc+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,he,le,fe=n.constructor,Ne=n.s==i.s?1:-1,W=n.d,ue=i.d;if(!n.s)return new fe(n);if(!i.s)throw Error(Jd+"Division by zero");for(c=n.e-i.e,he=ue.length,ce=W.length,x=new fe(Ne),k=x.d=[],A=0;ue[A]==(W[A]||0);)++A;if(ue[A]>(W[A]||0)&&--c,a==null?H=a=fe.precision:o?H=a+(_l(n)-_l(i))+1:H=a,H<0)return new fe(0);if(H=H/Po+2|0,A=0,he==1)for(f=0,ue=ue[0],H++;(A<ce||f)&&H--;A++)q=f*pc+(W[A]||0),k[A]=q/ue|0,f=q%ue|0;else{for(f=pc/(ue[0]+1)|0,f>1&&(ue=r(ue,f),W=r(W,f),he=ue.length,ce=W.length),$=he,N=W.slice(0,he),M=N.length;M<he;)N[M++]=0;le=ue.slice(),le.unshift(0),V=ue[0],ue[1]>=pc/2&&++V;do f=0,s=e(ue,N,he,M),s<0?(D=N[0],he!=M&&(D=D*pc+(N[1]||0)),f=D/V|0,f>1?(f>=pc&&(f=pc-1),y=r(ue,f),C=y.length,M=N.length,s=e(y,N,C,M),s==1&&(f--,t(y,he<C?le:ue,C))):(f==0&&(s=f=1),y=ue.slice()),C=y.length,C<M&&y.unshift(0),t(N,y,M),s==-1&&(M=N.length,s=e(ue,N,he,M),s<1&&(f++,t(N,he<M?le:ue,M))),M=N.length):s===0&&(f++,N=[0]),k[A++]=f,s&&N[0]?N[M++]=W[$]||0:(N=[W[$]],M=1);while(($++<ce||N[0]!==void 0)&&H--)}return k[0]||k.shift(),x.e=c,io(x,o?a+_l(x)+1:a)}})();function MJ(r,e){var t,n,i,a,o,s,c=0,A=0,f=r.constructor,y=f.precision;if(_l(r)>16)throw Error(D5+_l(r));if(!r.s)return new f(sd);for(Jo=!1,s=y,o=new f(.03125);r.abs().gte(.1);)r=r.times(o),A+=5;for(n=Math.log(S0(2,A))/Math.LN10*2+5|0,s+=n,t=i=a=new f(sd),f.precision=s;;){if(i=io(i.times(r),s),t=t.times(++c),o=a.plus(og(i,t,s)),Up(o.d).slice(0,s)===Up(a.d).slice(0,s)){for(;A--;)a=io(a.times(a),s);return f.precision=y,e==null?(Jo=!0,io(a,y)):a}a=o}}function _l(r){for(var e=r.e*Po,t=r.d[0];t>=10;t/=10)e++;return e}function eR(r,e,t){if(e>r.LN10.sd())throw Jo=!0,t&&(r.precision=t),Error(Jd+"LN10 precision limit exceeded");return io(new r(r.LN10),e)}function Ly(r){for(var e="";r--;)e+="0";return e}function tS(r,e){var t,n,i,a,o,s,c,A,f,y=1,C=10,x=r,k=x.d,N=x.constructor,M=N.precision;if(x.s<1)throw Error(Jd+(x.s?"NaN":"-Infinity"));if(x.eq(sd))return new N(0);if(e==null?(Jo=!1,A=M):A=e,x.eq(10))return e==null&&(Jo=!0),eR(N,A);if(A+=C,N.precision=A,t=Up(k),n=t.charAt(0),a=_l(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)x=x.times(r),t=Up(x.d),n=t.charAt(0),y++;a=_l(x),n>1?(x=new N("0."+t),a++):x=new N(n+"."+t.slice(1))}else return c=eR(N,A+2,M).times(a+""),x=tS(new N(n+"."+t.slice(1)),A-C).plus(c),N.precision=M,e==null?(Jo=!0,io(x,M)):x;for(s=o=x=og(x.minus(sd),x.plus(sd),A),f=io(x.times(x),A),i=3;;){if(o=io(o.times(f),A),c=s.plus(og(o,new N(i),A)),Up(c.d).slice(0,A)===Up(s.d).slice(0,A))return s=s.times(2),a!==0&&(s=s.plus(eR(N,A+2,M).times(a+""))),s=og(s,new N(y),A),N.precision=M,e==null?(Jo=!0,io(s,M)):s;s=c,i+=2}}function Lq(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,t=t-n-1,r.e=Yw(t/Po),r.d=[],n=(t+1)%Po,t<0&&(n+=Po),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=Po;n<i;)r.d.push(+e.slice(n,n+=Po));e=e.slice(n),n=Po-e.length}else n-=i;for(;n--;)e+="0";if(r.d.push(+e),Jo&&(r.e>xN||r.e<-xN))throw Error(D5+t)}else r.s=0,r.e=0,r.d=[0];return r}function io(r,e,t){var n,i,a,o,s,c,A,f,y=r.d;for(o=1,a=y[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Po,i=e,A=y[f=0];else{if(f=Math.ceil((n+1)/Po),a=y.length,f>=a)return r;for(A=a=y[f],o=1;a>=10;a/=10)o++;n%=Po,i=n-Po+o}if(t!==void 0&&(a=S0(10,o-i-1),s=A/a%10|0,c=e<0||y[f+1]!==void 0||A%a,c=t<4?(s||c)&&(t==0||t==(r.s<0?3:2)):s>5||s==5&&(t==4||c||t==6&&(n>0?i>0?A/S0(10,o-i):0:y[f-1])%10&1||t==(r.s<0?8:7))),e<1||!y[0])return c?(a=_l(r),y.length=1,e=e-a-1,y[0]=S0(10,(Po-e%Po)%Po),r.e=Yw(-e/Po)||0):(y.length=1,y[0]=r.e=r.s=0),r;if(n==0?(y.length=f,a=1,f--):(y.length=f+1,a=S0(10,Po-n),y[f]=i>0?(A/S0(10,o-i)%S0(10,i)|0)*a:0),c)for(;;)if(f==0){(y[0]+=a)==pc&&(y[0]=1,++r.e);break}else{if(y[f]+=a,y[f]!=pc)break;y[f--]=0,a=1}for(n=y.length;y[--n]===0;)y.pop();if(Jo&&(r.e>xN||r.e<-xN))throw Error(D5+_l(r));return r}function LJ(r,e){var t,n,i,a,o,s,c,A,f,y,C=r.constructor,x=C.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new C(r),Jo?io(e,x):e;if(c=r.d,y=e.d,n=e.e,A=r.e,c=c.slice(),o=A-n,o){for(f=o<0,f?(t=c,o=-o,s=y.length):(t=y,n=A,s=c.length),i=Math.max(Math.ceil(x/Po),s)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=c.length,s=y.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(c[i]!=y[i]){f=c[i]<y[i];break}o=0}for(f&&(t=c,c=y,y=t,e.s=-e.s),s=c.length,i=y.length-s;i>0;--i)c[s++]=0;for(i=y.length;i>o;){if(c[--i]<y[i]){for(a=i;a&&c[--a]===0;)c[a]=pc-1;--c[a],c[i]+=pc}c[i]-=y[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Jo?io(e,x):e):new C(0)}function T_(r,e,t){var n,i=_l(r),a=Up(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ly(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ly(-i-1)+a,t&&(n=t-o)>0&&(a+=Ly(n))):i>=o?(a+=Ly(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+Ly(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=Ly(n))),r.s<0?"-"+a:a}function Rq(r,e){if(r.length>e)return r.length=e,!0}function RJ(r){var e,t,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(o_+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Lq(o,a.toString())}else if(typeof a!="string")throw Error(o_+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,fEe.test(a))Lq(o,a);else throw Error(o_+a)}if(i.prototype=an,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=RJ,i.config=i.set=pEe,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function pEe(r){if(!r||typeof r!="object")throw Error(Jd+"Object expected");var e,t,n,i=["precision",1,$w,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=r[t=i[e]])!==void 0)if(Yw(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(o_+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(o_+t+": "+n);return this}var U5=RJ(dEe);sd=new U5(1);const ka=U5;var mEe=r=>r,DJ={},UJ=r=>r===DJ,Dq=r=>function e(){return arguments.length===0||arguments.length===1&&UJ(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},FJ=(r,e)=>r===1?e:Dq(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.filter(o=>o!==DJ).length;return a>=r?e(...n):FJ(r-a,Dq(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var A=n.map(f=>UJ(f)?s.shift():f);return e(...A,...s)}))}),RO=r=>FJ(r.length,r),bU=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},gEe=RO((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),yEe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return mEe;var i=t.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,c)=>c(s),a(...arguments))}},wU=r=>Array.isArray(r)?r.reverse():r.split("").reverse().join(""),jJ=r=>{var e=null,t=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,s)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[s])})||(e=i,t=r(...i)),t}};function QJ(r){var e;return r===0?e=1:e=Math.floor(new ka(r).abs().log(10).toNumber())+1,e}function HJ(r,e,t){for(var n=new ka(r),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(t),i++;return a}RO((r,e,t)=>{var n=+r,i=+e;return n+t*(i-n)});RO((r,e,t)=>{var n=e-+r;return n=n||1/0,(t-r)/n});RO((r,e,t)=>{var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});var zJ=r=>{var[e,t]=r,[n,i]=[e,t];return e>t&&([n,i]=[t,e]),[n,i]},qJ=(r,e,t)=>{if(r.lte(0))return new ka(0);var n=QJ(r.toNumber()),i=new ka(10).pow(n),a=r.div(i),o=n!==1?.05:.1,s=new ka(Math.ceil(a.div(o).toNumber())).add(t).mul(o),c=s.mul(i);return e?new ka(c.toNumber()):new ka(Math.ceil(c.toNumber()))},vEe=(r,e,t)=>{var n=new ka(1),i=new ka(r);if(!i.isint()&&t){var a=Math.abs(r);a<1?(n=new ka(10).pow(QJ(r)-1),i=new ka(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ka(Math.floor(r)))}else r===0?i=new ka(Math.floor((e-1)/2)):t||(i=new ka(Math.floor(r)));var o=Math.floor((e-1)/2),s=yEe(gEe(c=>i.add(new ka(c-o).mul(n)).toNumber()),bU);return s(0,e)},KJ=function(e,t,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new ka(0),tickMin:new ka(0),tickMax:new ka(0)};var o=qJ(new ka(t).sub(e).div(n-1),i,a),s;e<=0&&t>=0?s=new ka(0):(s=new ka(e).add(t).div(2),s=s.sub(new ka(s).mod(o)));var c=Math.ceil(s.sub(e).div(o).toNumber()),A=Math.ceil(new ka(t).sub(s).div(o).toNumber()),f=c+A+1;return f>n?KJ(e,t,n,i,a+1):(f<n&&(A=t>0?A+(n-f):A,c=t>0?c:c+(n-f)),{step:o,tickMin:s.sub(new ka(c).mul(o)),tickMax:s.add(new ka(A).mul(o))})};function _Ee(r){var[e,t]=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=zJ([e,t]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...bU(0,n-1).map(()=>1/0)]:[...bU(0,n-1).map(()=>-1/0),s];return e>t?wU(c):c}if(o===s)return vEe(o,n,i);var{step:A,tickMin:f,tickMax:y}=KJ(o,s,a,i,0),C=HJ(f,y.add(new ka(.1).mul(A)),A);return e>t?wU(C):C}function bEe(r,e){var[t,n]=r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=zJ([t,n]);if(a===-1/0||o===1/0)return[t,n];if(a===o)return[a];var s=Math.max(e,2),c=qJ(new ka(o).sub(a).div(s-1),i,0),A=[...HJ(new ka(a),new ka(o),c),o];return i===!1&&(A=A.map(f=>Math.round(f))),t>n?wU(A):A}var wEe=jJ(_Ee),xEe=jJ(bEe),VJ=r=>r.rootProps.maxBarSize,CEe=r=>r.rootProps.barGap,GJ=r=>r.rootProps.barCategoryGap,EEe=r=>r.rootProps.barSize,KS=r=>r.rootProps.stackOffset,F5=r=>r.options.chartName,j5=r=>r.rootProps.syncId,$J=r=>r.rootProps.syncMethod,Q5=r=>r.options.eventEmitter,Ym={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},id={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},DO=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},SEe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ym.angleAxisId,includeHidden:!1,name:void 0,reversed:Ym.reversed,scale:Ym.scale,tick:Ym.tick,tickCount:void 0,ticks:void 0,type:Ym.type,unit:void 0},TEe={allowDataOverflow:id.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:id.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:id.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:id.scale,tick:id.tick,tickCount:id.tickCount,ticks:void 0,type:id.type,unit:void 0},BEe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ym.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ym.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ym.scale,tick:Ym.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},IEe={allowDataOverflow:id.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:id.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:id.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:id.scale,tick:id.tick,tickCount:id.tickCount,ticks:void 0,type:"category",unit:void 0},H5=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?BEe:SEe,z5=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?IEe:TEe,UO=r=>r.polarOptions,q5=Rt([Lg,Rg,Hl],BX),YJ=Rt([UO,q5],(r,e)=>{if(r!=null)return Gu(r.innerRadius,e,0)}),WJ=Rt([UO,q5],(r,e)=>{if(r!=null)return Gu(r.outerRadius,e,e*.8)}),kEe=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},ZJ=Rt([UO],kEe);Rt([H5,ZJ],DO);var XJ=Rt([q5,YJ,WJ],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});Rt([z5,XJ],DO);var JJ=Rt([Ki,UO,YJ,WJ,Lg,Rg],(r,e,t,n,i,a)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:A}=e;return{cx:Gu(o,i,i/2),cy:Gu(s,a,a/2),innerRadius:t,outerRadius:n,startAngle:c,endAngle:A,clockWise:!1}}}),ts=(r,e)=>e,VS=(r,e,t)=>t;function FO(r){return r?.id}var Kl=r=>{var e=Ki(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ww=r=>r.tooltip.settings.axisId,xc=r=>{var e=Kl(r),t=Ww(r);return GS(r,e,t)},eee=Rt([xc],r=>r?.dataKey);function tee(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=t,o=new Map;return r.forEach(s=>{var c,A=(c=s.data)!==null&&c!==void 0?c:n;if(!(A==null||A.length===0)){var f=FO(s);A.forEach((y,C)=>{var x=a==null||i?C:String(Ka(y,a,null)),k=Ka(y,s.dataKey,0),N;o.has(x)?N=o.get(x):N={},Object.assign(N,{[f]:k}),o.set(x,N)})}}),Array.from(o.values())}function jO(r){return r.stackId!=null&&r.dataKey!=null}function Uq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function CN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(t),!0).forEach(function(n){NEe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Uq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function NEe(r,e,t){return(e=PEe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function PEe(r){var e=OEe(r,"string");return typeof e=="symbol"?e:e+""}function OEe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var xU=[0,"auto"],ed={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ree=(r,e)=>r.cartesianAxis.xAxis[e],Fg=(r,e)=>{var t=ree(r,e);return t??ed},td={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xU,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:US},nee=(r,e)=>r.cartesianAxis.yAxis[e],jg=(r,e)=>{var t=nee(r,e);return t??td},MEe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},K5=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??MEe},Js=(r,e,t)=>{switch(e){case"xAxis":return Fg(r,t);case"yAxis":return jg(r,t);case"zAxis":return K5(r,t);case"angleAxis":return H5(r,t);case"radiusAxis":return z5(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},LEe=(r,e,t)=>{switch(e){case"xAxis":return Fg(r,t);case"yAxis":return jg(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},GS=(r,e,t)=>{switch(e){case"xAxis":return Fg(r,t);case"yAxis":return jg(r,t);case"angleAxis":return H5(r,t);case"radiusAxis":return z5(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},iee=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function V5(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var $S=r=>r.graphicalItems.cartesianItems,REe=Rt([ts,VS],V5),G5=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),YS=Rt([$S,Js,REe],G5),aee=Rt([YS],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(jO)),oee=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),see=Rt([YS],oee),$5=r=>r.map(e=>e.data).filter(Boolean).flat(1),DEe=Rt([YS],$5),Y5=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:i}=e;return r.length>0?r:t.slice(n,i+1)},W5=Rt([DEe,qS],Y5),Z5=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:Ka(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(i=>({value:Ka(i,n)}))):r.map(n=>({value:n})),QO=Rt([W5,Js,YS],Z5);function lee(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function H_(r){return r.filter(e=>Wp(e)||e instanceof Date).map(Number).filter(e=>mA(e)===!1)}function UEe(r,e,t){return!t||typeof e!="number"||mA(e)?[]:t.length?H_(t.flatMap(n=>{var i=Ka(r,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!au(a)||!au(o)))return[e-a,e+o]})):[]}var FEe=Rt([aee,qS,xc],tee),cee=(r,e,t)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,c=s.map(FO);return[o,{stackedData:nbe(r,c,t),graphicalItems:s}]}))},rS=Rt([FEe,aee,KS],cee),uee=(r,e,t)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(t!=="zAxis"){var a=sbe(r,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},jEe=Rt([rS,Tv,ts],uee),hee=(r,e,t,n,i)=>t.length>0?r.flatMap(a=>t.flatMap(o=>{var s,c,A=(s=n[o.id])===null||s===void 0?void 0:s.filter(y=>lee(i,y)),f=Ka(a,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:f,errorDomain:UEe(a,f,A)}})).filter(Boolean):e?.dataKey!=null?r.map(a=>({value:Ka(a,e.dataKey),errorDomain:[]})):r.map(a=>({value:a,errorDomain:[]})),HO=r=>r.errorBars,Aee=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>lee(t,n));Rt([see,HO,ts],Aee);var QEe=Rt([W5,Js,see,HO,ts],hee);function HEe(r){var{value:e}=r;if(Wp(e)||e instanceof Date)return e}var Fq=r=>{var e=r.flatMap(n=>[n.value,n.errorDomain]).flat(1),t=H_(e);if(t.length!==0)return[Math.min(...t),Math.max(...t)]},zEe=(r,e,t)=>{var n=r.map(HEe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&xZ(n))?ZX(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},X5=r=>{var e;if(r==null||!("domain"in r))return xU;if(r.domain!=null)return r.domain;if(r.ticks!=null){if(r.type==="number"){var t=H_(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:xU},EN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},dee=r=>r.referenceElements.dots,Zw=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),qEe=Rt([dee,ts,VS],Zw),fee=r=>r.referenceElements.areas,KEe=Rt([fee,ts,VS],Zw),pee=r=>r.referenceElements.lines,VEe=Rt([pee,ts,VS],Zw),mee=(r,e)=>{var t=H_(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},GEe=Rt(qEe,ts,mee),gee=(r,e)=>{var t=H_(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},$Ee=Rt([KEe,ts],gee),yee=(r,e)=>{var t=H_(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},YEe=Rt(VEe,ts,yee),WEe=Rt(GEe,YEe,$Ee,(r,e,t)=>EN(r,t,e)),vee=Rt([Js],X5),J5=(r,e,t,n,i,a,o)=>{var s=hEe(e,r.allowDataOverflow);if(s!=null)return s;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",A=c?EN(t,i,Fq(n)):EN(i,Fq(n));return AEe(e,A,r.allowDataOverflow)},ZEe=Rt([Js,vee,jEe,QEe,WEe,Ki,ts],J5),XEe=[0,1],ej=(r,e,t,n,i,a,o)=>{if(!((r==null||t==null||t.length===0)&&o===void 0)){var{dataKey:s,type:c}=r,A=lm(e,a);return A&&s==null?ZX(0,t.length):c==="category"?zEe(n,r,A):i==="expand"?XEe:o}},tj=Rt([Js,Ki,W5,QO,KS,ts,ZEe],ej),_ee=(r,e,t,n,i)=>{if(r!=null){var{scale:a,type:o}=r;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(LS(a));return s in $C?s:"point"}}},Xw=Rt([Js,Ki,iee,F5,ts],_ee);function JEe(r){if(r!=null){if(r in $C)return $C[r]();var e="scale".concat(LS(r));if(e in $C)return $C[e]()}}function rj(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var i=JEe(e);if(i!=null){var a=i.domain(t).range(n);return X1e(a),a}}}var nj=(r,e,t)=>{var n=X5(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Cw(r))return wEe(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Cw(r))return xEe(r,e.tickCount,e.allowDecimals)}},ij=Rt([tj,GS,Xw],nj),aj=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&Cw(e)&&Array.isArray(t)&&t.length>0){var i=e[0],a=t[0],o=e[1],s=t[t.length-1];return[Math.min(i,a),Math.max(o,s)]}return e},eSe=Rt([Js,tj,ij,ts],aj),tSe=Rt(QO,Js,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(H_(r.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];t=Math.min(t,o)}return t/i}}),bee=Rt(tSe,Ki,GJ,Hl,(r,e,t,n)=>n,(r,e,t,n,i)=>{if(!au(r))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return r*a/2;if(i==="no-gap"){var o=Gu(t,r*a),s=r*a/2;return s-o-(s-o)/a*o}return 0}),rSe=(r,e)=>{var t=Fg(r,e);return t==null||typeof t.padding!="string"?0:bee(r,"xAxis",e,t.padding)},nSe=(r,e)=>{var t=jg(r,e);return t==null||typeof t.padding!="string"?0:bee(r,"yAxis",e,t.padding)},iSe=Rt(Fg,rSe,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:i}=r;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),aSe=Rt(jg,nSe,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:i}=r;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),oSe=Rt([Hl,iSe,IO,BO,(r,e,t)=>t],(r,e,t,n,i)=>{var{padding:a}=n;return i?[a.left,t.width-a.right]:[r.left+e.left,r.left+r.width-e.right]}),sSe=Rt([Hl,Ki,aSe,IO,BO,(r,e,t)=>t],(r,e,t,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),WS=(r,e,t,n)=>{var i;switch(e){case"xAxis":return oSe(r,t,n);case"yAxis":return sSe(r,t,n);case"zAxis":return(i=K5(r,t))===null||i===void 0?void 0:i.range;case"angleAxis":return ZJ(r);case"radiusAxis":return XJ(r,t);default:return}},wee=Rt([Js,WS],DO),Jw=Rt([Js,Xw,eSe,wee],rj);Rt([YS,HO,ts],Aee);function xee(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var zO=(r,e)=>e,qO=(r,e,t)=>t,lSe=Rt(SO,zO,qO,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(xee)),cSe=Rt(TO,zO,qO,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(xee)),Cee=(r,e)=>({width:r.width,height:e.height}),uSe=(r,e)=>{var t=typeof e.width=="number"?e.width:US;return{width:t,height:r.height}},Eee=Rt(Hl,Fg,Cee),hSe=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},ASe=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},dSe=Rt(Rg,Hl,lSe,zO,qO,(r,e,t,n,i)=>{var a={},o;return t.forEach(s=>{var c=Cee(e,s);o==null&&(o=hSe(e,n,r));var A=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(A)*c.height,o+=(A?-1:1)*c.height}),a}),fSe=Rt(Lg,Hl,cSe,zO,qO,(r,e,t,n,i)=>{var a={},o;return t.forEach(s=>{var c=uSe(e,s);o==null&&(o=ASe(e,n,r));var A=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(A)*c.width,o+=(A?-1:1)*c.width}),a}),pSe=(r,e)=>{var t=Fg(r,e);if(t!=null)return dSe(r,t.orientation,t.mirror)},mSe=Rt([Hl,Fg,pSe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var i=t?.[n];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}}),gSe=(r,e)=>{var t=jg(r,e);if(t!=null)return fSe(r,t.orientation,t.mirror)},ySe=Rt([Hl,jg,gSe,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var i=t?.[n];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}}),See=Rt(Hl,jg,(r,e)=>{var t=typeof e.width=="number"?e.width:US;return{width:t,height:r.height}}),jq=(r,e,t)=>{switch(e){case"xAxis":return Eee(r,t).width;case"yAxis":return See(r,t).height;default:return}},Tee=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=t,s=lm(r,n),c=e.map(A=>A.value);if(o&&s&&a==="category"&&i&&xZ(c))return c}},oj=Rt([Ki,QO,Js,ts],Tee),Bee=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:a}=t,o=lm(r,n);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},sj=Rt([Ki,QO,GS,ts],Bee),Qq=Rt([Ki,LEe,Xw,Jw,oj,sj,WS,ij,ts],(r,e,t,n,i,a,o,s,c)=>{if(e==null)return null;var A=lm(r,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:A,niceTicks:s,range:o,realScaleType:t,scale:n}}),vSe=(r,e,t,n,i,a,o,s,c)=>{if(!(e==null||n==null)){var A=lm(r,c),{type:f,ticks:y,tickCount:C}=e,x=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,k=f==="category"&&n.bandwidth?n.bandwidth()/x:0;k=c==="angleAxis"&&a!=null&&a.length>=2?yc(a[0]-a[1])*2*k:k;var N=y||i;if(N){var M=N.map((D,H)=>{var q=o?o.indexOf(D):D;return{index:H,coordinate:n(q)+k,value:D,offset:k}});return M.filter(D=>!mA(D.coordinate))}return A&&s?s.map((D,H)=>({coordinate:n(D)+k,value:D,index:H,offset:k})):n.ticks?n.ticks(C).map(D=>({coordinate:n(D)+k,value:D,offset:k})):n.domain().map((D,H)=>({coordinate:n(D)+k,value:o?o[D]:D,index:H,offset:k}))}},Iee=Rt([Ki,GS,Xw,Jw,ij,WS,oj,sj,ts],vSe),_Se=(r,e,t,n,i,a,o)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var s=lm(r,o),{tickCount:c}=e,A=0;return A=o==="angleAxis"&&n?.length>=2?yc(n[0]-n[1])*2*A:A,s&&a?a.map((f,y)=>({coordinate:t(f)+A,value:f,index:y,offset:A})):t.ticks?t.ticks(c).map(f=>({coordinate:t(f)+A,value:f,offset:A})):t.domain().map((f,y)=>({coordinate:t(f)+A,value:i?i[f]:f,index:y,offset:A}))}},Xp=Rt([Ki,GS,Jw,WS,oj,sj,ts],_Se),Jp=Rt(Js,Jw,(r,e)=>{if(!(r==null||e==null))return CN(CN({},r),{},{scale:e})}),bSe=Rt([Js,Xw,tj,wee],rj);Rt((r,e,t)=>K5(r,t),bSe,(r,e)=>{if(!(r==null||e==null))return CN(CN({},r),{},{scale:e})});var wSe=Rt([Ki,SO,TO],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),kee=r=>r.options.defaultTooltipEventType,Nee=r=>r.options.validateTooltipEventTypes;function Pee(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function lj(r,e){var t=kee(r),n=Nee(r);return Pee(e,t,n)}function xSe(r){return mn(e=>lj(e,r))}var Oee=(r,e)=>{var t,n=Number(e);if(!(mA(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},CSe=r=>r.tooltip.settings,jy={active:!1,index:null,dataKey:void 0,coordinate:void 0},ESe={itemInteraction:{click:jy,hover:jy},axisInteraction:{click:jy,hover:jy},keyboardInteraction:jy,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Mee=pd({name:"tooltip",initialState:ESe,reducers:{addTooltipEntrySettings(r,e){r.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(r,e){var t=ag(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate,r.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:SSe,removeTooltipEntrySettings:TSe,setTooltipSettingsState:BSe,setActiveMouseOverItemIndex:Lee,mouseLeaveItem:ISe,mouseLeaveChart:Ree,setActiveClickItemIndex:kSe,setMouseOverAxisIndex:Dee,setMouseClickAxisIndex:NSe,setSyncInteraction:CU,setKeyboardInteraction:EU}=Mee.actions,PSe=Mee.reducer;function Hq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function eI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(t),!0).forEach(function(n){OSe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Hq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function OSe(r,e,t){return(e=MSe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function MSe(r){var e=LSe(r,"string");return typeof e=="symbol"?e:e+""}function LSe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function RSe(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function DSe(r){return r.index!=null}var Uee=(r,e,t,n)=>{if(e==null)return jy;var i=RSe(r,e,t);if(i==null)return jy;if(i.active)return i;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var a=r.settings.active===!0;if(DSe(i)){if(a)return eI(eI({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return eI(eI({},jy),{},{coordinate:i.coordinate})},cj=(r,e)=>{var t=r?.index;if(t==null)return null;var n=Number(t);if(!au(n))return t;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},Fee=(r,e,t,n,i,a,o,s)=>{if(!(a==null||s==null)){var c=o[0],A=c==null?void 0:s(c.positions,a);if(A!=null)return A;var f=i?.[Number(a)];if(f)switch(t){case"horizontal":return{x:f.coordinate,y:(n.top+e)/2};default:return{x:(n.left+r)/2,y:f.coordinate}}}},jee=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=r.itemInteraction.hover.dataKey:i=r.itemInteraction.click.dataKey,i==null&&n!=null?[r.tooltipItemPayloads[0]]:r.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},ZS=r=>r.options.tooltipPayloadSearcher,ex=r=>r.tooltip;function zq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qq(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(t),!0).forEach(function(n){USe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function USe(r,e,t){return(e=FSe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function FSe(r){var e=jSe(r,"string");return typeof e=="symbol"?e:e+""}function jSe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function QSe(r,e){return r??e}var Qee=(r,e,t,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:A,dataEndIndex:f}=t,y=[];return r.reduce((C,x)=>{var k,{dataDefinedOnItem:N,settings:M}=x,D=QSe(N,s),H=Array.isArray(D)?IX(D,A,f):D,q=(k=M?.dataKey)!==null&&k!==void 0?k:n,$=M?.nameKey,ce;if(n&&Array.isArray(H)&&!Array.isArray(H[0])&&o==="axis"?ce=CZ(H,n,i):ce=a(H,e,c,$),Array.isArray(ce))ce.forEach(he=>{var le=qq(qq({},M),{},{name:he.name,unit:he.unit,color:void 0,fill:void 0});C.push(B9({tooltipEntrySettings:le,dataKey:he.dataKey,payload:he.payload,value:Ka(he.payload,he.dataKey),name:he.name}))});else{var V;C.push(B9({tooltipEntrySettings:M,dataKey:q,payload:ce,value:Ka(ce,q),name:(V=Ka(ce,$))!==null&&V!==void 0?V:M?.name}))}return C},y)}},uj=Rt([xc,Ki,iee,F5,Kl],_ee),HSe=Rt([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),zSe=Rt([Kl,Ww],V5),XS=Rt([HSe,xc,zSe],G5),qSe=Rt([XS],r=>r.filter(jO)),KSe=Rt([XS],$5),tx=Rt([KSe,Tv],Y5),VSe=Rt([qSe,Tv,xc],tee),hj=Rt([tx,xc,XS],Z5),GSe=Rt([xc],X5),$Se=Rt([XS],r=>r.filter(jO)),YSe=Rt([VSe,$Se,KS],cee),WSe=Rt([YSe,Tv,Kl],uee),ZSe=Rt([XS],oee),XSe=Rt([tx,xc,ZSe,HO,Kl],hee),JSe=Rt([dee,Kl,Ww],Zw),eTe=Rt([JSe,Kl],mee),tTe=Rt([fee,Kl,Ww],Zw),rTe=Rt([tTe,Kl],gee),nTe=Rt([pee,Kl,Ww],Zw),iTe=Rt([nTe,Kl],yee),aTe=Rt([eTe,iTe,rTe],EN),oTe=Rt([xc,GSe,WSe,XSe,aTe,Ki,Kl],J5),Hee=Rt([xc,Ki,tx,hj,KS,Kl,oTe],ej),sTe=Rt([Hee,xc,uj],nj),lTe=Rt([xc,Hee,sTe,Kl],aj),zee=r=>{var e=Kl(r),t=Ww(r),n=!1;return WS(r,e,t,n)},qee=Rt([xc,zee],DO),Kee=Rt([xc,uj,lTe,qee],rj),cTe=Rt([Ki,hj,xc,Kl],Tee),uTe=Rt([Ki,hj,xc,Kl],Bee),hTe=(r,e,t,n,i,a,o,s)=>{if(e){var{type:c}=e,A=lm(r,s);if(n){var f=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,y=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return y=s==="angleAxis"&&i!=null&&i?.length>=2?yc(i[0]-i[1])*2*y:y,A&&o?o.map((C,x)=>({coordinate:n(C)+y,value:C,index:x,offset:y})):n.domain().map((C,x)=>({coordinate:n(C)+y,value:a?a[C]:C,index:x,offset:y}))}}},Qg=Rt([Ki,xc,uj,Kee,zee,cTe,uTe,Kl],hTe),Aj=Rt([kee,Nee,CSe],(r,e,t)=>Pee(t.shared,r,e)),Vee=r=>r.tooltip.settings.trigger,dj=r=>r.tooltip.settings.defaultIndex,KO=Rt([ex,Aj,Vee,dj],Uee),gv=Rt([KO,tx],cj),Gee=Rt([Qg,gv],Oee),$ee=Rt([KO],r=>{if(r)return r.dataKey}),Yee=Rt([ex,Aj,Vee,dj],jee),ATe=Rt([Lg,Rg,Ki,Hl,Qg,dj,Yee,ZS],Fee),dTe=Rt([KO,ATe],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),fTe=Rt([KO],r=>r.active),pTe=Rt([Yee,gv,Tv,eee,Gee,ZS,Aj],Qee),mTe=Rt([pTe],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function Kq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Vq(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(t),!0).forEach(function(n){gTe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Kq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gTe(r,e,t){return(e=yTe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yTe(r){var e=vTe(r,"string");return typeof e=="symbol"?e:e+""}function vTe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var _Te=()=>mn(xc),bTe=()=>{var r=_Te(),e=mn(Qg),t=mn(Kee);return S_(Vq(Vq({},r),{},{scale:t}),e)},Wee=()=>mn(F5),fj=(r,e)=>e,Zee=(r,e,t)=>t,pj=(r,e,t,n)=>n,wTe=Rt(Qg,r=>_O(r,e=>e.coordinate)),mj=Rt([ex,fj,Zee,pj],Uee),Xee=Rt([mj,tx],cj),xTe=(r,e,t)=>{if(e!=null){var n=ex(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Jee=Rt([ex,fj,Zee,pj],jee),SN=Rt([Lg,Rg,Ki,Hl,Qg,pj,Jee,ZS],Fee),CTe=Rt([mj,SN],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),ete=Rt(Qg,Xee,Oee),ETe=Rt([Jee,Xee,Tv,eee,ete,ZS,fj],Qee),STe=Rt([mj],r=>({isActive:r.active,activeIndex:r.index})),TTe=(r,e,t,n,i,a,o,s)=>{if(!(!r||!e||!n||!i||!a)){var c=lbe(r.chartX,r.chartY,e,t,s);if(c){var A=ube(c,e),f=W1e(A,o,a,n,i),y=cbe(e,a,f,c);return{activeIndex:String(f),activeCoordinate:y}}}};function SU(){return SU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},SU.apply(null,arguments)}function Gq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function tI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(t),!0).forEach(function(n){BTe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Gq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function BTe(r,e,t){return(e=ITe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ITe(r){var e=kTe(r,"string");return typeof e=="symbol"?e:e+""}function kTe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function NTe(r){var{coordinate:e,payload:t,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:c,chartName:A}=r,f=e,y=t,C=n;if(!s||!f||A!=="ScatterChart"&&c!=="axis")return null;var x,k;if(A==="ScatterChart")x=f,k=Zbe;else if(A==="BarChart")x=Xbe(o,f,i,a),k=GX;else if(o==="radial"){var{cx:N,cy:M,radius:D,startAngle:H,endAngle:q}=$X(f);x={cx:N,cy:M,startAngle:H,endAngle:q,innerRadius:D,outerRadius:D},k=WX}else x={points:Nwe(o,f,i)},k=Jb;var $=typeof s=="object"&&"className"in s?s.className:void 0,ce=tI(tI(tI(tI({stroke:"#ccc",pointerEvents:"none"},i),x),Do(s,!1)),{},{payload:y,payloadIndex:C,className:ki("recharts-tooltip-cursor",$)});return Z.isValidElement(s)?Z.cloneElement(s,ce):Z.createElement(k,ce)}function PTe(r){var e=bTe(),t=RX(),n=FS(),i=Wee();return Z.createElement(NTe,SU({},r,{coordinate:r.coordinate,index:r.index,payload:r.payload,offset:t,layout:n,tooltipAxisBandSize:e,chartName:i}))}var tte=Z.createContext(null),OTe=()=>Z.useContext(tte),tR={exports:{}},$q;function MTe(){return $q||($q=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,A,f){this.fn=c,this.context=A,this.once=f||!1}function a(c,A,f,y,C){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,y||c,C),k=t?t+A:A;return c._events[k]?c._events[k].fn?c._events[k]=[c._events[k],x]:c._events[k].push(x):(c._events[k]=x,c._eventsCount++),c}function o(c,A){--c._eventsCount===0?c._events=new n:delete c._events[A]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var A=[],f,y;if(this._eventsCount===0)return A;for(y in f=this._events)e.call(f,y)&&A.push(t?y.slice(1):y);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(f)):A},s.prototype.listeners=function(A){var f=t?t+A:A,y=this._events[f];if(!y)return[];if(y.fn)return[y.fn];for(var C=0,x=y.length,k=new Array(x);C<x;C++)k[C]=y[C].fn;return k},s.prototype.listenerCount=function(A){var f=t?t+A:A,y=this._events[f];return y?y.fn?1:y.length:0},s.prototype.emit=function(A,f,y,C,x,k){var N=t?t+A:A;if(!this._events[N])return!1;var M=this._events[N],D=arguments.length,H,q;if(M.fn){switch(M.once&&this.removeListener(A,M.fn,void 0,!0),D){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,f),!0;case 3:return M.fn.call(M.context,f,y),!0;case 4:return M.fn.call(M.context,f,y,C),!0;case 5:return M.fn.call(M.context,f,y,C,x),!0;case 6:return M.fn.call(M.context,f,y,C,x,k),!0}for(q=1,H=new Array(D-1);q<D;q++)H[q-1]=arguments[q];M.fn.apply(M.context,H)}else{var $=M.length,ce;for(q=0;q<$;q++)switch(M[q].once&&this.removeListener(A,M[q].fn,void 0,!0),D){case 1:M[q].fn.call(M[q].context);break;case 2:M[q].fn.call(M[q].context,f);break;case 3:M[q].fn.call(M[q].context,f,y);break;case 4:M[q].fn.call(M[q].context,f,y,C);break;default:if(!H)for(ce=1,H=new Array(D-1);ce<D;ce++)H[ce-1]=arguments[ce];M[q].fn.apply(M[q].context,H)}}return!0},s.prototype.on=function(A,f,y){return a(this,A,f,y,!1)},s.prototype.once=function(A,f,y){return a(this,A,f,y,!0)},s.prototype.removeListener=function(A,f,y,C){var x=t?t+A:A;if(!this._events[x])return this;if(!f)return o(this,x),this;var k=this._events[x];if(k.fn)k.fn===f&&(!C||k.once)&&(!y||k.context===y)&&o(this,x);else{for(var N=0,M=[],D=k.length;N<D;N++)(k[N].fn!==f||C&&!k[N].once||y&&k[N].context!==y)&&M.push(k[N]);M.length?this._events[x]=M.length===1?M[0]:M:o(this,x)}return this},s.prototype.removeAllListeners=function(A){var f;return A?(f=t?t+A:A,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,r.exports=s})(tR)),tR.exports}var LTe=MTe();const RTe=Og(LTe);var nS=new RTe,TU="recharts.syncEvent.tooltip",Yq="recharts.syncEvent.brush";function VO(r,e){if(e){var t=Number.parseInt(e,10);if(!mA(t))return r?.[t]}}var DTe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rte=pd({name:"options",initialState:DTe,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),UTe=rte.reducer,{createEventEmitter:FTe}=rte.actions;function jTe(r){return r.tooltip.syncInteraction}var QTe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nte=pd({name:"chartData",initialState:QTe,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:Wq,setDataStartEndIndexes:HTe,setComputedData:eYe}=nte.actions,zTe=nte.reducer,qTe=["x","y"];function Zq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function h0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(t),!0).forEach(function(n){KTe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Zq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function KTe(r,e,t){return(e=VTe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function VTe(r){var e=GTe(r,"string");return typeof e=="symbol"?e:e+""}function GTe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $Te(r,e){if(r==null)return{};var t,n,i=YTe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function YTe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var ite=()=>{};function WTe(){var r=mn(j5),e=mn(Q5),t=Xs(),n=mn($J),i=mn(Qg),a=FS(),o=A5(),s=mn(c=>c.rootProps.className);Z.useEffect(()=>{if(r==null)return ite;var c=(A,f,y)=>{if(e!==y&&r===A){if(n==="index"){var C;if(o&&f!==null&&f!==void 0&&(C=f.payload)!==null&&C!==void 0&&C.coordinate){var x=f.payload.coordinate,{x:k,y:N}=x,M=$Te(x,qTe),D=h0(h0(h0({},M),typeof k=="number"&&{x:Math.max(o.x,Math.min(k,o.x+o.width))}),typeof N=="number"&&{y:Math.max(o.y,Math.min(N,o.y+o.height))}),H=h0(h0({},f),{},{payload:h0(h0({},f.payload),{},{coordinate:D})});t(H)}else t(f);return}if(i!=null){var q;if(typeof n=="function"){var $={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},ce=n(i,$);q=i[ce]}else n==="value"&&(q=i.find(de=>String(de.value)===f.payload.label));var{coordinate:V}=f.payload;if(q==null||f.payload.active===!1||V==null||o==null){t(CU({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:he,y:le}=V,fe=Math.min(he,o.x+o.width),Ne=Math.min(le,o.y+o.height),W={x:a==="horizontal"?q.coordinate:fe,y:a==="horizontal"?Ne:q.coordinate},ue=CU({active:f.payload.active,coordinate:W,dataKey:f.payload.dataKey,index:String(q.index),label:f.payload.label});t(ue)}}};return nS.on(TU,c),()=>{nS.off(TU,c)}},[s,t,e,r,n,i,a,o])}function ZTe(){var r=mn(j5),e=mn(Q5),t=Xs();Z.useEffect(()=>{if(r==null)return ite;var n=(i,a,o)=>{e!==o&&r===i&&t(HTe(a))};return nS.on(Yq,n),()=>{nS.off(Yq,n)}},[t,e,r])}function XTe(){var r=Xs();Z.useEffect(()=>{r(FTe())},[r]),WTe(),ZTe()}function JTe(r,e,t,n,i,a){var o=mn(C=>xTe(C,r,e)),s=mn(Q5),c=mn(j5),A=mn($J),f=mn(jTe),y=f?.active;Z.useEffect(()=>{if(!y&&c!=null&&s!=null){var C=CU({active:a,coordinate:t,dataKey:o,index:i,label:typeof n=="number"?String(n):n});nS.emit(TU,c,C,s)}},[y,t,o,i,n,s,c,A,a])}function Xq(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Jq(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(t),!0).forEach(function(n){eBe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xq(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function eBe(r,e,t){return(e=tBe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tBe(r){var e=rBe(r,"string");return typeof e=="symbol"?e:e+""}function rBe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function nBe(r){return r.dataKey}function iBe(r,e){return Z.isValidElement(r)?Z.cloneElement(r,e):typeof r=="function"?Z.createElement(r,e):Z.createElement(Ibe,e)}var eK=[],aBe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Dg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rI(r){var e=zl(r,aBe),{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:c,offset:A,payloadUniqBy:f,position:y,reverseDirection:C,useTranslate3d:x,wrapperStyle:k,cursor:N,shared:M,trigger:D,defaultIndex:H,portal:q,axisId:$}=e,ce=Xs(),V=typeof H=="number"?String(H):H;Z.useEffect(()=>{ce(BSe({shared:M,trigger:D,axisId:$,active:t,defaultIndex:V}))},[ce,M,D,$,t,V]);var he=A5(),le=HX(),fe=xSe(M),{activeIndex:Ne,isActive:W}=mn(Re=>STe(Re,fe,D,V)),ue=mn(Re=>ETe(Re,fe,D,V)),de=mn(Re=>ete(Re,fe,D,V)),me=mn(Re=>CTe(Re,fe,D,V)),Qe=ue,Ee=OTe(),_e=t??W,[ke,We]=j_e([Qe,_e]),Oe=fe==="axis"?de:void 0;JTe(fe,D,me,Oe,Ne,_e);var ze=q??Ee;if(ze==null)return null;var ne=Qe??eK;_e||(ne=eK),s&&ne.length&&(ne=A_e(Qe.filter(Re=>Re.value!=null&&(Re.hide!==!0||e.includeHidden)),f,nBe));var ae=ne.length>0,ve=Z.createElement(Rbe,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:_e,coordinate:me,hasPayload:ae,offset:A,position:y,reverseDirection:C,useTranslate3d:x,viewBox:he,wrapperStyle:k,lastBoundingBox:ke,innerRef:We,hasPortalFromProps:!!q},iBe(o,Jq(Jq({},e),{},{payload:ne,label:Oe,active:_e,coordinate:me,accessibilityLayer:le})));return Z.createElement(Z.Fragment,null,oce.createPortal(ve,ze),_e&&Z.createElement(PTe,{cursor:N,tooltipEventType:fe,coordinate:me,payload:Qe,index:Ne}))}var rR={},nR={},iR={},tK;function oBe(){return tK||(tK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),A=a==null||a.includes("trailing"),f=()=>{s!==null&&(t.apply(o,s),o=void 0,s=null)},y=()=>{A&&f(),N()};let C=null;const x=()=>{C!=null&&clearTimeout(C),C=setTimeout(()=>{C=null,y()},n)},k=()=>{C!==null&&(clearTimeout(C),C=null)},N=()=>{k(),o=void 0,s=null},M=()=>{f()},D=function(...H){if(i?.aborted)return;o=this,s=H;const q=C==null;x(),c&&q&&f()};return D.schedule=x,D.cancel=N,D.flush=M,i?.addEventListener("abort",N,{once:!0}),D}r.debounce=e})(iR)),iR}var rK;function sBe(){return rK||(rK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=oBe();function t(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,A=Array(2);o&&(A[0]="leading"),s&&(A[1]="trailing");let f,y=null;const C=e.debounce(function(...N){f=n.apply(this,N),y=null},i,{edges:A}),x=function(...N){return c!=null&&(y===null&&(y=Date.now()),Date.now()-y>=c)?(f=n.apply(this,N),y=Date.now(),C.cancel(),C.schedule(),f):(C.apply(this,N),f)},k=()=>(C.flush(),f);return x.cancel=C.cancel,x.flush=k,x}r.debounce=t})(nR)),nR}var nK;function lBe(){return nK||(nK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=sBe();function t(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:s})}r.throttle=t})(rR)),rR}var aR,iK;function cBe(){return iK||(iK=1,aR=lBe().throttle),aR}var uBe=cBe();const hBe=Og(uBe);var mE=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function aK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function oR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(t),!0).forEach(function(n){ABe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):aK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ABe(r,e,t){return(e=dBe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dBe(r){var e=fBe(r,"string");return typeof e=="symbol"?e:e+""}function fBe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var nI=Z.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:c,children:A,debounce:f=0,id:y,className:C,onResize:x,style:k={}}=r,N=Z.useRef(null),M=Z.useRef();M.current=x,Z.useImperativeHandle(e,()=>N.current);var[D,H]=Z.useState({containerWidth:n.width,containerHeight:n.height}),q=Z.useCallback((ce,V)=>{H(he=>{var le=Math.round(ce),fe=Math.round(V);return he.containerWidth===le&&he.containerHeight===fe?he:{containerWidth:le,containerHeight:fe}})},[]);Z.useEffect(()=>{var ce=fe=>{var Ne,{width:W,height:ue}=fe[0].contentRect;q(W,ue),(Ne=M.current)===null||Ne===void 0||Ne.call(M,W,ue)};f>0&&(ce=hBe(ce,f,{trailing:!0,leading:!1}));var V=new ResizeObserver(ce),{width:he,height:le}=N.current.getBoundingClientRect();return q(he,le),V.observe(N.current),()=>{V.disconnect()}},[q,f]);var $=Z.useMemo(()=>{var{containerWidth:ce,containerHeight:V}=D;if(ce<0||V<0)return null;mE(H0(i)||H0(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),mE(!t||t>0,"The aspect(%s) must be greater than zero.",t);var he=H0(i)?ce:i,le=H0(a)?V:a;return t&&t>0&&(he?le=he/t:le&&(he=le*t),c&&le>c&&(le=c)),mE(he>0||le>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,he,le,i,a,o,s,t),Z.Children.map(A,fe=>Z.cloneElement(fe,{width:he,height:le,style:oR({width:he,height:le},fe.props.style)}))},[t,A,a,c,s,o,D,i]);return Z.createElement("div",{id:y?"".concat(y):void 0,className:ki("recharts-responsive-container",C),style:oR(oR({},k),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:N},Z.createElement("div",{style:{width:0,height:0,overflow:"visible"}},$))}),JS=r=>null;JS.displayName="Cell";function pBe(r,e,t){return(e=mBe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mBe(r){var e=gBe(r,"string");return typeof e=="symbol"?e:e+""}function gBe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class yBe{constructor(e){pBe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function oK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vBe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oK(Object(t),!0).forEach(function(n){_Be(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _Be(r,e,t){return(e=bBe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bBe(r){var e=wBe(r,"string");return typeof e=="symbol"?e:e+""}function wBe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var xBe={cacheSize:2e3,enableCache:!0},ate=vBe({},xBe),sK=new yBe(ate.cacheSize),CBe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lK="recharts_measurement_span";function EBe(r,e){var t=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var cK=(r,e)=>{try{var t=document.getElementById(lK);t||(t=document.createElement("span"),t.setAttribute("id",lK),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,CBe,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},gE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Dg.isSsr)return{width:0,height:0};if(!ate.enableCache)return cK(e,t);var n=EBe(e,t),i=sK.get(n);if(i)return i;var a=cK(e,t);return sK.set(n,a),a},uK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SBe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TBe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ote={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BBe=Object.keys(ote),kb="NaN";function IBe(r,e){return r*ote[e]}class aA{static parse(e){var t,[,n,i]=(t=TBe.exec(e))!==null&&t!==void 0?t:[];return new aA(parseFloat(n),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,mA(e)&&(this.unit=""),t!==""&&!SBe.test(t)&&(this.num=NaN,this.unit=""),BBe.includes(t)&&(this.num=IBe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new aA(NaN,""):new aA(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new aA(NaN,""):new aA(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new aA(NaN,""):new aA(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new aA(NaN,""):new aA(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mA(this.num)}}function ste(r){if(r.includes(kb))return kb;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,i,a]=(t=uK.exec(e))!==null&&t!==void 0?t:[],o=aA.parse(n??""),s=aA.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return kb;e=e.replace(uK,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var A,[,f,y,C]=(A=hK.exec(e))!==null&&A!==void 0?A:[],x=aA.parse(f??""),k=aA.parse(C??""),N=y==="+"?x.add(k):x.subtract(k);if(N.isNaN())return kb;e=e.replace(hK,N.toString())}return e}var AK=/\(([^()]*)\)/;function kBe(r){for(var e=r,t;(t=AK.exec(e))!=null;){var[,n]=t;e=e.replace(AK,ste(n))}return e}function NBe(r){var e=r.replace(/\s+/g,"");return e=kBe(e),e=ste(e),e}function PBe(r){try{return NBe(r)}catch{return kb}}function sR(r){var e=PBe(r.slice(5,-1));return e===kb?"":e}var OBe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MBe=["dx","dy","angle","className","breakAll"];function BU(){return BU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},BU.apply(null,arguments)}function dK(r,e){if(r==null)return{};var t,n,i=LBe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function LBe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var lte=/[ \f\n\r\t\v\u2028\u2029]+/,cte=r=>{var{children:e,breakAll:t,style:n}=r;try{var i=[];Ro(e)||(t?i=e.toString().split(""):i=e.toString().split(lte));var a=i.map(s=>({word:s,width:gE(s,n).width})),o=t?0:gE("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},RBe=(r,e,t,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=r,A=pn(a),f=o,y=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((ue,de)=>{var{word:me,width:Qe}=de,Ee=ue[ue.length-1];if(Ee&&(n==null||i||Ee.width+Qe+t<Number(n)))Ee.words.push(me),Ee.width+=Qe+t;else{var _e={words:[me],width:Qe};ue.push(_e)}return ue},[])},C=y(e),x=Ne=>Ne.reduce((W,ue)=>W.width>ue.width?W:ue);if(!A||i)return C;var k=C.length>a||x(C).width>Number(n);if(!k)return C;for(var N="",M=Ne=>{var W=f.slice(0,Ne),ue=cte({breakAll:c,style:s,children:W+N}).wordsWithComputedWidth,de=y(ue),me=de.length>a||x(de).width>Number(n);return[me,de]},D=0,H=f.length-1,q=0,$;D<=H&&q<=f.length-1;){var ce=Math.floor((D+H)/2),V=ce-1,[he,le]=M(V),[fe]=M(ce);if(!he&&!fe&&(D=ce+1),he&&fe&&(H=ce-1),!he&&fe){$=le;break}q++}return $||C},fK=r=>{var e=Ro(r)?[]:r.toString().split(lte);return[{words:e}]},DBe=r=>{var{width:e,scaleToFit:t,children:n,style:i,breakAll:a,maxLines:o}=r;if((e||t)&&!Dg.isSsr){var s,c,A=cte({breakAll:a,children:n,style:i});if(A){var{wordsWithComputedWidth:f,spaceWidth:y}=A;s=f,c=y}else return fK(n);return RBe({breakAll:a,children:n,maxLines:o,style:i},s,c,e,t)}return fK(n)},pK="#808080",GO=Z.forwardRef((r,e)=>{var{x:t=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:c="end",fill:A=pK}=r,f=dK(r,OBe),y=Z.useMemo(()=>DBe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:C,dy:x,angle:k,className:N,breakAll:M}=f,D=dK(f,MBe);if(!Wp(t)||!Wp(n)||y.length===0)return null;var H=t+(pn(C)?C:0),q=n+(pn(x)?x:0),$;switch(c){case"start":$=sR("calc(".concat(a,")"));break;case"middle":$=sR("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:$=sR("calc(".concat(y.length-1," * -").concat(i,")"));break}var ce=[];if(o){var V=y[0].width,{width:he}=f;ce.push("scale(".concat(pn(he)?he/V:1,")"))}return k&&ce.push("rotate(".concat(k,", ").concat(H,", ").concat(q,")")),ce.length&&(D.transform=ce.join(" ")),Z.createElement("text",BU({},Do(D,!0),{ref:e,x:H,y:q,className:ki("recharts-text",N),textAnchor:s,fill:A.includes("url")?pK:A}),y.map((le,fe)=>{var Ne=le.words.join(M?"":" ");return Z.createElement("tspan",{x:H,dy:fe===0?$:i,key:"".concat(Ne,"-").concat(fe)},Ne)}))});GO.displayName="Text";var UBe=["labelRef"];function FBe(r,e){if(r==null)return{};var t,n,i=jBe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function jBe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function mK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mK(Object(t),!0).forEach(function(n){QBe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function QBe(r,e,t){return(e=HBe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HBe(r){var e=zBe(r,"string");return typeof e=="symbol"?e:e+""}function zBe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Wm.apply(null,arguments)}var ute=Z.createContext(null),qBe=r=>{var{x:e,y:t,width:n,height:i,children:a}=r,o=Z.useMemo(()=>({x:e,y:t,width:n,height:i}),[e,t,n,i]);return Z.createElement(ute.Provider,{value:o},a)},hte=()=>{var r=Z.useContext(ute),e=A5();return r||e},KBe=Z.createContext(null),VBe=()=>{var r=Z.useContext(KBe),e=mn(JJ);return r||e},GBe=r=>{var{value:e,formatter:t}=r,n=Ro(r.children)?e:r.children;return typeof t=="function"?t(n):n},gj=r=>r!=null&&typeof r=="function",$Be=(r,e)=>{var t=yc(e-r),n=Math.min(Math.abs(e-r),360);return t*n},YBe=(r,e,t,n,i)=>{var{offset:a,className:o}=r,{cx:s,cy:c,innerRadius:A,outerRadius:f,startAngle:y,endAngle:C,clockWise:x}=i,k=(A+f)/2,N=$Be(y,C),M=N>=0?1:-1,D,H;switch(e){case"insideStart":D=y+M*a,H=x;break;case"insideEnd":D=C-M*a,H=!x;break;case"end":D=C+M*a,H=x;break;default:throw new Error("Unsupported position ".concat(e))}H=N<=0?H:!H;var q=gl(s,c,k,D),$=gl(s,c,k,D+(H?1:-1)*359),ce="M".concat(q.x,",").concat(q.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(H?0:1,`,
    `).concat($.x,",").concat($.y),V=Ro(r.id)?GE("recharts-radial-line-"):r.id;return Z.createElement("text",Wm({},n,{dominantBaseline:"central",className:ki("recharts-radial-bar-label",o)}),Z.createElement("defs",null,Z.createElement("path",{id:V,d:ce})),Z.createElement("textPath",{xlinkHref:"#".concat(V)},t))},WBe=(r,e,t)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=r,A=(s+c)/2;if(t==="outside"){var{x:f,y}=gl(n,i,o+e,A);return{x:f,y,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var C=(a+o)/2,{x,y:k}=gl(n,i,C,A);return{x,y:k,textAnchor:"middle",verticalAnchor:"middle"}},Ate=r=>"cx"in r&&pn(r.cx),ZBe=(r,e)=>{var{parentViewBox:t,offset:n,position:i}=r,a;t!=null&&!Ate(t)&&(a=t);var{x:o,y:s,width:c,height:A}=e,f=A>=0?1:-1,y=f*n,C=f>0?"end":"start",x=f>0?"start":"end",k=c>=0?1:-1,N=k*n,M=k>0?"end":"start",D=k>0?"start":"end";if(i==="top"){var H={x:o+c/2,y:s-f*n,textAnchor:"middle",verticalAnchor:C};return zs(zs({},H),a?{height:Math.max(s-a.y,0),width:c}:{})}if(i==="bottom"){var q={x:o+c/2,y:s+A+y,textAnchor:"middle",verticalAnchor:x};return zs(zs({},q),a?{height:Math.max(a.y+a.height-(s+A),0),width:c}:{})}if(i==="left"){var $={x:o-N,y:s+A/2,textAnchor:M,verticalAnchor:"middle"};return zs(zs({},$),a?{width:Math.max($.x-a.x,0),height:A}:{})}if(i==="right"){var ce={x:o+c+N,y:s+A/2,textAnchor:D,verticalAnchor:"middle"};return zs(zs({},ce),a?{width:Math.max(a.x+a.width-ce.x,0),height:A}:{})}var V=a?{width:c,height:A}:{};return i==="insideLeft"?zs({x:o+N,y:s+A/2,textAnchor:D,verticalAnchor:"middle"},V):i==="insideRight"?zs({x:o+c-N,y:s+A/2,textAnchor:M,verticalAnchor:"middle"},V):i==="insideTop"?zs({x:o+c/2,y:s+y,textAnchor:"middle",verticalAnchor:x},V):i==="insideBottom"?zs({x:o+c/2,y:s+A-y,textAnchor:"middle",verticalAnchor:C},V):i==="insideTopLeft"?zs({x:o+N,y:s+y,textAnchor:D,verticalAnchor:x},V):i==="insideTopRight"?zs({x:o+c-N,y:s+y,textAnchor:M,verticalAnchor:x},V):i==="insideBottomLeft"?zs({x:o+N,y:s+A-y,textAnchor:D,verticalAnchor:C},V):i==="insideBottomRight"?zs({x:o+c-N,y:s+A-y,textAnchor:M,verticalAnchor:C},V):i&&typeof i=="object"&&(pn(i.x)||H0(i.x))&&(pn(i.y)||H0(i.y))?zs({x:o+Gu(i.x,c),y:s+Gu(i.y,A),textAnchor:"end",verticalAnchor:"end"},V):zs({x:o+c/2,y:s+A/2,textAnchor:"middle",verticalAnchor:"middle"},V)},XBe={offset:5};function Ry(r){var e=zl(r,XBe),{viewBox:t,position:n,value:i,children:a,content:o,className:s="",textBreakAll:c,labelRef:A}=e,f=VBe(),y=hte(),C=n==="center"?y:f??y,x=t||C;if(!x||Ro(i)&&Ro(a)&&!Z.isValidElement(o)&&typeof o!="function")return null;var k=zs(zs({},e),{},{viewBox:x});if(Z.isValidElement(o)){var{labelRef:N}=k,M=FBe(k,UBe);return Z.cloneElement(o,M)}var D;if(typeof o=="function"){if(D=Z.createElement(o,k),Z.isValidElement(D))return D}else D=GBe(e);var H=Ate(x),q=Do(e,!0);if(H&&(n==="insideStart"||n==="insideEnd"||n==="end"))return YBe(e,n,D,q,x);var $=H?WBe(x,e.offset,e.position):ZBe(e,x);return Z.createElement(GO,Wm({ref:A,className:ki("recharts-label",s)},q,$,{breakAll:c}),D)}Ry.displayName="Label";var JBe=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?Z.createElement(Ry,Wm({key:"label-implicit"},n)):Wp(r)?Z.createElement(Ry,Wm({key:"label-implicit",value:r},n)):Z.isValidElement(r)?r.type===Ry?Z.cloneElement(r,zs({key:"label-implicit"},n)):Z.createElement(Ry,Wm({key:"label-implicit",content:r},n)):gj(r)?Z.createElement(Ry,Wm({key:"label-implicit",content:r},n)):r&&typeof r=="object"?Z.createElement(Ry,Wm({},r,{key:"label-implicit"},n)):null};function eIe(r){var{label:e}=r,t=hte();return JBe(e,t)||null}var lR={},cR={},gK;function tIe(){return gK||(gK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(cR)),cR}var uR={},yK;function rIe(){return yK||(yK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(uR)),uR}var vK;function nIe(){return vK||(vK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=tIe(),t=rIe(),n=n5();function i(a){if(n.isArrayLike(a))return e.last(t.toArray(a))}r.last=i})(lR)),lR}var hR,_K;function iIe(){return _K||(_K=1,hR=nIe().last),hR}var aIe=iIe();const oIe=Og(aIe);var sIe=["valueAccessor"],lIe=["dataKey","clockWise","id","textBreakAll"];function TN(){return TN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},TN.apply(null,arguments)}function bK(r,e){if(r==null)return{};var t,n,i=cIe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function cIe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var uIe=r=>Array.isArray(r.value)?oIe(r.value):r.value,dte=Z.createContext(void 0),yj=dte.Provider,fte=Z.createContext(void 0),hIe=fte.Provider;function AIe(){return Z.useContext(dte)}function dIe(){return Z.useContext(fte)}function nk(r){var{valueAccessor:e=uIe}=r,t=bK(r,sIe),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=t,s=bK(t,lIe),c=AIe(),A=dIe(),f=c||A;return!f||!f.length?null:Z.createElement(Cs,{className:"recharts-label-list"},f.map((y,C)=>{var x,k=Ro(n)?e(y,C):Ka(y&&y.payload,n),N=Ro(a)?{}:{id:"".concat(a,"-").concat(C)};return Z.createElement(Ry,TN({},Do(y,!0),s,N,{fill:(x=t.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:k,textBreakAll:o,viewBox:y.viewBox,key:"label-".concat(C),index:C}))}))}nk.displayName="LabelList";function $O(r){var{label:e}=r;return e?e===!0?Z.createElement(nk,{key:"labelList-implicit"}):Z.isValidElement(e)||gj(e)?Z.createElement(nk,{key:"labelList-implicit",content:e}):typeof e=="object"?Z.createElement(nk,TN({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function IU(){return IU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},IU.apply(null,arguments)}var vj=r=>{var{cx:e,cy:t,r:n,className:i}=r,a=ki("recharts-dot",i);return e===+e&&t===+t&&n===+n?Z.createElement("circle",IU({},af(r),X6(r),{className:a,cx:e,cy:t,r:n})):null},pte=r=>r.graphicalItems.polarItems,fIe=Rt([ts,VS],V5),_j=Rt([pte,Js,fIe],G5),pIe=Rt([_j],$5),bj=Rt([pIe,R5],Y5),mIe=Rt([bj,Js,_j],Z5),gIe=Rt([bj,Js,_j],(r,e,t)=>t.length>0?r.flatMap(n=>t.flatMap(i=>{var a,o=Ka(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?r.map(n=>({value:Ka(n,e.dataKey),errorDomain:[]})):r.map(n=>({value:n,errorDomain:[]}))),wK=()=>{},yIe=Rt([Js,vee,wK,gIe,wK,Ki,ts],J5),mte=Rt([Js,Ki,bj,mIe,KS,ts,yIe],ej),vIe=Rt([mte,Js,Xw],nj);Rt([Js,mte,vIe,ts],aj);var _Ie={radiusAxis:{},angleAxis:{}},gte=pd({name:"polarAxis",initialState:_Ie,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:tYe,removeRadiusAxis:rYe,addAngleAxis:nYe,removeAngleAxis:iYe}=gte.actions,bIe=gte.reducer;function xK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function CK(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(t),!0).forEach(function(n){wIe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wIe(r,e,t){return(e=xIe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xIe(r){var e=CIe(r,"string");return typeof e=="symbol"?e:e+""}function CIe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var EIe=(r,e)=>e,wj=Rt([pte,EIe],(r,e)=>r.filter(t=>t.type==="pie").find(t=>t.id===e)),SIe=[],xj=(r,e,t)=>t?.length===0?SIe:t,yte=Rt([R5,wj,xj],(r,e,t)=>{var{chartData:n}=r;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&t!=null&&(i=t.map(a=>CK(CK({},e.presentationProps),a.props))),i!=null)return i}}),TIe=Rt([yte,wj,xj],(r,e,t)=>{if(!(r==null||e==null))return r.map((n,i)=>{var a,o=Ka(n,e.nameKey,e.name),s;return t!=null&&(a=t[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=t[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=e.fill,{value:Cv(o,e.dataKey),color:s,payload:n,type:e.legendType}})}),BIe=Rt([yte,wj,xj,Hl],(r,e,t,n)=>{if(!(e==null||r==null))return Eke({offset:n,pieSettings:e,displayedData:r,cells:t})}),AR={},EK;function IIe(){return EK||(EK=1,(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const i=t[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${i}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(AR)),AR}var dR,SK;function kIe(){return SK||(SK=1,dR=IIe().isPlainObject),dR}var NIe=kIe();const PIe=Og(NIe);function TK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function BK(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(t),!0).forEach(function(n){OIe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function OIe(r,e,t){return(e=MIe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function MIe(r){var e=LIe(r,"string");return typeof e=="symbol"?e:e+""}function LIe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function BN(){return BN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},BN.apply(null,arguments)}var IK=(r,e,t,n,i)=>{var a=t-n,o;return o="M ".concat(r,",").concat(e),o+="L ".concat(r+t,",").concat(e),o+="L ".concat(r+t-a/2,",").concat(e+i),o+="L ".concat(r+t-a/2-n,",").concat(e+i),o+="L ".concat(r,",").concat(e," Z"),o},RIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DIe=r=>{var e=zl(r,RIe),{x:t,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=e,{animationEasing:c,animationDuration:A,animationBegin:f,isUpdateAnimationActive:y}=e,C=Z.useRef(),[x,k]=Z.useState(-1),N=Z.useRef(i),M=Z.useRef(a),D=Z.useRef(o),H=Z.useRef(t),q=Z.useRef(n),$=Vw(r,"trapezoid-");if(Z.useEffect(()=>{if(C.current&&C.current.getTotalLength)try{var me=C.current.getTotalLength();me&&k(me)}catch{}},[]),t!==+t||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var ce=ki("recharts-trapezoid",s);if(!y)return Z.createElement("g",null,Z.createElement("path",BN({},Do(e,!0),{className:ce,d:IK(t,n,i,a,o)})));var V=N.current,he=M.current,le=D.current,fe=H.current,Ne=q.current,W="0px ".concat(x===-1?1:x,"px"),ue="".concat(x,"px 0px"),de=zX(["strokeDasharray"],A,c);return Z.createElement(Kw,{animationId:$,key:$,canBegin:x>0,duration:A,easing:c,isActive:y,begin:f},me=>{var Qe=za(V,i,me),Ee=za(he,a,me),_e=za(le,o,me),ke=za(fe,t,me),We=za(Ne,n,me);C.current&&(N.current=Qe,M.current=Ee,D.current=_e,H.current=ke,q.current=We);var Oe=me>0?{transition:de,strokeDasharray:ue}:{strokeDasharray:W};return Z.createElement("path",BN({},Do(e,!0),{className:ce,d:IK(ke,We,Qe,Ee,_e),ref:C,style:BK(BK({},Oe),e.style)}))})},UIe=["option","shapeType","propTransformer","activeClassName","isActive"];function FIe(r,e){if(r==null)return{};var t,n,i=jIe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function jIe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function kK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function IN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kK(Object(t),!0).forEach(function(n){QIe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function QIe(r,e,t){return(e=HIe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HIe(r){var e=zIe(r,"string");return typeof e=="symbol"?e:e+""}function zIe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function qIe(r,e){return IN(IN({},e),r)}function KIe(r,e){return r==="symbols"}function NK(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return Z.createElement(GX,t);case"trapezoid":return Z.createElement(DIe,t);case"sector":return Z.createElement(WX,t);case"symbols":if(KIe(e))return Z.createElement(KZ,t);break;default:return null}}function VIe(r){return Z.isValidElement(r)?r.props:r}function vte(r){var{option:e,shapeType:t,propTransformer:n=qIe,activeClassName:i="recharts-active-shape",isActive:a}=r,o=FIe(r,UIe),s;if(Z.isValidElement(e))s=Z.cloneElement(e,IN(IN({},o),VIe(e)));else if(typeof e=="function")s=e(o);else if(PIe(e)&&typeof e!="boolean"){var c=n(e,o);s=Z.createElement(NK,{shapeType:t,elementProps:c})}else{var A=o;s=Z.createElement(NK,{shapeType:t,elementProps:A})}return a?Z.createElement(Cs,{className:i},s):s}var Cj=(r,e)=>{var t=Xs();return(n,i)=>a=>{r?.(n,i,a),t(Lee({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},Ej=r=>{var e=Xs();return(t,n)=>i=>{r?.(t,n,i),e(ISe())}},Sj=(r,e)=>{var t=Xs();return(n,i)=>a=>{r?.(n,i,a),t(kSe({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function YO(r){var{fn:e,args:t}=r,n=Xs(),i=Yu();return Z.useEffect(()=>{if(!i){var a=e(t);return n(SSe(a)),()=>{n(TSe(a))}}},[e,t,n,i]),null}var _te=()=>{};function Tj(r){var{legendPayload:e}=r,t=Xs(),n=Yu();return Z.useEffect(()=>n?_te:(t(jX(e)),()=>{t(QX(e))}),[t,n,e]),null}function GIe(r){var{legendPayload:e}=r,t=Xs(),n=mn(Ki);return Z.useEffect(()=>n!=="centric"&&n!=="radial"?_te:(t(jX(e)),()=>{t(QX(e))}),[t,n,e]),null}var fR,$Ie=()=>{var[r]=Z.useState(()=>GE("uid-"));return r},YIe=(fR=Nse.useId)!==null&&fR!==void 0?fR:$Ie;function WIe(r,e){var t=YIe();return e||(r?"".concat(r,"-").concat(t):t)}var ZIe=Z.createContext(void 0),WO=r=>{var{id:e,type:t,children:n}=r,i=WIe("recharts-".concat(t),e);return Z.createElement(ZIe.Provider,{value:i},n(i))},XIe={cartesianItems:[],polarItems:[]},bte=pd({name:"graphicalItems",initialState:XIe,reducers:{addCartesianGraphicalItem(r,e){r.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(r,e){var{prev:t,next:n}=e.payload,i=ag(r).cartesianItems.indexOf(t);i>-1&&(r.cartesianItems[i]=n)},removeCartesianGraphicalItem(r,e){var t=ag(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},addPolarGraphicalItem(r,e){r.polarItems.push(e.payload)},removePolarGraphicalItem(r,e){var t=ag(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)}}}),{addCartesianGraphicalItem:JIe,replaceCartesianGraphicalItem:eke,removeCartesianGraphicalItem:tke,addPolarGraphicalItem:rke,removePolarGraphicalItem:nke}=bte.actions,ike=bte.reducer;function Bj(r){var e=Xs(),t=Z.useRef(null);return Z.useEffect(()=>{t.current===null?e(JIe(r)):t.current!==r&&e(eke({prev:t.current,next:r})),t.current=r},[e,r]),Z.useEffect(()=>()=>{t.current&&(e(tke(t.current)),t.current=null)},[e]),null}function ake(r){var e=Xs();return Z.useEffect(()=>(e(rke(r)),()=>{e(nke(r))}),[e,r]),null}var oke=["onMouseEnter","onClick","onMouseLeave"],ske=["id"],lke=["id"];function Ij(r,e){if(r==null)return{};var t,n,i=cke(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function cke(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function PK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Wo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PK(Object(t),!0).forEach(function(n){uke(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function uke(r,e,t){return(e=hke(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hke(r){var e=Ake(r,"string");return typeof e=="symbol"?e:e+""}function Ake(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yv(){return yv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yv.apply(null,arguments)}function dke(r){var e=Z.useMemo(()=>J6(r.children,JS),[r.children]),t=mn(n=>TIe(n,r.id,e));return t==null?null:Z.createElement(GIe,{legendPayload:t})}function fke(r){var{dataKey:e,nameKey:t,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:c,tooltipType:A}=r;return{dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:t,name:Cv(s,e),hide:c,type:A,color:o,unit:""}}}var pke=(r,e)=>r>e?"start":r<e?"end":"middle",mke=(r,e,t)=>Gu(typeof e=="function"?e(r):e,t,t*.8),gke=(r,e,t)=>{var{top:n,left:i,width:a,height:o}=e,s=BX(a,o),c=i+Gu(r.cx,a,a/2),A=n+Gu(r.cy,o,o/2),f=Gu(r.innerRadius,s,0),y=mke(t,r.outerRadius,s),C=r.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:A,innerRadius:f,outerRadius:y,maxRadius:C}},yke=(r,e)=>{var t=yc(e-r),n=Math.min(Math.abs(e-r),360);return t*n};function vke(r){return r&&typeof r=="object"&&"className"in r&&typeof r.className=="string"?r.className:""}var _ke=(r,e)=>{if(Z.isValidElement(r))return Z.cloneElement(r,e);if(typeof r=="function")return r(e);var t=ki("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(Jb,yv({},e,{type:"linear",className:t}))},bke=(r,e,t)=>{if(Z.isValidElement(r))return Z.cloneElement(r,e);var n=t;if(typeof r=="function"&&(n=r(e),Z.isValidElement(n)))return n;var i=ki("recharts-pie-label-text",vke(r));return Z.createElement(GO,yv({},e,{alignmentBaseline:"middle",className:i}),n)};function wke(r){var{sectors:e,props:t,showLabels:n}=r,{label:i,labelLine:a,dataKey:o}=t;if(!n||!i||!e)return null;var s=af(t),c=Do(i,!1),A=Do(a,!1),f=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,y=e.map((C,x)=>{var k=(C.startAngle+C.endAngle)/2,N=gl(C.cx,C.cy,C.outerRadius+f,k),M=Wo(Wo(Wo(Wo({},s),C),{},{stroke:"none"},c),{},{index:x,textAnchor:pke(N.x,C.cx)},N),D=Wo(Wo(Wo(Wo({},s),C),{},{fill:"none",stroke:C.fill},A),{},{index:x,points:[gl(C.cx,C.cy,C.outerRadius,k),N],key:"line"});return Z.createElement(Cs,{key:"label-".concat(C.startAngle,"-").concat(C.endAngle,"-").concat(C.midAngle,"-").concat(x)},a&&_ke(a,D),bke(i,M,Ka(C,o)))});return Z.createElement(Cs,{className:"recharts-pie-labels"},y)}function xke(r){var{sectors:e,props:t,showLabels:n}=r,{label:i}=t;return typeof i=="object"&&i!=null&&"position"in i?Z.createElement($O,{label:i}):Z.createElement(wke,{sectors:e,props:t,showLabels:n})}function Cke(r){var{sectors:e,activeShape:t,inactiveShape:n,allOtherPieProps:i}=r,a=mn(gv),{onMouseEnter:o,onClick:s,onMouseLeave:c}=i,A=Ij(i,oke),f=Cj(o,i.dataKey),y=Ej(c),C=Sj(s,i.dataKey);return e==null||e.length===0?null:Z.createElement(Z.Fragment,null,e.map((x,k)=>{if(x?.startAngle===0&&x?.endAngle===0&&e.length!==1)return null;var N=t&&String(k)===a,M=a?n:null,D=N?t:M,H=Wo(Wo({},x),{},{stroke:x.stroke,tabIndex:-1,[MX]:k,[LX]:i.dataKey});return Z.createElement(Cs,yv({tabIndex:-1,className:"recharts-pie-sector"},pO(A,x,k),{onMouseEnter:f(x,k),onMouseLeave:y(x,k),onClick:C(x,k),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(k)}),Z.createElement(vte,yv({option:D,isActive:N,shapeType:"sector"},H)))}))}function Eke(r){var e,{pieSettings:t,displayedData:n,cells:i,offset:a}=r,{cornerRadius:o,startAngle:s,endAngle:c,dataKey:A,nameKey:f,tooltipType:y}=t,C=Math.abs(t.minAngle),x=yke(s,c),k=Math.abs(x),N=n.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,M=n.filter(V=>Ka(V,A,0)!==0).length,D=(k>=360?M:M-1)*N,H=k-M*C-D,q=n.reduce((V,he)=>{var le=Ka(he,A,0);return V+(pn(le)?le:0)},0),$;if(q>0){var ce;$=n.map((V,he)=>{var le=Ka(V,A,0),fe=Ka(V,f,he),Ne=gke(t,a,V),W=(pn(le)?le:0)/q,ue,de=Wo(Wo({},V),i&&i[he]&&i[he].props);he?ue=ce.endAngle+yc(x)*N*(le!==0?1:0):ue=s;var me=ue+yc(x)*((le!==0?C:0)+W*H),Qe=(ue+me)/2,Ee=(Ne.innerRadius+Ne.outerRadius)/2,_e=[{name:fe,value:le,payload:de,dataKey:A,type:y}],ke=gl(Ne.cx,Ne.cy,Ee,Qe);return ce=Wo(Wo(Wo(Wo({},t.presentationProps),{},{percent:W,cornerRadius:o,name:fe,tooltipPayload:_e,midAngle:Qe,middleRadius:Ee,tooltipPosition:ke},de),Ne),{},{value:le,startAngle:ue,endAngle:me,payload:de,paddingAngle:yc(x)*N}),ce})}return $}function Ske(r){var{showLabels:e,sectors:t,children:n}=r,i=Z.useMemo(()=>!e||!t?[]:t.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[t,e]);return Z.createElement(hIe,{value:e?i:void 0},n)}function Tke(r){var{props:e,previousSectorsRef:t}=r,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:c,inactiveShape:A,onAnimationStart:f,onAnimationEnd:y}=e,C=Vw(e,"recharts-pie-"),x=t.current,[k,N]=Z.useState(!1),M=Z.useCallback(()=>{typeof y=="function"&&y(),N(!1)},[y]),D=Z.useCallback(()=>{typeof f=="function"&&f(),N(!0)},[f]);return Z.createElement(Ske,{showLabels:!k,sectors:n},Z.createElement(Kw,{animationId:C,begin:a,duration:o,isActive:i,easing:s,onAnimationStart:D,onAnimationEnd:M,key:C},H=>{var q=[],$=n&&n[0],ce=$?.startAngle;return n?.forEach((V,he)=>{var le=x&&x[he],fe=he>0?x_(V,"paddingAngle",0):0;if(le){var Ne=za(le.endAngle-le.startAngle,V.endAngle-V.startAngle,H),W=Wo(Wo({},V),{},{startAngle:ce+fe,endAngle:ce+Ne+fe});q.push(W),ce=W.endAngle}else{var{endAngle:ue,startAngle:de}=V,me=za(0,ue-de,H),Qe=Wo(Wo({},V),{},{startAngle:ce+fe,endAngle:ce+me+fe});q.push(Qe),ce=Qe.endAngle}}),t.current=q,Z.createElement(Cs,null,Z.createElement(Cke,{sectors:q,activeShape:c,inactiveShape:A,allOtherPieProps:e}))}),Z.createElement(xke,{showLabels:!k,sectors:n,props:e}),e.children)}var Bke={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Dg.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ike(r){var{id:e}=r,t=Ij(r,ske),{hide:n,className:i,rootTabIndex:a}=r,o=Z.useMemo(()=>J6(r.children,JS),[r.children]),s=mn(f=>BIe(f,e,o)),c=Z.useRef(null),A=ki("recharts-pie",i);return n||s==null?(c.current=null,Z.createElement(Cs,{tabIndex:a,className:A})):Z.createElement(Z.Fragment,null,Z.createElement(YO,{fn:fke,args:Wo(Wo({},r),{},{sectors:s})}),Z.createElement(Cs,{tabIndex:a,className:A},Z.createElement(Tke,{props:Wo(Wo({},t),{},{sectors:s}),previousSectorsRef:c})))}function wte(r){var e=zl(r,Bke),{id:t}=e,n=Ij(e,lke),i=af(n);return Z.createElement(WO,{id:t,type:"pie"},a=>Z.createElement(Z.Fragment,null,Z.createElement(ake,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),Z.createElement(dke,yv({},n,{id:a})),Z.createElement(Ike,yv({},n,{id:a}))))}wte.displayName="Pie";function OK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function MK(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OK(Object(t),!0).forEach(function(n){kke(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kke(r,e,t){return(e=Nke(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nke(r){var e=Pke(r,"string");return typeof e=="symbol"?e:e+""}function Pke(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Oke={xAxis:{},yAxis:{},zAxis:{}},xte=pd({name:"cartesianAxis",initialState:Oke,reducers:{addXAxis(r,e){r.xAxis[e.payload.id]=e.payload},removeXAxis(r,e){delete r.xAxis[e.payload.id]},addYAxis(r,e){r.yAxis[e.payload.id]=e.payload},removeYAxis(r,e){delete r.yAxis[e.payload.id]},addZAxis(r,e){r.zAxis[e.payload.id]=e.payload},removeZAxis(r,e){delete r.zAxis[e.payload.id]},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload;r.yAxis[t]&&(r.yAxis[t]=MK(MK({},r.yAxis[t]),{},{width:n}))}}}),{addXAxis:Mke,removeXAxis:Lke,addYAxis:Rke,removeYAxis:Dke,addZAxis:aYe,removeZAxis:oYe,updateYAxisWidth:Uke}=xte.actions,Fke=xte.reducer,jke=Rt([Hl],r=>{if(r)return{top:r.top,bottom:r.bottom,left:r.left,right:r.right}}),Qke=Rt([jke,Lg,Rg],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),ZO=()=>mn(Qke),Hke=()=>mn(mTe);function LK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function RK(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LK(Object(t),!0).forEach(function(n){zke(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zke(r,e,t){return(e=qke(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qke(r){var e=Kke(r,"string");return typeof e=="symbol"?e:e+""}function Kke(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Vke=r=>{var{point:e,childIndex:t,mainColor:n,activeDot:i,dataKey:a}=r;if(i===!1||e.x==null||e.y==null)return null;var o=RK(RK({index:t,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Do(i,!1)),X6(i)),s;return Z.isValidElement(i)?s=Z.cloneElement(i,o):typeof i=="function"?s=i(o):s=Z.createElement(vj,o),Z.createElement(Cs,{className:"recharts-active-dot"},s)};function kU(r){var{points:e,mainColor:t,activeDot:n,itemDataKey:i}=r,a=mn(gv),o=Hke();if(e==null||o==null)return null;var s=e.find(c=>o.includes(c.payload));return Ro(s)?null:Vke({point:s,childIndex:Number(a),mainColor:t,dataKey:i,activeDot:n})}var Gke="Invariant failed";function $ke(r,e){throw new Error(Gke)}var Yke=["x","y"];function NU(){return NU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},NU.apply(null,arguments)}function DK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Jx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DK(Object(t),!0).forEach(function(n){Wke(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wke(r,e,t){return(e=Zke(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zke(r){var e=Xke(r,"string");return typeof e=="symbol"?e:e+""}function Xke(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Jke(r,e){if(r==null)return{};var t,n,i=eNe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function eNe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function tNe(r,e){var{x:t,y:n}=r,i=Jke(r,Yke),a="".concat(t),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),A="".concat(e.height||i.height),f=parseInt(A,10),y="".concat(e.width||i.width),C=parseInt(y,10);return Jx(Jx(Jx(Jx(Jx({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:C,name:e.name,radius:e.radius})}function kj(r){return Z.createElement(vte,NU({shapeType:"rectangle",propTransformer:tNe,activeClassName:"recharts-active-bar"},r))}var rNe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(pn(e))return e;var a=pn(n)||Ro(n);return a?e(n,i):(a||$ke(),t)}},nNe={},Cte=pd({name:"errorBars",initialState:nNe,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:i}=e.payload;r[t]&&(r[t]=r[t].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sYe,replaceErrorBar:lYe,removeErrorBar:cYe}=Cte.actions,iNe=Cte.reducer,aNe=["children"];function oNe(r,e){if(r==null)return{};var t,n,i=sNe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function sNe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var lNe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cNe=Z.createContext(lNe);function Ete(r){var{children:e}=r,t=oNe(r,aNe);return Z.createElement(cNe.Provider,{value:t},e)}function XO(r,e){var t,n,i=mn(A=>Fg(A,r)),a=mn(A=>jg(A,e)),o=(t=i?.allowDataOverflow)!==null&&t!==void 0?t:ed.allowDataOverflow,s=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:td.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function Nj(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,i=ZO(),{needClipX:a,needClipY:o,needClip:s}=XO(e,t);if(!s)return null;var{x:c,y:A,width:f,height:y}=i;return Z.createElement("clipPath",{id:"clipPath-".concat(n)},Z.createElement("rect",{x:a?c:c-f/2,y:o?A:A-y/2,width:a?f:f*2,height:o?y:y*2}))}var uNe=["onMouseEnter","onMouseLeave","onClick"],hNe=["value","background","tooltipPosition"],ANe=["id"],dNe=["onMouseEnter","onClick","onMouseLeave"];function vv(){return vv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},vv.apply(null,arguments)}function UK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function xh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UK(Object(t),!0).forEach(function(n){fNe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fNe(r,e,t){return(e=pNe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pNe(r){var e=mNe(r,"string");return typeof e=="symbol"?e:e+""}function mNe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kN(r,e){if(r==null)return{};var t,n,i=gNe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function gNe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var yNe=r=>{var{dataKey:e,name:t,fill:n,legendType:i,hide:a}=r;return[{inactive:a,dataKey:e,type:i,color:n,value:Cv(t,e),payload:r}]};function vNe(r){var{dataKey:e,stroke:t,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=r;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Cv(a,e),hide:o,type:r.tooltipType,color:r.fill,unit:s}}}function _Ne(r){var e=mn(gv),{data:t,dataKey:n,background:i,allOtherBarProps:a}=r,{onMouseEnter:o,onMouseLeave:s,onClick:c}=a,A=kN(a,uNe),f=Cj(o,n),y=Ej(s),C=Sj(c,n);if(!i||t==null)return null;var x=Do(i,!1);return Z.createElement(Z.Fragment,null,t.map((k,N)=>{var{value:M,background:D,tooltipPosition:H}=k,q=kN(k,hNe);if(!D)return null;var $=f(k,N),ce=y(k,N),V=C(k,N),he=xh(xh(xh(xh(xh({option:i,isActive:String(N)===e},q),{},{fill:"#eee"},D),x),pO(A,k,N)),{},{onMouseEnter:$,onMouseLeave:ce,onClick:V,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return Z.createElement(kj,vv({key:"background-bar-".concat(he.index)},he))}))}function bNe(r){var{showLabels:e,children:t,rects:n}=r,i=n?.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return xh(xh({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return Z.createElement(yj,{value:e?i:void 0},t)}function wNe(r){var{shape:e,activeBar:t,baseProps:n,entry:i,index:a,dataKey:o}=r,s=mn(gv),c=mn($ee),A=t&&String(a)===s&&(c==null||o===c),f=A?t:e;return Z.createElement(kj,vv({},n,i,{isActive:A,option:f,index:a,dataKey:o}))}function xNe(r){var{shape:e,baseProps:t,entry:n,index:i,dataKey:a}=r;return Z.createElement(kj,vv({},t,n,{isActive:!1,option:e,index:i,dataKey:a}))}function CNe(r){var{data:e,props:t}=r,n=af(t),{id:i}=n,a=kN(n,ANe),{shape:o,dataKey:s,activeBar:c}=t,{onMouseEnter:A,onClick:f,onMouseLeave:y}=t,C=kN(t,dNe),x=Cj(A,s),k=Ej(y),N=Sj(f,s);return e?Z.createElement(Z.Fragment,null,e.map((M,D)=>Z.createElement(Cs,vv({className:"recharts-bar-rectangle"},pO(C,M,D),{onMouseEnter:x(M,D),onMouseLeave:k(M,D),onClick:N(M,D),key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(D)}),c?Z.createElement(wNe,{shape:o,activeBar:c,baseProps:a,entry:M,index:D,dataKey:s}):Z.createElement(xNe,{shape:o,baseProps:a,entry:M,index:D,dataKey:s})))):null}function ENe(r){var{props:e,previousRectanglesRef:t}=r,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:A,onAnimationStart:f}=e,y=t.current,C=Vw(e,"recharts-bar-"),[x,k]=Z.useState(!1),N=!x,M=Z.useCallback(()=>{typeof A=="function"&&A(),k(!1)},[A]),D=Z.useCallback(()=>{typeof f=="function"&&f(),k(!0)},[f]);return Z.createElement(bNe,{showLabels:N,rects:n},Z.createElement(Kw,{animationId:C,begin:o,duration:s,isActive:a,easing:c,onAnimationEnd:M,onAnimationStart:D,key:C},H=>{var q=H===1?n:n?.map(($,ce)=>{var V=y&&y[ce];if(V)return xh(xh({},$),{},{x:za(V.x,$.x,H),y:za(V.y,$.y,H),width:za(V.width,$.width,H),height:za(V.height,$.height,H)});if(i==="horizontal"){var he=za(0,$.height,H);return xh(xh({},$),{},{y:$.y+$.height-he,height:he})}var le=za(0,$.width,H);return xh(xh({},$),{},{width:le})});return H>0&&(t.current=q??null),q==null?null:Z.createElement(Cs,null,Z.createElement(CNe,{props:e,data:q}))}),Z.createElement($O,{label:e.label}),e.children)}function SNe(r){var e=Z.useRef(null);return Z.createElement(ENe,{previousRectanglesRef:e,props:r})}var Ste=0,TNe=(r,e)=>{var t=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:t,errorVal:Ka(r,e)}};class BNe extends Z.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:c,id:A}=this.props;if(e||t==null)return null;var f=ki("recharts-bar",i),y=A;return Z.createElement(Cs,{className:f,id:A},s&&Z.createElement("defs",null,Z.createElement(Nj,{clipPathId:y,xAxisId:a,yAxisId:o})),Z.createElement(Cs,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(y,")"):void 0},Z.createElement(_Ne,{data:t,dataKey:n,background:c,allOtherBarProps:this.props}),Z.createElement(SNe,this.props)))}}var INe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Dg.isSsr,legendType:"rect",minPointSize:Ste,xAxisId:0,yAxisId:0};function kNe(r){var{xAxisId:e,yAxisId:t,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:A,isAnimationActive:f}=r,{needClip:y}=XO(e,t),C=FS(),x=Yu(),k=J6(r.children,JS),N=mn(H=>iPe(H,e,t,x,r.id,k));if(C!=="vertical"&&C!=="horizontal")return null;var M,D=N?.[0];return D==null||D.height==null||D.width==null?M=0:M=C==="vertical"?D.height/2:D.width/2,Z.createElement(Ete,{xAxisId:e,yAxisId:t,data:N,dataPointFormatter:TNe,errorBarOffset:M},Z.createElement(BNe,vv({},r,{layout:C,needClip:y,data:N,xAxisId:e,yAxisId:t,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:A,isAnimationActive:f})))}function NNe(r){var{layout:e,barSettings:{dataKey:t,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:A,stackedData:f,displayedData:y,offset:C,cells:x,parentViewBox:k}=r,N=e==="horizontal"?s:o,M=f?N.scale.domain():null,D=ibe({numericAxis:N});return y.map((H,q)=>{var $,ce,V,he,le,fe;f?$=J1e(f[q],M):($=Ka(H,t),Array.isArray($)||($=[D,$]));var Ne=rNe(n,Ste)($[1],q);if(e==="horizontal"){var W,[ue,de]=[s.scale($[0]),s.scale($[1])];ce=E9({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:H,index:q}),V=(W=de??ue)!==null&&W!==void 0?W:void 0,he=i.size;var me=ue-de;if(le=mA(me)?0:me,fe={x:ce,y:C.top,width:he,height:C.height},Math.abs(Ne)>0&&Math.abs(le)<Math.abs(Ne)){var Qe=yc(le||Ne)*(Math.abs(Ne)-Math.abs(le));V-=Qe,le+=Qe}}else{var[Ee,_e]=[o.scale($[0]),o.scale($[1])];if(ce=Ee,V=E9({axis:s,ticks:A,bandSize:a,offset:i.offset,entry:H,index:q}),he=_e-Ee,le=i.size,fe={x:C.left,y:V,width:C.width,height:le},Math.abs(Ne)>0&&Math.abs(he)<Math.abs(Ne)){var ke=yc(he||Ne)*(Math.abs(Ne)-Math.abs(he));he+=ke}}if(ce==null||V==null||he==null||le==null)return null;var We=xh(xh({},H),{},{x:ce,y:V,width:he,height:le,value:f?$:$[1],payload:H,background:fe,tooltipPosition:{x:ce+he/2,y:V+le/2},parentViewBox:k},x&&x[q]&&x[q].props);return We}).filter(Boolean)}function PNe(r){var e=zl(r,INe),t=Yu();return Z.createElement(WO,{id:e.id,type:"bar"},n=>Z.createElement(Z.Fragment,null,Z.createElement(Tj,{legendPayload:yNe(e)}),Z.createElement(YO,{fn:vNe,args:e}),Z.createElement(Bj,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:PX(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),Z.createElement(kNe,vv({},e,{id:n}))))}var Tte=Z.memo(PNe);Tte.displayName="Bar";function FK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function iI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FK(Object(t),!0).forEach(function(n){ONe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ONe(r,e,t){return(e=MNe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function MNe(r){var e=LNe(r,"string");return typeof e=="symbol"?e:e+""}function LNe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var RNe=(r,e)=>e,DNe=(r,e,t)=>t,UNe=(r,e,t,n)=>n,FNe=(r,e,t,n,i)=>i,eT=Rt([$S,FNe],(r,e)=>r.filter(t=>t.type==="bar").find(t=>t.id===e)),jNe=Rt([eT],r=>r?.maxBarSize),QNe=(r,e,t,n,i,a)=>a,jK=(r,e,t)=>{var n=t??r;if(!Ro(n))return Gu(n,e,0)},HNe=Rt([Ki,$S,RNe,DNe,UNe],(r,e,t,n,i)=>e.filter(a=>r==="horizontal"?a.xAxisId===t:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),zNe=(r,e,t,n)=>{var i=Ki(r);return i==="horizontal"?rS(r,"yAxis",t,n):rS(r,"xAxis",e,n)},qNe=(r,e,t)=>{var n=Ki(r);return n==="horizontal"?jq(r,"xAxis",e):jq(r,"yAxis",t)},KNe=(r,e,t)=>{var n={},i=r.filter(jO),a=r.filter(A=>A.stackId==null),o=i.reduce((A,f)=>(A[f.stackId]||(A[f.stackId]=[]),A[f.stackId].push(f),A),n),s=Object.entries(o).map(A=>{var[f,y]=A,C=y.map(k=>k.dataKey),x=jK(e,t,y[0].barSize);return{stackId:f,dataKeys:C,barSize:x}}),c=a.map(A=>{var f=[A.dataKey].filter(C=>C!=null),y=jK(e,t,A.barSize);return{stackId:void 0,dataKeys:f,barSize:y}});return[...s,...c]},VNe=Rt([HNe,EEe,qNe],KNe),GNe=(r,e,t,n,i)=>{var a,o,s=eT(r,e,t,n,i);if(s!=null){var c=Ki(r),A=VJ(r),{maxBarSize:f}=s,y=Ro(f)?A:f,C,x;return c==="horizontal"?(C=Jp(r,"xAxis",e,n),x=Xp(r,"xAxis",e,n)):(C=Jp(r,"yAxis",t,n),x=Xp(r,"yAxis",t,n)),(a=(o=S_(C,x,!0))!==null&&o!==void 0?o:y)!==null&&a!==void 0?a:0}},Bte=(r,e,t,n)=>{var i=Ki(r),a,o;return i==="horizontal"?(a=Jp(r,"xAxis",e,n),o=Xp(r,"xAxis",e,n)):(a=Jp(r,"yAxis",t,n),o=Xp(r,"yAxis",t,n)),S_(a,o)};function $Ne(r,e,t,n,i){var a=n.length;if(!(a<1)){var o=Gu(r,t,0,!0),s,c=[];if(au(n[0].barSize)){var A=!1,f=t/a,y=n.reduce((D,H)=>D+(H.barSize||0),0);y+=(a-1)*o,y>=t&&(y-=(a-1)*o,o=0),y>=t&&f>0&&(A=!0,f*=.9,y=a*f);var C=(t-y)/2>>0,x={offset:C-o,size:0};s=n.reduce((D,H)=>{var q,$={stackId:H.stackId,dataKeys:H.dataKeys,position:{offset:x.offset+x.size+o,size:A?f:(q=H.barSize)!==null&&q!==void 0?q:0}},ce=[...D,$];return x=ce[ce.length-1].position,ce},c)}else{var k=Gu(e,t,0,!0);t-2*k-(a-1)*o<=0&&(o=0);var N=(t-2*k-(a-1)*o)/a;N>1&&(N>>=0);var M=au(i)?Math.min(N,i):N;s=n.reduce((D,H,q)=>[...D,{stackId:H.stackId,dataKeys:H.dataKeys,position:{offset:k+(N+o)*q+(N-M)/2,size:M}}],c)}return s}}var YNe=(r,e,t,n,i,a,o)=>{var s=Ro(o)?e:o,c=$Ne(t,n,i!==a?i:a,r,s);return i!==a&&c!=null&&(c=c.map(A=>iI(iI({},A),{},{position:iI(iI({},A.position),{},{offset:A.position.offset-i/2})}))),c},WNe=Rt([VNe,VJ,CEe,GJ,GNe,Bte,jNe],YNe),ZNe=(r,e,t,n)=>Jp(r,"xAxis",e,n),XNe=(r,e,t,n)=>Jp(r,"yAxis",t,n),JNe=(r,e,t,n)=>Xp(r,"xAxis",e,n),ePe=(r,e,t,n)=>Xp(r,"yAxis",t,n),tPe=Rt([WNe,eT],(r,e)=>{if(!(r==null||e==null)){var t=r.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),rPe=(r,e)=>{var t=FO(e);if(!(!r||t==null||e==null)){var{stackId:n}=e;if(n!=null){var i=r[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===t)}}}},nPe=Rt([zNe,eT],rPe),iPe=Rt([Hl,h5,ZNe,XNe,JNe,ePe,tPe,Ki,qS,Bte,nPe,eT,QNe],(r,e,t,n,i,a,o,s,c,A,f,y,C)=>{var{chartData:x,dataStartIndex:k,dataEndIndex:N}=c;if(!(y==null||o==null||e==null||s!=="horizontal"&&s!=="vertical"||t==null||n==null||i==null||a==null||A==null)){var{data:M}=y,D;if(M!=null&&M.length>0?D=M:D=x?.slice(k,N+1),D!=null)return NNe({layout:s,barSettings:y,pos:o,parentViewBox:e,bandSize:A,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:D,offset:r,cells:C})}}),Ite=r=>{var{chartData:e}=r,t=Xs(),n=Yu();return Z.useEffect(()=>n?()=>{}:(t(Wq(e)),()=>{t(Wq(void 0))}),[e,t,n]),null},QK={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kte=pd({name:"brush",initialState:QK,reducers:{setBrushSettings(r,e){return e.payload==null?QK:e.payload}}}),{setBrushSettings:uYe}=kte.actions,aPe=kte.reducer;function oPe(r,e,t){return(e=sPe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sPe(r){var e=lPe(r,"string");return typeof e=="symbol"?e:e+""}function lPe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Pj{static create(e){return new Pj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],i=t[t.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}oPe(Pj,"EPS",1e-4);function cPe(r){return(r%180+180)%180}var uPe=function(e){var{width:t,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=cPe(i),o=a*Math.PI/180,s=Math.atan(n/t),c=o>s&&o<Math.PI-s?n/Math.sin(o):t/Math.cos(o);return Math.abs(c)},hPe={dots:[],areas:[],lines:[]},Nte=pd({name:"referenceElements",initialState:hPe,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=ag(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=ag(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=ag(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:hYe,removeDot:AYe,addArea:dYe,removeArea:fYe,addLine:pYe,removeLine:mYe}=Nte.actions,APe=Nte.reducer,dPe=Z.createContext(void 0),fPe=r=>{var{children:e}=r,[t]=Z.useState("".concat(GE("recharts"),"-clip")),n=ZO();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return Z.createElement(dPe.Provider,{value:t},Z.createElement("defs",null,Z.createElement("clipPath",{id:t},Z.createElement("rect",{x:i,y:a,height:s,width:o}))),e)};function Ew(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function Pte(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],i=0;i<r.length;i+=e)n.push(r[i]);return n}function pPe(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return uPe(n,t)}function mPe(r,e,t){var n=t==="width",{x:i,y:a,width:o,height:s}=r;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function NN(r,e,t,n,i){if(r*e<r*n||r*e>r*i)return!1;var a=t();return r*(e-r*a/2-n)>=0&&r*(e+r*a/2-i)<=0}function gPe(r,e){return Pte(r,e+1)}function yPe(r,e,t,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=e,c=0,A=1,f=o,y=function(){var k=n?.[c];if(k===void 0)return{v:Pte(n,A)};var N=c,M,D=()=>(M===void 0&&(M=t(k,N)),M),H=k.coordinate,q=c===0||NN(r,H,D,f,s);q||(c=0,f=o,A+=1),q&&(f=H+r*(D()/2+i),c+=A)},C;A<=a.length;)if(C=y(),C)return C.v;return[]}function HK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HK(Object(t),!0).forEach(function(n){vPe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vPe(r,e,t){return(e=_Pe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _Pe(r){var e=bPe(r,"string");return typeof e=="symbol"?e:e+""}function bPe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function wPe(r,e,t,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=e,{end:c}=e,A=function(C){var x=a[C],k,N=()=>(k===void 0&&(k=t(x,C)),k);if(C===o-1){var M=r*(x.coordinate+r*N()/2-c);a[C]=x=Qu(Qu({},x),{},{tickCoord:M>0?x.coordinate-M*r:x.coordinate})}else a[C]=x=Qu(Qu({},x),{},{tickCoord:x.coordinate});var D=NN(r,x.tickCoord,N,s,c);D&&(c=x.tickCoord-r*(N()/2+i),a[C]=Qu(Qu({},x),{},{isShow:!0}))},f=o-1;f>=0;f--)A(f);return a}function xPe(r,e,t,n,i,a){var o=(n||[]).slice(),s=o.length,{start:c,end:A}=e;if(a){var f=n[s-1],y=t(f,s-1),C=r*(f.coordinate+r*y/2-A);o[s-1]=f=Qu(Qu({},f),{},{tickCoord:C>0?f.coordinate-C*r:f.coordinate});var x=NN(r,f.tickCoord,()=>y,c,A);x&&(A=f.tickCoord-r*(y/2+i),o[s-1]=Qu(Qu({},f),{},{isShow:!0}))}for(var k=a?s-1:s,N=function(H){var q=o[H],$,ce=()=>($===void 0&&($=t(q,H)),$);if(H===0){var V=r*(q.coordinate-r*ce()/2-c);o[H]=q=Qu(Qu({},q),{},{tickCoord:V<0?q.coordinate-V*r:q.coordinate})}else o[H]=q=Qu(Qu({},q),{},{tickCoord:q.coordinate});var he=NN(r,q.tickCoord,ce,c,A);he&&(c=q.tickCoord+r*(ce()/2+i),o[H]=Qu(Qu({},q),{},{isShow:!0}))},M=0;M<k;M++)N(M);return o}function Oj(r,e,t){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:A,unit:f,angle:y}=r;if(!i||!i.length||!n)return[];if(pn(c)||Dg.isSsr){var C;return(C=gPe(i,pn(c)?c:0))!==null&&C!==void 0?C:[]}var x=[],k=s==="top"||s==="bottom"?"width":"height",N=f&&k==="width"?gE(f,{fontSize:e,letterSpacing:t}):{width:0,height:0},M=(q,$)=>{var ce=typeof A=="function"?A(q.value,$):q.value;return k==="width"?pPe(gE(ce,{fontSize:e,letterSpacing:t}),N,y):gE(ce,{fontSize:e,letterSpacing:t})[k]},D=i.length>=2?yc(i[1].coordinate-i[0].coordinate):1,H=mPe(a,D,k);return c==="equidistantPreserveStart"?yPe(D,H,M,i,o):(c==="preserveStart"||c==="preserveStartEnd"?x=xPe(D,H,M,i,o,c==="preserveStartEnd"):x=wPe(D,H,M,i,o),x.filter(q=>q.isShow))}var CPe=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=r,o=0;if(e){e.forEach(f=>{if(f){var y=f.getBoundingClientRect();y.width>o&&(o=y.width)}});var s=t?t.getBoundingClientRect().width:0,c=i+a,A=o+c+s+(t?n:0);return Math.round(A)}return 0},EPe=["axisLine","width","height","className","hide","ticks"],SPe=["viewBox"],TPe=["viewBox"];function PU(r,e){if(r==null)return{};var t,n,i=BPe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function BPe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function B_(){return B_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},B_.apply(null,arguments)}function zK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ul(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zK(Object(t),!0).forEach(function(n){IPe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function IPe(r,e,t){return(e=kPe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kPe(r){var e=NPe(r,"string");return typeof e=="symbol"?e:e+""}function NPe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Mj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function PPe(r){var{x:e,y:t,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=r;if(!s)return null;var A=Ul(Ul(Ul({},c),Do(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);A=Ul(Ul({},A),{},{x1:e,y1:t+f*i,x2:e+n,y2:t+f*i})}else{var y=+(a==="left"&&!o||a==="right"&&o);A=Ul(Ul({},A),{},{x1:e+y*n,y1:t,x2:e+y*n,y2:t+i})}return Z.createElement("line",B_({},A,{className:ki("recharts-cartesian-axis-line",x_(s,"className"))}))}function OPe(r,e,t,n,i,a,o,s,c){var A,f,y,C,x,k,N=s?-1:1,M=r.tickSize||o,D=pn(r.tickCoord)?r.tickCoord:r.coordinate;switch(a){case"top":A=f=r.coordinate,C=t+ +!s*i,y=C-N*M,k=y-N*c,x=D;break;case"left":y=C=r.coordinate,f=e+ +!s*n,A=f-N*M,x=A-N*c,k=D;break;case"right":y=C=r.coordinate,f=e+ +s*n,A=f+N*M,x=A+N*c,k=D;break;default:A=f=r.coordinate,C=t+ +s*i,y=C+N*M,k=y+N*c,x=D;break}return{line:{x1:A,y1:y,x2:f,y2:C},tick:{x,y:k}}}function MPe(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function LPe(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function RPe(r){var{option:e,tickProps:t,value:n}=r,i,a=ki(t.className,"recharts-cartesian-axis-tick-value");if(Z.isValidElement(e))i=Z.cloneElement(e,Ul(Ul({},t),{},{className:a}));else if(typeof e=="function")i=e(Ul(Ul({},t),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=ki(o,e?.className)),i=Z.createElement(GO,B_({},t,{className:o}),n)}return i}function DPe(r){var{ticks:e=[],tick:t,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:c,orientation:A,mirror:f,x:y,y:C,width:x,height:k,tickSize:N,tickMargin:M,fontSize:D,letterSpacing:H,getTicksConfig:q,events:$}=r,ce=Oj(Ul(Ul({},q),{},{ticks:e}),D,H),V=MPe(A,f),he=LPe(A,f),le=af(q),fe=Do(t,!1),Ne=Ul(Ul({},le),{},{fill:"none"},Do(n,!1)),W=ce.map((ue,de)=>{var{line:me,tick:Qe}=OPe(ue,y,C,x,k,A,N,f,M),Ee=Ul(Ul(Ul(Ul({textAnchor:V,verticalAnchor:he},le),{},{stroke:"none",fill:i},fe),Qe),{},{index:de,payload:ue,visibleTicksCount:ce.length,tickFormatter:a,padding:s},c);return Z.createElement(Cs,B_({className:"recharts-cartesian-axis-tick",key:"tick-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},pO($,ue,de)),n&&Z.createElement("line",B_({},Ne,me,{className:ki("recharts-cartesian-axis-tick-line",x_(n,"className"))})),t&&Z.createElement(RPe,{option:t,tickProps:Ee,value:"".concat(typeof a=="function"?a(ue.value,de):ue.value).concat(o||"")}))});return W.length>0?Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},W):null}var UPe=Z.forwardRef((r,e)=>{var{axisLine:t,width:n,height:i,className:a,hide:o,ticks:s}=r,c=PU(r,EPe),[A,f]=Z.useState(""),[y,C]=Z.useState(""),x=Z.useRef([]);Z.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var N;return CPe({ticks:x.current,label:(N=r.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var k=Z.useCallback(N=>{if(N){var M=N.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(M);var D=M[0];if(D){var H=window.getComputedStyle(D),q=H.fontSize,$=H.letterSpacing;(q!==A||$!==y)&&(f(q),C($))}}},[A,y]);return o||n!=null&&n<=0||i!=null&&i<=0?null:Z.createElement(Cs,{className:ki("recharts-cartesian-axis",a),ref:k},Z.createElement(PPe,{x:r.x,y:r.y,width:n,height:i,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:af(r)}),Z.createElement(DPe,{ticks:s,tick:r.tick,tickLine:r.tickLine,stroke:r.stroke,tickFormatter:r.tickFormatter,unit:r.unit,padding:r.padding,tickTextProps:r.tickTextProps,orientation:r.orientation,mirror:r.mirror,x:r.x,y:r.y,width:r.width,height:r.height,tickSize:r.tickSize,tickMargin:r.tickMargin,fontSize:A,letterSpacing:y,getTicksConfig:r,events:c}),Z.createElement(qBe,{x:r.x,y:r.y,width:r.width,height:r.height},Z.createElement(eIe,{label:r.label}),r.children))}),FPe=Z.memo(UPe,(r,e)=>{var{viewBox:t}=r,n=PU(r,SPe),{viewBox:i}=e,a=PU(e,TPe);return Ew(t,i)&&Ew(n,a)}),Lj=Z.forwardRef((r,e)=>{var t=zl(r,Mj);return Z.createElement(FPe,B_({},t,{ref:e}))});Lj.displayName="CartesianAxis";var jPe=["x1","y1","x2","y2","key"],QPe=["offset"],HPe=["xAxisId","yAxisId"],zPe=["xAxisId","yAxisId"];function qK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qK(Object(t),!0).forEach(function(n){qPe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qPe(r,e,t){return(e=KPe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KPe(r){var e=VPe(r,"string");return typeof e=="symbol"?e:e+""}function VPe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function K0(){return K0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},K0.apply(null,arguments)}function PN(r,e){if(r==null)return{};var t,n,i=GPe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function GPe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var $Pe=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:i,width:a,height:o,ry:s}=r;return Z.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function Ote(r,e){var t;if(Z.isValidElement(r))t=Z.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=e,c=PN(e,jPe),A=af(c),{offset:f}=A,y=PN(A,QPe);t=Z.createElement("line",K0({},y,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return t}function YPe(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:i}=r;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=r,s=PN(r,HPe),c=i.map((A,f)=>{var y=zu(zu({},s),{},{x1:e,y1:A,x2:e+t,y2:A,key:"line-".concat(f),index:f});return Ote(n,y)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function WPe(r){var{y:e,height:t,vertical:n=!0,verticalPoints:i}=r;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=r,s=PN(r,zPe),c=i.map((A,f)=>{var y=zu(zu({},s),{},{x1:A,y1:e,x2:A,y2:e+t,key:"line-".concat(f),index:f});return Ote(n,y)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function ZPe(r){var{horizontalFill:e,fillOpacity:t,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=r;if(!c||!e||!e.length)return null;var A=s.map(y=>Math.round(y+i-i)).sort((y,C)=>y-C);i!==A[0]&&A.unshift(0);var f=A.map((y,C)=>{var x=!A[C+1],k=x?i+o-y:A[C+1]-y;if(k<=0)return null;var N=C%e.length;return Z.createElement("rect",{key:"react-".concat(C),y,x:n,height:k,width:a,stroke:"none",fill:e[N],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function XPe(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:c}=r;if(!e||!t||!t.length)return null;var A=c.map(y=>Math.round(y+i-i)).sort((y,C)=>y-C);i!==A[0]&&A.unshift(0);var f=A.map((y,C)=>{var x=!A[C+1],k=x?i+o-y:A[C+1]-y;if(k<=0)return null;var N=C%t.length;return Z.createElement("rect",{key:"react-".concat(C),x:y,y:a,width:k,height:s,stroke:"none",fill:t[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JPe=(r,e)=>{var{xAxis:t,width:n,height:i,offset:a}=r;return kX(Oj(zu(zu(zu({},Mj),t),{},{ticks:NX(t),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},eOe=(r,e)=>{var{yAxis:t,width:n,height:i,offset:a}=r;return kX(Oj(zu(zu(zu({},Mj),t),{},{ticks:NX(t),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},tOe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ik(r){var e=DX(),t=UX(),n=RX(),i=zu(zu({},zl(r,tOe)),{},{x:pn(r.x)?r.x:n.left,y:pn(r.y)?r.y:n.top,width:pn(r.width)?r.width:n.width,height:pn(r.height)?r.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:A,height:f,syncWithTicks:y,horizontalValues:C,verticalValues:x}=i,k=Yu(),N=mn(fe=>Qq(fe,"xAxis",a,k)),M=mn(fe=>Qq(fe,"yAxis",o,k));if(!pn(A)||A<=0||!pn(f)||f<=0||!pn(s)||s!==+s||!pn(c)||c!==+c)return null;var D=i.verticalCoordinatesGenerator||JPe,H=i.horizontalCoordinatesGenerator||eOe,{horizontalPoints:q,verticalPoints:$}=i;if((!q||!q.length)&&typeof H=="function"){var ce=C&&C.length,V=H({yAxis:M?zu(zu({},M),{},{ticks:ce?C:M.ticks}):void 0,width:e,height:t,offset:n},ce?!0:y);mE(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(q=V)}if((!$||!$.length)&&typeof D=="function"){var he=x&&x.length,le=D({xAxis:N?zu(zu({},N),{},{ticks:he?x:N.ticks}):void 0,width:e,height:t,offset:n},he?!0:y);mE(Array.isArray(le),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof le,"]")),Array.isArray(le)&&($=le)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement($Pe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),Z.createElement(ZPe,K0({},i,{horizontalPoints:q})),Z.createElement(XPe,K0({},i,{verticalPoints:$})),Z.createElement(YPe,K0({},i,{offset:n,horizontalPoints:q,xAxis:N,yAxis:M})),Z.createElement(WPe,K0({},i,{offset:n,verticalPoints:$,xAxis:N,yAxis:M})))}ik.displayName="CartesianGrid";var Mte=(r,e,t,n)=>Jp(r,"xAxis",e,n),Lte=(r,e,t,n)=>Xp(r,"xAxis",e,n),Rte=(r,e,t,n)=>Jp(r,"yAxis",t,n),Dte=(r,e,t,n)=>Xp(r,"yAxis",t,n),rOe=Rt([Ki,Mte,Rte,Lte,Dte],(r,e,t,n,i)=>lm(r,"xAxis")?S_(e,n,!1):S_(t,i,!1)),nOe=(r,e,t,n,i)=>i;function iOe(r){return r.type==="line"}var aOe=Rt([$S,nOe],(r,e)=>r.filter(iOe).find(t=>t.id===e)),oOe=Rt([Ki,Mte,Rte,Lte,Dte,aOe,rOe,qS],(r,e,t,n,i,a,o,s)=>{var{chartData:c,dataStartIndex:A,dataEndIndex:f}=s;if(!(a==null||e==null||t==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:y,data:C}=a,x;if(C!=null&&C.length>0?x=C:x=c?.slice(A,f+1),x!=null)return BOe({layout:r,xAxis:e,yAxis:t,xAxisTicks:n,yAxisTicks:i,dataKey:y,bandSize:o,displayedData:x})}}),sOe=["id"],lOe=["type","layout","connectNulls","needClip"],cOe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function KK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ad(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KK(Object(t),!0).forEach(function(n){uOe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function uOe(r,e,t){return(e=hOe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hOe(r){var e=AOe(r,"string");return typeof e=="symbol"?e:e+""}function AOe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Rj(r,e){if(r==null)return{};var t,n,i=dOe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function dOe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function I_(){return I_=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},I_.apply(null,arguments)}var fOe=r=>{var{dataKey:e,name:t,stroke:n,legendType:i,hide:a}=r;return[{inactive:a,dataKey:e,type:i,color:n,value:Cv(t,e),payload:r}]};function pOe(r){var{dataKey:e,data:t,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:c}=r;return{dataDefinedOnItem:t,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Cv(o,e),hide:s,type:r.tooltipType,color:r.stroke,unit:c}}}var Ute=(r,e)=>"".concat(e,"px ").concat(r-e,"px");function mOe(r,e){for(var t=r.length%2!==0?[...r,0]:r,n=[],i=0;i<e;++i)n=[...n,...t];return n}var gOe=(r,e,t)=>{var n=t.reduce((y,C)=>y+C);if(!n)return Ute(e,r);for(var i=Math.floor(r/n),a=r%n,o=e-r,s=[],c=0,A=0;c<t.length;A+=t[c],++c)if(A+t[c]>a){s=[...t.slice(0,c),a-A];break}var f=s.length%2===0?[0,o]:[o];return[...mOe(t,i),...s,...f].map(y=>"".concat(y,"px")).join(", ")};function yOe(r,e){var t;if(Z.isValidElement(r))t=Z.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var n=ki("recharts-line-dot",typeof r!="boolean"?r.className:"");t=Z.createElement(vj,I_({},e,{className:n}))}return t}function vOe(r,e){return r==null?!1:e?!0:r.length===1}function _Oe(r){var{clipPathId:e,points:t,props:n}=r,{dot:i,dataKey:a,needClip:o}=n;if(!vOe(t,i))return null;var{id:s}=n,c=Rj(n,sOe),A=mO(i),f=af(c),y=Do(i,!0),C=t.map((k,N)=>{var M=ad(ad(ad({key:"dot-".concat(N),r:3},f),y),{},{index:N,cx:k.x,cy:k.y,dataKey:a,value:k.value,payload:k.payload,points:t});return yOe(i,M)}),x={clipPath:o?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return Z.createElement(Cs,I_({className:"recharts-line-dots",key:"dots"},x),C)}function bOe(r){var{showLabels:e,children:t,points:n}=r,i=Z.useMemo(()=>n?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return ad(ad({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return Z.createElement(yj,{value:e?i:null},t)}function VK(r){var{clipPathId:e,pathRef:t,points:n,strokeDasharray:i,props:a}=r,{type:o,layout:s,connectNulls:c,needClip:A}=a,f=Rj(a,lOe),y=ad(ad({},Do(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:A?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:s,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return Z.createElement(Z.Fragment,null,n?.length>1&&Z.createElement(Jb,I_({},y,{pathRef:t})),Z.createElement(_Oe,{points:n,clipPathId:e,props:a}))}function wOe(r){try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}function xOe(r){var{clipPathId:e,props:t,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=r,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:A,animationDuration:f,animationEasing:y,animateNewValues:C,width:x,height:k,onAnimationEnd:N,onAnimationStart:M}=t,D=i.current,H=Vw(t,"recharts-line-"),[q,$]=Z.useState(!1),ce=!q,V=Z.useCallback(()=>{typeof N=="function"&&N(),$(!1)},[N]),he=Z.useCallback(()=>{typeof M=="function"&&M(),$(!0)},[M]),le=wOe(n.current),fe=a.current;return Z.createElement(bOe,{points:o,showLabels:ce},t.children,Z.createElement(Kw,{animationId:H,begin:A,duration:f,isActive:c,easing:y,onAnimationEnd:V,onAnimationStart:he,key:H},Ne=>{var W=za(fe,le+fe,Ne),ue=Math.min(W,le),de;if(c)if(s){var me="".concat(s).split(/[,\s]+/gim).map(_e=>parseFloat(_e));de=gOe(ue,le,me)}else de=Ute(le,ue);else de=s==null?void 0:String(s);if(D){var Qe=D.length/o.length,Ee=Ne===1?o:o.map((_e,ke)=>{var We=Math.floor(ke*Qe);if(D[We]){var Oe=D[We];return ad(ad({},_e),{},{x:za(Oe.x,_e.x,Ne),y:za(Oe.y,_e.y,Ne)})}return C?ad(ad({},_e),{},{x:za(x*2,_e.x,Ne),y:za(k/2,_e.y,Ne)}):ad(ad({},_e),{},{x:_e.x,y:_e.y})});return i.current=Ee,Z.createElement(VK,{props:t,points:Ee,clipPathId:e,pathRef:n,strokeDasharray:de})}return Ne>0&&le>0&&(i.current=o,a.current=ue),Z.createElement(VK,{props:t,points:o,clipPathId:e,pathRef:n,strokeDasharray:de})}),Z.createElement($O,{label:t.label}))}function COe(r){var{clipPathId:e,props:t}=r,n=Z.useRef(null),i=Z.useRef(0),a=Z.useRef(null);return Z.createElement(xOe,{props:t,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var EOe=(r,e)=>({x:r.x,y:r.y,value:r.value,errorVal:Ka(r.payload,e)});class SOe extends Z.Component{render(){var e,{hide:t,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:c,left:A,width:f,height:y,id:C,needClip:x}=this.props;if(t)return null;var k=ki("recharts-line",a),N=C,{r:M=3,strokeWidth:D=2}=(e=Do(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},H=mO(n),q=M*2+D;return Z.createElement(Z.Fragment,null,Z.createElement(Cs,{className:k},x&&Z.createElement("defs",null,Z.createElement(Nj,{clipPathId:N,xAxisId:o,yAxisId:s}),!H&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(N)},Z.createElement("rect",{x:A-q/2,y:c-q/2,width:f+q,height:y+q}))),Z.createElement(Ete,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:EOe,errorBarOffset:0},Z.createElement(COe,{props:this.props,clipPathId:N}))),Z.createElement(kU,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Fte={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Dg.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function TOe(r){var e=zl(r,Fte),{activeDot:t,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:A,isAnimationActive:f,label:y,legendType:C,xAxisId:x,yAxisId:k,id:N}=e,M=Rj(e,cOe),{needClip:D}=XO(x,k),H=ZO(),q=FS(),$=Yu(),ce=mn(Ne=>oOe(Ne,x,k,$,N));if(q!=="horizontal"&&q!=="vertical"||ce==null||H==null)return null;var{height:V,width:he,x:le,y:fe}=H;return Z.createElement(SOe,I_({},M,{id:N,connectNulls:s,dot:c,activeDot:t,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:A,label:y,legendType:C,xAxisId:x,yAxisId:k,points:ce,layout:q,height:V,width:he,left:le,top:fe,needClip:D}))}function BOe(r){var{layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=r;return c.map((A,f)=>{var y=Ka(A,o);if(e==="horizontal"){var C=uN({axis:t,ticks:i,bandSize:s,entry:A,index:f}),x=Ro(y)?null:n.scale(y);return{x:C,y:x,value:y,payload:A}}var k=Ro(y)?null:t.scale(y),N=uN({axis:n,ticks:a,bandSize:s,entry:A,index:f});return k==null||N==null?null:{x:k,y:N,value:y,payload:A}}).filter(Boolean)}function IOe(r){var e=zl(r,Fte),t=Yu();return Z.createElement(WO,{id:e.id,type:"line"},n=>Z.createElement(Z.Fragment,null,Z.createElement(Tj,{legendPayload:fOe(e)}),Z.createElement(YO,{fn:pOe,args:e}),Z.createElement(Bj,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:t}),Z.createElement(TOe,I_({},e,{id:n}))))}var jte=Z.memo(IOe);jte.displayName="Line";var Qte=(r,e,t,n)=>Jp(r,"xAxis",e,n),Hte=(r,e,t,n)=>Xp(r,"xAxis",e,n),zte=(r,e,t,n)=>Jp(r,"yAxis",t,n),qte=(r,e,t,n)=>Xp(r,"yAxis",t,n),kOe=Rt([Ki,Qte,zte,Hte,qte],(r,e,t,n,i)=>lm(r,"xAxis")?S_(e,n,!1):S_(t,i,!1)),NOe=(r,e,t,n,i)=>i,Kte=Rt([$S,NOe],(r,e)=>r.filter(t=>t.type==="area").find(t=>t.id===e)),POe=(r,e,t,n,i)=>{var a,o=Kte(r,e,t,n,i);if(o!=null){var s=Ki(r),c=lm(s,"xAxis"),A;if(c?A=rS(r,"yAxis",t,n):A=rS(r,"xAxis",e,n),A!=null){var{stackId:f}=o,y=FO(o);if(!(f==null||y==null)){var C=(a=A[f])===null||a===void 0?void 0:a.stackedData;return C?.find(x=>x.key===y)}}}},OOe=Rt([Ki,Qte,zte,Hte,qte,POe,qS,kOe,Kte],(r,e,t,n,i,a,o,s,c)=>{var{chartData:A,dataStartIndex:f,dataEndIndex:y}=o;if(!(c==null||r!=="horizontal"&&r!=="vertical"||e==null||t==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:C}=c,x;if(C&&C.length>0?x=C:x=A?.slice(f,y+1),x!=null){var k=void 0;return eMe({layout:r,xAxis:e,yAxis:t,xAxisTicks:n,yAxisTicks:i,dataStartIndex:f,areaSettings:c,stackedData:a,displayedData:x,chartBaseValue:k,bandSize:s})}}}),MOe=["id"],LOe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vte(r,e){if(r==null)return{};var t,n,i=ROe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function ROe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function GK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Jm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GK(Object(t),!0).forEach(function(n){DOe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):GK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function DOe(r,e,t){return(e=UOe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function UOe(r){var e=FOe(r,"string");return typeof e=="symbol"?e:e+""}function FOe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function sg(){return sg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},sg.apply(null,arguments)}function ON(r,e){return r&&r!=="none"?r:e}var jOe=r=>{var{dataKey:e,name:t,stroke:n,fill:i,legendType:a,hide:o}=r;return[{inactive:o,dataKey:e,type:a,color:ON(n,i),value:Cv(t,e),payload:r}]};function QOe(r){var{dataKey:e,data:t,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:c}=r;return{dataDefinedOnItem:t,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Cv(o,e),hide:s,type:r.tooltipType,color:ON(n,a),unit:c}}}var HOe=(r,e)=>{var t;if(Z.isValidElement(r))t=Z.cloneElement(r,e);else if(typeof r=="function")t=r(e);else{var n=ki("recharts-area-dot",typeof r!="boolean"?r.className:"");t=Z.createElement(vj,sg({},e,{className:n}))}return t};function zOe(r,e){return r==null?!1:e?!0:r.length===1}function qOe(r){var{clipPathId:e,points:t,props:n}=r,{needClip:i,dot:a,dataKey:o}=n;if(!zOe(t,a))return null;var s=mO(a),c=af(n),A=Do(a,!0),f=t.map((C,x)=>{var k=Jm(Jm(Jm({key:"dot-".concat(x),r:3},c),A),{},{index:x,cx:C.x,cy:C.y,dataKey:o,value:C.value,payload:C.payload,points:t});return HOe(a,k)}),y={clipPath:i?"url(#clipPath-".concat(s?"":"dots-").concat(e,")"):void 0};return Z.createElement(Cs,sg({className:"recharts-area-dots"},y),f)}function KOe(r){var{showLabels:e,children:t,points:n}=r,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Jm(Jm({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return Z.createElement(yj,{value:e?i:null},t)}function $K(r){var{points:e,baseLine:t,needClip:n,clipPathId:i,props:a}=r,{layout:o,type:s,stroke:c,connectNulls:A,isRange:f}=a,{id:y}=a,C=Vte(a,MOe),x=af(C);return Z.createElement(Z.Fragment,null,e?.length>1&&Z.createElement(Cs,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},Z.createElement(Jb,sg({},x,{id:y,points:e,connectNulls:A,type:s,baseLine:t,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&Z.createElement(Jb,sg({},x,{className:"recharts-area-curve",layout:o,type:s,connectNulls:A,fill:"none",points:e})),c!=="none"&&f&&Z.createElement(Jb,sg({},x,{className:"recharts-area-curve",layout:o,type:s,connectNulls:A,fill:"none",points:t}))),Z.createElement(qOe,{points:e,props:C,clipPathId:i}))}function VOe(r){var{alpha:e,baseLine:t,points:n,strokeWidth:i}=r,a=n[0].y,o=n[n.length-1].y;if(!au(a)||!au(o))return null;var s=e*Math.abs(a-o),c=Math.max(...n.map(A=>A.x||0));return pn(t)?c=Math.max(t,c):t&&Array.isArray(t)&&t.length&&(c=Math.max(...t.map(A=>A.x||0),c)),pn(c)?Z.createElement("rect",{x:0,y:a<o?a:a-s,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(s)}):null}function GOe(r){var{alpha:e,baseLine:t,points:n,strokeWidth:i}=r,a=n[0].x,o=n[n.length-1].x;if(!au(a)||!au(o))return null;var s=e*Math.abs(a-o),c=Math.max(...n.map(A=>A.y||0));return pn(t)?c=Math.max(t,c):t&&Array.isArray(t)&&t.length&&(c=Math.max(...t.map(A=>A.y||0),c)),pn(c)?Z.createElement("rect",{x:a<o?a:a-s,y:0,width:s,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function $Oe(r){var{alpha:e,layout:t,points:n,baseLine:i,strokeWidth:a}=r;return t==="vertical"?Z.createElement(VOe,{alpha:e,points:n,baseLine:i,strokeWidth:a}):Z.createElement(GOe,{alpha:e,points:n,baseLine:i,strokeWidth:a})}function YOe(r){var{needClip:e,clipPathId:t,props:n,previousPointsRef:i,previousBaselineRef:a}=r,{points:o,baseLine:s,isAnimationActive:c,animationBegin:A,animationDuration:f,animationEasing:y,onAnimationStart:C,onAnimationEnd:x}=n,k=Vw(n,"recharts-area-"),[N,M]=Z.useState(!1),D=!N,H=Z.useCallback(()=>{typeof x=="function"&&x(),M(!1)},[x]),q=Z.useCallback(()=>{typeof C=="function"&&C(),M(!0)},[C]),$=i.current,ce=a.current;return Z.createElement(KOe,{showLabels:D,points:o},n.children,Z.createElement(Kw,{animationId:k,begin:A,duration:f,isActive:c,easing:y,onAnimationEnd:H,onAnimationStart:q,key:k},V=>{if($){var he=$.length/o.length,le=V===1?o:o.map((Ne,W)=>{var ue=Math.floor(W*he);if($[ue]){var de=$[ue];return Jm(Jm({},Ne),{},{x:za(de.x,Ne.x,V),y:za(de.y,Ne.y,V)})}return Ne}),fe;return pn(s)?fe=za(ce,s,V):Ro(s)||mA(s)?fe=za(ce,0,V):fe=s.map((Ne,W)=>{var ue=Math.floor(W*he);if(Array.isArray(ce)&&ce[ue]){var de=ce[ue];return Jm(Jm({},Ne),{},{x:za(de.x,Ne.x,V),y:za(de.y,Ne.y,V)})}return Ne}),V>0&&(i.current=le,a.current=fe),Z.createElement($K,{points:le,baseLine:fe,needClip:e,clipPathId:t,props:n})}return V>0&&(i.current=o,a.current=s),Z.createElement(Cs,null,c&&Z.createElement("defs",null,Z.createElement("clipPath",{id:"animationClipPath-".concat(t)},Z.createElement($Oe,{alpha:V,points:o,baseLine:s,layout:n.layout,strokeWidth:n.strokeWidth}))),Z.createElement(Cs,{clipPath:"url(#animationClipPath-".concat(t,")")},Z.createElement($K,{points:o,baseLine:s,needClip:e,clipPathId:t,props:n})))}),Z.createElement($O,{label:n.label}))}function WOe(r){var{needClip:e,clipPathId:t,props:n}=r,i=Z.useRef(null),a=Z.useRef();return Z.createElement(YOe,{needClip:e,clipPathId:t,props:n,previousPointsRef:i,previousBaselineRef:a})}class ZOe extends Z.PureComponent{render(){var e,{hide:t,dot:n,points:i,className:a,top:o,left:s,needClip:c,xAxisId:A,yAxisId:f,width:y,height:C,id:x,baseLine:k}=this.props;if(t)return null;var N=ki("recharts-area",a),M=x,{r:D=3,strokeWidth:H=2}=(e=Do(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},q=mO(n),$=D*2+H;return Z.createElement(Z.Fragment,null,Z.createElement(Cs,{className:N},c&&Z.createElement("defs",null,Z.createElement(Nj,{clipPathId:M,xAxisId:A,yAxisId:f}),!q&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(M)},Z.createElement("rect",{x:s-$/2,y:o-$/2,width:y+$,height:C+$}))),Z.createElement(WOe,{needClip:c,clipPathId:M,props:this.props})),Z.createElement(kU,{points:i,mainColor:ON(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(k)&&Z.createElement(kU,{points:k,mainColor:ON(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Gte={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Dg.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function XOe(r){var e,t=zl(r,Gte),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,fill:A,fillOpacity:f,hide:y,isAnimationActive:C,legendType:x,stroke:k,xAxisId:N,yAxisId:M}=t,D=Vte(t,LOe),H=FS(),q=Wee(),{needClip:$}=XO(N,M),ce=Yu(),{points:V,isRange:he,baseLine:le}=(e=mn(me=>OOe(me,N,M,ce,r.id)))!==null&&e!==void 0?e:{},fe=ZO();if(H!=="horizontal"&&H!=="vertical"||fe==null||q!=="AreaChart"&&q!=="ComposedChart")return null;var{height:Ne,width:W,x:ue,y:de}=fe;return!V||!V.length?null:Z.createElement(ZOe,sg({},D,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:le,connectNulls:s,dot:c,fill:A,fillOpacity:f,height:Ne,hide:y,layout:H,isAnimationActive:C,isRange:he,legendType:x,needClip:$,points:V,stroke:k,width:W,left:ue,top:de,xAxisId:N,yAxisId:M}))}var JOe=(r,e,t,n,i)=>{var a=t??e;if(pn(a))return a;var o=r==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var c=Math.max(s[0],s[1]),A=Math.min(s[0],s[1]);return a==="dataMin"?A:a==="dataMax"||c<0?c:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function eMe(r){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:c,displayedData:A,dataStartIndex:f,xAxisTicks:y,yAxisTicks:C,bandSize:x}=r,k=i&&i.length,N=JOe(a,o,t,s,c),M=a==="horizontal",D=!1,H=A.map(($,ce)=>{var V;k?V=i[f+ce]:(V=Ka($,n),Array.isArray(V)?D=!0:V=[N,V]);var he=V[1]==null||k&&!e&&Ka($,n)==null;return M?{x:uN({axis:s,ticks:y,bandSize:x,entry:$,index:ce}),y:he?null:c.scale(V[1]),value:V,payload:$}:{x:he?null:s.scale(V[1]),y:uN({axis:c,ticks:C,bandSize:x,entry:$,index:ce}),value:V,payload:$}}),q;return k||D?q=H.map($=>{var ce=Array.isArray($.value)?$.value[0]:null;return M?{x:$.x,y:ce!=null&&$.y!=null?c.scale(ce):null,payload:$.payload}:{x:ce!=null?s.scale(ce):null,y:$.y,payload:$.payload}}):q=M?c.scale(N):s.scale(N),{points:H,baseLine:q,isRange:D}}function tMe(r){var e=zl(r,Gte),t=Yu();return Z.createElement(WO,{id:e.id,type:"area"},n=>Z.createElement(Z.Fragment,null,Z.createElement(Tj,{legendPayload:jOe(e)}),Z.createElement(YO,{fn:QOe,args:e}),Z.createElement(Bj,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:PX(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),Z.createElement(XOe,sg({},e,{id:n}))))}var $te=Z.memo(tMe);$te.displayName="Area";var rMe=["dangerouslySetInnerHTML","ticks"],nMe=["id"],iMe=["domain"],aMe=["domain"];function OU(){return OU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},OU.apply(null,arguments)}function MN(r,e){if(r==null)return{};var t,n,i=oMe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function oMe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function sMe(r){var e=Xs();return Z.useEffect(()=>(e(Mke(r)),()=>{e(Lke(r))}),[r,e]),null}var lMe=r=>{var{xAxisId:e,className:t}=r,n=mn(h5),i=Yu(),a="xAxis",o=mn(M=>Jw(M,a,e,i)),s=mn(M=>Iee(M,a,e,i)),c=mn(M=>Eee(M,e)),A=mn(M=>mSe(M,e)),f=mn(M=>ree(M,e));if(c==null||A==null||f==null)return null;var{dangerouslySetInnerHTML:y,ticks:C}=r,x=MN(r,rMe),{id:k}=f,N=MN(f,nMe);return Z.createElement(Lj,OU({},x,N,{scale:o,x:A.x,y:A.y,width:c.width,height:c.height,className:ki("recharts-".concat(a," ").concat(a),t),viewBox:n,ticks:s}))},cMe={allowDataOverflow:ed.allowDataOverflow,allowDecimals:ed.allowDecimals,allowDuplicatedCategory:ed.allowDuplicatedCategory,height:ed.height,hide:!1,mirror:ed.mirror,orientation:ed.orientation,padding:ed.padding,reversed:ed.reversed,scale:ed.scale,tickCount:ed.tickCount,type:ed.type,xAxisId:0},uMe=r=>{var e,t,n,i,a,o=zl(r,cMe);return Z.createElement(Z.Fragment,null,Z.createElement(sMe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(t=o.includeHidden)!==null&&t!==void 0?t:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),Z.createElement(lMe,o))},hMe=(r,e)=>{var{domain:t}=r,n=MN(r,iMe),{domain:i}=e,a=MN(e,aMe);return Ew(n,a)?Array.isArray(t)&&t.length===2&&Array.isArray(i)&&i.length===2?t[0]===i[0]&&t[1]===i[1]:Ew({domain:t},{domain:i}):!1},ak=Z.memo(uMe,hMe);ak.displayName="XAxis";var AMe=["dangerouslySetInnerHTML","ticks"],dMe=["id"],fMe=["domain"],pMe=["domain"];function MU(){return MU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},MU.apply(null,arguments)}function LN(r,e){if(r==null)return{};var t,n,i=mMe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function mMe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function gMe(r){var e=Xs();return Z.useEffect(()=>(e(Rke(r)),()=>{e(Dke(r))}),[r,e]),null}var yMe=r=>{var{yAxisId:e,className:t,width:n,label:i}=r,a=Z.useRef(null),o=Z.useRef(null),s=mn(h5),c=Yu(),A=Xs(),f="yAxis",y=mn(ce=>Jw(ce,f,e,c)),C=mn(ce=>See(ce,e)),x=mn(ce=>ySe(ce,e)),k=mn(ce=>Iee(ce,f,e,c)),N=mn(ce=>nee(ce,e));if(Z.useLayoutEffect(()=>{if(!(n!=="auto"||!C||gj(i)||Z.isValidElement(i)||N==null)){var ce=a.current;if(ce){var V=ce.getCalculatedWidth();Math.round(C.width)!==Math.round(V)&&A(Uke({id:e,width:V}))}}},[k,C,A,i,e,n,N]),C==null||x==null||N==null)return null;var{dangerouslySetInnerHTML:M,ticks:D}=r,H=LN(r,AMe),{id:q}=N,$=LN(N,dMe);return Z.createElement(Lj,MU({},H,$,{ref:a,labelRef:o,scale:y,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:C.width,height:C.height,className:ki("recharts-".concat(f," ").concat(f),t),viewBox:s,ticks:k}))},vMe={allowDataOverflow:td.allowDataOverflow,allowDecimals:td.allowDecimals,allowDuplicatedCategory:td.allowDuplicatedCategory,hide:!1,mirror:td.mirror,orientation:td.orientation,padding:td.padding,reversed:td.reversed,scale:td.scale,tickCount:td.tickCount,type:td.type,width:td.width,yAxisId:0},_Me=r=>{var e,t,n,i,a,o=zl(r,vMe);return Z.createElement(Z.Fragment,null,Z.createElement(gMe,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(t=o.includeHidden)!==null&&t!==void 0?t:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),Z.createElement(yMe,o))},bMe=(r,e)=>{var{domain:t}=r,n=LN(r,fMe),{domain:i}=e,a=LN(e,pMe);return Ew(n,a)?Array.isArray(t)&&t.length===2&&Array.isArray(i)&&i.length===2?t[0]===i[0]&&t[1]===i[1]:Ew({domain:t},{domain:i}):!1},ok=Z.memo(_Me,bMe);ok.displayName="YAxis";var pR={exports:{}},mR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YK;function wMe(){if(YK)return mR;YK=1;var r=Fw();function e(c,A){return c===A&&(c!==0||1/c===1/A)||c!==c&&A!==A}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,i=r.useRef,a=r.useEffect,o=r.useMemo,s=r.useDebugValue;return mR.useSyncExternalStoreWithSelector=function(c,A,f,y,C){var x=i(null);if(x.current===null){var k={hasValue:!1,value:null};x.current=k}else k=x.current;x=o(function(){function M(ce){if(!D){if(D=!0,H=ce,ce=y(ce),C!==void 0&&k.hasValue){var V=k.value;if(C(V,ce))return q=V}return q=ce}if(V=q,t(H,ce))return V;var he=y(ce);return C!==void 0&&C(V,he)?(H=ce,V):(H=ce,q=he)}var D=!1,H,q,$=f===void 0?null:f;return[function(){return M(A())},$===null?void 0:function(){return M($())}]},[A,f,y,C]);var N=n(c,x[0],x[1]);return a(function(){k.hasValue=!0,k.value=N},[N]),s(N),N},mR}var WK;function xMe(){return WK||(WK=1,pR.exports=wMe()),pR.exports}xMe();function CMe(r){r()}function EMe(){let r=null,e=null;return{clear(){r=null,e=null},notify(){CMe(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var ZK={notify(){},get:()=>[]};function SMe(r,e){let t,n=ZK,i=0,a=!1;function o(N){f();const M=n.subscribe(N);let D=!1;return()=>{D||(D=!0,M(),y())}}function s(){n.notify()}function c(){k.onStateChange&&k.onStateChange()}function A(){return a}function f(){i++,t||(t=r.subscribe(c),n=EMe())}function y(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=ZK)}function C(){a||(a=!0,f())}function x(){a&&(a=!1,y())}const k={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:A,trySubscribe:C,tryUnsubscribe:x,getListeners:()=>n};return k}var TMe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BMe=TMe(),IMe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kMe=IMe(),NMe=()=>BMe||kMe?Z.useLayoutEffect:Z.useEffect,PMe=NMe(),OMe=Symbol.for("react-redux-context"),MMe=typeof globalThis<"u"?globalThis:{};function LMe(){if(!Z.createContext)return{};const r=MMe[OMe]??=new Map;let e=r.get(Z.createContext);return e||(e=Z.createContext(null),r.set(Z.createContext,e)),e}var RMe=LMe();function DMe(r){const{children:e,context:t,serverState:n,store:i}=r,a=Z.useMemo(()=>{const c=SMe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=Z.useMemo(()=>i.getState(),[i]);PMe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=t||RMe;return Z.createElement(s.Provider,{value:a},e)}var UMe=DMe,FMe=(r,e)=>e,Dj=Rt([FMe,Ki,JJ,Kl,qee,Qg,wTe,Hl],TTe),Uj=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},Yte=Xd("mouseClick"),Wte=DS();Wte.startListening({actionCreator:Yte,effect:(r,e)=>{var t=r.payload,n=Dj(e.getState(),Uj(t));n?.activeIndex!=null&&e.dispatch(NSe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var LU=Xd("mouseMove"),Zte=DS();Zte.startListening({actionCreator:LU,effect:(r,e)=>{var t=r.payload,n=e.getState(),i=lj(n,n.tooltip.settings.shared),a=Dj(n,Uj(t));i==="axis"&&(a?.activeIndex!=null?e.dispatch(Dee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Ree()))}});var XK={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Xte=pd({name:"rootProps",initialState:XK,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:XK.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className}}}),jMe=Xte.reducer,{updateOptions:QMe}=Xte.actions,Jte=pd({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:HMe}=Jte.actions,zMe=Jte.reducer,ere=Xd("keyDown"),tre=Xd("focus"),Fj=DS();Fj.startListening({actionCreator:ere,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=t.tooltip,a=r.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(cj(i,tx(t))),s=Qg(t);if(a==="Enter"){var c=SN(t,"axis","hover",String(i.index));e.dispatch(EU({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var A=wSe(t),f=A==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,C=o+y*f;if(!(s==null||C>=s.length||C<0)){var x=SN(t,"axis","hover",String(C));e.dispatch(EU({active:!0,activeIndex:C.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Fj.startListening({actionCreator:tre,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var a="0",o=SN(t,"axis","hover",String(a));e.dispatch(EU({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Dd=Xd("externalEvent"),rre=DS();rre.startListening({actionCreator:Dd,effect:(r,e)=>{if(r.payload.handler!=null){var t=e.getState(),n={activeCoordinate:dTe(t),activeDataKey:$ee(t),activeIndex:gv(t),activeLabel:Gee(t),activeTooltipIndex:gv(t),isTooltipActive:fTe(t)};r.payload.handler(n,r.payload.reactEvent)}}});var qMe=Rt([ex],r=>r.tooltipItemPayloads),KMe=Rt([qMe,ZS,(r,e,t)=>e,(r,e,t)=>t],(r,e,t,n)=>{var i=r.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,t);return o}}}),nre=Xd("touchMove"),ire=DS();ire.startListening({actionCreator:nre,effect:(r,e)=>{var t=r.payload,n=e.getState(),i=lj(n,n.tooltip.settings.shared);if(i==="axis"){var a=Dj(n,Uj({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));a?.activeIndex!=null&&e.dispatch(Dee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=t.touches[0],c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var A=c.getAttribute(MX),f=(o=c.getAttribute(LX))!==null&&o!==void 0?o:void 0,y=KMe(e.getState(),A,f);e.dispatch(Lee({activeDataKey:f,activeIndex:A,activeCoordinate:y}))}}});var VMe=aX({brush:aPe,cartesianAxis:Fke,chartData:zTe,errorBars:iNe,graphicalItems:ike,layout:D1e,legend:Cbe,options:UTe,polarAxis:bIe,polarOptions:zMe,referenceElements:APe,rootProps:jMe,tooltip:PSe}),GMe=function(e){return l1e({reducer:VMe,preloadedState:e,middleware:t=>t({serializableCheck:!1}).concat([Wte.middleware,Zte.middleware,Fj.middleware,rre.middleware,ire.middleware]),devTools:Dg.devToolsEnabled})};function are(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,i=Yu(),a=Z.useRef(null);if(i)return t;a.current==null&&(a.current=GMe(e));var o=a5;return Z.createElement(UMe,{context:o,store:a.current},t)}function ore(r){var{layout:e,width:t,height:n,margin:i}=r,a=Xs(),o=Yu();return Z.useEffect(()=>{o||(a(M1e(e)),a(L1e({width:t,height:n})),a(O1e(i)))},[a,o,e,t,n,i]),null}function sre(r){var e=Xs();return Z.useEffect(()=>{e(QMe(r))},[e,r]),null}var $Me=["children"];function YMe(r,e){if(r==null)return{};var t,n,i=WMe(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function WMe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function RN(){return RN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},RN.apply(null,arguments)}var ZMe={width:"100%",height:"100%"},XMe=Z.forwardRef((r,e)=>{var t=DX(),n=UX(),i=HX();if(!_w(t)||!_w(n))return null;var{children:a,otherAttributes:o,title:s,desc:c}=r,A,f;return typeof o.tabIndex=="number"?A=o.tabIndex:A=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0,Z.createElement(TZ,RN({},o,{title:s,desc:c,role:f,tabIndex:A,width:t,height:n,style:ZMe,ref:e}),a)}),JMe=r=>{var{children:e}=r,t=mn(IO);if(!t)return null;var{width:n,height:i,y:a,x:o}=t;return Z.createElement(TZ,{width:n,height:i,x:o,y:a},e)},JK=Z.forwardRef((r,e)=>{var{children:t}=r,n=YMe(r,$Me),i=Yu();return i?Z.createElement(JMe,null,t):Z.createElement(XMe,RN({ref:e},n),t)});function e4e(){var r=Xs(),[e,t]=Z.useState(null),n=mn(hbe);return Z.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;au(a)&&a!==n&&r(R1e(a))}},[e,r,n]),t}function eV(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function t4e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(t),!0).forEach(function(n){r4e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eV(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function r4e(r,e,t){return(e=n4e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function n4e(r){var e=i4e(r,"string");return typeof e=="symbol"?e:e+""}function i4e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var a4e=Z.forwardRef((r,e)=>{var{children:t,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:A,onMouseLeave:f,onMouseMove:y,onMouseUp:C,onTouchEnd:x,onTouchMove:k,onTouchStart:N,style:M,width:D}=r,H=Xs(),[q,$]=Z.useState(null),[ce,V]=Z.useState(null);XTe();var he=e4e(),le=Z.useCallback(ne=>{he(ne),typeof e=="function"&&e(ne),$(ne),V(ne)},[he,e,$,V]),fe=Z.useCallback(ne=>{H(Yte(ne)),H(Dd({handler:a,reactEvent:ne}))},[H,a]),Ne=Z.useCallback(ne=>{H(LU(ne)),H(Dd({handler:A,reactEvent:ne}))},[H,A]),W=Z.useCallback(ne=>{H(Ree()),H(Dd({handler:f,reactEvent:ne}))},[H,f]),ue=Z.useCallback(ne=>{H(LU(ne)),H(Dd({handler:y,reactEvent:ne}))},[H,y]),de=Z.useCallback(()=>{H(tre())},[H]),me=Z.useCallback(ne=>{H(ere(ne.key))},[H]),Qe=Z.useCallback(ne=>{H(Dd({handler:o,reactEvent:ne}))},[H,o]),Ee=Z.useCallback(ne=>{H(Dd({handler:s,reactEvent:ne}))},[H,s]),_e=Z.useCallback(ne=>{H(Dd({handler:c,reactEvent:ne}))},[H,c]),ke=Z.useCallback(ne=>{H(Dd({handler:C,reactEvent:ne}))},[H,C]),We=Z.useCallback(ne=>{H(Dd({handler:N,reactEvent:ne}))},[H,N]),Oe=Z.useCallback(ne=>{H(nre(ne)),H(Dd({handler:k,reactEvent:ne}))},[H,k]),ze=Z.useCallback(ne=>{H(Dd({handler:x,reactEvent:ne}))},[H,x]);return Z.createElement(tte.Provider,{value:q},Z.createElement(n0e.Provider,{value:ce},Z.createElement("div",{className:ki("recharts-wrapper",n),style:t4e({position:"relative",cursor:"default",width:D,height:i},M),onClick:fe,onContextMenu:Qe,onDoubleClick:Ee,onFocus:de,onKeyDown:me,onMouseDown:_e,onMouseEnter:Ne,onMouseLeave:W,onMouseMove:ue,onMouseUp:ke,onTouchEnd:ze,onTouchMove:Oe,onTouchStart:We,ref:le},t)))}),o4e=["children","className","width","height","style","compact","title","desc"];function s4e(r,e){if(r==null)return{};var t,n,i=l4e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function l4e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var lre=Z.forwardRef((r,e)=>{var{children:t,className:n,width:i,height:a,style:o,compact:s,title:c,desc:A}=r,f=s4e(r,o4e),y=af(f);return s?Z.createElement(JK,{otherAttributes:y,title:c,desc:A},t):Z.createElement(a4e,{className:n,style:o,width:i,height:a,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},Z.createElement(JK,{otherAttributes:y,title:c,desc:A,ref:e},Z.createElement(fPe,null,t)))}),c4e=["width","height"];function RU(){return RU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},RU.apply(null,arguments)}function u4e(r,e){if(r==null)return{};var t,n,i=h4e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function h4e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var A4e={top:5,right:5,bottom:5,left:5},d4e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:A4e,reverseStackOrder:!1,syncMethod:"index"},jj=Z.forwardRef(function(e,t){var n,i=zl(e.categoricalChartProps,d4e),{width:a,height:o}=i,s=u4e(i,c4e);if(!_w(a)||!_w(o))return null;var{chartName:c,defaultTooltipEventType:A,validateTooltipEventTypes:f,tooltipPayloadSearcher:y,categoricalChartProps:C}=e,x={chartName:c,defaultTooltipEventType:A,validateTooltipEventTypes:f,tooltipPayloadSearcher:y,eventEmitter:void 0};return Z.createElement(are,{preloadedState:{options:x},reduxStoreName:(n=C.id)!==null&&n!==void 0?n:c},Z.createElement(Ite,{chartData:C.data}),Z.createElement(ore,{width:a,height:o,layout:i.layout,margin:i.margin}),Z.createElement(sre,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),Z.createElement(lre,RU({},s,{width:a,height:o,ref:t})))}),f4e=["axis"],tV=Z.forwardRef((r,e)=>Z.createElement(jj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:f4e,tooltipPayloadSearcher:VO,categoricalChartProps:r,ref:e})),p4e=["axis","item"],m4e=Z.forwardRef((r,e)=>Z.createElement(jj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:p4e,tooltipPayloadSearcher:VO,categoricalChartProps:r,ref:e}));function g4e(r){var e=Xs();return Z.useEffect(()=>{e(HMe(r))},[e,r]),null}var y4e=["width","height","layout"];function DU(){return DU=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},DU.apply(null,arguments)}function v4e(r,e){if(r==null)return{};var t,n,i=_4e(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function _4e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var b4e={top:5,right:5,bottom:5,left:5},w4e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:b4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},x4e=Z.forwardRef(function(e,t){var n,i=zl(e.categoricalChartProps,w4e),{width:a,height:o,layout:s}=i,c=v4e(i,y4e);if(!_w(a)||!_w(o))return null;var{chartName:A,defaultTooltipEventType:f,validateTooltipEventTypes:y,tooltipPayloadSearcher:C}=e,x={chartName:A,defaultTooltipEventType:f,validateTooltipEventTypes:y,tooltipPayloadSearcher:C,eventEmitter:void 0};return Z.createElement(are,{preloadedState:{options:x},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:A},Z.createElement(Ite,{chartData:i.data}),Z.createElement(ore,{width:a,height:o,layout:s,margin:i.margin}),Z.createElement(sre,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),Z.createElement(g4e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),Z.createElement(lre,DU({width:a,height:o},c,{ref:t})))}),C4e=["item"],E4e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},S4e=Z.forwardRef((r,e)=>{var t=zl(r,E4e);return Z.createElement(x4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:C4e,tooltipPayloadSearcher:VO,categoricalChartProps:t,ref:e})}),T4e=["axis"],rV=Z.forwardRef((r,e)=>Z.createElement(jj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:T4e,tooltipPayloadSearcher:VO,categoricalChartProps:r,ref:e}));const B4e=()=>{const{sendHazardAlert:r}=L6(),[e,t]=Z.useState("monitoring"),[n,i]=Z.useState(!1),[a,o]=Z.useState({twitter:"connected",instagram:"connected",lastSync:new Date}),[s,c]=Z.useState({totalPosts:15847,hazardPosts:234,verifiedHazards:18,falsePositives:89,realTimePosts:0,lastUpdated:new Date}),[A,f]=Z.useState([{id:1,platform:"twitter",content:" Massive waves hitting Marine Drive Mumbai! Water splashing over the barriers. Stay away from seafront #MumbaiRains #HighTide",location:"Marine Drive, Mumbai",confidence:.92,hazardType:"High Tide",timestamp:new Date(Date.now()-900*1e3),verified:!0,engagement:{likes:156,shares:43,comments:28}},{id:2,platform:"instagram",content:"Oil spill spotted near Chennai port. Black substance floating on water surface. Reporting to authorities. #ChennaiPort #OilSpill #MarinePollution",location:"Chennai Port",confidence:.87,hazardType:"Oil Spill",timestamp:new Date(Date.now()-2700*1e3),verified:!1,engagement:{likes:89,shares:67,comments:15}},{id:3,platform:"twitter",content:"Red algae bloom visible from Goa beach. Water color changed to reddish brown. Local fishermen avoiding the area. #GoaBeach #AlgaeBloom",location:"Calangute Beach, Goa",confidence:.78,hazardType:"Algae Bloom",timestamp:new Date(Date.now()-7200*1e3),verified:!0,engagement:{likes:234,shares:89,comments:45}}]),[y,C]=Z.useState({positive:15,neutral:65,negative:20}),[x,k]=Z.useState({platforms:{twitter:!0,instagram:!0,facebook:!1,youtube:!0},keywords:["ocean hazard","oil spill","high tide","tsunami","algae bloom","marine pollution","coastal flooding"],locations:["Mumbai","Chennai","Goa","Kochi","Visakhapatnam"],confidenceThreshold:.7,autoAlert:!0});Z.useEffect(()=>{const q=setInterval(()=>{c($=>({...$,totalPosts:$.totalPosts+Math.floor(Math.random()*5),hazardPosts:$.hazardPosts+Math.floor(Math.random()*2),lastUpdated:new Date}))},3e4);return()=>clearInterval(q)},[]);const N=q=>{f($=>$.map(ce=>ce.id===q.id?{...ce,verified:!0}:ce)),r({type:q.hazardType,location:q.location,severity:q.confidence>.8?"high":"medium",source:"Social Media Detection"}),c($=>({...$,verifiedHazards:$.verifiedHazards+1}))},M=q=>{f($=>$.filter(ce=>ce.id!==q.id)),c($=>({...$,falsePositives:$.falsePositives+1}))},D=q=>{switch(q){case"twitter":return S.jsx(CY,{className:"h-4 w-4 text-blue-400"});case"instagram":return S.jsx(yY,{className:"h-4 w-4 text-pink-500"});case"facebook":return S.jsx(Rk,{className:"h-4 w-4 text-blue-600"});default:return S.jsx(Rk,{className:"h-4 w-4 text-gray-500"})}},H=q=>q>=.8?"text-green-600 bg-green-100":q>=.6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Social Media Analysis"}),S.jsx("p",{className:"text-gray-600",children:"AI-powered hazard detection from social media platforms"})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",s.lastUpdated.toLocaleTimeString()]}),S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(Kb,{className:"h-4 w-4 text-green-500 animate-pulse"}),S.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Live"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[S.jsx("div",{className:"glass-card p-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.totalPosts.toLocaleString()}),S.jsx("p",{className:"text-sm text-gray-600",children:"Total Posts Analyzed"})]}),S.jsx(kS,{className:"h-8 w-8 text-blue-500"})]})}),S.jsx("div",{className:"glass-card p-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.hazardPosts}),S.jsx("p",{className:"text-sm text-gray-600",children:"Potential Hazards"})]}),S.jsx(Jc,{className:"h-8 w-8 text-orange-500"})]})}),S.jsx("div",{className:"glass-card p-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.verifiedHazards}),S.jsx("p",{className:"text-sm text-gray-600",children:"Verified Hazards"})]}),S.jsx(NS,{className:"h-8 w-8 text-green-500"})]})}),S.jsx("div",{className:"glass-card p-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[(s.verifiedHazards/s.hazardPosts*100).toFixed(1),"%"]}),S.jsx("p",{className:"text-sm text-gray-600",children:"Accuracy Rate"})]}),S.jsx(yg,{className:"h-8 w-8 text-purple-500"})]})})]}),S.jsx("div",{className:"border-b border-gray-200",children:S.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"monitoring",label:"Live Monitoring",icon:Kb},{id:"detections",label:"Recent Detections",icon:Jc},{id:"analytics",label:"Analytics",icon:yg},{id:"settings",label:"Settings",icon:_Y}].map(q=>S.jsxs("button",{onClick:()=>t(q.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${e===q.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.jsx(q.icon,{className:"h-4 w-4"}),S.jsx("span",{children:q.label})]},q.id))})}),e==="monitoring"&&S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[S.jsx(Kb,{className:"h-5 w-5 mr-2 text-green-500"}),"Real-time Monitoring"]}),S.jsx("div",{className:"space-y-4",children:A.slice(0,3).map(q=>S.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[D(q.platform),S.jsx("span",{className:"text-sm font-medium capitalize",children:q.platform}),S.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(q.confidence)}`,children:[Math.round(q.confidence*100),"% confidence"]})]}),S.jsx("span",{className:"text-xs text-gray-500",children:q.timestamp.toLocaleTimeString()})]}),S.jsx("p",{className:"text-sm text-gray-700 mb-2",children:q.content}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[S.jsx(Ph,{className:"h-3 w-3"}),S.jsx("span",{children:q.location})]}),S.jsx("span",{className:"text-xs font-medium text-orange-600",children:q.hazardType})]})]},q.id))})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Distribution"}),S.jsx("div",{className:"space-y-4",children:[{platform:"Twitter",posts:8543,hazards:156,color:"bg-blue-500"},{platform:"Instagram",posts:4234,hazards:67,color:"bg-pink-500"},{platform:"Facebook",posts:2156,hazards:8,color:"bg-blue-600"},{platform:"YouTube",posts:914,hazards:3,color:"bg-red-500"}].map(q=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:`w-3 h-3 rounded-full ${q.color}`}),S.jsx("span",{className:"font-medium",children:q.platform})]}),S.jsxs("div",{className:"text-sm text-gray-600",children:[q.hazards," hazards / ",q.posts.toLocaleString()," posts"]})]},q.platform))})]})]}),e==="detections"&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h3",{className:"text-lg font-semibold",children:"Recent Hazard Detections"}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsxs("button",{className:"btn-modern btn-secondary px-4 py-2 text-sm flex items-center space-x-2",children:[S.jsx(mY,{className:"h-4 w-4"}),S.jsx("span",{children:"Export"})]}),S.jsxs("button",{className:"btn-modern btn-primary px-4 py-2 text-sm flex items-center space-x-2",children:[S.jsx(O6,{className:"h-4 w-4"}),S.jsx("span",{children:"Filter"})]})]})]}),S.jsx("div",{className:"space-y-4",children:A.map(q=>S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[D(q.platform),S.jsxs("div",{children:[S.jsx("span",{className:"font-medium capitalize",children:q.platform}),S.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[S.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(q.confidence)}`,children:[Math.round(q.confidence*100),"% confidence"]}),S.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs font-medium",children:q.hazardType}),q.verified&&S.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs font-medium",children:"Verified"})]})]})]}),S.jsx("span",{className:"text-sm text-gray-500",children:q.timestamp.toLocaleString()})]}),S.jsx("p",{className:"text-gray-700 mb-4",children:q.content}),S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[S.jsx(Ph,{className:"h-4 w-4"}),S.jsx("span",{children:q.location})]}),S.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[S.jsxs("span",{children:[" ",q.engagement.likes]}),S.jsxs("span",{children:[" ",q.engagement.shares]}),S.jsxs("span",{children:[" ",q.engagement.comments]})]})]}),!q.verified&&S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("button",{onClick:()=>N(q),className:"btn-modern btn-primary px-4 py-2 text-sm",children:"Verify & Send Alert"}),S.jsx("button",{onClick:()=>M(q),className:"btn-modern btn-secondary px-4 py-2 text-sm",children:"Mark as False Positive"})]})]},q.id))})]}),e==="analytics"&&S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"glass-card p-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sentiment Analysis"}),S.jsx("div",{className:"space-y-4",children:[{label:"Positive",value:y.positive,color:"bg-green-500"},{label:"Neutral",value:y.neutral,color:"bg-gray-400"},{label:"Negative",value:y.negative,color:"bg-red-500"}].map(q=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-medium",children:q.label}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:S.jsx("div",{className:`h-2 rounded-full ${q.color}`,style:{width:`${q.value}%`}})}),S.jsxs("span",{className:"text-sm text-gray-600",children:[q.value,"%"]})]})]},q.label))})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Hazard Keywords"}),S.jsx("div",{className:"space-y-3",children:[{keyword:"oil spill",mentions:89,trend:"+15%"},{keyword:"high tide",mentions:67,trend:"+8%"},{keyword:"algae bloom",mentions:34,trend:"-5%"},{keyword:"coastal flooding",mentions:23,trend:"+12%"},{keyword:"marine pollution",mentions:19,trend:"+3%"}].map(q=>S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-medium",children:q.keyword}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("span",{className:"text-sm text-gray-600",children:q.mentions}),S.jsx("span",{className:`text-xs font-medium ${q.trend.startsWith("+")?"text-green-600":"text-red-600"}`,children:q.trend})]})]},q.keyword))})]})]}),e==="settings"&&S.jsx("div",{className:"space-y-6",children:S.jsxs("div",{className:"glass-card p-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Monitoring Configuration"}),S.jsxs("div",{className:"mb-6",children:[S.jsx("h4",{className:"font-medium mb-3",children:"Monitored Platforms"}),S.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(x.platforms).map(([q,$])=>S.jsxs("label",{className:"flex items-center space-x-3",children:[S.jsx("input",{type:"checkbox",checked:$,onChange:ce=>k(V=>({...V,platforms:{...V.platforms,[q]:ce.target.checked}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),S.jsx("span",{className:"capitalize",children:q})]},q))})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("h4",{className:"font-medium mb-3",children:"Monitored Keywords"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:x.keywords.map((q,$)=>S.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:q},$))}),S.jsx("button",{className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"+ Add keyword"})]}),S.jsxs("div",{className:"mb-6",children:[S.jsxs("h4",{className:"font-medium mb-3",children:["Confidence Threshold: ",x.confidenceThreshold*100,"%"]}),S.jsx("input",{type:"range",min:"0.5",max:"1",step:"0.05",value:x.confidenceThreshold,onChange:q=>k($=>({...$,confidenceThreshold:parseFloat(q.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),S.jsx("div",{children:S.jsxs("label",{className:"flex items-center space-x-3",children:[S.jsx("input",{type:"checkbox",checked:x.autoAlert,onChange:q=>k($=>({...$,autoAlert:q.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),S.jsx("span",{children:"Automatically send alerts for high-confidence detections"})]})})]})})]})},I4e=()=>{const{sendHazardAlert:r}=L6(),[e,t]=Z.useState([]),[n,i]=Z.useState([]),[a,o]=Z.useState(new Map);Z.useEffect(()=>{const x=()=>{const N=[{id:1,location:{lat:19.076,lon:72.8777,name:"Mumbai Coastal Area"},reportCount:7,uniqueReports:4,timeWindow:"15 minutes",hazardTypes:["High Tide","Coastal Flooding"],severity:"high",firstReported:new Date(Date.now()-9e5),lastReported:new Date(Date.now()-12e4),status:"active",radius:2.5,confidence:.85,verificationStatus:"pending"},{id:2,location:{lat:13.0827,lon:80.2707,name:"Chennai Marina Beach"},reportCount:5,uniqueReports:5,timeWindow:"20 minutes",hazardTypes:["Oil Spill"],severity:"medium",firstReported:new Date(Date.now()-27e5),lastReported:new Date(Date.now()-6e5),status:"monitoring",radius:1.8,confidence:.92,verificationStatus:"pending"}];t(N),N.forEach(M=>{s(M)&&(n.find(q=>q.clusterId===M.id)||c(M))})},k=setInterval(x,3e4);return x(),()=>clearInterval(k)},[n]);const s=x=>{const D=x.uniqueReports>=3,H=x.confidence>=.7,q=x.status==="active",$=Date.now()-x.firstReported.getTime()<3600*1e3;return x.hazardTypes.some(ce=>["Oil Spill","Chemical Discharge","Unusual Marine Activity"].includes(ce)),D&&H&&q&&$},c=x=>{const k={id:Date.now(),clusterId:x.id,title:`Cluster Detection: ${x.location.name}`,message:`${x.uniqueReports} unique reports of ${x.hazardTypes.join(", ")} detected. Manual verification recommended.`,severity:x.confidence>.8?x.severity:"medium",timestamp:new Date,acknowledged:!1,recommendsVerification:!0,autoVerify:!1};i(N=>[k,...N]),r({type:"Cluster Alert - Verification Needed",location:x.location.name,severity:k.severity,source:"Automated Cluster Detection"})},A=x=>{i(k=>k.map(N=>N.id===x?{...N,acknowledged:!0}:N))},f=x=>{i(k=>k.filter(N=>N.id!==x))},y=x=>{switch(x){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-orange-600 bg-orange-100 border-orange-200";case"low":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},C=x=>{switch(x){case"active":return"text-red-600 bg-red-100";case"monitoring":return"text-orange-600 bg-orange-100";case"resolved":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cluster Alert System"}),S.jsx("p",{className:"text-gray-600",children:"Automated detection of hazard clusters and proximity alerts"})]}),S.jsx("div",{className:"flex items-center space-x-2",children:S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(Kb,{className:"h-4 w-4 text-green-500 animate-pulse"}),S.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Monitoring"})]})})]}),n.length>0&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[S.jsx(jE,{className:"h-5 w-5 mr-2 text-red-500"}),"Active Cluster Alerts (",n.filter(x=>!x.acknowledged).length," unacknowledged)"]}),n.map(x=>S.jsx("div",{className:`border rounded-lg p-4 ${x.acknowledged?"bg-gray-50 border-gray-200":"bg-red-50 border-red-200"}`,children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[S.jsx(Jc,{className:`h-5 w-5 ${x.acknowledged?"text-gray-500":"text-red-500"}`}),S.jsx("h4",{className:`font-semibold ${x.acknowledged?"text-gray-700":"text-red-900"}`,children:x.title}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(x.severity)}`,children:x.severity.toUpperCase()})]}),S.jsx("p",{className:`text-sm mb-2 ${x.acknowledged?"text-gray-600":"text-red-800"}`,children:x.message}),S.jsx("div",{className:"text-xs text-gray-500",children:x.timestamp.toLocaleString()})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[!x.acknowledged&&S.jsx("button",{onClick:()=>A(x.id),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Acknowledge"}),S.jsx("button",{onClick:()=>f(x.id),className:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700 transition-colors",children:"Dismiss"})]})]})},x.id))]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detected Clusters"}),e.length===0?S.jsxs("div",{className:"glass-card p-8 text-center",children:[S.jsx(yg,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),S.jsx("p",{className:"text-gray-500",children:"No hazard clusters detected"}),S.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"System continuously monitors for patterns in report submissions"})]}):S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(x=>S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:S.jsx(Jc,{className:"h-5 w-5 text-red-600"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold text-gray-900",children:x.location.name}),S.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[S.jsx(Ph,{className:"h-3 w-3"}),S.jsxs("span",{children:[x.location.lat.toFixed(4),", ",x.location.lon.toFixed(4)]})]})]})]}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(x.status)}`,children:x.status.toUpperCase()})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[S.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.reportCount}),S.jsx("div",{className:"text-xs text-gray-600",children:"Total Reports"})]}),S.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.uniqueReports}),S.jsx("div",{className:"text-xs text-gray-600",children:"Unique Reports"})]}),S.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[S.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.radius}),S.jsx("div",{className:"text-xs text-gray-600",children:"km radius"})]})]}),S.jsxs("div",{className:"space-y-2 mb-4",children:[S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-gray-600",children:"Hazard Types:"}),S.jsx("span",{className:"font-medium",children:x.hazardTypes.join(", ")})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-gray-600",children:"Time Window:"}),S.jsx("span",{className:"font-medium",children:x.timeWindow})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-gray-600",children:"Confidence:"}),S.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.confidence>=.8?"bg-green-100 text-green-600":x.confidence>=.6?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[Math.round(x.confidence*100),"%"]})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-gray-600",children:"Verification:"}),S.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.verificationStatus==="verified"?"bg-green-100 text-green-600":x.verificationStatus==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:x.verificationStatus.toUpperCase()})]}),S.jsxs("div",{className:"flex items-center justify-between text-sm",children:[S.jsx("span",{className:"text-gray-600",children:"Severity:"}),S.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y(x.severity)}`,children:x.severity.toUpperCase()})]})]}),S.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(dv,{className:"h-3 w-3"}),S.jsxs("span",{children:["First: ",x.firstReported.toLocaleTimeString()]})]}),S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(dv,{className:"h-3 w-3"}),S.jsxs("span",{children:["Last: ",x.lastReported.toLocaleTimeString()]})]})]}),x.status==="active"&&S.jsxs("div",{className:"flex space-x-2",children:[S.jsxs("button",{className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-red-700 transition-colors",children:[S.jsx(NS,{className:"h-4 w-4 inline mr-1"}),"Send Emergency Alert"]}),S.jsx("button",{className:"bg-gray-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-gray-700 transition-colors",children:"View Details"})]})]},x.id))})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cluster Detection Settings"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Reports for Alert"}),S.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[S.jsx("option",{value:"3",children:"3 reports"}),S.jsx("option",{value:"5",selected:!0,children:"5 reports"}),S.jsx("option",{value:"7",children:"7 reports"}),S.jsx("option",{value:"10",children:"10 reports"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Window"}),S.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[S.jsx("option",{value:"10",children:"10 minutes"}),S.jsx("option",{value:"15",children:"15 minutes"}),S.jsx("option",{value:"30",selected:!0,children:"30 minutes"}),S.jsx("option",{value:"60",children:"1 hour"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proximity Radius"}),S.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[S.jsx("option",{value:"1",children:"1 km"}),S.jsx("option",{value:"2",selected:!0,children:"2 km"}),S.jsx("option",{value:"5",children:"5 km"}),S.jsx("option",{value:"10",children:"10 km"})]})]})]})]})]})},k4e=()=>{const[r,e]=Z.useState({tsunami:{riskLevel:"low",lastUpdate:new Date,areas:[{location:"Mumbai Coast",risk:"low",confidence:.85},{location:"Chennai Coast",risk:"medium",confidence:.72},{location:"Kochi Coast",risk:"low",confidence:.91}]},surge:{predictions:[{location:"Mumbai",height:"2.1m",time:"14:30",risk:"medium"},{location:"Chennai",height:"1.8m",time:"15:45",risk:"low"},{location:"Visakhapatnam",height:"2.4m",time:"16:20",risk:"high"}],lastUpdate:new Date},waves:{conditions:[{location:"Arabian Sea (West)",height:"3.2m",direction:"SW",period:"8s"},{location:"Bay of Bengal (East)",height:"2.8m",direction:"SE",period:"7s"},{location:"Indian Ocean (South)",height:"4.1m",direction:"S",period:"9s"}],lastUpdate:new Date}}),[t,n]=Z.useState([{id:1,reportLocation:"Mumbai Marine Drive",reportType:"High Tide",reportTime:new Date(Date.now()-1800*1e3),incoisPrediction:"High surge (2.1m) predicted at 14:30",correlation:.92,status:"validated",confidence:"high"},{id:2,reportLocation:"Chennai Marina",reportType:"Oil Spill",reportTime:new Date(Date.now()-7200*1e3),incoisPrediction:"No related ocean conditions",correlation:.15,status:"independent",confidence:"low"},{id:3,reportLocation:"Goa Calangute Beach",reportType:"Strong Currents",reportTime:new Date(Date.now()-2700*1e3),incoisPrediction:"High wave activity (3.5m) in Arabian Sea",correlation:.78,status:"validated",confidence:"medium"}]);Z.useEffect(()=>{const s=setInterval(()=>{e(c=>({...c,tsunami:{...c.tsunami,lastUpdate:new Date},surge:{...c.surge,lastUpdate:new Date},waves:{...c.waves,lastUpdate:new Date}}))},6e4);return()=>clearInterval(s)},[]);const i=s=>{switch(s){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-orange-600 bg-orange-100 border-orange-200";case"low":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},a=s=>s>=.8?"text-green-600 bg-green-100":s>=.5?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",o=s=>{switch(s){case"validated":return"text-green-600 bg-green-100";case"conflicting":return"text-red-600 bg-red-100";case"independent":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"INCOIS Data Integration"}),S.jsx("p",{className:"text-gray-600",children:"Real-time ocean forecasts and validation with crowdsourced reports"})]}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx(Kb,{className:"h-4 w-4 text-green-500 animate-pulse"}),S.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Live Feed"})]}),S.jsxs("span",{className:"text-sm text-gray-500",children:["Last sync: ",r.tsunami.lastUpdate.toLocaleTimeString()]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[S.jsx(fv,{className:"h-5 w-5 mr-2 text-blue-600"}),"Tsunami Risk"]}),S.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(r.tsunami.riskLevel)}`,children:r.tsunami.riskLevel.toUpperCase()})]}),S.jsx("div",{className:"space-y-3",children:r.tsunami.areas.map((s,c)=>S.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-medium text-sm",children:s.location}),S.jsxs("div",{className:"text-xs text-gray-500",children:["Confidence: ",Math.round(s.confidence*100),"%"]})]}),S.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i(s.risk)}`,children:s.risk})]},c))})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[S.jsx(yg,{className:"h-5 w-5 mr-2 text-orange-600"}),"Storm Surge"]}),S.jsx("span",{className:"text-sm text-gray-500",children:"Next 6 hours"})]}),S.jsx("div",{className:"space-y-3",children:r.surge.predictions.map((s,c)=>S.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[S.jsxs("div",{children:[S.jsx("div",{className:"font-medium text-sm",children:s.location}),S.jsxs("div",{className:"text-xs text-gray-500",children:["at ",s.time]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"font-bold text-lg",children:s.height}),S.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i(s.risk)}`,children:s.risk})]})]},c))})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[S.jsx(EY,{className:"h-5 w-5 mr-2 text-cyan-600"}),"Wave Conditions"]}),S.jsx("span",{className:"text-sm text-gray-500",children:"Current"})]}),S.jsx("div",{className:"space-y-3",children:r.waves.conditions.map((s,c)=>S.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[S.jsx("div",{className:"font-medium text-sm mb-1",children:s.location}),S.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[S.jsxs("div",{children:[S.jsx("span",{className:"text-gray-500",children:"Height:"}),S.jsx("div",{className:"font-bold",children:s.height})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-gray-500",children:"Direction:"}),S.jsx("div",{className:"font-bold",children:s.direction})]}),S.jsxs("div",{children:[S.jsx("span",{className:"text-gray-500",children:"Period:"}),S.jsx("div",{className:"font-bold",children:s.period})]})]})]},c))})]})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[S.jsx(Jc,{className:"h-5 w-5 mr-2 text-purple-600"}),"Report Validation with INCOIS Data"]}),S.jsx("div",{className:"space-y-4",children:t.map(s=>S.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[S.jsxs("div",{className:"flex items-start justify-between mb-3",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[S.jsxs("h4",{className:"font-semibold",children:[s.reportType," Report"]}),S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(s.status)}`,children:s.status})]}),S.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[S.jsx(Ph,{className:"h-3 w-3"}),S.jsx("span",{children:s.reportLocation}),S.jsx("span",{children:""}),S.jsx(P6,{className:"h-3 w-3"}),S.jsx("span",{children:s.reportTime.toLocaleString()})]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-sm text-gray-600",children:"Correlation"}),S.jsxs("span",{className:`px-2 py-1 rounded text-sm font-bold ${a(s.correlation)}`,children:[Math.round(s.correlation*100),"%"]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Citizen Report"}),S.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded",children:[s.reportType," reported at ",s.reportLocation]})]}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"INCOIS Forecast"}),S.jsx("div",{className:"text-sm text-gray-600 bg-purple-50 p-3 rounded",children:s.incoisPrediction})]})]}),S.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[S.jsxs("span",{className:"text-xs text-gray-500",children:["Validation confidence: ",s.confidence]}),S.jsxs("div",{className:"flex space-x-2",children:[s.status==="validated"&&S.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Boost Priority"}),s.status==="conflicting"&&S.jsx("button",{className:"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700 transition-colors",children:"Manual Review"}),S.jsx("button",{className:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700 transition-colors",children:"View Details"})]})]})]},s.id))})]}),S.jsxs("div",{className:"glass-card p-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Integration Settings"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium mb-3",children:"Data Sources"}),S.jsx("div",{className:"space-y-2",children:[{name:"INCOIS Tsunami Bulletins",enabled:!0,status:"Connected"},{name:"Wave Height Forecasts",enabled:!0,status:"Connected"},{name:"Storm Surge Models",enabled:!0,status:"Connected"},{name:"Ocean Current Data",enabled:!1,status:"Disabled"}].map((s,c)=>S.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[S.jsx("span",{className:"text-sm",children:s.name}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.status==="Connected"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:s.status}),S.jsx("input",{type:"checkbox",checked:s.enabled,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",readOnly:!0})]})]},c))})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium mb-3",children:"Validation Thresholds"}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"High Correlation Threshold: 80%"}),S.jsx("input",{type:"range",min:"50",max:"95",value:"80",className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",readOnly:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Auto-validate threshold: 90%"}),S.jsx("input",{type:"range",min:"70",max:"100",value:"90",className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",readOnly:!0})]})]})]})]})]})]})},N4e=()=>{const[r,e]=Z.useState("overview"),[t,n]=Z.useState(R6),[i,a]=Z.useState(null),[o,s]=Z.useState(!1),[c,A]=Z.useState(!1),[f,y]=Z.useState(!1),[C,x]=Z.useState(null),[k,N]=Z.useState(""),[M,D]=Z.useState(""),[H,q]=Z.useState({title:"",message:"",severity:"high",location:"",type:""}),[$,ce]=Z.useState({status:"all",severity:"all",type:"all"}),[V,he]=Z.useState({analytics:!0,insights:!0,alerts:!0});Z.useRef();const le={total:t.length,pending:t.filter(ae=>ae.status==="pending").length,verified:t.filter(ae=>ae.status==="verified").length,falseAlarm:t.filter(ae=>ae.status==="false-alarm").length,highSeverity:t.filter(ae=>ae.severity==="high").length,todayReports:t.filter(ae=>{const ve=new Date;return new Date(ae.timestamp).toDateString()===ve.toDateString()}).length},fe=t.reduce((ae,ve)=>{const Re=ve.type||ve.hazardType,qe=ae.find(Ze=>Ze.type===Re);return qe?qe.count+=1:ae.push({type:Re,count:1}),ae},[]),Ne=[{status:"Pending",count:le.pending,color:"#f59e0b"},{status:"Verified",count:le.verified,color:"#10b981"},{status:"False Alarm",count:le.falseAlarm,color:"#ef4444"}],W=[{severity:"Low",count:t.filter(ae=>ae.severity==="low").length,color:"#10b981"},{severity:"Medium",count:t.filter(ae=>ae.severity==="medium").length,color:"#f59e0b"},{severity:"High",count:t.filter(ae=>ae.severity==="high").length,color:"#ef4444"}],ue=t.reduce((ae,ve)=>{const Re=new Date(ve.timestamp).toLocaleDateString(),qe=ae.find(Ze=>Ze.date===Re);return qe?(qe.reports+=1,ve.status==="verified"&&(qe.verified+=1)):ae.push({date:Re,reports:1,verified:ve.status==="verified"?1:0}),ae},[]).slice(-7),de=[{action:"Report verified",report:"High Tide Warning - Mumbai",time:"2 hours ago",type:"verify"},{action:"Emergency alert sent",report:"Tsunami Warning - Tamil Nadu",time:"4 hours ago",type:"alert"},{action:"New report submitted",report:"Jellyfish Alert - Goa",time:"4 hours ago",type:"submit"},{action:"Analysis generated",report:"Weekly Hazard Trends",time:"6 hours ago",type:"analysis"},{action:"Report marked false alarm",report:"Unusual Activity - Kerala",time:"8 hours ago",type:"reject"}],me=(ae,ve)=>{a(ae),N(ve),s(!0)},Qe=()=>{A(!0)},Ee=async()=>{if(!H.title||!H.message){ko.error("Please fill in all required fields");return}const ae=ko.loading("Sending emergency alert...");try{const ve={...H,timestamp:new Date().toISOString(),id:Date.now().toString(),priority:H.severity==="high"?"critical":"high",broadcastRadius:H.severity==="high"?50:25,channel:"emergency"};let Re;try{if(Re=await fetch("/api/alerts/emergency",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")||"demo-token"}`},body:JSON.stringify(ve)}),!Re.ok)throw new Error(`HTTP error! status: ${Re.status}`);const qe=await Re.json();ko.dismiss(ae),ko.success(` Emergency alert "${H.title}" successfully broadcast!

 Location: ${H.location}
 Severity: ${H.severity.toUpperCase()}
 Estimated reach: ${H.severity==="high"?"10,000+":"5,000+"} users`,{autoClose:8e3})}catch(qe){console.log("API not available, running in demo mode:",qe.message),await new Promise(Ze=>setTimeout(Ze,1500)),ko.dismiss(ae),ko.success(` Demo Mode: Emergency alert "${H.title}" simulated successfully!

 Location: ${H.location}
 Severity: ${H.severity.toUpperCase()}
 Estimated reach: ${H.severity==="high"?"10,000+":"5,000+"} users

 In production, this would broadcast to real emergency services.`,{autoClose:8e3})}q({title:"",message:"",severity:"high",location:"",type:""}),A(!1)}catch(ve){ko.dismiss(ae),console.error("Failed to send emergency alert:",ve),ko.error("Failed to send emergency alert. Please try again.")}},_e=async()=>{try{const ae=ko.loading("Generating comprehensive analysis... This may take a moment."),ve={reportSummary:{totalReports:le.total,verifiedReports:le.verified,pendingReports:le.pending,falseAlarms:le.falseAlarm,highSeverityReports:le.highSeverity,accuracyRate:(le.verified/(le.verified+le.falseAlarm)*100).toFixed(1)},trends:{weeklyChange:"+12%",mostCommonHazard:"High Tide",peakReportingTime:"2:00 PM - 4:00 PM",mostActiveLocation:"Mumbai Coast"},aiInsights:[" Increasing trend in coastal flooding reports during monsoon season"," High correlation between social media mentions and actual hazard occurrences"," Report accuracy has improved by 15% over the last month"," Weather pattern analysis suggests heightened ocean activity in the coming week"," Mobile reports are 23% more accurate than web submissions"],recommendations:["Increase monitoring around Mumbai Coast during afternoon hours","Deploy additional sensors in high-tide prone areas","Enhance social media AI monitoring for early detection","Conduct citizen awareness campaigns in coastal communities","Implement predictive modeling for weather-related hazards"],riskAssessment:{currentRiskLevel:"Medium",riskFactors:["Monsoon season approaching","High tide alerts","Weather instability"],preparednessScore:"85%"},generatedAt:new Date().toISOString(),analysisId:`ANALYSIS-${Date.now()}`};x(ve),y(!0),ko.dismiss(),ko.success("Comprehensive analysis generated successfully! Ready for review and export.")}catch(ae){console.error("Analysis generation failed:",ae),ko.dismiss(),ko.error("Failed to generate analysis. Please try again.")}},ke=async()=>{try{ko.loading("Generating PDF report...");const ae={generatedAt:new Date().toISOString(),reportTitle:"Ocean Hazard Analysis Report",period:"Last 30 Days",summary:{...le,accuracyRate:(le.verified/(le.verified+le.falseAlarm)*100).toFixed(1)+"%"},hazardDistribution:fe,statusBreakdown:Ne,timeSeriesData:ue,recentActivity:de,keyInsights:C?.aiInsights||["Increasing trend in coastal flooding reports","High accuracy rate maintained across all regions","Mobile submissions show higher verification rates"],recommendations:C?.recommendations||["Enhance monitoring during peak hours","Deploy additional sensors in high-risk areas","Increase community awareness campaigns"]},ve=new wn("p","mm","a4"),Re=ve.internal.pageSize.width,qe=ve.internal.pageSize.height,Ze=20;let st=Ze;const ot=(pe,J,re,Ue,be=10)=>{ve.setFontSize(be);const et=ve.splitTextToSize(pe,Ue);return ve.text(et,J,re),re+et.length*be*.35};ve.setFontSize(20),ve.setFont("helvetica","bold"),ve.text("OCEAN HAZARD ANALYSIS REPORT",Re/2,st,{align:"center"}),st+=15,ve.setFontSize(12),ve.setFont("helvetica","normal"),ve.text(`Generated: ${new Date(ae.generatedAt).toLocaleString()}`,Re/2,st,{align:"center"}),st+=10,ve.text(`Analysis Period: ${ae.period}`,Re/2,st,{align:"center"}),st+=20,ve.setFontSize(16),ve.setFont("helvetica","bold"),ve.text("EXECUTIVE SUMMARY",Ze,st),st+=10,ve.setFontSize(10),ve.setFont("helvetica","normal"),[`Total Reports: ${ae.summary.total}`,`Verified Reports: ${ae.summary.verified}`,`Pending Reviews: ${ae.summary.pending}`,`False Alarms: ${ae.summary.falseAlarm}`,`High Severity Reports: ${ae.summary.highSeverity}`,`Accuracy Rate: ${ae.summary.accuracyRate}`].forEach(pe=>{ve.text(pe,Ze,st),st+=6}),st+=10,ve.setFontSize(16),ve.setFont("helvetica","bold"),ve.text("HAZARD DISTRIBUTION",Ze,st),st+=10,ve.setFontSize(10),ve.setFont("helvetica","normal"),ae.hazardDistribution.forEach(pe=>{ve.text(`${pe.type}: ${pe.count} reports`,Ze,st),st+=6}),st+=10,ve.setFontSize(16),ve.setFont("helvetica","bold"),ve.text("KEY INSIGHTS",Ze,st),st+=10,ve.setFontSize(10),ve.setFont("helvetica","normal"),ae.keyInsights.forEach(pe=>{st=ot(` ${pe}`,Ze,st,Re-2*Ze),st+=4}),st+=10,ve.setFontSize(16),ve.setFont("helvetica","bold"),ve.text("RECOMMENDATIONS",Ze,st),st+=10,ve.setFontSize(10),ve.setFont("helvetica","normal"),ae.recommendations.forEach((pe,J)=>{st=ot(`${J+1}. ${pe}`,Ze,st,Re-2*Ze),st+=4}),st>qe-50&&(ve.addPage(),st=Ze),st+=10,ve.setFontSize(16),ve.setFont("helvetica","bold"),ve.text("RECENT ACTIVITY",Ze,st),st+=10,ve.setFontSize(10),ve.setFont("helvetica","normal"),ae.recentActivity.slice(0,10).forEach(pe=>{st=ot(` ${pe.action} - ${pe.report} (${pe.time})`,Ze,st,Re-2*Ze),st+=4});const Pe=qe-15;ve.setFontSize(8),ve.setFont("helvetica","italic"),ve.text("Generated by Ocean Hazard Reporter System",Re/2,Pe,{align:"center"});const oe=`Ocean_Hazard_Report_${new Date().toISOString().slice(0,10)}.pdf`;ve.save(oe),ko.dismiss(),ko.success(` PDF report exported successfully!

The comprehensive analysis has been downloaded to your device.`)}catch(ae){console.error("PDF export failed:",ae),ko.dismiss(),ko.error("Failed to export PDF report. Please try again.")}},We=()=>{if(!i)return;const ae=t.map(ve=>{if(ve.id===i.id){const Re=new Date().toISOString();return{...ve,status:k==="verify"?"verified":k==="reject"?"false-alarm":ve.status,verifiedAt:k==="verify"?Re:ve.verifiedAt,verifiedBy:k==="verify"||k==="reject"?"Admin":ve.verifiedBy,comments:M||ve.comments}}return ve});n(ae),s(!1),D(""),k==="verify"&&ko.success(`Alert sent successfully for ${i.title}`)},Oe=t.filter(ae=>($.status==="all"||ae.status===$.status)&&($.severity==="all"||ae.severity===$.severity)&&($.type==="all"||ae.type===$.type)),ze=ae=>new Date(ae).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ne=ae=>ae.status==="pending"?S.jsxs("div",{className:"flex space-x-2",children:[S.jsxs("button",{onClick:()=>me(ae,"verify"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm transition-colors",children:[S.jsx(YM,{className:"h-4 w-4 inline mr-1"}),"Verify"]}),S.jsxs("button",{onClick:()=>me(ae,"reject"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-colors",children:[S.jsx(c2,{className:"h-4 w-4 inline mr-1"}),"Reject"]}),S.jsxs("button",{onClick:()=>me(ae,"comment"),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors",children:[S.jsx(Rk,{className:"h-4 w-4 inline mr-1"}),"Comment"]})]}):S.jsxs("button",{onClick:()=>me(ae,"comment"),className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm transition-colors",children:[S.jsx(Rk,{className:"h-4 w-4 inline mr-1"}),"Add Comment"]});return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[S.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-3 rounded-2xl",children:S.jsx(zp,{className:"h-8 w-8 text-white"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Ocean Safety Command Center"}),S.jsx("p",{className:"text-gray-600",children:"Advanced analytics and emergency response management"})]})]}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsxs("button",{onClick:Qe,className:"flex items-center px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform",children:[S.jsx(jE,{className:"h-5 w-5 mr-2"}),"Send Emergency Alert"]}),S.jsxs("button",{onClick:_e,className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform",children:[S.jsx(GM,{className:"h-5 w-5 mr-2"}),"Generate Analysis"]}),S.jsxs("button",{onClick:ke,className:"flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform",children:[S.jsx(mY,{className:"h-5 w-5 mr-2"}),"Export PDF"]})]})]})})}),S.jsx("div",{className:"bg-white border-b border-gray-200",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsx("div",{className:"flex space-x-8",children:[{id:"overview",label:"Dashboard Overview",icon:GM},{id:"analytics",label:"Advanced Analytics",icon:yg},{id:"reports",label:"Reports Management",icon:u2},{id:"social-media",label:"Social Intelligence",icon:FQ},{id:"cluster-alerts",label:"Cluster Analysis",icon:NS},{id:"incois",label:"INCOIS Integration",icon:fv}].map(ae=>S.jsxs("button",{onClick:()=>e(ae.id),className:`flex items-center space-x-2 py-6 px-4 border-b-2 font-semibold text-sm transition-all duration-300 ${r===ae.id?"border-ocean-500 text-ocean-600 bg-ocean-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[S.jsx(ae.icon,{className:"h-5 w-5"}),S.jsx("span",{children:ae.label})]},ae.id))})})}),S.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[S.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-3xl shadow-lg text-white transform hover:scale-105 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Reports"}),S.jsx("p",{className:"text-3xl font-bold",children:le.total})]}),S.jsx(u2,{className:"h-8 w-8 text-blue-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 p-6 rounded-3xl shadow-lg text-white transform hover:scale-105 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Pending"}),S.jsx("p",{className:"text-3xl font-bold",children:le.pending})]}),S.jsx(dv,{className:"h-8 w-8 text-yellow-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-3xl shadow-lg text-white transform hover:scale-105 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Verified"}),S.jsx("p",{className:"text-3xl font-bold",children:le.verified})]}),S.jsx(YM,{className:"h-8 w-8 text-green-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 p-6 rounded-3xl shadow-lg text-white transform hover:scale-105 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-red-100 text-sm font-medium",children:"False Alarms"}),S.jsx("p",{className:"text-3xl font-bold",children:le.falseAlarm})]}),S.jsx(c2,{className:"h-8 w-8 text-red-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-3xl shadow-lg text-white transform hover:scale-105 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"High Severity"}),S.jsx("p",{className:"text-3xl font-bold",children:le.highSeverity})]}),S.jsx(Jc,{className:"h-8 w-8 text-purple-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 p-6 rounded-3xl shadow-lg text-white transform hover:scale-105 transition-all duration-300",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:"Today's Reports"}),S.jsx("p",{className:"text-3xl font-bold",children:le.todayReports})]}),S.jsx(P6,{className:"h-8 w-8 text-indigo-200"})]})})]}),S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),S.jsx("div",{className:"space-y-4",children:de.map((ae,ve)=>S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"bg-ocean-100 p-2 rounded-full",children:S.jsx(Kb,{className:"h-4 w-4 text-ocean-600"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"text-sm font-medium text-gray-900",children:ae.action}),S.jsx("p",{className:"text-sm text-gray-600",children:ae.report})]}),S.jsx("span",{className:"text-xs text-gray-500",children:ae.time})]},ve))})]})})]}),r==="analytics"&&S.jsxs("div",{className:"space-y-8",children:[S.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-3xl p-8 text-white",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Advanced Analytics"}),S.jsx("p",{className:"text-indigo-100",children:"Comprehensive data insights and predictive analysis"})]}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx(yg,{className:"h-12 w-12 text-indigo-200"}),S.jsx("button",{onClick:ke,className:"bg-white/20 hover:bg-white/30 px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:" Export Analytics Report"})]})]})}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Hazard Distribution"}),S.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:S.jsx(GM,{className:"h-5 w-5 text-blue-600"})})]}),S.jsx(nI,{width:"100%",height:300,children:S.jsxs(m4e,{data:fe,children:[S.jsx(ik,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),S.jsx(ak,{dataKey:"type",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),S.jsx(ok,{}),S.jsx(rI,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),S.jsx(Tte,{dataKey:"count",fill:"url(#blueGradient)",radius:[4,4,0,0]}),S.jsx("defs",{children:S.jsxs("linearGradient",{id:"blueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.9}),S.jsx("stop",{offset:"95%",stopColor:"#1d4ed8",stopOpacity:.9})]})})]})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Status Distribution"}),S.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:S.jsx(iue,{className:"h-5 w-5 text-green-600"})})]}),S.jsx(nI,{width:"100%",height:300,children:S.jsxs(S4e,{children:[S.jsx(wte,{data:Ne,cx:"50%",cy:"50%",labelLine:!1,label:({status:ae,count:ve})=>`${ae}: ${ve}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:Ne.map((ae,ve)=>S.jsx(JS,{fill:ae.color},`cell-${ve}`))}),S.jsx(rI,{})]})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reports Timeline"}),S.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:S.jsx(tV,{className:"h-5 w-5 text-purple-600"})})]}),S.jsx(nI,{width:"100%",height:300,children:S.jsxs(tV,{data:ue,children:[S.jsx(ik,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),S.jsx(ak,{dataKey:"date",tick:{fontSize:11}}),S.jsx(ok,{}),S.jsx(rI,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),S.jsx(jte,{type:"monotone",dataKey:"reports",stroke:"#8b5cf6",strokeWidth:3,dot:{fill:"#8b5cf6",strokeWidth:2,r:4}})]})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Severity Analysis"}),S.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:S.jsx(rV,{className:"h-5 w-5 text-red-600"})})]}),S.jsx(nI,{width:"100%",height:300,children:S.jsxs(rV,{data:W,children:[S.jsx(ik,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),S.jsx(ak,{dataKey:"severity"}),S.jsx(ok,{}),S.jsx(rI,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),S.jsx($te,{type:"monotone",dataKey:"count",stroke:"#ef4444",fill:"url(#redGradient)"}),S.jsx("defs",{children:S.jsxs("linearGradient",{id:"redGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),S.jsx("stop",{offset:"95%",stopColor:"#dc2626",stopOpacity:.2})]})})]})})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[S.jsx("div",{className:"bg-gradient-to-br from-cyan-500 to-blue-600 p-6 rounded-2xl text-white",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-cyan-100 text-sm",children:"Accuracy Rate"}),S.jsxs("p",{className:"text-2xl font-bold",children:[(le.verified/(le.verified+le.falseAlarm)*100).toFixed(1),"%"]})]}),S.jsx(YM,{className:"h-8 w-8 text-cyan-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 p-6 rounded-2xl text-white",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-emerald-100 text-sm",children:"Response Time"}),S.jsx("p",{className:"text-2xl font-bold",children:"4.2min"})]}),S.jsx(dv,{className:"h-8 w-8 text-emerald-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-violet-500 to-purple-600 p-6 rounded-2xl text-white",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-violet-100 text-sm",children:"AI Confidence"}),S.jsx("p",{className:"text-2xl font-bold",children:"94.3%"})]}),S.jsx(FQ,{className:"h-8 w-8 text-violet-200"})]})}),S.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 p-6 rounded-2xl text-white",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-orange-100 text-sm",children:"Alert Coverage"}),S.jsx("p",{className:"text-2xl font-bold",children:"12.4km"})]}),S.jsx(Ph,{className:"h-8 w-8 text-orange-200"})]})})]})]}),r==="reports"&&S.jsxs("div",{className:"space-y-6",children:[S.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),S.jsxs("select",{value:$.status,onChange:ae=>ce({...$,status:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500",children:[S.jsx("option",{value:"all",children:"All Statuses"}),S.jsx("option",{value:"pending",children:"Pending"}),S.jsx("option",{value:"verified",children:"Verified"}),S.jsx("option",{value:"false-alarm",children:"False Alarm"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Severity"}),S.jsxs("select",{value:$.severity,onChange:ae=>ce({...$,severity:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500",children:[S.jsx("option",{value:"all",children:"All Severities"}),S.jsx("option",{value:"low",children:"Low"}),S.jsx("option",{value:"medium",children:"Medium"}),S.jsx("option",{value:"high",children:"High"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),S.jsxs("select",{value:$.type,onChange:ae=>ce({...$,type:ae.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500",children:[S.jsx("option",{value:"all",children:"All Types"}),Object.entries(ZM).map(([ae,ve])=>S.jsx("option",{value:ae,children:ve.label},ae))]})]}),S.jsx("div",{className:"flex items-end",children:S.jsxs("button",{className:"w-full bg-ocean-500 hover:bg-ocean-600 text-white px-4 py-2 rounded-md transition-colors",children:[S.jsx(O6,{className:"h-4 w-4 inline mr-2"}),"Apply Filters"]})})]})}),S.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[S.jsx("thead",{className:"bg-gray-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report"}),S.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),S.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Severity"}),S.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),S.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reported"}),S.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),S.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Oe.map(ae=>S.jsxs("tr",{className:"hover:bg-gray-50",children:[S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.title}),S.jsx("div",{className:"text-sm text-gray-500",children:ae.location})]})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"text-sm text-gray-900",children:ZM[ae.type]?.label})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:lB[ae.severity]?.bgColor,color:lB[ae.severity]?.color},children:lB[ae.severity]?.label})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:sB[ae.status]?.bgColor,color:sB[ae.status]?.color},children:sB[ae.status]?.label})}),S.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ze(ae.reportedAt)}),S.jsx("td",{className:"px-6 py-4",children:ne(ae)})]},ae.id))})]})})})]}),r==="map"&&S.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:S.jsx("div",{className:"h-96 md:h-[600px]",children:S.jsxs(MapContainer,{center:[20.5937,78.9629],zoom:5,className:"h-full w-full",scrollWheelZoom:!0,children:[S.jsx(TileLayer,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Oe.map(ae=>S.jsx(Marker,{position:ae.coordinates,icon:createAdminIcon(ae.type,ae.severity,ae.status),children:S.jsx(Popup,{children:S.jsxs("div",{className:"p-3 min-w-64",children:[S.jsx("h3",{className:"font-semibold text-lg mb-2",children:ae.title}),S.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[S.jsxs("div",{children:[S.jsx("strong",{children:"Type:"})," ",ZM[ae.type]?.label]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Severity:"})," ",lB[ae.severity]?.label]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Status:"})," ",sB[ae.status]?.label]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Location:"})," ",ae.location]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Reported by:"})," ",ae.reportedBy]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Date:"})," ",ze(ae.reportedAt)]})]}),S.jsx("p",{className:"text-gray-600 text-sm mb-4",children:ae.description}),ae.status==="pending"&&S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("button",{onClick:()=>me(ae,"verify"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"Verify"}),S.jsx("button",{onClick:()=>me(ae,"reject"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Reject"})]})]})})},ae.id))]})})}),r==="social-media"&&S.jsx(B4e,{}),r==="cluster-alerts"&&S.jsx(I4e,{}),r==="incois"&&S.jsx(k4e,{})]}),c&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-lg w-full mx-4 shadow-2xl",children:[S.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[S.jsx("div",{className:"bg-red-100 p-3 rounded-2xl",children:S.jsx(jE,{className:"h-6 w-6 text-red-600"})}),S.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Send Emergency Alert"})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Title"}),S.jsx("input",{type:"text",value:H.title,onChange:ae=>q({...H,title:ae.target.value}),placeholder:"e.g., Tsunami Warning - Immediate Evacuation Required",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Message"}),S.jsx("textarea",{value:H.message,onChange:ae=>q({...H,message:ae.target.value}),placeholder:"Detailed alert message for citizens...",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500",rows:4})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),S.jsxs("select",{value:H.severity,onChange:ae=>q({...H,severity:ae.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500",children:[S.jsx("option",{value:"high",children:"High - Critical"}),S.jsx("option",{value:"medium",children:"Medium - Important"}),S.jsx("option",{value:"low",children:"Low - Advisory"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),S.jsx("input",{type:"text",value:H.location,onChange:ae=>q({...H,location:ae.target.value}),placeholder:"e.g., Mumbai Coast",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hazard Type"}),S.jsxs("select",{value:H.type,onChange:ae=>q({...H,type:ae.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500",children:[S.jsx("option",{value:"",children:"Select hazard type..."}),S.jsx("option",{value:"tsunami",children:"Tsunami"}),S.jsx("option",{value:"cyclone",children:"Cyclone/Storm"}),S.jsx("option",{value:"high-tide",children:"High Tide"}),S.jsx("option",{value:"oil-spill",children:"Oil Spill"}),S.jsx("option",{value:"pollution",children:"Water Pollution"}),S.jsx("option",{value:"other",children:"Other Emergency"})]})]})]}),S.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[S.jsx("button",{onClick:()=>A(!1),className:"px-6 py-3 border border-gray-300 rounded-2xl text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),S.jsx("button",{onClick:Ee,disabled:!H.title||!H.message,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:from-gray-300 disabled:to-gray-400 text-white rounded-2xl font-bold transition-all duration-300 disabled:cursor-not-allowed",children:"Send Emergency Alert"})]})]})}),o&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:S.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[S.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k==="verify"?"Verify Report":k==="reject"?"Reject Report":"Add Comment"}),S.jsx("p",{className:"text-gray-600 mb-4",children:i?.title}),S.jsx("textarea",{value:M,onChange:ae=>D(ae.target.value),placeholder:k==="verify"?"Add verification notes...":k==="reject"?"Reason for rejection...":"Add your comment...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500 mb-4",rows:4}),S.jsxs("div",{className:"flex justify-end space-x-3",children:[S.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),S.jsx("button",{onClick:We,className:`px-4 py-2 rounded-md text-white transition-colors ${k==="verify"?"bg-green-500 hover:bg-green-600":k==="reject"?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:k==="verify"?"Verify & Send Alert":k==="reject"?"Reject Report":"Add Comment"})]})]})})]})};var nV={};/*!
MICROSOFT SOFTWARE LICENSE TERMS
MICROSOFT AZURE MAPS WEB SDK
These license terms are an agreement between you and Microsoft Corporation (or one of its affiliates). They apply to the software named above and any Microsoft services or software updates (except to the extent such services or updates are accompanied by new or additional terms, in which case those different terms apply prospectively and do not alter your or Microsofts rights relating to pre-updated software or services). IF YOU COMPLY WITH THESE LICENSE TERMS, YOU HAVE THE RIGHTS BELOW.  BY USING THE SOFTWARE, YOU ACCEPT THESE TERMS.
1. INSTALLATION AND USE RIGHTS.
  a) General. You may install and use any number of copies of the software to develop and test your applications.
  b) User Region Parameters. The software will allow you to select from a View list to set the map view within your application for a given customer. By default the View parameter (also referred to as user region parameter is set to Unified.  Countries/Regions that are not on the View list will default to the Unified View. It is your responsibility to determine the location of your users, and then set the View parameter correctly for that location. The View parameter must be used in compliance with applicable laws, including those regarding mapping, of the country where maps, images and other data and third party content that You are authorized to access via the software is made available. 
  c) Third Party Software. The software may include third party applications that Microsoft, not the third party, licenses to you under this agreement. Any included notices for third party applications are for your information only.
  d) Microsoft Online Subscription Agreement. Some features of the software provide access to, or rely on, Microsoft Azure Services. The use of those services (but not the software) is governed by the separate terms and privacy policies associated with your Microsoft Azure subscription. The services may not be available in all regions. For more information see https://go.microsoft.com/fwLink/?LinkID=522330&amp;clcid=0x9.
2. DISTRIBUTABLE CODE. The software is comprised of Distributable Code. Distributable Code is code that you are permitted to distribute in applications you develop if you comply with the terms below and otherwise set forth in these license terms. 
  a) Distribution Rights. 
    i. You may copy and distribute the object code form of the software.
    i. Third Party Distribution. You may permit distributors of your applications to copy and distribute any of this distributable code you elect to distribute with your applications.
  b) Distribution Requirements. For any code you distribute, you must:
    i. add significant primary functionality to it in your applications;
    ii. require distributors and external end users to agree to terms that protect it and Microsoft at least as much as this agreement; and
    iii. indemnify, defend, and hold harmless Microsoft from any claims, including attorneys fees, related to the distribution or use of your applications, except to the extent that any claim is based solely on the unmodified distributable code.
  c) Distribution Restrictions. You may not:
    i. use Microsofts trademarks or trade dress in your application in any way that suggests your application comes from or is endorsed by Microsoft; or
    ii. modify or distribute the source code of any distributable code so that any part of it becomes subject to any license that requires that the distributable code, any other part of the software, or any of Microsofts other intellectual property be disclosed or distributed in source code form, or that others have the right to modify it.
3. DATA COLLECTION. The software may collect information about you and your use of the software and send that to Microsoft. Microsoft may use this information to provide services and improve Microsofts products and services. Your opt-out rights, if any, are described in the product documentation. Some features in the software may enable collection of data from users of your applications that access or use the software. If you use these features to enable data collection in your applications, you must comply with applicable law, including getting any required user consent, and maintain a prominent privacy policy that accurately informs users about how you use, collect, and share their data. You can learn more about Microsofts data collection and use in the product documentation and the Microsoft Privacy Statement at https://go.microsoft.com/fwlink/?LinkId=512132. You agree to comply with all applicable provisions of the Microsoft Privacy Statement.
4. SCOPE OF LICENSE. The software is licensed, not sold. Microsoft reserves all other rights. Unless applicable law gives you more rights despite this limitation, you will not (and have no right to):
  a) work around any technical limitations in the software that only allow you to use it in certain ways;
  b) reverse engineer, decompile, or disassemble the software, or attempt to do so, except and only to the extent permitted by licensing terms governing the use of open-source components that may be included with the software;
  c) remove, minimize, block, or modify any notices of Microsoft or its suppliers in the software;
  d) use the software in any way that is against the law or to create or propagate malware; or
  e) share, publish, distribute, or lend the software (except for any distributable code, subject to the terms above), provide the software as a stand-alone hosted solution for others to use, or transfer the software or this agreement to any third party.
5. EXPORT RESTRICTIONS. You must comply with all domestic and international export laws and regulations that apply to the software, which include restrictions on destinations, end users, and end use. For further information on export restrictions, visit http://aka.ms/exporting.
6. SUPPORT SERVICES. Microsoft is not obligated under this agreement to provide any support services for the software. Any support provided is as is, with all faults, and without warranty of any kind.
7. UPDATES. The software may periodically check for updates, and download and install them for you. You may obtain updates only from Microsoft or authorized sources. Microsoft may need to update your system to provide you with updates. You agree to receive these automatic updates without any additional notice. Updates may not include or support all existing software features, services, or peripheral devices.
8. ENTIRE AGREEMENT. This agreement, and any other terms Microsoft may provide for supplements, updates, or third-party applications, is the entire agreement for the software.
9. APPLICABLE LAW AND PLACE TO RESOLVE DISPUTES. If you acquired the software in the United States or Canada, the laws of the state or province where you live (or, if a business, where your principal place of business is located) govern the interpretation of this agreement, claims for its breach, and all other claims (including consumer protection, unfair competition, and tort claims), regardless of conflict of laws principles. If you acquired the software in any other country, its laws apply. If U.S. federal jurisdiction exists, you and Microsoft consent to exclusive jurisdiction and venue in the federal court in King County, Washington for all disputes heard in court. If not, you and Microsoft consent to exclusive jurisdiction and venue in the Superior Court of King County, Washington for all disputes heard in court.
10. CONSUMER RIGHTS; REGIONAL VARIATIONS. This agreement describes certain legal rights. You may have other rights, including consumer rights, under the laws of your state or country. Separate and apart from your relationship with Microsoft, you may also have rights with respect to the party from which you acquired the software. This agreement does not change those other rights if the laws of your state or country do not permit it to do so. For example, if you acquired the software in one of the below regions, or mandatory country law applies, then the following provisions apply to you:
  a) Australia. You have statutory guarantees under the Australian Consumer Law and nothing in this agreement is intended to affect those rights.
  b) Canada. If you acquired this software in Canada, you may stop receiving updates by turning off the automatic update feature, disconnecting your device from the Internet (if and when you re-connect to the Internet, however, the software will resume checking for and installing updates), or uninstalling the software. The product documentation, if any, may also specify how to turn off updates for your specific device or software.
  c) Germany and Austria.
    i. Warranty. The properly licensed software will perform substantially as described in any Microsoft materials that accompany the software. However, Microsoft gives no contractual guarantee in relation to the licensed software.
    ii. Limitation of Liability. In case of intentional conduct, gross negligence, claims based on the Product Liability Act, as well as, in case of death or personal or physical injury, Microsoft is liable according to the statutory law.
  Subject to the foregoing clause ii., Microsoft will only be liable for slight negligence if Microsoft is in breach of such material contractual obligations, the fulfillment of which facilitate the due performance of this agreement, the breach of which would endanger the purpose of this agreement and the compliance with which a party may constantly trust in (so-called "cardinal obligations"). In other cases of slight negligence, Microsoft will not be liable for slight negligence.
11. DISCLAIMER OF WARRANTY. THE SOFTWARE IS LICENSED AS IS. YOU BEAR THE RISK OF USING IT. MICROSOFT GIVES NO EXPRESS WARRANTIES, GUARANTEES, OR CONDITIONS. TO THE EXTENT PERMITTED UNDER APPLICABLE LAWS, MICROSOFT EXCLUDES ALL IMPLIED WARRANTIES, INCLUDING MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.
12. LIMITATION ON AND EXCLUSION OF DAMAGES. IF YOU HAVE ANY BASIS FOR RECOVERING DAMAGES DESPITE THE PRECEDING DISCLAIMER OF WARRANTY, YOU CAN RECOVER FROM MICROSOFT AND ITS SUPPLIERS ONLY DIRECT DAMAGES UP TO U.S. $5.00. YOU CANNOT RECOVER ANY OTHER DAMAGES, INCLUDING CONSEQUENTIAL, LOST PROFITS, SPECIAL, INDIRECT, OR INCIDENTAL DAMAGES.
This limitation applies to (a) anything related to the software, services, content (including code) on third party Internet sites, or third party applications; and (b) claims for breach of contract, warranty, guarantee, or condition; strict liability, negligence, or other tort; or any other claim; in each case to the extent permitted by applicable law.
It also applies even if Microsoft knew or should have known about the possibility of the damages. The above limitation or exclusion may not apply to you because your state, province, or country may not allow the exclusion or limitation of incidental, consequential, or other damages.
Please note: As this software is distributed in Canada, some of the clauses in this agreement are provided below in French.
Remarque: Ce logiciel tant distribu au Canada, certaines des clauses dans ce contrat sont fournies ci-dessous en franais.
EXONRATION DE GARANTIE. Le logiciel vis par une licence est offert  tel quel . Toute utilisation de ce logiciel est  votre seule risque et pril. Microsoft naccorde aucune autre garantie expresse. Vous pouvez bnficier de droits additionnels en vertu du droit local sur la protection des consommateurs, que ce contrat ne peut modifier. La ou elles sont permises par le droit locale, les garanties implicites de qualit marchande, dadquation  un usage particulier et dabsence de contrefaon sont exclues.
LIMITATION DES DOMMAGES-INTRTS ET EXCLUSION DE RESPONSABILIT POUR LES DOMMAGES. Vous pouvez obtenir de Microsoft et de ses fournisseurs une indemnisation en cas de dommages directs uniquement  hauteur de 5,00 $ US. Vous ne pouvez prtendre  aucune indemnisation pour les autres dommages, y compris les dommages spciaux, indirects ou accessoires et pertes de bnfices.
Cette limitation concerne:
 tout ce qui est reli au logiciel, aux services ou au contenu (y compris le code) figurant sur des sites Internet tiers ou dans des programmes tiers; et
 les rclamations au titre de violation de contrat ou de garantie, ou au titre de responsabilit stricte, de ngligence ou dune autre faute dans la limite autorise par la loi en vigueur.
Elle sapplique galement, mme si Microsoft connaissait ou devrait connatre lventualit dun tel dommage. Si votre pays nautorise pas lexclusion ou la limitation de responsabilit pour les dommages indirects, accessoires ou de quelque nature que ce soit, il se peut que la limitation ou lexclusion ci-dessus ne sappliquera pas  votre gard.
EFFET JURIDIQUE. Le prsent contrat dcrit certains droits juridiques. Vous pourriez avoir dautres droits prvus par les lois de votre pays. Le prsent contrat ne modifie pas les droits que vous confrent les lois de votre pays si celles-ci ne le permettent pas.
*/var aI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function P4e(r){var e,t;return r.__esModule?r:(typeof(e=r.default)=="function"?(t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)}).prototype=e.prototype:t={},Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t)}var iV={exports:{}},O4e=((function(){var r;r=function(){var e={},t={};function n(i,a,o){t[i]=o,i==="index"&&(o="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",t.shared(i={}),t.index(e,i),typeof window<"u")&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}return n("shared",0,function(i){function a(d,u,g,w){return new(g=g||Promise)(function(T,P){function L(ie){try{z(w.next(ie))}catch(te){P(te)}}function Q(ie){try{z(w.throw(ie))}catch(te){P(te)}}function z(ie){var te;ie.done?T(ie.value):((te=ie.value)instanceof g?te:new g(function(ge){ge(te)})).then(L,Q)}z((w=w.apply(d,u||[])).next())})}function o(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var s=c;function c(d,u){this.x=d,this.y=u}c.prototype={clone:function(){return new c(this.x,this.y)},add:function(d){return this.clone()._add(d)},sub:function(d){return this.clone()._sub(d)},multByPoint:function(d){return this.clone()._multByPoint(d)},divByPoint:function(d){return this.clone()._divByPoint(d)},mult:function(d){return this.clone()._mult(d)},div:function(d){return this.clone()._div(d)},rotate:function(d){return this.clone()._rotate(d)},rotateAround:function(d,u){return this.clone()._rotateAround(d,u)},matMult:function(d){return this.clone()._matMult(d)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(d){return this.x===d.x&&this.y===d.y},dist:function(d){return Math.sqrt(this.distSqr(d))},distSqr:function(g){var u=g.x-this.x,g=g.y-this.y;return u*u+g*g},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(d){return Math.atan2(this.y-d.y,this.x-d.x)},angleWith:function(d){return this.angleWithSep(d.x,d.y)},angleWithSep:function(d,u){return Math.atan2(this.x*u-this.y*d,this.x*d+this.y*u)},_matMult:function(g){var u=g[0]*this.x+g[1]*this.y,g=g[2]*this.x+g[3]*this.y;return this.x=u,this.y=g,this},_add:function(d){return this.x+=d.x,this.y+=d.y,this},_sub:function(d){return this.x-=d.x,this.y-=d.y,this},_mult:function(d){return this.x*=d,this.y*=d,this},_div:function(d){return this.x/=d,this.y/=d,this},_multByPoint:function(d){return this.x*=d.x,this.y*=d.y,this},_divByPoint:function(d){return this.x/=d.x,this.y/=d.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var d=this.y;return this.y=this.x,this.x=-d,this},_rotate:function(w){var u=Math.cos(w),w=Math.sin(w),g=u*this.x-w*this.y,w=w*this.x+u*this.y;return this.x=g,this.y=w,this},_rotateAround:function(T,u){var g=Math.cos(T),T=Math.sin(T),w=u.x+g*(this.x-u.x)-T*(this.y-u.y),T=u.y+T*(this.x-u.x)+g*(this.y-u.y);return this.x=w,this.y=T,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},c.convert=function(d){return!(d instanceof c)&&Array.isArray(d)?new c(d[0],d[1]):d};var A=o(s),f=y;function y(d,u,g,w){this.cx=3*d,this.bx=3*(g-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(w-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=u,this.p2x=g,this.p2y=w}y.prototype={sampleCurveX:function(d){return((this.ax*d+this.bx)*d+this.cx)*d},sampleCurveY:function(d){return((this.ay*d+this.by)*d+this.cy)*d},sampleCurveDerivativeX:function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},solveCurveX:function(d,u){if(u===void 0&&(u=1e-6),d<0)return 0;if(1<d)return 1;for(var g=d,w=0;w<8;w++){var T=this.sampleCurveX(g)-d;if(Math.abs(T)<u)return g;var P=this.sampleCurveDerivativeX(g);if(Math.abs(P)<1e-6)break;g-=T/P}for(var L=0,Q=1,g=d,w=0;w<20&&(T=this.sampleCurveX(g),!(Math.abs(T-d)<u));w++)T<d?L=g:Q=g,g=.5*(Q-L)+L;return g},solve:function(d,u){return this.sampleCurveY(this.solveCurveX(d,u))}};var C=o(f);let x;function k(){return x=x??(typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function")}let N;function M(){if(N==null&&(N=!1,k())){var d=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(d){for(let w=0;w<25;w++){var u=4*w;d.fillStyle=`rgb(${u},${1+u},${2+u})`,d.fillRect(w%5,Math.floor(w/5),1,1)}var g=d.getImageData(0,0,5,5).data;for(let w=0;w<100;w++)if(w%4!=3&&g[w]!==w){N=!0;break}}}return N||!1}function D(d){var u,g;return d<=0?0:1<=d?1:(g=(u=d*d)*d,4*(d<.5?g:3*(d-u)+g-.75))}function H(d,u,g,w){const T=new C(d,u,g,w);return function(P){return T.solve(P)}}f=H(.25,.1,.25,1);function q(d,u,g){return Math.min(g,Math.max(u,d))}function $(T,u,g){var w=g-u,T=((T-u)%w+w)%w+u;return T===u?g:T}function ce(d,...u){for(const g of u)for(const w in g)d[w]=g[w];return d}let V=1;function he(d,u,g){var w={};for(const T in d)w[T]=u.call(g||this,d[T],T,d);return w}function le(d,u,g){var w={};for(const T in d)u.call(g||this,d[T],T,d)&&(w[T]=d[T]);return w}function fe(d){return Array.isArray(d)?d.map(fe):typeof d=="object"&&d?he(d,fe):d}function Ne(d,u){for(let g=0;g<d.length;g++)if(0<=u.indexOf(d[g]))return 1}const W={};function ue(d){W[d]||(typeof console<"u"&&console.warn(d),W[d]=!0)}function de(d,u,g){return(g.y-d.y)*(u.x-d.x)>(u.y-d.y)*(g.x-d.x)}function me(d){return typeof WorkerGlobalScope<"u"&&d!==void 0&&d instanceof WorkerGlobalScope}let Qe=null;function Ee(d){return typeof ImageBitmap<"u"&&d instanceof ImageBitmap}const _e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ke(d,u,g,w,T){return a(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");var P,L,Q,z,ie,te,ge,Ie,Fe,je=new VideoFrame(d,{timestamp:0});try{var Ye=je?.format;if(!Ye||!Ye.startsWith("BGR")&&!Ye.startsWith("RGB"))throw new Error("Unrecognized format "+Ye);var it=Ye.startsWith("BGR"),Ve=new Uint8ClampedArray(w*T*4);if(yield je.copyTo(Ve,(P=d,L=u,Q=g,z=w,ie=T,te=4*Math.max(-L,0),te=(Math.max(0,Q)-Q)*z*4+te,ge=4*z,Ie=Math.max(0,L),Fe=Math.max(0,Q),{rect:{x:Ie,y:Fe,width:Math.min(P.width,L+z)-Ie,height:Math.min(P.height,Q+ie)-Fe},layout:[{offset:te,stride:ge}]})),it)for(let bt=0;bt<Ve.length;bt+=4){var ht=Ve[bt];Ve[bt]=Ve[bt+2],Ve[bt+2]=ht}return Ve}finally{je.close()}})}let We,Oe;function ze(d,u,g,w){return d.addEventListener(u,g,w),{unsubscribe:()=>{d.removeEventListener(u,g,w)}}}const ne="AbortError";function ae(){return new Error(ne)}const ve={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Re(d){return ve.REGISTERED_PROTOCOLS[d.substring(0,d.indexOf("://"))]}const qe="global-dispatcher";class Ze extends Error{constructor(u,g,w,T){super(`AJAXError: ${g} (${u}): `+w),this.status=u,this.statusText=g,this.url=w,this.body=T}}const st=()=>me(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ot=d=>/^file:/.test(d)||/^file:/.test(st())&&!/^\w+:/.test(d);function yt(d,u){if(/:\/\//.test(d.url)&&!/^https?:|^file:/.test(d.url)){var g=Re(d.url);if(g)return g(d,u);if(me(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,targetMapId:qe},u)}if(!ot(d.url)){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(P,L){return a(this,void 0,void 0,function*(){var Q=new Request(P.url,{method:P.method||"GET",body:P.body,credentials:P.credentials,headers:P.headers,cache:P.cache,referrer:st(),signal:L.signal}),Q=(P.type==="json"&&Q.headers.set("Accept","application/json"),yield fetch(Q));if(!Q.ok)throw z=yield Q.blob(),new Ze(Q.status,Q.statusText,P.url,z);var z=yield P.type==="arrayBuffer"||P.type==="image"?Q.arrayBuffer():P.type==="json"?Q.json():Q.text();if(L.signal.aborted)throw ae();return{data:z,cacheControl:Q.headers.get("Cache-Control"),expires:Q.headers.get("Expires")}})})(d,u);if(me(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,mustQueue:!0,targetMapId:qe},u)}return w=d,T=u,new Promise((P,L)=>{const Q=new XMLHttpRequest;Q.open(w.method||"GET",w.url,!0),w.type!=="arrayBuffer"&&w.type!=="image"||(Q.responseType="arraybuffer");for(const z in w.headers)Q.setRequestHeader(z,w.headers[z]);w.type==="json"&&(Q.responseType="text",Q.setRequestHeader("Accept","application/json")),Q.withCredentials=w.credentials==="include",Q.onerror=()=>{L(new Error(Q.statusText))},Q.onload=()=>{if(!T.signal.aborted)if((200<=Q.status&&Q.status<300||Q.status===0)&&Q.response!==null){let ie=Q.response;if(w.type==="json")try{ie=JSON.parse(Q.response)}catch(te){return void L(te)}P({data:ie,cacheControl:Q.getResponseHeader("Cache-Control"),expires:Q.getResponseHeader("Expires")})}else{var z=new Blob([Q.response],{type:Q.getResponseHeader("Content-Type")});L(new Ze(Q.status,Q.statusText,w.url,z))}},T.signal.addEventListener("abort",()=>{Q.abort(),L(ae())}),Q.send(w.body)});var w,T}function Pe(d){var u;return!d||d.indexOf("://")<=0||d.indexOf("data:image/")===0||d.indexOf("blob:")===0||(d=new URL(d),u=window.location,d.protocol===u.protocol&&d.host===u.host)}function oe(d,u,g){g[d]&&g[d].indexOf(u)!==-1||(g[d]=g[d]||[],g[d].push(u))}function pe(d,u,g){g&&g[d]&&(u=g[d].indexOf(u))!==-1&&g[d].splice(u,1)}class J{constructor(u,g={}){ce(this,g),this.type=u}}class re extends J{constructor(u,g={}){super("error",ce({error:u},g))}}class Ue{on(u,g){return this._listeners=this._listeners||{},oe(u,g,this._listeners),this}off(u,g){return pe(u,g,this._listeners),pe(u,g,this._oneTimeListeners),this}once(u,g){return g?(this._oneTimeListeners=this._oneTimeListeners||{},oe(u,g,this._oneTimeListeners),this):new Promise(w=>this.once(u,w))}fire(u,g){var w=(u=typeof u=="string"?new J(u,g||{}):u).type;if(this.listens(w)){for(const T of(u.target=this)._listeners&&this._listeners[w]?this._listeners[w].slice():[])T.call(this,u);for(const T of this._oneTimeListeners&&this._oneTimeListeners[w]?this._oneTimeListeners[w].slice():[])pe(w,T,this._oneTimeListeners),T.call(this,u);g=this._eventedParent,g&&(ce(u,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),g.fire(u))}else u instanceof re&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&0<this._listeners[u].length||this._oneTimeListeners&&this._oneTimeListeners[u]&&0<this._oneTimeListeners[u].length||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,g){return this._eventedParent=u,this._eventedParentData=g,this}}var be={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const et=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ke(d,u){if(Array.isArray(d)){if(!Array.isArray(u)||d.length!==u.length)return;for(let g=0;g<d.length;g++)if(!Ke(d[g],u[g]))return;return 1}if(typeof d!="object"||d===null||u===null)return d===u;if(typeof u=="object"&&Object.keys(d).length===Object.keys(u).length){for(const g in d)if(!Ke(d[g],u[g]))return;return 1}}function mt(d,u){d.push(u)}function _t(d,u,g){mt(g,{command:"addSource",args:[d,u[d]]})}function Kt(d,u,g){mt(u,{command:"removeSource",args:[d]}),g[d]=!0}function Gt(d,u,g,w){u=u||{};let T;for(T in d=d||{})!Object.prototype.hasOwnProperty.call(d,T)||Object.prototype.hasOwnProperty.call(u,T)||Kt(T,g,w);for(T in u)Object.prototype.hasOwnProperty.call(u,T)&&(Object.prototype.hasOwnProperty.call(d,T)?Ke(d[T],u[T])||(d[T].type==="geojson"&&u[T].type==="geojson"&&(function(z,ie,te){let ge;for(ge in z[te])if(Object.prototype.hasOwnProperty.call(z[te],ge)&&ge!=="data"&&!Ke(z[te][ge],ie[te][ge]))return;for(ge in ie[te])if(Object.prototype.hasOwnProperty.call(ie[te],ge)&&ge!=="data"&&!Ke(z[te][ge],ie[te][ge]))return;return 1})(d,u,T)?mt(g,{command:"setGeoJSONSourceData",args:[T,u[T].data]}):(P=T,L=u,Kt(P,Q=g,w),_t(P,L,Q))):_t(T,u,g));var P,L,Q}function tr(d,u,g,w,T,P){u=u||{};for(const L in d=d||{})!Object.prototype.hasOwnProperty.call(d,L)||Ke(d[L],u[L])||g.push({command:P,args:[w,L,u[L],T]});for(const L in u)!Object.prototype.hasOwnProperty.call(u,L)||Object.prototype.hasOwnProperty.call(d,L)||Ke(d[L],u[L])||g.push({command:P,args:[w,L,u[L],T]})}function ur(d){return d.id}function nt(d,u){return d[u.id]=u,d}class rt{constructor(u,g,w,T){this.message=(u?u+": ":"")+w,T&&(this.identifier=T),g!=null&&g.__line__&&(this.line=g.__line__)}}function Ht(d,...u){for(const g of u)for(const w in g)d[w]=g[w];return d}class Tt extends Error{constructor(u,g){super(g),this.message=g,this.key=u}}class Jt{constructor(u,g=[]){this.parent=u,this.bindings={};for(var[w,T]of g)this.bindings[w]=T}concat(u){return new Jt(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(u+" not found in scope.")}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const rr={kind:"null"},St={kind:"number"},Vt={kind:"string"},Nt={kind:"boolean"},yr={kind:"color"},Gr={kind:"object"},Xt={kind:"value"},on={kind:"collator"},$r={kind:"formatted"},xn={kind:"padding"},De={kind:"resolvedImage"},ye={kind:"variableAnchorOffsetCollection"};function we(d,u){return{kind:"array",itemType:d,N:u}}function Se(d){var u;return d.kind==="array"?(u=Se(d.itemType),typeof d.N=="number"?`array<${u}, ${d.N}>`:d.itemType.kind==="value"?"array":`array<${u}>`):d.kind}const Je=[rr,St,Vt,Nt,yr,$r,Gr,we(Xt),xn,De,ye];function ut(d,u){if(u.kind==="error")return null;if(d.kind==="array"){if(u.kind==="array"&&(u.N===0&&u.itemType.kind==="value"||!ut(d.itemType,u.itemType))&&(typeof d.N!="number"||d.N===u.N))return null}else{if(d.kind===u.kind)return null;if(d.kind==="value"){for(const g of Je)if(!ut(g,u))return null}}return`Expected ${Se(d)} but found ${Se(u)} instead.`}function xt(d,u){return u.some(g=>g.kind===d.kind)}function dt(d,u){return u.some(g=>g==="null"?d===null:g==="array"?Array.isArray(d):g==="object"?d&&!Array.isArray(d)&&typeof d=="object":g===typeof d)}function tt(d,u){return d.kind==="array"&&u.kind==="array"?d.itemType.kind===u.itemType.kind&&typeof d.N=="number":d.kind===u.kind}const At=.96422,zt=1,qt=.82521,or=4/29,Sr=6/29,Ir=3*Sr*Sr,Rr=Sr*Sr*Sr,Ln=Math.PI/180,kn=180/Math.PI;function An(d){return(d%=360)<0&&(d+=360),d}function dn([Q,u,g,w]){let T,P;var L=Qr((.2225045*(Q=Dr(Q))+.7168786*(u=Dr(u))+.0606169*(g=Dr(g)))/zt),Q=(Q===u&&u===g?T=P=L:(T=Qr((.4360747*Q+.3850649*u+.1430804*g)/At),P=Qr((.0139322*Q+.0971045*u+.7141733*g)/qt)),116*L-16);return[Q<0?0:Q,500*(T-L),200*(L-P),w]}function Dr(d){return d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function Qr(d){return d>Rr?Math.pow(d,1/3):d/Ir+or}function gn([d,u,g,w]){return d=(d+16)/116,u=isNaN(u)?d:d+u/500,g=isNaN(g)?d:d-g/200,d=zt*$i(d),[Rn(3.1338561*(u=At*$i(u))-1.6168667*d-.4906146*(g=qt*$i(g))),Rn(-.9787684*u+1.9161415*d+.033454*g),Rn(.0719453*u-.2289914*d+1.4052427*g),w]}function Rn(d){return(d=d<=.00304?12.92*d:1.055*Math.pow(d,1/2.4)-.055)<0?0:1<d?1:d}function $i(d){return d>Sr?d*d*d:Ir*(d-or)}function Va(u){var[u,g,w,T]=dn(u),P=Math.sqrt(g*g+w*w);return[Math.round(1e4*P)?An(Math.atan2(w,g)*kn):NaN,P,u,T]}function Yi(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];var je=ip[d];if(je)return[je,g,u]=je,[je/255,g/255,u/255,1];if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d))return je=d.length<6?1:2,[ba(d.slice(g=1,g+=je)),ba(d.slice(g,g+=je)),ba(d.slice(g,g+=je)),ba(d.slice(g,g+je)||"ff")];if(d.startsWith("rgb")){var u=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(u){var[,g,je,u,w,T,P,L,Q,z,ie,te]=u,u=[u||" ",P||" ",z].join("");return(u==="  "||u==="  /"||u===",,"||u===",,,")&&(P=[je,T,Q].join(""),z=P==="%%%"?100:P===""?255:0,z&&(u=[Zu(+g/z,0,1),Zu(+w/z,0,1),Zu(+L/z,0,1),ie?Wu(+ie,te):1],wA(u)))?u:void 0}}var ge,Ie,Fe,je=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(je){var[,T,Q,P,g,w,L,z,ie]=je,te=[Q||" ",g||" ",L].join("");if((te==="  "||te==="  /"||te===",,"||te===",,,")&&(u=[+T,Zu(+P,0,100),Zu(+w,0,100),z?Wu(+z,ie):1],wA(u)))return[ge,Ie,Fe,d]=[u][0],ge=An(ge),Ie/=100,Fe/=100,[Ye(0),Ye(8),Ye(4),d]}function Ye(Ve){var Ve=(Ve+ge/30)%12,ht=Ie*Math.min(Fe,1-Fe);return Fe-ht*Math.max(-1,Math.min(Ve-3,9-Ve,1))}}function ba(d){return parseInt(d.padEnd(2,d),16)/255}function Wu(d,u){return Zu(u?d/100:d,0,1)}function Zu(d,u,g){return Math.min(Math.max(u,d),g)}function wA(d){return!d.some(Number.isNaN)}const ip={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class mi{constructor(u,g,w,T=1,P=!0){this.r=u,this.g=g,this.b=w,this.a=T,P||(this.r*=T,this.g*=T,this.b*=T,T)||this.overwriteGetter("rgb",[u,g,w,T])}static parse(u){return u instanceof mi?u:typeof u=="string"&&(u=Yi(u))?new mi(...u,!1):void 0}get rgb(){var{r:u,g,b:w,a:T}=this,P=T||1/0;return this.overwriteGetter("rgb",[u/P,g/P,w/P,T])}get hcl(){return this.overwriteGetter("hcl",Va(this.rgb))}get lab(){return this.overwriteGetter("lab",dn(this.rgb))}overwriteGetter(u,g){return Object.defineProperty(this,u,{value:g}),g}toString(){var[u,g,w,T]=this.rgb;return`rgba(${[u,g,w].map(P=>Math.round(255*P)).join(",")},${T})`}}mi.black=new mi(0,0,0,1),mi.white=new mi(1,1,1,1),mi.transparent=new mi(0,0,0,0),mi.red=new mi(1,0,0,1);class Ga{constructor(u,g,w){this.sensitivity=u?g?"variant":"case":g?"accent":"base",this.locale=w,this.collator=new Intl.Collator(this.locale||[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,g){return this.collator.compare(u,g)}resolvedLocale(){return new Intl.Collator(this.locale||[]).resolvedOptions().locale}}class Es{constructor(u,g,w,T,P){this.text=u,this.image=g,this.scale=w,this.fontStack=T,this.textColor=P}}class Uo{constructor(u){this.sections=u}static fromString(u){return new Uo([new Es(u,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(u=>u.text.length!==0||u.image&&u.image.name.length!==0)}static factory(u){return u instanceof Uo?u:Uo.fromString(u)}toString(){return this.sections.length===0?"":this.sections.map(u=>u.text).join("")}}class Pa{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Pa)return u;if(typeof u=="number")return new Pa([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||4<u.length)){for(const g of u)if(typeof g!="number")return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new Pa(u)}}toString(){return JSON.stringify(this.values)}}const Xu=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class rs{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof rs)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let T=0;T<u.length;T+=2){var g=u[T],w=u[T+1];if(typeof g!="string"||!Xu.has(g)||!Array.isArray(w)||w.length!==2||typeof w[0]!="number"||typeof w[1]!="number")return}return new rs(u)}}toString(){return JSON.stringify(this.values)}}class ns{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new ns({name:u,available:!1}):null}}function Lh(d,u,g,w){return typeof d=="number"&&0<=d&&d<=255&&typeof u=="number"&&0<=u&&u<=255&&typeof g=="number"&&0<=g&&g<=255?w===void 0||typeof w=="number"&&0<=w&&w<=1?null:`Invalid rgba value [${[d,u,g,w].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof w=="number"?[d,u,g,w]:[d,u,g]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function lu(d){if(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number"||d instanceof mi||d instanceof Ga||d instanceof Uo||d instanceof Pa||d instanceof rs||d instanceof ns)return 1;if(Array.isArray(d)){for(const u of d)if(!lu(u))return;return 1}if(typeof d=="object"){for(const u in d)if(!lu(d[u]))return;return 1}}function Tn(d){if(d===null)return rr;if(typeof d=="string")return Vt;if(typeof d=="boolean")return Nt;if(typeof d=="number")return St;if(d instanceof mi)return yr;if(d instanceof Ga)return on;if(d instanceof Uo)return $r;if(d instanceof Pa)return xn;if(d instanceof rs)return ye;if(d instanceof ns)return De;if(Array.isArray(d)){var u=d.length;let w;for(const T of d){var g=Tn(T);if(w){if(w!==g){w=Xt;break}}else w=g}return we(w||Xt,u)}return Gr}function Cc(d){var u=typeof d;return d===null?"":u=="string"||u=="number"||u=="boolean"?String(d):d instanceof mi||d instanceof Uo||d instanceof Pa||d instanceof rs||d instanceof ns?d.toString():JSON.stringify(d)}class Vl{constructor(u,g){this.type=u,this.value=g}static parse(u,g){if(u.length!==2)return g.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!lu(u[1]))return g.error("invalid value");u=u[1];let w=Tn(u);return g=g.expectedType,w.kind!=="array"||w.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(w=g),new Vl(w,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Dn{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}}const Ss={string:Vt,number:St,boolean:Nt,object:Gr};class _n{constructor(u,g){this.type=u,this.args=g}static parse(u,g){if(u.length<2)return g.error("Expected at least one argument.");let w=1,T;var P=u[0];if(P==="array"){let z;if(2<u.length){const te=u[1];if(typeof te!="string"||!(te in Ss)||te==="object")return g.error('The item type argument of "array" must be one of string, number, boolean',1);z=Ss[te],w++}else z=Xt;let ie;if(3<u.length){if(u[2]!==null&&(typeof u[2]!="number"||u[2]<0||u[2]!==Math.floor(u[2])))return g.error('The length argument to "array" must be a positive integer literal',2);ie=u[2],w++}T=we(z,ie)}else{if(!Ss[P])throw new Error("Types doesn't contain name = "+P);T=Ss[P]}for(var L=[];w<u.length;w++){var Q=g.parse(u[w],w,Xt);if(!Q)return null;L.push(Q)}return new _n(T,L)}evaluate(u){for(let w=0;w<this.args.length;w++){var g=this.args[w].evaluate(u);if(!ut(this.type,Tn(g)))return g;if(w===this.args.length-1)throw new Dn(`Expected value to be of type ${Se(this.type)}, but found ${Se(Tn(g))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Rh={"to-boolean":Nt,"to-color":yr,"to-number":St,"to-string":Vt};class oi{constructor(u,g){this.type=u,this.args=g}static parse(u,g){if(u.length<2)return g.error("Expected at least one argument.");var w=u[0];if(!Rh[w])throw new Error(`Can't parse ${w} as it is not part of the known types`);if((w==="to-boolean"||w==="to-string")&&u.length!==2)return g.error("Expected one argument.");var w=Rh[w],T=[];for(let L=1;L<u.length;L++){var P=g.parse(u[L],L,Xt);if(!P)return null;T.push(P)}return new oi(w,T)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let L,Q;for(const z of this.args){if(L=z.evaluate(u),Q=null,L instanceof mi)return L;if(typeof L=="string"){var g=u.parseColor(L);if(g)return g}else if(Array.isArray(L)&&!(Q=L.length<3||4<L.length?`Invalid rbga value ${JSON.stringify(L)}: expected an array containing either three or four numeric values.`:Lh(L[0],L[1],L[2],L[3])))return new mi(L[0]/255,L[1]/255,L[2]/255,L[3])}throw new Dn(Q||`Could not parse color from value '${typeof L=="string"?L:JSON.stringify(L)}'`)}case"padding":{let L;for(const Q of this.args){L=Q.evaluate(u);var w=Pa.parse(L);if(w)return w}throw new Dn(`Could not parse padding from value '${typeof L=="string"?L:JSON.stringify(L)}'`)}case"variableAnchorOffsetCollection":{let L;for(const Q of this.args){L=Q.evaluate(u);var T=rs.parse(L);if(T)return T}throw new Dn(`Could not parse variableAnchorOffsetCollection from value '${typeof L=="string"?L:JSON.stringify(L)}'`)}case"number":{let L=null;for(const Q of this.args){if((L=Q.evaluate(u))===null)return 0;var P=Number(L);if(!isNaN(P))return P}throw new Dn(`Could not convert ${JSON.stringify(L)} to number.`)}case"formatted":return Uo.fromString(Cc(this.args[0].evaluate(u)));case"resolvedImage":return ns.fromString(Cc(this.args[0].evaluate(u)));default:return Cc(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const Ju=["Unknown","Point","LineString","Polygon"];class lf{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ju[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let g=this._parseColorCache[u];return g=g||(this._parseColorCache[u]=mi.parse(u))}}class eh{constructor(u,g,w=[],T,P=new Jt,L=[]){this.registry=u,this.path=w,this.key=w.map(Q=>`[${Q}]`).join(""),this.scope=P,this.errors=L,this.expectedType=T,this._isConstant=g}parse(u,g,w,T,P={}){return(g?this.concat(g,w,T):this)._parse(u,P)}_parse(u,g){function w(Q,z,ie){return ie==="assert"?new _n(z,[Q]):ie==="coerce"?new oi(z,[Q]):Q}if(u!==null&&typeof u!="string"&&typeof u!="boolean"&&typeof u!="number"||(u=["literal",u]),Array.isArray(u)){if(u.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var T=u[0];if(typeof T!="string")return this.error(`Expression name must be a string, but found ${typeof T} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;var P=this.registry[T];if(P){let Q=P.parse(u,this);if(!Q)return null;if(this.expectedType){var P=this.expectedType,L=Q.type;if(P.kind!=="string"&&P.kind!=="number"&&P.kind!=="boolean"&&P.kind!=="object"&&P.kind!=="array"||L.kind!=="value")if(P.kind!=="color"&&P.kind!=="formatted"&&P.kind!=="resolvedImage"||L.kind!=="value"&&L.kind!=="string")if(P.kind!=="padding"||L.kind!=="value"&&L.kind!=="number"&&L.kind!=="array")if(P.kind!=="variableAnchorOffsetCollection"||L.kind!=="value"&&L.kind!=="array"){if(this.checkSubtype(P,L))return null}else Q=w(Q,P,g.typeAnnotation||"coerce");else Q=w(Q,P,g.typeAnnotation||"coerce");else Q=w(Q,P,g.typeAnnotation||"coerce");else Q=w(Q,P,g.typeAnnotation||"assert")}if(!(Q instanceof Vl)&&Q.type.kind!=="resolvedImage"&&this._isConstant(Q)){L=new lf;try{Q=new Vl(Q.type,Q.evaluate(L))}catch(z){return this.error(z.message),null}}return Q}return this.error(`Unknown expression "${T}". If you wanted a literal array, use ["literal", [...]].`,0)}return u===void 0?this.error("'undefined' value invalid. Use null instead."):typeof u=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof u} instead.`)}concat(u,g,w){return u=typeof u=="number"?this.path.concat(u):this.path,w=w?this.scope.concat(w):this.scope,new eh(this.registry,this._isConstant,u,g||null,w,this.errors)}error(u,...g){g=""+this.key+g.map(w=>`[${w}]`).join(""),this.errors.push(new Tt(g,u))}checkSubtype(u,g){return u=ut(u,g),u&&this.error(u),u}}class Gl{constructor(u,g,w){this.type=on,this.locale=w,this.caseSensitive=u,this.diacriticSensitive=g}static parse(u,g){if(u.length!==2)return g.error("Expected one argument.");if(u=u[1],typeof u!="object"||Array.isArray(u))return g.error("Collator options argument must be an object.");var w=g.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,Nt);if(!w)return null;var T=g.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,Nt);if(!T)return null;let P=null;return u.locale&&!(P=g.parse(u.locale,1,Vt))?null:new Gl(w,T,P)}evaluate(u){return new Ga(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}const Fo=8192;function Dh(d,u){d[0]=Math.min(d[0],u[0]),d[1]=Math.min(d[1],u[1]),d[2]=Math.max(d[2],u[0]),d[3]=Math.max(d[3],u[1])}function wl(d,u){return!(d[0]<=u[0]||d[2]>=u[2]||d[1]<=u[1]||d[3]>=u[3])}function Uh(w,T){var g=(180+w[0])/360,w=(w=w[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+w*Math.PI/360)))/360),T=Math.pow(2,T.z);return[Math.round(g*T*Fo),Math.round(w*T*Fo)]}function Fh(d,u){let g=!1;for(let ie=0,te=u.length;ie<te;ie++){var w=u[ie];for(let ge=0,Ie=w.length;ge<Ie-1;ge++){if(T=d,P=w[ge],L=w[ge+1],z=Q=void 0,Q=T[0]-P[0],P=T[1]-P[1],z=T[0]-L[0],T=T[1]-L[1],Q*T-z*P==0&&Q*z<=0&&P*T<=0)return;L=d,Q=w[ge],z=w[ge+1],Q[1]>L[1]!=z[1]>L[1]&&L[0]<(z[0]-Q[0])*(L[1]-Q[1])/(z[1]-Q[1])+Q[0]&&(g=!g)}}var T,P,L,Q,z;return g}function cf(T,L,ie,z){var te=T[0]-ie[0],T=T[1]-ie[1],P=L[0]-ie[0],L=L[1]-ie[1],Q=z[0]-ie[0],z=z[1]-ie[1],ie=te*z-Q*T,te=P*z-Q*L;return 0<ie&&te<0||ie<0&&0<te}function uf(d,u,g){for(const ie of g)for(let te=0;te<ie.length-1;++te)if(w=d,T=u,P=ie[te],L=ie[te+1],z=Q=void 0,Q=[T[0]-w[0],T[1]-w[1]],(z=[L[0]-P[0],L[1]-P[1]])[0]*Q[1]-z[1]*Q[0]!=0&&!(!cf(w,T,P,L)||!cf(P,L,w,T)))return 1;var w,T,P,L,Q,z}function hf(d,u){for(let g=0;g<d.length;++g)if(!Fh(d[g],u))return;for(let g=0;g<d.length-1;++g)if(uf(d[g],d[g+1],u))return;return 1}function jh(d,u,g){var w=[];for(let L=0;L<d.length;L++){var T=[];for(let Q=0;Q<d[L].length;Q++){var P=Uh(d[L][Q],g);Dh(u,P),T.push(P)}w.push(T)}return w}function Ec(d,u,g){var w=[];for(let P=0;P<d.length;P++){var T=jh(d[P],u,g);w.push(T)}return w}function Sc(d,u,g,w){if(d[0]<g[0]||d[0]>g[2]){var T=.5*w;let P=d[0]-g[0]>T?-w:g[0]-d[0]>T?w:0;P===0&&(P=d[0]-g[2]>T?-w:g[2]-d[0]>T?w:0),d[0]+=P}Dh(u,d)}function md(d,u,g,w){var T=Math.pow(2,w.z)*Fo,P=[w.x*Fo,w.y*Fo],L=[];for(const z of d)for(const ie of z){var Q=[ie.x+P[0],ie.y+P[1]];Sc(Q,u,g,T),L.push(Q)}return L}function Ts(d,u,g,w){var T=Math.pow(2,w.z)*Fo,P=[w.x*Fo,w.y*Fo],L=[];for(const ie of d){var Q=[];for(const te of ie){var z=[te.x+P[0],te.y+P[1]];Dh(u,z),Q.push(z)}L.push(Q)}if(u[2]-u[0]<=T/2){(w=u)[0]=w[1]=1/0,w[2]=w[3]=-1/0;for(const ie of L)for(const te of ie)Sc(te,u,g,T)}return L}function Tc(d,u){var g=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(u.type==="Polygon"){var P=jh(u.coordinates,w,T),L=md(d.geometry(),g,w,T);if(!wl(g,w))return!1;for(const z of L)if(!Fh(z,P))return!1}if(u.type==="MultiPolygon"){var Q=Ec(u.coordinates,w,T),L=md(d.geometry(),g,w,T);if(!wl(g,w))return!1;for(const ie of L)if(!(function(te,ge){for(let Ie=0;Ie<ge.length;Ie++)if(Fh(te,ge[Ie]))return 1})(ie,Q))return!1}return!0}function On(d,u){var g=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(u.type==="Polygon"){var P=jh(u.coordinates,w,T),L=Ts(d.geometry(),g,w,T);if(!wl(g,w))return!1;for(const z of L)if(!hf(z,P))return!1}if(u.type==="MultiPolygon"){var Q=Ec(u.coordinates,w,T),L=Ts(d.geometry(),g,w,T);if(!wl(g,w))return!1;for(const ie of L)if(!(function(te,ge){for(let Ie=0;Ie<ge.length;Ie++)if(hf(te,ge[Ie]))return 1})(ie,Q))return!1}return!0}class Bc{constructor(u,g){this.type=Nt,this.geojson=u,this.geometries=g}static parse(u,g){if(u.length!==2)return g.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(lu(u[1])){if(u=u[1],u.type==="FeatureCollection"){var w=[];for(const Q of u.features){var{type:T,coordinates:P}=Q.geometry;T==="Polygon"&&w.push(P),T==="MultiPolygon"&&w.push(...P)}if(w.length)return L={type:"MultiPolygon",coordinates:w},new Bc(u,L)}else if(u.type==="Feature"){var L=u.geometry.type;if(L==="Polygon"||L==="MultiPolygon")return new Bc(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Bc(u,u)}return g.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(u.geometry()!=null&&u.canonicalID()!=null){if(u.geometryType()==="Point")return Tc(u,this.geometries);if(u.geometryType()==="LineString")return On(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Qh{constructor(u,g){this.type=g.type,this.name=u,this.boundExpression=g}static parse(u,g){return u.length!==2||typeof u[1]!="string"?g.error("'var' expression requires exactly one string literal argument."):(u=u[1],g.scope.has(u)?new Qh(u,g.scope.get(u)):g.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1))}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class Co{constructor(u,g,w,T){this.name=u,this.type=g,this._evaluate=w,this.args=T}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,g){var w=u[0],Q=Co.definitions[w];if(!Q)return g.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0);var T,P,L=Array.isArray(Q)?Q[0]:Q.type,Q=Array.isArray(Q)?[[Q[1],Q[2]]]:Q.overloads,z=Q.filter(([Ve])=>!Array.isArray(Ve)||Ve.length===u.length-1);let ie=null;for([T,P]of z){ie=new eh(g.registry,el,g.path,null,g.scope);var te=[];let Ve=!1;for(let ht=1;ht<u.length;ht++){var Ie=u[ht],ge=Array.isArray(T)?T[ht-1]:T.type,Ie=ie.parse(Ie,1+te.length,ge);if(!Ie){Ve=!0;break}te.push(Ie)}if(!Ve)if(Array.isArray(T)&&T.length!==te.length)ie.error(`Expected ${T.length} arguments, but found ${te.length} instead.`);else{for(let ht=0;ht<te.length;ht++){var Fe=Array.isArray(T)?T[ht]:T.type,je=te[ht];ie.concat(ht+1).checkSubtype(Fe,je.type)}if(ie.errors.length===0)return new Co(w,L,P,te)}}if(z.length===1)g.errors.push(...ie.errors);else{var z=(z.length?z:Q).map(([ht])=>Ic(ht)).join(" | "),Ye=[];for(let ht=1;ht<u.length;ht++){var it=g.parse(u[ht],1+Ye.length);if(!it)return null;Ye.push(Se(it.type))}g.error(`Expected arguments of type ${z}, but found (${Ye.join(", ")}) instead.`)}return null}static register(u,g){for(const w in Co.definitions=g)u[w]=Co}}function Ic(d){return Array.isArray(d)?`(${d.map(Se).join(", ")})`:`(${Se(d.type)}...)`}function el(d){if(d instanceof Qh)return el(d.boundExpression);if(d instanceof Co&&d.name==="error"||d instanceof Gl||d instanceof Bc)return!1;const u=d instanceof oi||d instanceof _n;let g=!0;return d.eachChild(w=>{g=u?g&&el(w):g&&w instanceof Vl}),!!g&&ps(d)&&Hh(d,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ps(d){if(d instanceof Co&&(d.name==="get"&&d.args.length===1||d.name==="feature-state"||d.name==="has"&&d.args.length===1||d.name==="properties"||d.name==="geometry-type"||d.name==="id"||/^filter-/.test(d.name))||d instanceof Bc)return!1;let u=!0;return d.eachChild(g=>{u&&!ps(g)&&(u=!1)}),u}function tl(d){if(!(d instanceof Co&&d.name==="feature-state")){let u=!0;return d.eachChild(g=>{u&&!tl(g)&&(u=!1)}),u}}function Hh(d,u){if(d instanceof Co&&0<=u.indexOf(d.name))return!1;let g=!0;return d.eachChild(w=>{g&&!Hh(w,u)&&(g=!1)}),g}function $l(d,u){var g=d.length-1;let w=0,T=g;for(var P,L,Q;w<=T;)if(L=d[P=Math.floor((w+T)/2)],Q=d[P+1],L<=u){if(P===g||u<Q)return P;w=P+1}else{if(!(u<L))throw new Dn("Input is not a number.");T=P-1}return 0}class Yl{constructor(u,g,w){this.type=u,this.input=g,this.labels=[],this.outputs=[];for(var[T,P]of w)this.labels.push(T),this.outputs.push(P)}static parse(u,g){if(u.length-1<4)return g.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return g.error("Expected an even number of arguments.");var w=g.parse(u[1],1,St);if(!w)return null;var T=[];let P=null;g.expectedType&&g.expectedType.kind!=="value"&&(P=g.expectedType);for(let te=1;te<u.length;te+=2){var L=te===1?-1/0:u[te],Q=u[te+1],z=te,ie=te+1;if(typeof L!="number")return g.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',z);if(T.length&&T[T.length-1][0]>=L)return g.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',z);if(z=g.parse(Q,ie,P),!z)return null;P=P||z.type,T.push([L,z])}return new Yl(P,w,T)}evaluate(u){var g,w,T=this.labels,P=this.outputs;return(T.length===1||(g=this.input.evaluate(u))<=T[0]?P[0]:g>=T[(w=T.length)-1]?P[w-1]:P[$l(T,g)]).evaluate(u)}eachChild(u){u(this.input);for(const g of this.outputs)u(g)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function xl(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var rh=Wn;function Wn(d,u,g,w){this.cx=3*d,this.bx=3*(g-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(w-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=u,this.p2x=g,this.p2y=w}Wn.prototype={sampleCurveX:function(d){return((this.ax*d+this.bx)*d+this.cx)*d},sampleCurveY:function(d){return((this.ay*d+this.by)*d+this.cy)*d},sampleCurveDerivativeX:function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},solveCurveX:function(d,u){if(u===void 0&&(u=1e-6),d<0)return 0;if(1<d)return 1;for(var g=d,w=0;w<8;w++){var T=this.sampleCurveX(g)-d;if(Math.abs(T)<u)return g;var P=this.sampleCurveDerivativeX(g);if(Math.abs(P)<1e-6)break;g-=T/P}for(var L=0,Q=1,g=d,w=0;w<20&&(T=this.sampleCurveX(g),!(Math.abs(T-d)<u));w++)T<d?L=g:Q=g,g=.5*(Q-L)+L;return g},solve:function(d,u){return this.sampleCurveY(this.solveCurveX(d,u))}};var xA=xl(rh);function Oa(d,u,g){return d+g*(u-d)}function rl(d,u,g){return d.map((w,T)=>Oa(w,u[T],g))}const oo={number:Oa,color:function(d,u,g,w="rgb"){switch(w){case"rgb":var[T,P,te,L]=rl(d.rgb,u.rgb,g);return new mi(T,P,te,L,!1);case"hcl":{var[T,P,te,L]=d.hcl,[z,ie,ge,Q]=u.hcl;let it,Ve;if(isNaN(T)||isNaN(z))isNaN(T)?isNaN(z)?it=NaN:(it=z,te!==1&&te!==0||(Ve=ie)):(it=T,ge!==1&&ge!==0||(Ve=P));else{let Ut=z-T;T<z&&180<Ut?Ut-=360:z<T&&180<T-z&&(Ut+=360),it=T+g*Ut}[z,T,P,ie]=[[it,Ve??Oa(P,ie,g),Oa(te,ge,g),Oa(L,Q,g)]][0],z=isNaN(z)?0:z*Ln;var[te,ge,L,Q]=gn([P,Math.cos(z)*T,Math.sin(z)*T,ie]);return new mi(te,ge,L,Q,!1)}case"lab":var[z,ie,te,ge]=gn(rl(d.lab,u.lab,g));return new mi(z,ie,te,ge,!1)}},array:rl,padding:function(d,u,g){return new Pa(rl(d.values,u.values,g))},variableAnchorOffsetCollection:function(d,u,g){var w=d.values,T=u.values;if(w.length!==T.length)throw new Dn(`Cannot interpolate values of different length. from: ${d.toString()}, to: `+u.toString());var P=[];for(let te=0;te<w.length;te+=2){if(w[te]!==T[te])throw new Dn(`Cannot interpolate values containing mismatched anchors. from[${te}]: ${w[te]}, to[${te}]: `+T[te]);P.push(w[te]);var[L,Q]=w[te+1],[z,ie]=T[te+1];P.push([Oa(L,z,g),Oa(Q,ie,g)])}return new rs(P)}};class Ea{constructor(u,g,w,T,P){this.type=u,this.operator=g,this.interpolation=w,this.input=T,this.labels=[],this.outputs=[];for(var[L,Q]of P)this.labels.push(L),this.outputs.push(Q)}static interpolationFactor(u,g,w,T){let P=0;return u.name==="exponential"?P=th(g,u.base,w,T):u.name==="linear"?P=th(g,1,w,T):u.name==="cubic-bezier"&&(u=u.controlPoints,u=new xA(u[0],u[1],u[2],u[3]),P=u.solve(th(g,1,w,T))),P}static parse(u,g){let[w,T,P,...L]=u;if(!Array.isArray(T)||T.length===0)return g.error("Expected an interpolation type expression.",1);if(T[0]==="linear")T={name:"linear"};else if(T[0]==="exponential"){var Q=T[1];if(typeof Q!="number")return g.error("Exponential interpolation requires a numeric base.",1,1);T={name:"exponential",base:Q}}else{if(T[0]!=="cubic-bezier")return g.error("Unknown interpolation type "+String(T[0]),1,0);if(Q=T.slice(1),Q.length!==4||Q.some(je=>typeof je!="number"||je<0||1<je))return g.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);T={name:"cubic-bezier",controlPoints:Q}}if(u.length-1<4)return g.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return g.error("Expected an even number of arguments.");if(!(P=g.parse(P,2,St)))return null;var z=[];let ie=null;w==="interpolate-hcl"||w==="interpolate-lab"?ie=yr:g.expectedType&&g.expectedType.kind!=="value"&&(ie=g.expectedType);for(let je=0;je<L.length;je+=2){var te=L[je],ge=L[je+1],Ie=je+3,Fe=je+4;if(typeof te!="number")return g.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ie);if(z.length&&z[z.length-1][0]>=te)return g.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ie);if(Ie=g.parse(ge,Fe,ie),!Ie)return null;ie=ie||Ie.type,z.push([te,Ie])}return tt(ie,St)||tt(ie,yr)||tt(ie,xn)||tt(ie,ye)||tt(ie,we(St))?new Ea(ie,w,T,P,z):g.error(`Type ${Se(ie)} is not interpolatable.`)}evaluate(u){var L=this.labels,g=this.outputs;if(L.length===1)return g[0].evaluate(u);var w=this.input.evaluate(u);if(w<=L[0])return g[0].evaluate(u);var T=L.length;if(w>=L[T-1])return g[T-1].evaluate(u);var T=$l(L,w),P=L[T],L=L[T+1],Q=Ea.interpolationFactor(this.interpolation,w,P,L),z=g[T].evaluate(u),ie=g[T+1].evaluate(u);switch(this.operator){case"interpolate":return oo[this.type.kind](z,ie,Q);case"interpolate-hcl":return oo.color(z,ie,Q,"hcl");case"interpolate-lab":return oo.color(z,ie,Q,"lab")}}eachChild(u){u(this.input);for(const g of this.outputs)u(g)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function th(d,u,g,w){return w-=g,d-=g,w==0?0:u===1?d/w:(Math.pow(u,d)-1)/(Math.pow(u,w)-1)}class kc{constructor(u,g){this.type=u,this.args=g}static parse(u,g){if(u.length<2)return g.error("Expectected at least one argument.");let w=null;const T=g.expectedType;T&&T.kind!=="value"&&(w=T);var P=[];for(const Q of u.slice(1)){var L=g.parse(Q,1+P.length,w,void 0,{typeAnnotation:"omit"});if(!L)return null;w=w||L.type,P.push(L)}if(w)return T&&P.some(Q=>ut(T,Q.type))?new kc(Xt,P):new kc(w,P);throw new Error("No output type")}evaluate(u){let g=null,w=0,T;for(const P of this.args)if(w++,(g=(g=P.evaluate(u))&&g instanceof ns&&!g.available&&(T=T||g.name,g=null,w===this.args.length)?T:g)!==null)break;return g}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}class Nc{constructor(u,g){this.type=g.type,this.bindings=[].concat(u),this.result=g}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const g of this.bindings)u(g[1]);u(this.result)}static parse(u,g){if(u.length<4)return g.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);var w=[];for(let Q=1;Q<u.length-1;Q+=2){var T=u[Q];if(typeof T!="string")return g.error(`Expected string, but found ${typeof T} instead.`,Q);if(/[^a-zA-Z0-9_]/.test(T))return g.error("Variable names must contain only alphanumeric characters or '_'.",Q);var P=g.parse(u[Q+1],Q+1);if(!P)return null;w.push([T,P])}var L=g.parse(u[u.length-1],u.length-1,g.expectedType,w);return L?new Nc(w,L):null}outputDefined(){return this.result.outputDefined()}}function cu(d,u){return d==="=="||d==="!="?u.kind==="boolean"||u.kind==="string"||u.kind==="number"||u.kind==="null"||u.kind==="value":u.kind==="string"||u.kind==="number"||u.kind==="value"}function Pc(d,u,g,w){return w.compare(u,g)===0}function Oc(d,u,g){const w=d!=="=="&&d!=="!=";return class cre{constructor(P,L,Q){this.type=Nt,this.lhs=P,this.rhs=L,this.collator=Q,this.hasUntypedArgument=P.type.kind==="value"||L.type.kind==="value"}static parse(P,L){if(P.length!==3&&P.length!==4)return L.error("Expected two or three arguments.");var Q=P[0];let z=L.parse(P[1],1,Xt);if(!z)return null;if(!cu(Q,z.type))return L.concat(1).error(`"${Q}" comparisons are not supported for type '${Se(z.type)}'.`);let ie=L.parse(P[2],2,Xt);if(!ie)return null;if(!cu(Q,ie.type))return L.concat(2).error(`"${Q}" comparisons are not supported for type '${Se(ie.type)}'.`);if(z.type.kind!==ie.type.kind&&z.type.kind!=="value"&&ie.type.kind!=="value")return L.error(`Cannot compare types '${Se(z.type)}' and '${Se(ie.type)}'.`);w&&(z.type.kind==="value"&&ie.type.kind!=="value"?z=new _n(ie.type,[z]):z.type.kind!=="value"&&ie.type.kind==="value"&&(ie=new _n(z.type,[ie])));let te=null;if(P.length===4){if(z.type.kind!=="string"&&ie.type.kind!=="string"&&z.type.kind!=="value"&&ie.type.kind!=="value")return L.error("Cannot use collator to compare non-string types.");if(!(te=L.parse(P[3],3,on)))return null}return new cre(z,ie,te)}evaluate(P){var L=this.lhs.evaluate(P),Q=this.rhs.evaluate(P);if(w&&this.hasUntypedArgument){var z=Tn(L),ie=Tn(Q);if(z.kind!==ie.kind||z.kind!=="string"&&z.kind!=="number")throw new Dn(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${z.kind}, ${ie.kind}) instead.`)}return this.collator&&!w&&this.hasUntypedArgument&&(z=Tn(L),ie=Tn(Q),z.kind!=="string"||ie.kind!=="string")?u(P,L,Q):this.collator?g(P,L,Q,this.collator.evaluate(P)):u(P,L,Q)}eachChild(P){P(this.lhs),P(this.rhs),this.collator&&P(this.collator)}outputDefined(){return!0}}}var rh=Oc("==",function(d,u,g){return u===g},Pc),qo=Oc("!=",function(d,u,g){return u!==g},function(d,u,g,w){return!Pc(0,u,g,w)}),uc=Oc("<",function(d,u,g){return u<g},function(d,u,g,w){return w.compare(u,g)<0}),is=Oc(">",function(d,u,g){return g<u},function(d,u,g,w){return 0<w.compare(u,g)}),jo=Oc("<=",function(d,u,g){return u<=g},function(d,u,g,w){return w.compare(u,g)<=0}),Oi=Oc(">=",function(d,u,g){return g<=u},function(d,u,g,w){return 0<=w.compare(u,g)});class Y{constructor(u){this.type=$r,this.sections=u}static parse(u,g){if(u.length<2)return g.error("Expected at least one argument.");var w=u[1];if(!Array.isArray(w)&&typeof w=="object")return g.error("First argument must be an image or text section.");var T=[];let P=!1;for(let z=1;z<=u.length-1;++z){var L=u[z];if(P&&typeof L=="object"&&!Array.isArray(L)){P=!1;let ie=null;if(L["font-scale"]&&!(ie=g.parse(L["font-scale"],1,St)))return null;let te=null;if(L["text-font"]&&!(te=g.parse(L["text-font"],1,we(Vt))))return null;let ge=null;if(L["text-color"]&&!(ge=g.parse(L["text-color"],1,yr)))return null;L=T[T.length-1],L.scale=ie,L.font=te,L.textColor=ge}else{if(L=g.parse(u[z],1,Xt),!L)return null;var Q=L.type.kind;if(Q!=="string"&&Q!=="value"&&Q!=="null"&&Q!=="resolvedImage")return g.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");P=!0,T.push({content:L,scale:null,font:null,textColor:null})}}return new Y(T)}evaluate(u){return new Uo(this.sections.map(g=>{var w=g.content.evaluate(u);return Tn(w)===De?new Es("",w,null,null,null):new Es(Cc(w),null,g.scale?g.scale.evaluate(u):null,g.font?g.font.evaluate(u).join(","):null,g.textColor?g.textColor.evaluate(u):null)}))}eachChild(u){for(const g of this.sections)u(g.content),g.scale&&u(g.scale),g.font&&u(g.font),g.textColor&&u(g.textColor)}outputDefined(){return!1}}const Be={"==":rh,"!=":qo,">":is,"<":uc,">=":Oi,"<=":jo,array:_n,at:class ure{constructor(u,g,w){this.type=u,this.index=g,this.input=w}static parse(u,g){var w;return u.length!==3?g.error(`Expected 2 arguments, but found ${u.length-1} instead.`):(w=g.parse(u[1],1,St),u=g.parse(u[2],2,we(g.expectedType||Xt)),w&&u?(g=u.type,new ure(g.itemType,w,u)):null)}evaluate(w){var g=this.index.evaluate(w),w=this.input.evaluate(w);if(g<0)throw new Dn(`Array index out of bounds: ${g} < 0.`);if(g>=w.length)throw new Dn(`Array index out of bounds: ${g} > ${w.length-1}.`);if(g!==Math.floor(g))throw new Dn(`Array index must be an integer, but found ${g} instead.`);return w[g]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}},boolean:_n,case:class hre{constructor(u,g,w){this.type=u,this.branches=g,this.otherwise=w}static parse(u,g){if(u.length<4)return g.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return g.error("Expected an odd number of arguments.");let w;g.expectedType&&g.expectedType.kind!=="value"&&(w=g.expectedType);var T=[];for(let z=1;z<u.length-1;z+=2){var P=g.parse(u[z],z,Nt);if(!P)return null;var L=g.parse(u[z+1],z+1,w);if(!L)return null;T.push([P,L]),w=w||L.type}var Q=g.parse(u[u.length-1],u.length-1,w);if(!Q)return null;if(w)return new hre(w,T,Q);throw new Error("Can't infer output type")}evaluate(u){for(var[g,w]of this.branches)if(g.evaluate(u))return w.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(var[g,w]of this.branches)u(g),u(w);u(this.otherwise)}outputDefined(){return this.branches.every(([,u])=>u.outputDefined())&&this.otherwise.outputDefined()}},coalesce:kc,collator:Gl,format:Y,image:class Are{constructor(u){this.type=De,this.input=u}static parse(u,g){return u.length!==2?g.error("Expected two arguments."):(u=g.parse(u[1],1,Vt))?new Are(u):g.error("No image name provided.")}evaluate(u){var g=this.input.evaluate(u),w=ns.fromString(g);return w&&u.availableImages&&(w.available=-1<u.availableImages.indexOf(g)),w}eachChild(u){u(this.input)}outputDefined(){return!1}},in:class dre{constructor(u,g){this.type=Nt,this.needle=u,this.haystack=g}static parse(u,g){var w;return u.length!==3?g.error(`Expected 2 arguments, but found ${u.length-1} instead.`):(w=g.parse(u[1],1,Xt),u=g.parse(u[2],2,Xt),w&&u?xt(w.type,[Nt,Vt,St,rr,Xt])?new dre(w,u):g.error(`Expected first argument to be of type boolean, string, number or null, but found ${Se(w.type)} instead`):null)}evaluate(u){var g=this.needle.evaluate(u);if(!(u=this.haystack.evaluate(u)))return!1;if(!dt(g,["boolean","string","number","null"]))throw new Dn(`Expected first argument to be of type boolean, string, number or null, but found ${Se(Tn(g))} instead.`);if(dt(u,["string","array"]))return 0<=u.indexOf(g);throw new Dn(`Expected second argument to be of type array or string, but found ${Se(Tn(u))} instead.`)}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}},"index-of":class UU{constructor(u,g,w){this.type=St,this.needle=u,this.haystack=g,this.fromIndex=w}static parse(u,g){var w,T;return u.length<=2||5<=u.length?g.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`):(w=g.parse(u[1],1,Xt),T=g.parse(u[2],2,Xt),w&&T?xt(w.type,[Nt,Vt,St,rr,Xt])?u.length===4?(u=g.parse(u[3],3,St))?new UU(w,T,u):null:new UU(w,T):g.error(`Expected first argument to be of type boolean, string, number or null, but found ${Se(w.type)} instead`):null)}evaluate(u){var g=this.needle.evaluate(u),w=this.haystack.evaluate(u);if(!dt(g,["boolean","string","number","null"]))throw new Dn(`Expected first argument to be of type boolean, string, number or null, but found ${Se(Tn(g))} instead.`);if(dt(w,["string","array"]))return this.fromIndex?(u=this.fromIndex.evaluate(u),w.indexOf(g,u)):w.indexOf(g);throw new Dn(`Expected second argument to be of type array or string, but found ${Se(Tn(w))} instead.`)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}},interpolate:Ea,"interpolate-hcl":Ea,"interpolate-lab":Ea,length:class fre{constructor(u){this.type=St,this.input=u}static parse(u,g){return u.length!==2?g.error(`Expected 1 argument, but found ${u.length-1} instead.`):(u=g.parse(u[1],1))?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?g.error(`Expected argument of type string or array, but found ${Se(u.type)} instead.`):new fre(u):null}evaluate(u){if(typeof(u=this.input.evaluate(u))=="string"||Array.isArray(u))return u.length;throw new Dn(`Expected value to be of type string or array, but found ${Se(Tn(u))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}},let:Nc,literal:Vl,match:class pre{constructor(u,g,w,T,P,L){this.inputType=u,this.type=g,this.input=w,this.cases=T,this.outputs=P,this.otherwise=L}static parse(u,g){if(u.length<5)return g.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return g.error("Expected an even number of arguments.");let w,T;g.expectedType&&g.expectedType.kind!=="value"&&(T=g.expectedType);var P={},L=[];for(let ge=2;ge<u.length-1;ge+=2){let Ie=u[ge];var Q=u[ge+1],z=(Array.isArray(Ie)||(Ie=[Ie]),g.concat(ge));if(Ie.length===0)return z.error("Expected at least one branch label.");for(const Fe of Ie){if(typeof Fe!="number"&&typeof Fe!="string")return z.error("Branch labels must be numbers or strings.");if(typeof Fe=="number"&&Math.abs(Fe)>Number.MAX_SAFE_INTEGER)return z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Fe=="number"&&Math.floor(Fe)!==Fe)return z.error("Numeric branch labels must be integer values.");if(w){if(z.checkSubtype(w,Tn(Fe)))return null}else w=Tn(Fe);if(P[String(Fe)]!==void 0)return z.error("Branch labels must be unique.");P[String(Fe)]=L.length}if(!(Q=g.parse(Q,ge,T)))return null;T=T||Q.type,L.push(Q)}var ie,te=g.parse(u[1],1,Xt);return!te||!(ie=g.parse(u[u.length-1],u.length-1,T))||te.type.kind!=="value"&&g.concat(1).checkSubtype(w,te.type)?null:new pre(w,T,te,P,L,ie)}evaluate(u){var g=this.input.evaluate(u);return(Tn(g)===this.inputType&&this.outputs[this.cases[g]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}},number:_n,"number-format":class mre{constructor(u,g,w,T,P){this.type=Vt,this.number=u,this.locale=g,this.currency=w,this.minFractionDigits=T,this.maxFractionDigits=P}static parse(u,g){if(u.length!==3)return g.error("Expected two arguments.");var w=g.parse(u[1],1,St);if(!w)return null;if(typeof(u=u[2])!="object"||Array.isArray(u))return g.error("NumberFormat options argument must be an object.");let T=null;if(u.locale&&!(T=g.parse(u.locale,1,Vt)))return null;let P=null;if(u.currency&&!(P=g.parse(u.currency,1,Vt)))return null;let L=null;if(u["min-fraction-digits"]&&!(L=g.parse(u["min-fraction-digits"],1,St)))return null;let Q=null;return u["max-fraction-digits"]&&!(Q=g.parse(u["max-fraction-digits"],1,St))?null:new mre(w,T,P,L,Q)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}},object:_n,slice:class FU{constructor(u,g,w,T){this.type=u,this.input=g,this.beginIndex=w,this.endIndex=T}static parse(u,g){var w,T;return u.length<=2||5<=u.length?g.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`):(w=g.parse(u[1],1,Xt),T=g.parse(u[2],2,St),w&&T?xt(w.type,[we(Xt),Vt,Xt])?u.length===4?(u=g.parse(u[3],3,St))?new FU(w.type,w,T,u):null:new FU(w.type,w,T):g.error(`Expected first argument to be of type array or string, but found ${Se(w.type)} instead`):null)}evaluate(u){var g=this.input.evaluate(u),w=this.beginIndex.evaluate(u);if(dt(g,["string","array"]))return this.endIndex?(u=this.endIndex.evaluate(u),g.slice(w,u)):g.slice(w);throw new Dn(`Expected first argument to be of type array or string, but found ${Se(Tn(g))} instead.`)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}},step:Yl,string:_n,"to-boolean":oi,"to-color":oi,"to-number":oi,"to-string":oi,var:Qh,within:Bc};function Xe(d,[u,g,w,T]){if(u=u.evaluate(d),g=g.evaluate(d),w=w.evaluate(d),T=T?T.evaluate(d):1,d=Lh(u,g,w,T),d)throw new Dn(d);return new mi(u/255,g/255,w/255,T,!1)}function ct(d,u){return u=u[d],u===void 0?null:u}function wt(d){return{type:d}}function Zt(d){return{result:"success",value:d}}function nr(d){return{result:"error",value:d}}function Vr(d){return d["property-type"]==="data-driven"||d["property-type"]==="cross-faded-data-driven"}function nn(d){return d.expression&&-1<d.expression.parameters.indexOf("zoom")}function Bn(d){return d.expression&&d.expression.interpolated}function Ur(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":d===null?"null":typeof d}function vi(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)}function Sa(d){return d}function $a(d,u){var g=u.type==="color",w=d.stops&&typeof d.stops[0][0]=="object",T=w||d.property!==void 0,T=w||!T,P=d.type||(Bn(u)?"exponential":"interval");if(g||u.type==="padding"){const Fe=(g?mi:Pa).parse;(d=Ht({},d)).stops&&(d.stops=d.stops.map(je=>[je[0],Fe(je[1])])),d.default?d.default=Fe(d.default):d.default=Fe(u.default)}if(d.colorSpace&&(g=d.colorSpace)!=="rgb"&&g!=="hcl"&&g!=="lab")throw new Error(`Unknown color space: "${d.colorSpace}"`);let L,Q,z;if(P==="exponential")L=co;else if(P==="interval")L=lo;else if(P==="categorical"){L=so,Q=Object.create(null);for(const Fe of d.stops)Q[Fe[0]]=Fe[1];z=typeof d.stops[0][0]}else{if(P!=="identity")throw new Error(`Unknown function type "${P}"`);L=nh}if(w){var ie={},te=[];for(let je=0;je<d.stops.length;je++){var ge=d.stops[je],Ie=ge[0].zoom;ie[Ie]===void 0&&(ie[Ie]={zoom:Ie,type:d.type,property:d.property,default:d.default,stops:[]},te.push(Ie)),ie[Ie].stops.push([ge[0].value,ge[1]])}const Fe=[];for(const je of te)Fe.push([ie[je].zoom,$a(ie[je],u)]);return g={name:"linear"},{kind:"composite",interpolationType:g,interpolationFactor:Ea.interpolationFactor.bind(void 0,g),zoomStops:Fe.map(je=>je[0]),evaluate({zoom:je},Ye){return co({stops:Fe,base:d.base},u,je).evaluate(je,Ye)}}}return T?{kind:"camera",interpolationType:w=P==="exponential"?{name:"exponential",base:d.base!==void 0?d.base:1}:null,interpolationFactor:Ea.interpolationFactor.bind(void 0,w),zoomStops:d.stops.map(Fe=>Fe[0]),evaluate:({zoom:Fe})=>L(d,u,Fe,Q,z)}:{kind:"source",evaluate(Fe,je){return je=je&&je.properties?je.properties[d.property]:void 0,je===void 0?Li(d.default,u.default):L(d,u,je,Q,z)}}}function Li(d,u,g){return d!==void 0?d:u!==void 0?u:g!==void 0?g:void 0}function so(d,u,g,w,T){return Li(typeof g===T?w[g]:void 0,d.default,u.default)}function lo(d,u,g){return Ur(g)!=="number"?Li(d.default,u.default):((u=d.stops.length)===1||g<=d.stops[0][0]?d.stops[0]:g>=d.stops[u-1][0]?d.stops[u-1]:(u=$l(d.stops.map(w=>w[0]),g),d.stops[u]))[1]}function co(d,u,g){var w=d.base!==void 0?d.base:1;if(Ur(g)!=="number")return Li(d.default,u.default);var T=d.stops.length;if(T===1||g<=d.stops[0][0])return d.stops[0][1];if(g>=d.stops[T-1][0])return d.stops[T-1][1];T=$l(d.stops.map(ie=>ie[0]),g);const P=(function(ie,te,ge,Ie){return Ie-=ge,ie-=ge,Ie==0?0:te===1?ie/Ie:(Math.pow(te,ie)-1)/(Math.pow(te,Ie)-1)})(g,w,d.stops[T][0],d.stops[T+1][0]),L=d.stops[T][1],Q=d.stops[T+1][1],z=oo[u.type]||Sa;return typeof L.evaluate=="function"?{evaluate(...ge){var te=L.evaluate.apply(void 0,ge),ge=Q.evaluate.apply(void 0,ge);if(te!==void 0&&ge!==void 0)return z(te,ge,P,d.colorSpace)}}:z(L,Q,P,d.colorSpace)}function nh(d,u,g){switch(u.type){case"color":g=mi.parse(g);break;case"formatted":g=Uo.fromString(g.toString());break;case"resolvedImage":g=ns.fromString(g.toString());break;case"padding":g=Pa.parse(g);break;default:Ur(g)===u.type||u.type==="enum"&&u.values[g]||(g=void 0)}return Li(g,d.default,u.default)}Co.register(Be,{error:[{kind:"error"},[Vt],(d,[u])=>{throw new Dn(u.evaluate(d))}],typeof:[Vt,[Xt],(d,[u])=>Se(Tn(u.evaluate(d)))],"to-rgba":[we(St,4),[yr],(w,[g])=>{var[g,w,T,P]=g.evaluate(w).rgb;return[255*g,255*w,255*T,P]}],rgb:[yr,[St,St,St],Xe],rgba:[yr,[St,St,St,St],Xe],has:{type:Nt,overloads:[[[Vt],(d,[u])=>u.evaluate(d)in d.properties()],[[Vt,Gr],(d,[u,g])=>u.evaluate(d)in g.evaluate(d)]]},get:{type:Xt,overloads:[[[Vt],(d,[u])=>ct(u.evaluate(d),d.properties())],[[Vt,Gr],(d,[u,g])=>ct(u.evaluate(d),g.evaluate(d))]]},"feature-state":[Xt,[Vt],(d,[u])=>ct(u.evaluate(d),d.featureState||{})],properties:[Gr,[],d=>d.properties()],"geometry-type":[Vt,[],d=>d.geometryType()],id:[Xt,[],d=>d.id()],zoom:[St,[],d=>d.globals.zoom],"heatmap-density":[St,[],d=>d.globals.heatmapDensity||0],"line-progress":[St,[],d=>d.globals.lineProgress||0],accumulated:[Xt,[],d=>d.globals.accumulated===void 0?null:d.globals.accumulated],"+":[St,wt(St),(d,u)=>{let g=0;for(const w of u)g+=w.evaluate(d);return g}],"*":[St,wt(St),(d,u)=>{let g=1;for(const w of u)g*=w.evaluate(d);return g}],"-":{type:St,overloads:[[[St,St],(d,[u,g])=>u.evaluate(d)-g.evaluate(d)],[[St],(d,[u])=>-u.evaluate(d)]]},"/":[St,[St,St],(d,[u,g])=>u.evaluate(d)/g.evaluate(d)],"%":[St,[St,St],(d,[u,g])=>u.evaluate(d)%g.evaluate(d)],ln2:[St,[],()=>Math.LN2],pi:[St,[],()=>Math.PI],e:[St,[],()=>Math.E],"^":[St,[St,St],(d,[u,g])=>Math.pow(u.evaluate(d),g.evaluate(d))],sqrt:[St,[St],(d,[u])=>Math.sqrt(u.evaluate(d))],log10:[St,[St],(d,[u])=>Math.log(u.evaluate(d))/Math.LN10],ln:[St,[St],(d,[u])=>Math.log(u.evaluate(d))],log2:[St,[St],(d,[u])=>Math.log(u.evaluate(d))/Math.LN2],sin:[St,[St],(d,[u])=>Math.sin(u.evaluate(d))],cos:[St,[St],(d,[u])=>Math.cos(u.evaluate(d))],tan:[St,[St],(d,[u])=>Math.tan(u.evaluate(d))],asin:[St,[St],(d,[u])=>Math.asin(u.evaluate(d))],acos:[St,[St],(d,[u])=>Math.acos(u.evaluate(d))],atan:[St,[St],(d,[u])=>Math.atan(u.evaluate(d))],min:[St,wt(St),(d,u)=>Math.min(...u.map(g=>g.evaluate(d)))],max:[St,wt(St),(d,u)=>Math.max(...u.map(g=>g.evaluate(d)))],abs:[St,[St],(d,[u])=>Math.abs(u.evaluate(d))],round:[St,[St],(d,[u])=>(u=u.evaluate(d),u<0?-Math.round(-u):Math.round(u))],floor:[St,[St],(d,[u])=>Math.floor(u.evaluate(d))],ceil:[St,[St],(d,[u])=>Math.ceil(u.evaluate(d))],"filter-==":[Nt,[Vt,Xt],(d,[u,g])=>d.properties()[u.value]===g.value],"filter-id-==":[Nt,[Xt],(d,[u])=>d.id()===u.value],"filter-type-==":[Nt,[Vt],(d,[u])=>d.geometryType()===u.value],"filter-<":[Nt,[Vt,Xt],(d,[u,g])=>(d=d.properties()[u.value],u=g.value,typeof d==typeof u&&d<u)],"filter-id-<":[Nt,[Xt],(d,[u])=>(d=d.id(),u=u.value,typeof d==typeof u&&d<u)],"filter->":[Nt,[Vt,Xt],(d,[u,g])=>(d=d.properties()[u.value],u=g.value,typeof d==typeof u&&u<d)],"filter-id->":[Nt,[Xt],(d,[u])=>(d=d.id(),u=u.value,typeof d==typeof u&&u<d)],"filter-<=":[Nt,[Vt,Xt],(d,[u,g])=>(d=d.properties()[u.value],u=g.value,typeof d==typeof u&&d<=u)],"filter-id-<=":[Nt,[Xt],(d,[u])=>(d=d.id(),u=u.value,typeof d==typeof u&&d<=u)],"filter->=":[Nt,[Vt,Xt],(d,[u,g])=>(d=d.properties()[u.value],u=g.value,typeof d==typeof u&&u<=d)],"filter-id->=":[Nt,[Xt],(d,[u])=>(d=d.id(),u=u.value,typeof d==typeof u&&u<=d)],"filter-has":[Nt,[Xt],(d,[u])=>u.value in d.properties()],"filter-has-id":[Nt,[],d=>d.id()!==null&&d.id()!==void 0],"filter-type-in":[Nt,[we(Vt)],(d,[u])=>0<=u.value.indexOf(d.geometryType())],"filter-id-in":[Nt,[we(Xt)],(d,[u])=>0<=u.value.indexOf(d.id())],"filter-in-small":[Nt,[Vt,we(Xt)],(d,[u,g])=>0<=g.value.indexOf(d.properties()[u.value])],"filter-in-large":[Nt,[Vt,we(Xt)],(d,[u,g])=>{for(var w=d.properties()[u.value],T=g.value,P=0,L=g.value.length-1;P<=L;){var Q=P+L>>1;if(T[Q]===w)return!0;T[Q]>w?L=Q-1:P=1+Q}return!1}],all:{type:Nt,overloads:[[[Nt,Nt],(d,[u,g])=>u.evaluate(d)&&g.evaluate(d)],[wt(Nt),(d,u)=>{for(const g of u)if(!g.evaluate(d))return!1;return!0}]]},any:{type:Nt,overloads:[[[Nt,Nt],(d,[u,g])=>u.evaluate(d)||g.evaluate(d)],[wt(Nt),(d,u)=>{for(const g of u)if(g.evaluate(d))return!0;return!1}]]},"!":[Nt,[Nt],(d,[u])=>!u.evaluate(d)],"is-supported-script":[Nt,[Vt],(d,[u])=>{var g=d.globals&&d.globals.isSupportedScript;return!g||g(u.evaluate(d))}],upcase:[Vt,[Vt],(d,[u])=>u.evaluate(d).toUpperCase()],downcase:[Vt,[Vt],(d,[u])=>u.evaluate(d).toLowerCase()],concat:[Vt,wt(Xt),(d,u)=>u.map(g=>Cc(g.evaluate(d))).join("")],"resolved-locale":[Vt,[on],(d,[u])=>u.evaluate(d).resolvedLocale()]});class uu{constructor(u,g){this.expression=u,this._warningHistory={},this._evaluator=new lf,this._defaultValue=g?Mc(g):null,this._enumValues=g&&g.type==="enum"?g.values:null}evaluateWithoutErrorHandling(u,g,w,T,P,L){return this._evaluator.globals=u,this._evaluator.feature=g,this._evaluator.featureState=w,this._evaluator.canonical=T,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=L,this.expression.evaluate(this._evaluator)}evaluate(u,g,w,T,P,L){this._evaluator.globals=u,this._evaluator.feature=g||null,this._evaluator.featureState=w||null,this._evaluator.canonical=T,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=L||null;try{var Q=this.expression.evaluate(this._evaluator);if(Q==null||typeof Q=="number"&&Q!=Q)return this._defaultValue;if(!this._enumValues||Q in this._enumValues)return Q;throw new Dn(`Expected value to be one of ${Object.keys(this._enumValues).map(z=>JSON.stringify(z)).join(", ")}, but found ${JSON.stringify(Q)} instead.`)}catch(z){return this._warningHistory[z.message]||(this._warningHistory[z.message]=!0,typeof console<"u"&&console.warn(z.message)),this._defaultValue}}}function gd(d){return Array.isArray(d)&&0<d.length&&typeof d[0]=="string"&&d[0]in Be}function CA(d,u){var g=new eh(Be,el,[],u?(w=u,g={color:yr,string:Vt,number:St,enum:Vt,boolean:Nt,formatted:$r,padding:xn,resolvedImage:De,variableAnchorOffsetCollection:ye},w.type!=="array"?g[w.type]:we(g[w.value]||Xt,w.length)):void 0),w=g.parse(d,void 0,void 0,void 0,u&&u.type==="string"?{typeAnnotation:"coerce"}:void 0);return w?Zt(new uu(w,u)):nr(g.errors)}class Vi{constructor(u,g){this.kind=u,this._styleExpression=g,this.isStateDependent=u!=="constant"&&!tl(g.expression)}evaluateWithoutErrorHandling(u,g,w,T,P,L){return this._styleExpression.evaluateWithoutErrorHandling(u,g,w,T,P,L)}evaluate(u,g,w,T,P,L){return this._styleExpression.evaluate(u,g,w,T,P,L)}}class nl{constructor(u,g,w,T){this.kind=u,this.zoomStops=w,this._styleExpression=g,this.isStateDependent=u!=="camera"&&!tl(g.expression),this.interpolationType=T}evaluateWithoutErrorHandling(u,g,w,T,P,L){return this._styleExpression.evaluateWithoutErrorHandling(u,g,w,T,P,L)}evaluate(u,g,w,T,P,L){return this._styleExpression.evaluate(u,g,w,T,P,L)}interpolationFactor(u,g,w){return this.interpolationType?Ea.interpolationFactor(this.interpolationType,u,g,w):0}}function Zn(d){return d._styleExpression!==void 0}function Ri(P,u){var g,w,T,P=CA(P,u);return P.result==="error"?P:(g=ps(w=P.value.expression))||Vr(u)?(T=Hh(w,["zoom"]))||nn(u)?(w=(function L(Q){let z=null;if(Q instanceof Nc)z=L(Q.result);else if(Q instanceof kc){for(const ie of Q.args)if(z=L(ie))break}else(Q instanceof Yl||Q instanceof Ea)&&Q.input instanceof Co&&Q.input.name==="zoom"&&(z=Q);return z instanceof Tt||Q.eachChild(ie=>{const te=L(ie);te instanceof Tt?z=te:!z&&te?z=new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):z&&te&&z!==te&&(z=new Tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),z})(w))||T?w instanceof Tt?nr([w]):w instanceof Ea&&!Bn(u)?nr([new Tt("",'"interpolate" expressions cannot be used with this property')]):w?(T=w instanceof Ea?w.interpolation:void 0,Zt(g?new nl("camera",P.value,w.labels,T):new nl("composite",P.value,w.labels,T))):Zt(g?new Vi("constant",P.value):new Vi("source",P.value)):nr([new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]):nr([new Tt("","zoom expressions not supported")]):nr([new Tt("","data expressions not supported")])}class si{constructor(u,g){this._parameters=u,this._specification=g,Ht(this,$a(this._parameters,this._specification))}static deserialize(u){return new si(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function Ya(d,u){if(vi(d))return new si(d,u);if(gd(d)){var g=Ri(d,u);if(g.result==="error")throw new Error(g.value.map(w=>w.key+": "+w.message).join(", "));return g.value}{let w=d;return u.type==="color"&&typeof d=="string"?w=mi.parse(d):u.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?u.type==="variableAnchorOffsetCollection"&&Array.isArray(d)&&(w=rs.parse(d)):w=Pa.parse(d),{kind:"constant",evaluate:()=>w}}}function Mc(d){return d.type==="color"&&vi(d.default)?new mi(0,0,0,0):d.type==="color"?mi.parse(d.default)||null:d.type==="padding"?Pa.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?rs.parse(d.default)||null:d.default===void 0?null:d.default}function Wl(d){if(d===!0||d===!1)return 1;if(Array.isArray(d)&&d.length!==0)switch(d[0]){case"has":return 2<=d.length&&d[1]!=="$id"&&d[1]!=="$type";case"in":return 3<=d.length&&(typeof d[1]!="string"||Array.isArray(d[2]));case"!in":case"!has":case"none":return;case"==":case"!=":case">":case">=":case"<":case"<=":return d.length!==3||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const u of d.slice(1))if(!Wl(u)&&typeof u!="boolean")return;return 1;default:return 1}}const EA={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ih(d){if(d==null)return{filter:()=>!0,needGeometry:!1};const u=CA(d=Wl(d)?d:Zl(d),EA);if(u.result==="error")throw new Error(u.value.map(g=>g.key+": "+g.message).join(", "));return{filter:(g,w,T)=>u.value.evaluate(g,w,{},T),needGeometry:(function g(w){if(!Array.isArray(w))return!1;if(w[0]==="within")return!0;for(let T=1;T<w.length;T++)if(g(w[T]))return!0;return!1})(d)}}function as(d,u){return d<u?-1:u<d?1:0}function Zl(d){var u,g;return!d||(u=d[0],d.length<=1?u!=="any":u==="=="?zh(d[1],d[2],"=="):u==="!="?ms(zh(d[1],d[2],"==")):u==="<"||u===">"||u==="<="||u===">="?zh(d[1],d[2],u):u==="any"?(g=d.slice(1),["any"].concat(g.map(Zl))):u==="all"?["all"].concat(d.slice(1).map(Zl)):u==="none"?["all"].concat(d.slice(1).map(Zl).map(ms)):u==="in"?Af(d[1],d.slice(2)):u==="!in"?ms(Af(d[1],d.slice(2))):u==="has"?Wa(d[1]):u==="!has"?ms(Wa(d[1])):u!=="within"||d)}function zh(d,u,g){switch(d){case"$type":return["filter-type-"+g,u];case"$id":return["filter-id-"+g,u];default:return["filter-"+g,d,u]}}function Af(d,u){if(u.length===0)return!1;switch(d){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return 200<u.length&&!u.some(g=>typeof g!=typeof u[0])?["filter-in-large",d,["literal",u.sort(as)]]:["filter-in-small",d,["literal",u]]}}function Wa(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function ms(d){return["!",d]}function SA(d){let u="";for(const g of et)u+="/"+(function w(T){var P=typeof T;if(P=="number"||P=="boolean"||P=="string"||T==null)return JSON.stringify(T);if(Array.isArray(T)){let z="[";for(const ie of T)z+=w(ie)+",";return z+"]"}var L=Object.keys(T).sort();let Q="{";for(let z=0;z<L.length;z++)Q+=`${JSON.stringify(L[z])}:${w(T[L[z]])},`;return Q+"}"})(d[g]);return u}function hu(g){var u=g.key,g=g.value;return g?[new rt(u,g,"constants have been deprecated as of v8")]:[]}function bi(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function Xl(d){if(Array.isArray(d))return d.map(Xl);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){var u={};for(const g in d)u[g]=Xl(d[g]);return u}return bi(d)}function ea(d){var u=d.key,g=d.value,w=d.valueSpec||{},T=d.objectElementValidators||{},P=d.style,L=d.styleSpec,Q=d.validateSpec;let z=[];if(d=Ur(g),d!=="object")return[new rt(u,g,`object expected, ${d} found`)];for(const ge in g){var ie=ge.split(".")[0],te=w[ie]||w["*"];let Ie;if(T[ie])Ie=T[ie];else if(w[ie])Ie=Q;else if(T["*"])Ie=T["*"];else{if(!w["*"]){z.push(new rt(u,g[ge],`unknown property "${ge}"`));continue}Ie=Q}z=z.concat(Ie({key:(u&&u+".")+ge,value:g[ge],valueSpec:te,style:P,styleSpec:L,object:g,objectKey:ge,validateSpec:Q},g))}for(const ge in w)T[ge]||w[ge].required&&w[ge].default===void 0&&g[ge]===void 0&&z.push(new rt(u,g,`missing required property "${ge}"`));return z}function os(d){var u=d.value,g=d.valueSpec,w=d.validateSpec,T=d.style,P=d.styleSpec,L=d.key,Q=d.arrayElementValidator||w;if(Ur(u)!=="array")return[new rt(L,u,`array expected, ${Ur(u)} found`)];if(g.length&&u.length!==g.length)return[new rt(L,u,`array length ${g.length} expected, length ${u.length} found`)];if(g["min-length"]&&u.length<g["min-length"])return[new rt(L,u,`array length at least ${g["min-length"]} expected, length ${u.length} found`)];let z={type:g.value,values:g.values},ie=(P.$version<7&&(z.function=g.function),Ur(g.value)==="object"&&(z=g.value),[]);for(let te=0;te<u.length;te++)ie=ie.concat(Q({array:u,arrayIndex:te,value:u[te],valueSpec:z,validateSpec:d.validateSpec,style:T,styleSpec:P,key:`${L}[${te}]`}));return ie}function Au(w){var u=w.key,g=w.value,w=w.valueSpec;let T=Ur(g);return(T=T==="number"&&g!=g?"NaN":T)!=="number"?[new rt(u,g,`number expected, ${T} found`)]:"minimum"in w&&g<w.minimum?[new rt(u,g,g+" is less than the minimum value "+w.minimum)]:"maximum"in w&&g>w.maximum?[new rt(u,g,g+" is greater than the maximum value "+w.maximum)]:[]}function Cl(d){const u=d.valueSpec,g=bi(d.value.type);let w,T={},P,L;var Q=g!=="categorical"&&d.value.property===void 0,z=!Q;const ie=Ur(d.value.stops)==="array"&&Ur(d.value.stops[0])==="array"&&Ur(d.value.stops[0][0])==="object";var te=ea({key:d.key,value:d.value,valueSpec:d.styleSpec.function,validateSpec:d.validateSpec,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(Fe){if(g==="identity")return[new rt(Fe.key,Fe.value,'identity function may not have a "stops" property')];let je=[];var Ye=Fe.value;return je=je.concat(os({key:Fe.key,value:Ye,valueSpec:Fe.valueSpec,validateSpec:Fe.validateSpec,style:Fe.style,styleSpec:Fe.styleSpec,arrayElementValidator:ge})),Ur(Ye)==="array"&&Ye.length===0&&je.push(new rt(Fe.key,Ye,"array must have at least one stop")),je},default:function(Fe){return Fe.validateSpec({key:Fe.key,value:Fe.value,valueSpec:u,validateSpec:Fe.validateSpec,style:Fe.style,styleSpec:Fe.styleSpec})}}});return g==="identity"&&Q&&te.push(new rt(d.key,d.value,'missing required property "property"')),g==="identity"||d.value.stops||te.push(new rt(d.key,d.value,'missing required property "stops"')),g==="exponential"&&d.valueSpec.expression&&!Bn(d.valueSpec)&&te.push(new rt(d.key,d.value,"exponential functions not supported")),8<=d.styleSpec.$version&&(z&&!Vr(d.valueSpec)?te.push(new rt(d.key,d.value,"property functions not supported")):Q&&!nn(d.valueSpec)&&te.push(new rt(d.key,d.value,"zoom functions not supported"))),g!=="categorical"&&!ie||d.value.property!==void 0||te.push(new rt(d.key,d.value,'"property" property is required')),te;function ge(Fe){let je=[];var Ye=Fe.value,it=Fe.key;if(Ur(Ye)!=="array")return[new rt(it,Ye,`array expected, ${Ur(Ye)} found`)];if(Ye.length!==2)return[new rt(it,Ye,`array length 2 expected, length ${Ye.length} found`)];if(ie){if(Ur(Ye[0])!=="object")return[new rt(it,Ye,`object expected, ${Ur(Ye[0])} found`)];if(Ye[0].zoom===void 0)return[new rt(it,Ye,"object stop key must have zoom")];if(Ye[0].value===void 0)return[new rt(it,Ye,"object stop key must have value")];if(L&&L>bi(Ye[0].zoom))return[new rt(it,Ye[0].zoom,"stop zoom values must appear in ascending order")];bi(Ye[0].zoom)!==L&&(L=bi(Ye[0].zoom),P=void 0,T={}),je=je.concat(ea({key:it+"[0]",value:Ye[0],valueSpec:{zoom:{}},validateSpec:Fe.validateSpec,style:Fe.style,styleSpec:Fe.styleSpec,objectElementValidators:{zoom:Au,value:Ie}}))}else je=je.concat(Ie({key:it+"[0]",value:Ye[0],validateSpec:Fe.validateSpec,style:Fe.style,styleSpec:Fe.styleSpec},Ye));return gd(Xl(Ye[1]))?je.concat([new rt(it+"[1]",Ye[1],"expressions are not allowed in function stops.")]):je.concat(Fe.validateSpec({key:it+"[1]",value:Ye[1],valueSpec:u,validateSpec:Fe.validateSpec,style:Fe.style,styleSpec:Fe.styleSpec}))}function Ie(Fe,Ve){var Ye=Ur(Fe.value),it=bi(Fe.value),Ve=Fe.value!==null?Fe.value:Ve;if(w){if(Ye!==w)return[new rt(Fe.key,Ve,Ye+" stop domain type must match previous stop domain type "+w)]}else w=Ye;if(Ye!=="number"&&Ye!=="string"&&Ye!=="boolean")return[new rt(Fe.key,Ve,"stop domain value must be a number, string, or boolean")];if(Ye==="number"||g==="categorical")return g!=="categorical"||Ye!=="number"||isFinite(it)&&Math.floor(it)===it?g!=="categorical"&&Ye==="number"&&P!==void 0&&it<P?[new rt(Fe.key,Ve,"stop domain values must appear in ascending order")]:(P=it,g==="categorical"&&it in T?[new rt(Fe.key,Ve,"stop domain values must be unique")]:(T[it]=!0,[])):[new rt(Fe.key,Ve,"integer expected, found "+it)];{let ht=`number expected, ${Ye} found`;return Vr(u)&&g===void 0&&(ht+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new rt(Fe.key,Ve,ht)]}}}function Bs(d){var u=(d.expressionContext==="property"?Ri:CA)(Xl(d.value),d.valueSpec);if(u.result==="error")return u.value.map(g=>new rt(""+d.key+g.key,d.value,g.message));if(u=u.value.expression||u.value._styleExpression.expression,d.expressionContext==="property"&&d.propertyKey==="text-font"&&!u.outputDefined())return[new rt(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if(d.expressionContext==="property"&&d.propertyType==="layout"&&!tl(u))return[new rt(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if(d.expressionContext==="filter"&&!tl(u))return[new rt(d.key,d.value,'"feature-state" data expressions are not supported with filters.')];if(d.expressionContext&&d.expressionContext.indexOf("cluster")===0){if(!Hh(u,["zoom","feature-state"]))return[new rt(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(d.expressionContext==="cluster-initial"&&!ps(u))return[new rt(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function du(w){var u=w.key,g=w.value,w=w.valueSpec,T=[];return Array.isArray(w.values)?w.values.indexOf(bi(g))===-1&&T.push(new rt(u,g,`expected one of [${w.values.join(", ")}], ${JSON.stringify(g)} found`)):Object.keys(w.values).indexOf(bi(g))===-1&&T.push(new rt(u,g,`expected one of [${Object.keys(w.values).join(", ")}], ${JSON.stringify(g)} found`)),T}function Lc(d){return Wl(Xl(d.value))?Bs(Ht({},d,{expressionContext:"filter",valueSpec:{value:"boolean"}})):(function u(g){const w=g.value,T=g.key;if(Ur(w)!=="array")return[new rt(T,w,`array expected, ${Ur(w)} found`)];const P=g.styleSpec;let L,Q=[];if(w.length<1)return[new rt(T,w,"filter array must have at least 1 element")];switch(Q=Q.concat(du({key:T+"[0]",value:w[0],valueSpec:P.filter_operator,style:g.style,styleSpec:g.styleSpec})),bi(w[0])){case"<":case"<=":case">":case">=":2<=w.length&&bi(w[1])==="$type"&&Q.push(new rt(T,w,`"$type" cannot be use with operator "${w[0]}"`));case"==":case"!=":w.length!==3&&Q.push(new rt(T,w,`filter array for operator "${w[0]}" must have 3 elements`));case"in":case"!in":2<=w.length&&(L=Ur(w[1]))!=="string"&&Q.push(new rt(T+"[1]",w[1],`string expected, ${L} found`));for(let z=2;z<w.length;z++)L=Ur(w[z]),bi(w[1])==="$type"?Q=Q.concat(du({key:`${T}[${z}]`,value:w[z],valueSpec:P.geometry_type,style:g.style,styleSpec:g.styleSpec})):L!=="string"&&L!=="number"&&L!=="boolean"&&Q.push(new rt(`${T}[${z}]`,w[z],`string, number, or boolean expected, ${L} found`));break;case"any":case"all":case"none":for(let z=1;z<w.length;z++)Q=Q.concat(u({key:`${T}[${z}]`,value:w[z],style:g.style,styleSpec:g.styleSpec}));break;case"has":case"!has":L=Ur(w[1]),w.length!==2?Q.push(new rt(T,w,`filter array for "${w[0]}" operator must have 2 elements`)):L!=="string"&&Q.push(new rt(T+"[1]",w[1],`string expected, ${L} found`));break;case"within":L=Ur(w[1]),w.length!==2?Q.push(new rt(T,w,`filter array for "${w[0]}" operator must have 2 elements`)):L!=="object"&&Q.push(new rt(T+"[1]",w[1],`object expected, ${L} found`))}return Q})(d)}function Ta(d,u){var g=d.key,w=d.validateSpec,T=d.style,P=d.styleSpec,L=d.value,Q=d.objectKey,z=P[u+"_"+d.layerType];if(!z)return[];var ie=Q.match(/^(.*)-transition$/);if(u==="paint"&&ie&&z[ie[1]]&&z[ie[1]].transition)return w({key:g,value:L,valueSpec:P.transition,style:T,styleSpec:P});if(ie=d.valueSpec||z[Q],!ie)return[new rt(g,L,`unknown property "${Q}"`)];let te;return Ur(L)==="string"&&Vr(ie)&&!ie.tokens&&(te=/^{([^}]+)}$/.exec(L))?[new rt(g,L,`"${Q}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(te[1])} }\`.`)]:(z=[],d.layerType==="symbol"&&(Q==="text-field"&&T&&!T.glyphs&&z.push(new rt(g,L,'use of "text-field" requires a style "glyphs" property')),Q==="text-font")&&vi(Xl(L))&&bi(L.type)==="identity"&&z.push(new rt(g,L,'"text-font" does not support identity functions')),z.concat(w({key:d.key,value:L,valueSpec:ie,style:T,styleSpec:P,expressionContext:"property",propertyType:u,propertyKey:Q})))}function df(d){return Ta(d,"paint")}function Jl(d){return Ta(d,"layout")}function il(d){let u=[];const g=d.value,w=d.key;var T,P,L=d.style;const Q=d.styleSpec;g.type||g.ref||u.push(new rt(w,g,'either "type" or "ref" is required'));let z=bi(g.type);const ie=bi(g.ref);if(g.id){var te=bi(g.id);for(let Ie=0;Ie<d.arrayIndex;Ie++){var ge=L.layers[Ie];bi(ge.id)===te&&u.push(new rt(w,g.id,`duplicate layer id "${g.id}", previously used at line `+ge.id.__line__))}}if("ref"in g){["type","source","source-layer","filter","layout"].forEach(Fe=>{Fe in g&&u.push(new rt(w,g[Fe],`"${Fe}" is prohibited for ref layers`))});let Ie;L.layers.forEach(Fe=>{bi(Fe.id)===ie&&(Ie=Fe)}),Ie?Ie.ref?u.push(new rt(w,g.ref,"ref cannot reference another ref layer")):z=bi(Ie.type):u.push(new rt(w,g.ref,`ref layer "${ie}" not found`))}else z!=="background"&&(g.source?(P=(T=L.sources&&L.sources[g.source])&&bi(T.type),T?P==="vector"&&z==="raster"?u.push(new rt(w,g.source,`layer "${g.id}" requires a raster source`)):P!=="raster-dem"&&z==="hillshade"?u.push(new rt(w,g.source,`layer "${g.id}" requires a raster-dem source`)):P==="raster"&&z!=="raster"?u.push(new rt(w,g.source,`layer "${g.id}" requires a vector source`)):P!=="vector"||g["source-layer"]?P==="raster-dem"&&z!=="hillshade"?u.push(new rt(w,g.source,"raster-dem source can only be used with layer type 'hillshade'.")):z!=="line"||!g.paint||!g.paint["line-gradient"]||P==="geojson"&&T.lineMetrics||u.push(new rt(w,g,`layer "${g.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new rt(w,g,`layer "${g.id}" must specify a "source-layer"`)):u.push(new rt(w,g.source,`source "${g.source}" not found`))):u.push(new rt(w,g,'missing required property "source"')));return u=u.concat(ea({key:w,value:g,valueSpec:Q.layer,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,objectElementValidators:{"*"(){return[]},type(){return d.validateSpec({key:w+".type",value:g.type,valueSpec:Q.layer.type,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,object:g,objectKey:"type"})},filter:Lc,layout(Ie){return ea({layer:g,key:Ie.key,value:Ie.value,style:Ie.style,styleSpec:Ie.styleSpec,validateSpec:Ie.validateSpec,objectElementValidators:{"*"(Fe){return Jl(Ht({layerType:z},Fe))}}})},paint(Ie){return ea({layer:g,key:Ie.key,value:Ie.value,style:Ie.style,styleSpec:Ie.styleSpec,validateSpec:Ie.validateSpec,objectElementValidators:{"*"(Fe){return df(Ht({layerType:z},Fe))}}})}}}))}function ec(g){var u=g.value,g=g.key,w=Ur(u);return w!=="string"?[new rt(g,u,`string expected, ${w} found`)]:[]}const yd={promoteId:function({key:d,value:u}){{if(Ur(u)==="string")return ec({key:d,value:u});var g=[];for(const w in u)g.push(...ec({key:d+"."+w,value:u[w]}));return g}}};function Eo(d){var u=d.value,g=d.key,w=d.styleSpec,T=d.style,P=d.validateSpec;if(!u.type)return[new rt(g,u,'"type" is required')];var L=bi(u.type);let Q;switch(L){case"vector":case"raster":return Q=ea({key:g,value:u,valueSpec:w["source_"+L.replace("-","_")],style:d.style,styleSpec:w,objectElementValidators:yd,validateSpec:P});case"raster-dem":return Q=(function(te){var ge=(Ve=te.sourceName)!=null?Ve:"",Ie=te.value,Fe=te.styleSpec,je=Fe.source_raster_dem,Ye=te.style;let it=[];var Ve=Ur(Ie);if(Ie!==void 0)if(Ve!=="object")it.push(new rt("source_raster_dem",Ie,`object expected, ${Ve} found`));else{var ht=bi(Ie.encoding)==="custom",bt=["redFactor","greenFactor","blueFactor","baseShift"],Ot=te.value.encoding?`"${te.value.encoding}"`:"Default";for(const Ut in Ie)!ht&&bt.includes(Ut)?it.push(new rt(Ut,Ie[Ut],`In "${ge}": "${Ut}" is only valid when "encoding" is set to "custom". ${Ot} encoding found`)):je[Ut]?it=it.concat(te.validateSpec({key:Ut,value:Ie[Ut],valueSpec:je[Ut],validateSpec:te.validateSpec,style:Ye,styleSpec:Fe})):it.push(new rt(Ut,Ie[Ut],`unknown property "${Ut}"`))}return it})({sourceName:g,value:u,style:d.style,styleSpec:w,validateSpec:P});case"geojson":if(Q=ea({key:g,value:u,valueSpec:w.source_geojson,style:T,styleSpec:w,validateSpec:P,objectElementValidators:yd}),u.cluster)for(const te in u.clusterProperties){var[ie,z]=u.clusterProperties[te],ie=typeof ie=="string"?[ie,["accumulated"],["get",te]]:ie;Q.push(...Bs({key:`${g}.${te}.map`,value:z,expressionContext:"cluster-map"})),Q.push(...Bs({key:`${g}.${te}.reduce`,value:ie,expressionContext:"cluster-reduce"}))}return Q;case"video":return ea({key:g,value:u,valueSpec:w.source_video,style:T,validateSpec:P,styleSpec:w});case"image":return ea({key:g,value:u,valueSpec:w.source_image,style:T,validateSpec:P,styleSpec:w});case"canvas":return[new rt(g,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return du({key:g+".type",value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Rc(d){var u=d.value,g=d.styleSpec,w=g.light,T=d.style;let P=[];var L=Ur(u);if(u!==void 0){if(L!=="object")return P=P.concat([new rt("light",u,`object expected, ${L} found`)]);for(const z in u){var Q=z.match(/^(.*)-transition$/);P=Q&&w[Q[1]]&&w[Q[1]].transition?P.concat(d.validateSpec({key:z,value:u[z],valueSpec:g.transition,validateSpec:d.validateSpec,style:T,styleSpec:g})):w[z]?P.concat(d.validateSpec({key:z,value:u[z],valueSpec:w[z],validateSpec:d.validateSpec,style:T,styleSpec:g})):P.concat([new rt(z,u[z],`unknown property "${z}"`)])}}return P}function ah(P){var u=P.value,g=P.styleSpec,w=g.sky,T=P.style,P=Ur(u);if(u===void 0)return[];if(P!=="object")return[new rt("sky",u,`object expected, ${P} found`)];let L=[];for(const Q in u)L=w[Q]?L.concat(Ba({key:Q,value:u[Q],valueSpec:w[Q],style:T,styleSpec:g})):L.concat([new rt(Q,u[Q],`unknown property "${Q}"`)]);return L}function fu(d){var u=d.value,g=d.styleSpec,w=g.terrain,T=d.style;let P=[];var L=Ur(u);if(u!==void 0){if(L!=="object")return P=P.concat([new rt("terrain",u,`object expected, ${L} found`)]);for(const Q in u)P=w[Q]?P.concat(d.validateSpec({key:Q,value:u[Q],valueSpec:w[Q],validateSpec:d.validateSpec,style:T,styleSpec:g})):P.concat([new rt(Q,u[Q],`unknown property "${Q}"`)])}return P}function Dc(d){let u=[];var g=d.value,w=d.key;if(Array.isArray(g)){var T=[],P=[];for(const L in g)g[L].id&&T.includes(g[L].id)&&u.push(new rt(w,g,`all the sprites' ids must be unique, but ${g[L].id} is duplicated`)),T.push(g[L].id),g[L].url&&P.includes(g[L].url)&&u.push(new rt(w,g,`all the sprites' URLs must be unique, but ${g[L].url} is duplicated`)),P.push(g[L].url),u=u.concat(ea({key:`${w}[${L}]`,value:g[L],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:d.validateSpec}));return u}return ec({key:w,value:g})}const oh={"*"(){return[]},array:os,boolean:function(g){var u=g.value,g=g.key,w=Ur(u);return w!=="boolean"?[new rt(g,u,`boolean expected, ${w} found`)]:[]},number:Au,color:function(d){var u=d.key,g=Ur(d=d.value);return g!=="string"?[new rt(u,d,`color expected, ${g} found`)]:mi.parse(String(d))?[]:[new rt(u,d,`color expected, "${d}" found`)]},constants:hu,enum:du,filter:Lc,function:Cl,layer:il,object:ea,source:Eo,light:Rc,sky:ah,terrain:fu,string:ec,formatted:function(d){return ec(d).length===0?[]:Bs(d)},resolvedImage:function(d){return ec(d).length===0?[]:Bs(d)},padding:function(d){var u=d.key,g=d.value;if(Ur(g)!=="array")return Au({key:u,value:g,valueSpec:{}});{if(g.length<1||4<g.length)return[new rt(u,g,`padding requires 1 to 4 values; ${g.length} values found`)];var w={type:"number"};let T=[];for(let P=0;P<g.length;P++)T=T.concat(d.validateSpec({key:`${u}[${P}]`,value:g[P],validateSpec:d.validateSpec,valueSpec:w}));return T}},variableAnchorOffsetCollection:function(d){var u=d.key,g=d.value,w=Ur(g),T=d.styleSpec;if(w!=="array"||g.length<1||g.length%2!=0)return[new rt(u,g,"variableAnchorOffsetCollection requires a non-empty array of even length")];let P=[];for(let L=0;L<g.length;L+=2)P=(P=P.concat(du({key:`${u}[${L}]`,value:g[L],valueSpec:T.layout_symbol["text-anchor"]}))).concat(os({key:`${u}[${L+1}]`,value:g[L+1],valueSpec:{length:2,value:"number"},validateSpec:d.validateSpec,style:d.style,styleSpec:T}));return P},sprite:Dc};function Ba(d){var u=d.value,g=d.valueSpec,w=d.styleSpec;return d.validateSpec=Ba,g.expression&&vi(bi(u))?Cl(d):g.expression&&gd(Xl(u))?Bs(d):g.type&&oh[g.type]?oh[g.type](d):ea(Ht({},d,{valueSpec:g.type?w[g.type]:g}))}function al(w){var u=w.value,g=w.key,w=ec(w);return w.length||(u.indexOf("{fontstack}")===-1&&w.push(new rt(g,u,'"glyphs" url must include a "{fontstack}" token')),u.indexOf("{range}")===-1&&w.push(new rt(g,u,'"glyphs" url must include a "{range}" token'))),w}function Qn(d,u=be){let g=[];return g=g.concat(Ba({key:"",value:d,valueSpec:u.$root,styleSpec:u,style:d,validateSpec:Ba,objectElementValidators:{glyphs:al,"*"(){return[]}}})),aa(g=d.constants?g.concat(hu({key:"constants",value:d.constants,style:d,styleSpec:u,validateSpec:Ba})):g)}function li(d){return function(u){return d({...u,validateSpec:Ba})}}function aa(d){return[].concat(d).sort((u,g)=>u.line-g.line)}function Ni(d){return function(...u){return aa(d.apply(this,u))}}Qn.source=Ni(li(Eo)),Qn.sprite=Ni(li(Dc)),Qn.glyphs=Ni(li(al)),Qn.light=Ni(li(Rc)),Qn.sky=Ni(li(ah)),Qn.terrain=Ni(li(fu)),Qn.layer=Ni(li(il)),Qn.filter=Ni(li(Lc)),Qn.paintProperty=Ni(li(df)),Qn.layoutProperty=Ni(li(Jl));const ol=Qn;rh=ol.light;const tc=ol.paintProperty,Is=ol.layoutProperty;function qh(d,u){let g=!1;if(u&&u.length)for(const w of u)d.fire(new re(new Error(w.message))),g=!0;return g}class TA{constructor(u,g,w){var T=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;var P=new Int32Array(this.arrayBuffer);u=P[0],g=P[1],w=P[2],this.d=g+2*w;for(let te=0;te<this.d*this.d;te++){var L=P[3+te],Q=P[3+te+1];T.push(L===Q?null:P.subarray(L,Q))}var z=P[3+T.length],ie=P[3+T.length+1];this.keys=P.subarray(z,ie),this.bboxes=P.subarray(ie),this.insert=this._insertReadonly}else{this.d=g+2*w;for(let te=0;te<this.d*this.d;te++)T.push([]);this.keys=[],this.bboxes=[]}this.n=g,this.extent=u,this.padding=w,this.scale=g/u,this.uid=0,z=w/g*u,this.min=-z,this.max=u+z}insert(u,g,w,T,P){this._forEachCell(g,w,T,P,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(g),this.bboxes.push(w),this.bboxes.push(T),this.bboxes.push(P)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,g,w,T,P,L){this.cells[P].push(L)}query(u,g,w,T,P){var L=this.min,Q=this.max;return u<=L&&g<=L&&Q<=w&&Q<=T&&!P?Array.prototype.slice.call(this.keys):(this._forEachCell(u,g,w,T,this._queryCell,L=[],{},P),L)}_queryCell(u,g,w,T,P,L,Q,z){var ie=this.cells[P];if(ie!==null){var te=this.keys,ge=this.bboxes;for(let je=0;je<ie.length;je++){var Ie,Fe=ie[je];Q[Fe]===void 0&&(Ie=4*Fe,(z?z(ge[0+Ie],ge[1+Ie],ge[2+Ie],ge[3+Ie]):u<=ge[2+Ie]&&g<=ge[3+Ie]&&w>=ge[0+Ie]&&T>=ge[1+Ie])?(Q[Fe]=!0,L.push(te[Fe])):Q[Fe]=!1)}}}_forEachCell(u,g,w,T,P,L,Q,z){var ie=this._convertToCellCoord(u),te=this._convertToCellCoord(g),ge=this._convertToCellCoord(w),Ie=this._convertToCellCoord(T);for(let je=ie;je<=ge;je++)for(let Ye=te;Ye<=Ie;Ye++){var Fe=this.d*Ye+je;if((!z||z(this._convertFromCellCoord(je),this._convertFromCellCoord(Ye),this._convertFromCellCoord(je+1),this._convertFromCellCoord(Ye+1)))&&P.call(this,u,g,w,T,Fe,L,Q,z))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;var u=this.cells,g=3+this.cells.length+1+1;let w=0;for(let Q=0;Q<this.cells.length;Q++)w+=this.cells[Q].length;var T=new Int32Array(g+w+this.keys.length+this.bboxes.length);T[0]=this.extent,T[1]=this.n,T[2]=this.padding;let P=g;for(let Q=0;Q<u.length;Q++){var L=u[Q];T[3+Q]=P,T.set(L,P),P+=L.length}return T[3+u.length]=P,T.set(this.keys,P),P+=this.keys.length,T[3+u.length+1]=P,T.set(this.bboxes,P),P+=this.bboxes.length,T.buffer}static serialize(u,g){return u=u.toArrayBuffer(),g&&g.push(u),{buffer:u}}static deserialize(u){return new TA(u.buffer)}}const Qo={};function Nr(d,u,g={}){if(Qo[d])throw new Error(d+" is already registered.");Object.defineProperty(u,"_classRegistryKey",{value:d,writeable:!1}),Qo[d]={klass:u,omit:g.omit||[],shallow:g.shallow||[]}}Nr("Object",Object),Nr("TransferableGridIndex",TA),Nr("Color",mi),Nr("Error",Error),Nr("AJAXError",Ze),Nr("ResolvedImage",ns),Nr("StylePropertyFunction",si),Nr("StyleExpression",uu,{omit:["_evaluator"]}),Nr("ZoomDependentExpression",nl),Nr("ZoomConstantExpression",Vi),Nr("CompoundExpression",Co,{omit:["_evaluate"]});for(const d in Be)Be[d]._classRegistryKey||Nr("Expression_"+d,Be[d]);function gs(d){return d&&typeof ArrayBuffer<"u"&&(d instanceof ArrayBuffer||d.constructor&&d.constructor.name==="ArrayBuffer")}function Uc(d,u){if(d==null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||d instanceof Error)return d;if(gs(d)||Ee(d))return u&&u.push(d),d;if(ArrayBuffer.isView(d))return w=d,u&&u.push(w.buffer),w;if(d instanceof ImageData)return u&&u.push(d.data.buffer),d;if(Array.isArray(d)){var g=[];for(const Q of d)g.push(Uc(Q,u));return g}if(typeof d!="object")throw new Error("can't serialize object of type "+typeof d);var w=d.constructor,T=w._classRegistryKey;if(!T)throw new Error("can't serialize object of unregistered class "+w.name);if(!Qo[T])throw new Error(T+" is not registered.");var P,L=w.serialize?w.serialize(d,u):{};if(w.serialize){if(u&&L===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const Q in d)!d.hasOwnProperty(Q)||0<=Qo[T].omit.indexOf(Q)||(P=d[Q],L[Q]=0<=Qo[T].shallow.indexOf(Q)?P:Uc(P,u));d instanceof Error&&(L.message=d.message)}if(L.$name)throw new Error("$name property is reserved for worker serialization logic.");return T!=="Object"&&(L.$name=T),L}function BA(d){if(d==null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||d instanceof Error||gs(d)||Ee(d)||ArrayBuffer.isView(d)||d instanceof ImageData)return d;if(Array.isArray(d))return d.map(BA);if(typeof d!="object")throw new Error("can't deserialize object of type "+typeof d);var u=d.$name||"Object";if(!Qo[u])throw new Error("can't deserialize unregistered class "+u);var g=Qo[u].klass;if(!g)throw new Error("can't deserialize unregistered class "+u);if(g.deserialize)return g.deserialize(d);var w,T=Object.create(g.prototype);for(const P of Object.keys(d))P!=="$name"&&(w=d[P],T[P]=0<=Qo[u].shallow.indexOf(P)?w:BA(w));return T}class dm{constructor(){this.first=!0}update(u,g){var w=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=w,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=w,!0):(this.lastFloorZoom>w?(this.lastIntegerZoom=w+1,this.lastIntegerZoomTime=g):this.lastFloorZoom<w&&(this.lastIntegerZoom=w,this.lastIntegerZoomTime=g),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=w,!0))}}const kr={"Latin-1 Supplement":d=>128<=d&&d<=255,Arabic:d=>1536<=d&&d<=1791,"Arabic Supplement":d=>1872<=d&&d<=1919,"Arabic Extended-A":d=>2208<=d&&d<=2303,"Hangul Jamo":d=>4352<=d&&d<=4607,"Unified Canadian Aboriginal Syllabics":d=>5120<=d&&d<=5759,Khmer:d=>6016<=d&&d<=6143,"Unified Canadian Aboriginal Syllabics Extended":d=>6320<=d&&d<=6399,"General Punctuation":d=>8192<=d&&d<=8303,"Letterlike Symbols":d=>8448<=d&&d<=8527,"Number Forms":d=>8528<=d&&d<=8591,"Miscellaneous Technical":d=>8960<=d&&d<=9215,"Control Pictures":d=>9216<=d&&d<=9279,"Optical Character Recognition":d=>9280<=d&&d<=9311,"Enclosed Alphanumerics":d=>9312<=d&&d<=9471,"Geometric Shapes":d=>9632<=d&&d<=9727,"Miscellaneous Symbols":d=>9728<=d&&d<=9983,"Miscellaneous Symbols and Arrows":d=>11008<=d&&d<=11263,"CJK Radicals Supplement":d=>11904<=d&&d<=12031,"Kangxi Radicals":d=>12032<=d&&d<=12255,"Ideographic Description Characters":d=>12272<=d&&d<=12287,"CJK Symbols and Punctuation":d=>12288<=d&&d<=12351,Hiragana:d=>12352<=d&&d<=12447,Katakana:d=>12448<=d&&d<=12543,Bopomofo:d=>12544<=d&&d<=12591,"Hangul Compatibility Jamo":d=>12592<=d&&d<=12687,Kanbun:d=>12688<=d&&d<=12703,"Bopomofo Extended":d=>12704<=d&&d<=12735,"CJK Strokes":d=>12736<=d&&d<=12783,"Katakana Phonetic Extensions":d=>12784<=d&&d<=12799,"Enclosed CJK Letters and Months":d=>12800<=d&&d<=13055,"CJK Compatibility":d=>13056<=d&&d<=13311,"CJK Unified Ideographs Extension A":d=>13312<=d&&d<=19903,"Yijing Hexagram Symbols":d=>19904<=d&&d<=19967,"CJK Unified Ideographs":d=>19968<=d&&d<=40959,"Yi Syllables":d=>40960<=d&&d<=42127,"Yi Radicals":d=>42128<=d&&d<=42191,"Hangul Jamo Extended-A":d=>43360<=d&&d<=43391,"Hangul Syllables":d=>44032<=d&&d<=55215,"Hangul Jamo Extended-B":d=>55216<=d&&d<=55295,"Private Use Area":d=>57344<=d&&d<=63743,"CJK Compatibility Ideographs":d=>63744<=d&&d<=64255,"Arabic Presentation Forms-A":d=>64336<=d&&d<=65023,"Vertical Forms":d=>65040<=d&&d<=65055,"CJK Compatibility Forms":d=>65072<=d&&d<=65103,"Small Form Variants":d=>65104<=d&&d<=65135,"Arabic Presentation Forms-B":d=>65136<=d&&d<=65279,"Halfwidth and Fullwidth Forms":d=>65280<=d&&d<=65519};function sh(d){for(const u of d)if(Kh(u.charCodeAt(0)))return!0;return!1}function ap(d){for(const g of d)if(u=g.charCodeAt(0),kr.Arabic(u)||kr["Arabic Supplement"](u)||kr["Arabic Extended-A"](u)||kr["Arabic Presentation Forms-A"](u)||kr["Arabic Presentation Forms-B"](u))return;var u;return 1}function Kh(d){return d===746||d===747||!(d<4352)&&(kr["Bopomofo Extended"](d)||kr.Bopomofo(d)||kr["CJK Compatibility Forms"](d)&&!(65097<=d&&d<=65103)||kr["CJK Compatibility Ideographs"](d)||kr["CJK Compatibility"](d)||kr["CJK Radicals Supplement"](d)||kr["CJK Strokes"](d)||!(!kr["CJK Symbols and Punctuation"](d)||12296<=d&&d<=12305||12308<=d&&d<=12319||d===12336)||kr["CJK Unified Ideographs Extension A"](d)||kr["CJK Unified Ideographs"](d)||kr["Enclosed CJK Letters and Months"](d)||kr["Hangul Compatibility Jamo"](d)||kr["Hangul Jamo Extended-A"](d)||kr["Hangul Jamo Extended-B"](d)||kr["Hangul Jamo"](d)||kr["Hangul Syllables"](d)||kr.Hiragana(d)||kr["Ideographic Description Characters"](d)||kr.Kanbun(d)||kr["Kangxi Radicals"](d)||kr["Katakana Phonetic Extensions"](d)||kr.Katakana(d)&&d!==12540||!(!kr["Halfwidth and Fullwidth Forms"](d)||d===65288||d===65289||d===65293||65306<=d&&d<=65310||d===65339||d===65341||d===65343||65371<=d&&d<=65503||d===65507||65512<=d&&d<=65519)||!(!kr["Small Form Variants"](d)||65112<=d&&d<=65118||65123<=d&&d<=65126)||kr["Unified Canadian Aboriginal Syllabics"](d)||kr["Unified Canadian Aboriginal Syllabics Extended"](d)||kr["Vertical Forms"](d)||kr["Yijing Hexagram Symbols"](d)||kr["Yi Syllables"](d)||!!kr["Yi Radicals"](d))}function El(d){return!(Kh(d)||(d=d,kr["Latin-1 Supplement"](d)&&(d===167||d===169||d===174||d===177||d===188||d===189||d===190||d===215||d===247))||kr["General Punctuation"](d)&&(d===8214||d===8224||d===8225||d===8240||d===8241||d===8251||d===8252||d===8258||d===8263||d===8264||d===8265||d===8273)||kr["Letterlike Symbols"](d)||kr["Number Forms"](d)||kr["Miscellaneous Technical"](d)&&(8960<=d&&d<=8967||8972<=d&&d<=8991||8996<=d&&d<=9e3||d===9003||9085<=d&&d<=9114||9150<=d&&d<=9165||d===9167||9169<=d&&d<=9179||9186<=d&&d<=9215)||kr["Control Pictures"](d)&&d!==9251||kr["Optical Character Recognition"](d)||kr["Enclosed Alphanumerics"](d)||kr["Geometric Shapes"](d)||kr["Miscellaneous Symbols"](d)&&!(9754<=d&&d<=9759)||kr["Miscellaneous Symbols and Arrows"](d)&&(11026<=d&&d<=11055||11088<=d&&d<=11097||11192<=d&&d<=11243)||kr["CJK Symbols and Punctuation"](d)||kr.Katakana(d)||kr["Private Use Area"](d)||kr["CJK Compatibility Forms"](d)||kr["Small Form Variants"](d)||kr["Halfwidth and Fullwidth Forms"](d)||d===8734||d===8756||d===8757||9984<=d&&d<=10087||10102<=d&&d<=10131||d===65532||d===65533)}function IA(d){return 1424<=d&&d<=2303||kr["Arabic Presentation Forms-A"](d)||kr["Arabic Presentation Forms-B"](d)}function ks(d,u){for(const w of d)if(g=w.charCodeAt(0),!u&&IA(g)||2304<=g&&g<=3583||3840<=g&&g<=4255||kr.Khmer(g))return!1;var g;return!0}const So=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(d){this.pluginStatus=d.pluginStatus,this.pluginURL=d.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(d){this.applyArabicShaping=d.applyArabicShaping,this.processBidirectionalText=d.processBidirectionalText,this.processStyledBidirectionalText=d.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class wi{constructor(u,g){this.zoom=u,g?(this.now=g.now,this.fadeDuration=g.fadeDuration,this.zoomHistory=g.zoomHistory,this.transition=g.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new dm,this.transition={})}isSupportedScript(u){return ks(u,So.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){var u=this.zoom,g=u-Math.floor(u),w=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:g+(1-g)*w}:{fromScale:.5,toScale:1,t:1-(1-w)*g}}}class kA{constructor(u,g){this.property=u,this.value=g,this.expression=Ya(g===void 0?u.specification.default:g,u.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(u,g,w){return this.property.possiblyEvaluate(this,u,g,w)}}class NA{constructor(u){this.property=u,this.value=new kA(u,void 0)}transitioned(u,g){return new vd(this.property,this.value,g,ce({},u.transition,this.transition),u.now)}untransitioned(){return new vd(this.property,this.value,null,{},0)}}class Vh{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return fe(this._values[u].value.value)}setValue(u,g){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new NA(this._values[u].property)),this._values[u].value=new kA(this._values[u].property,g===null?void 0:fe(g))}getTransition(u){return fe(this._values[u].transition)}setTransition(u,g){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new NA(this._values[u].property)),this._values[u].transition=fe(g)||void 0}serialize(){var u={};for(const w of Object.keys(this._values)){var g=this.getValue(w),g=(g!==void 0&&(u[w]=g),this.getTransition(w));g!==void 0&&(u[w+"-transition"]=g)}return u}transitioned(u,g){var w=new pu(this._properties);for(const T of Object.keys(this._values))w._values[T]=this._values[T].transitioned(u,g._values[T]);return w}untransitioned(){var u=new pu(this._properties);for(const g of Object.keys(this._values))u._values[g]=this._values[g].untransitioned();return u}}class vd{constructor(u,g,w,T,P){this.property=u,this.value=g,this.begin=P+T.delay||0,this.end=this.begin+T.duration||0,u.specification.transition&&(T.delay||T.duration)&&(this.prior=w)}possiblyEvaluate(u,g,w){var T=u.now||0,P=this.value.possiblyEvaluate(u,g,w),L=this.prior;return L?T>this.end||this.value.isDataDriven()?(this.prior=null,P):T<this.begin?L.possiblyEvaluate(u,g,w):(T=(T-this.begin)/(this.end-this.begin),this.property.interpolate(L.possiblyEvaluate(u,g,w),P,D(T))):P}}class pu{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,g,w){var T=new Ma(this._properties);for(const P of Object.keys(this._values))T._values[P]=this._values[P].possiblyEvaluate(u,g,w);return T}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class op{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues)}hasValue(u){return this._values[u].value!==void 0}getValue(u){return fe(this._values[u].value)}setValue(u,g){this._values[u]=new kA(this._values[u].property,g===null?void 0:fe(g))}serialize(){var u={};for(const w of Object.keys(this._values)){var g=this.getValue(w);g!==void 0&&(u[w]=g)}return u}possiblyEvaluate(u,g,w){var T=new Ma(this._properties);for(const P of Object.keys(this._values))T._values[P]=this._values[P].possiblyEvaluate(u,g,w);return T}}class Ho{constructor(u,g,w){this.property=u,this.value=g,this.parameters=w}isConstant(){return this.value.kind==="constant"}constantOr(u){return this.value.kind==="constant"?this.value.value:u}evaluate(u,g,w,T){return this.property.evaluate(this.value,this.parameters,u,g,w,T)}}class Ma{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class Lr{constructor(u){this.specification=u}possiblyEvaluate(u,g){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(g)}interpolate(u,g,w){var T=this.specification.type,T=oo[T];return T?T(u,g,w):u}}class Hr{constructor(u,g){this.specification=u,this.overrides=g}possiblyEvaluate(u,g,w,T){return u.expression.kind==="constant"||u.expression.kind==="camera"?new Ho(this,{kind:"constant",value:u.expression.evaluate(g,null,{},w,T)},g):new Ho(this,u.expression,g)}interpolate(u,g,w){var T;return u.value.kind!=="constant"||g.value.kind!=="constant"?u:u.value.value===void 0||g.value.value===void 0?new Ho(this,{kind:"constant",value:void 0},u.parameters):(T=this.specification.type,(T=oo[T])?(T=T(u.value.value,g.value.value,w),new Ho(this,{kind:"constant",value:T},u.parameters)):u)}evaluate(u,g,w,T,P,L){return u.kind==="constant"?u.value:u.evaluate(g,w,T,P,L)}}class rc extends Hr{possiblyEvaluate(u,g,w,T){return u.value===void 0?new Ho(this,{kind:"constant",value:void 0},g):u.expression.kind==="constant"?(w=u.expression.evaluate(g,null,{},w,T),T=u.property.specification.type==="resolvedImage"&&typeof w!="string"?w.name:w,w=this._calculate(T,T,T,g),new Ho(this,{kind:"constant",value:w},g)):u.expression.kind==="camera"?(T=this._calculate(u.expression.evaluate({zoom:g.zoom-1}),u.expression.evaluate({zoom:g.zoom}),u.expression.evaluate({zoom:g.zoom+1}),g),new Ho(this,{kind:"constant",value:T},g)):new Ho(this,u.expression,g)}evaluate(u,g,w,T,P,L){return u.kind==="source"?(P=u.evaluate(g,w,T,P,L),this._calculate(P,P,P,g)):u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(g.zoom)-1},w,T),u.evaluate({zoom:Math.floor(g.zoom)},w,T),u.evaluate({zoom:Math.floor(g.zoom)+1},w,T),g):u.value}_calculate(u,g,w,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:u,to:g}:{from:w,to:g}}interpolate(u){return u}}class Sl{constructor(u){this.specification=u}possiblyEvaluate(u,g,w,T){if(u.value!==void 0)return u.expression.kind==="constant"?(w=u.expression.evaluate(g,null,{},w,T),this._calculate(w,w,w,g)):this._calculate(u.expression.evaluate(new wi(Math.floor(g.zoom-1),g)),u.expression.evaluate(new wi(Math.floor(g.zoom),g)),u.expression.evaluate(new wi(Math.floor(g.zoom+1),g)),g)}_calculate(u,g,w,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:u,to:g}:{from:w,to:g}}interpolate(u){return u}}class Gh{constructor(u){this.specification=u}possiblyEvaluate(u,g,w,T){return!!u.expression.evaluate(g,null,{},w,T)}interpolate(){return!1}}class Za{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const T in u){var w=u[T],g=(w.specification.overridable&&this.overridableProperties.push(T),this.defaultPropertyValues[T]=new kA(w,void 0)),w=this.defaultTransitionablePropertyValues[T]=new NA(w);this.defaultTransitioningPropertyValues[T]=w.untransitioned(),this.defaultPossiblyEvaluatedValues[T]=g.possiblyEvaluate({})}}}Nr("DataDrivenProperty",Hr),Nr("DataConstantProperty",Lr),Nr("CrossFadedDataDrivenProperty",rc),Nr("CrossFadedProperty",Sl),Nr("ColorRampProperty",Gh);const Tl="-transition";class Ns extends Ue{constructor(u,g){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1},u.type!=="custom"&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),g.layout&&(this._unevaluatedLayout=new op(g.layout)),g.paint)){this._transitionablePaint=new Vh(g.paint);for(const w in u.paint)this.setPaintProperty(w,u.paint[w],{validate:!1});for(const w in u.layout)this.setLayoutProperty(w,u.layout[w],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ma(g.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)}setLayoutProperty(u,g,w={}){if(g!=null){var T=`layers.${this.id}.layout.`+u;if(this._validate(Is,T,u,g,w))return}u==="visibility"?this.visibility=g:this._unevaluatedLayout.setValue(u,g)}getPaintProperty(u){return u.endsWith(Tl)?this._transitionablePaint.getTransition(u.slice(0,-Tl.length)):this._transitionablePaint.getValue(u)}setPaintProperty(u,g,w={}){if(g!=null){var T=`layers.${this.id}.paint.`+u;if(this._validate(tc,T,u,g,w))return!1}var P;return u.endsWith(Tl)?(this._transitionablePaint.setTransition(u.slice(0,-Tl.length),g||void 0),!1):(w=(T=this._transitionablePaint._values[u]).property.specification["property-type"]==="cross-faded-data-driven",P=T.value.isDataDriven(),T=T.value,this._transitionablePaint.setValue(u,g),this._handleSpecialPaintPropertyUpdate(u),(g=this._transitionablePaint._values[u].value).isDataDriven()||P||w||this._handleOverridablePaintPropertyUpdate(u,T,g))}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,g,w){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,g){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,g)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,g)}serialize(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),le(u,(g,w)=>!(g===void 0||w==="layout"&&!Object.keys(g).length||w==="paint"&&!Object.keys(g).length))}_validate(u,g,w,T,P={}){return(!P||P.validate!==!1)&&qh(this,u.call(ol,{key:g,layerType:this.type,objectKey:w,value:T,styleSpec:be,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const g in this.paint._values){var u=this.paint.get(g);if(u instanceof Ho&&Vr(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}}const _d={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class nc{constructor(u,g){this._structArray=u,this._pos1=g*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Di{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,g){return u._trim(),g&&(u.isTransferred=!0,g.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){var g=Object.create(this.prototype);return g.arrayBuffer=u.arrayBuffer,g.length=u.length,g.capacity=u.arrayBuffer.byteLength/g.bytesPerElement,g._refreshViews(),g}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){u>this.capacity&&(this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement),u=this.uint8,this._refreshViews(),u)&&this.uint8.set(u)}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ua(d,u=1){let g=0,w=0;return{members:d.map(T=>{P=T.type;var P=_d[P].BYTES_PER_ELEMENT,L=g=bd(g,Math.max(u,P)),Q=T.components||1;return w=Math.max(w,P),g+=P*Q,{name:T.name,type:T.type,components:Q,offset:L}}),size:bd(g,Math.max(w,u)),alignment:u}}function bd(d,u){return Math.ceil(d/u)*u}class ss extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g){var w=this.length;return this.resize(w+1),this.emplace(w,u,g)}emplace(u,g,w){var T=2*u;return this.int16[0+T]=g,this.int16[1+T]=w,u}}ss.prototype.bytesPerElement=4,Nr("StructArrayLayout2i4",ss);class ls extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g,w){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,w)}emplace(u,g,w,T){var P=3*u;return this.int16[0+P]=g,this.int16[1+P]=w,this.int16[2+P]=T,u}}ls.prototype.bytesPerElement=6,Nr("StructArrayLayout3i6",ls);class lh extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g,w,T){var P=this.length;return this.resize(P+1),this.emplace(P,u,g,w,T)}emplace(u,g,w,T,P){var L=4*u;return this.int16[0+L]=g,this.int16[1+L]=w,this.int16[2+L]=T,this.int16[3+L]=P,u}}lh.prototype.bytesPerElement=8,Nr("StructArrayLayout4i8",lh);class Fc extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L){var Q=this.length;return this.resize(Q+1),this.emplace(Q,u,g,w,T,P,L)}emplace(u,g,w,T,P,L,Q){var z=6*u;return this.int16[0+z]=g,this.int16[1+z]=w,this.int16[2+z]=T,this.int16[3+z]=P,this.int16[4+z]=L,this.int16[5+z]=Q,u}}Fc.prototype.bytesPerElement=12,Nr("StructArrayLayout2i4i12",Fc);class ic extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L){var Q=this.length;return this.resize(Q+1),this.emplace(Q,u,g,w,T,P,L)}emplace(u,g,w,T,P,L,Q){var z=4*u,ie=8*u;return this.int16[0+z]=g,this.int16[1+z]=w,this.uint8[4+ie]=T,this.uint8[5+ie]=P,this.uint8[6+ie]=L,this.uint8[7+ie]=Q,u}}ic.prototype.bytesPerElement=8,Nr("StructArrayLayout2i4ub8",ic);class ac extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g){var w=this.length;return this.resize(w+1),this.emplace(w,u,g)}emplace(u,g,w){var T=2*u;return this.float32[0+T]=g,this.float32[1+T]=w,u}}ac.prototype.bytesPerElement=8,Nr("StructArrayLayout2f8",ac);class ff extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L,Q,z,ie,te){var ge=this.length;return this.resize(ge+1),this.emplace(ge,u,g,w,T,P,L,Q,z,ie,te)}emplace(u,g,w,T,P,L,Q,z,ie,te,ge){var Ie=10*u;return this.uint16[0+Ie]=g,this.uint16[1+Ie]=w,this.uint16[2+Ie]=T,this.uint16[3+Ie]=P,this.uint16[4+Ie]=L,this.uint16[5+Ie]=Q,this.uint16[6+Ie]=z,this.uint16[7+Ie]=ie,this.uint16[8+Ie]=te,this.uint16[9+Ie]=ge,u}}ff.prototype.bytesPerElement=20,Nr("StructArrayLayout10ui20",ff);class $h extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L,Q,z,ie,te,ge,Ie){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,u,g,w,T,P,L,Q,z,ie,te,ge,Ie)}emplace(u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe){var je=12*u;return this.int16[0+je]=g,this.int16[1+je]=w,this.int16[2+je]=T,this.int16[3+je]=P,this.uint16[4+je]=L,this.uint16[5+je]=Q,this.uint16[6+je]=z,this.uint16[7+je]=ie,this.int16[8+je]=te,this.int16[9+je]=ge,this.int16[10+je]=Ie,this.int16[11+je]=Fe,u}}$h.prototype.bytesPerElement=24,Nr("StructArrayLayout4i4ui4i24",$h);class mu extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g,w){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,w)}emplace(u,g,w,T){var P=3*u;return this.float32[0+P]=g,this.float32[1+P]=w,this.float32[2+P]=T,u}}mu.prototype.bytesPerElement=12,Nr("StructArrayLayout3f12",mu);class Xa extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)}emplace(u,g){return this.uint32[0+ +u]=g,u}}Xa.prototype.bytesPerElement=4,Nr("StructArrayLayout1ul4",Xa);class ha extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L,Q,z,ie){var te=this.length;return this.resize(te+1),this.emplace(te,u,g,w,T,P,L,Q,z,ie)}emplace(u,g,w,T,P,L,Q,z,ie,te){var ge=10*u,Ie=5*u;return this.int16[0+ge]=g,this.int16[1+ge]=w,this.int16[2+ge]=T,this.int16[3+ge]=P,this.int16[4+ge]=L,this.int16[5+ge]=Q,this.uint32[3+Ie]=z,this.uint16[8+ge]=ie,this.uint16[9+ge]=te,u}}ha.prototype.bytesPerElement=20,Nr("StructArrayLayout6i1ul2ui20",ha);class Pi extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L){var Q=this.length;return this.resize(Q+1),this.emplace(Q,u,g,w,T,P,L)}emplace(u,g,w,T,P,L,Q){var z=6*u;return this.int16[0+z]=g,this.int16[1+z]=w,this.int16[2+z]=T,this.int16[3+z]=P,this.int16[4+z]=L,this.int16[5+z]=Q,u}}Pi.prototype.bytesPerElement=12,Nr("StructArrayLayout2i2i2i12",Pi);class gu extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P){var L=this.length;return this.resize(L+1),this.emplace(L,u,g,w,T,P)}emplace(u,g,w,T,P,L){var Q=4*u,z=8*u;return this.float32[0+Q]=g,this.float32[1+Q]=w,this.float32[2+Q]=T,this.int16[6+z]=P,this.int16[7+z]=L,u}}gu.prototype.bytesPerElement=16,Nr("StructArrayLayout2f1f2i16",gu);class Bl extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g,w,T){var P=this.length;return this.resize(P+1),this.emplace(P,u,g,w,T)}emplace(u,g,w,T,P){var L=12*u,Q=3*u;return this.uint8[0+L]=g,this.uint8[1+L]=w,this.float32[1+Q]=T,this.float32[2+Q]=P,u}}Bl.prototype.bytesPerElement=12,Nr("StructArrayLayout2ub2f12",Bl);class PA extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,g,w){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,w)}emplace(u,g,w,T){var P=3*u;return this.uint16[0+P]=g,this.uint16[1+P]=w,this.uint16[2+P]=T,u}}PA.prototype.bytesPerElement=6,Nr("StructArrayLayout3ui6",PA);class yu extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye,it,Ve){var ht=this.length;return this.resize(ht+1),this.emplace(ht,u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye,it,Ve)}emplace(u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye,it,Ve,ht){var bt=24*u,Ot=12*u,Ut=48*u;return this.int16[0+bt]=g,this.int16[1+bt]=w,this.uint16[2+bt]=T,this.uint16[3+bt]=P,this.uint32[2+Ot]=L,this.uint32[3+Ot]=Q,this.uint32[4+Ot]=z,this.uint16[10+bt]=ie,this.uint16[11+bt]=te,this.uint16[12+bt]=ge,this.float32[7+Ot]=Ie,this.float32[8+Ot]=Fe,this.uint8[36+Ut]=je,this.uint8[37+Ut]=Ye,this.uint8[38+Ut]=it,this.uint32[10+Ot]=Ve,this.int16[22+bt]=ht,u}}yu.prototype.bytesPerElement=48,Nr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",yu);class sp extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye,it,Ve,ht,bt,Ot,Ut,$t,dr,Or,Cr,lr,_r,gr){var Ar=this.length;return this.resize(Ar+1),this.emplace(Ar,u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye,it,Ve,ht,bt,Ot,Ut,$t,dr,Or,Cr,lr,_r,gr)}emplace(u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye,it,Ve,ht,bt,Ot,Ut,$t,dr,Or,Cr,lr,_r,gr,Ar){var Yt=32*u,Kr=16*u;return this.int16[0+Yt]=g,this.int16[1+Yt]=w,this.int16[2+Yt]=T,this.int16[3+Yt]=P,this.int16[4+Yt]=L,this.int16[5+Yt]=Q,this.int16[6+Yt]=z,this.int16[7+Yt]=ie,this.uint16[8+Yt]=te,this.uint16[9+Yt]=ge,this.uint16[10+Yt]=Ie,this.uint16[11+Yt]=Fe,this.uint16[12+Yt]=je,this.uint16[13+Yt]=Ye,this.uint16[14+Yt]=it,this.uint16[15+Yt]=Ve,this.uint16[16+Yt]=ht,this.uint16[17+Yt]=bt,this.uint16[18+Yt]=Ot,this.uint16[19+Yt]=Ut,this.uint16[20+Yt]=$t,this.uint16[21+Yt]=dr,this.uint16[22+Yt]=Or,this.uint32[12+Kr]=Cr,this.float32[13+Kr]=lr,this.float32[14+Kr]=_r,this.uint16[30+Yt]=gr,this.uint16[31+Yt]=Ar,u}}sp.prototype.bytesPerElement=64,Nr("StructArrayLayout8i15ui1ul2f2ui64",sp);class oc extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)}emplace(u,g){return this.float32[0+ +u]=g,u}}oc.prototype.bytesPerElement=4,Nr("StructArrayLayout1f4",oc);class cs extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g,w){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,w)}emplace(u,g,w,T){var P=3*u;return this.uint16[0+6*u]=g,this.float32[1+P]=w,this.float32[2+P]=T,u}}cs.prototype.bytesPerElement=12,Nr("StructArrayLayout1ui2f12",cs);class Ps extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,g,w){var T=this.length;return this.resize(T+1),this.emplace(T,u,g,w)}emplace(u,g,w,T){var P=4*u;return this.uint32[0+2*u]=g,this.uint16[2+P]=w,this.uint16[3+P]=T,u}}Ps.prototype.bytesPerElement=8,Nr("StructArrayLayout1ul2ui8",Ps);class lp extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,g){var w=this.length;return this.resize(w+1),this.emplace(w,u,g)}emplace(u,g,w){var T=2*u;return this.uint16[0+T]=g,this.uint16[1+T]=w,u}}lp.prototype.bytesPerElement=4,Nr("StructArrayLayout2ui4",lp);class Il extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){var g=this.length;return this.resize(g+1),this.emplace(g,u)}emplace(u,g){return this.uint16[0+ +u]=g,u}}Il.prototype.bytesPerElement=2,Nr("StructArrayLayout1ui2",Il);class sc extends Di{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,g,w,T){var P=this.length;return this.resize(P+1),this.emplace(P,u,g,w,T)}emplace(u,g,w,T,P){var L=4*u;return this.float32[0+L]=g,this.float32[1+L]=w,this.float32[2+L]=T,this.float32[3+L]=P,u}}sc.prototype.bytesPerElement=16,Nr("StructArrayLayout4f16",sc);class To extends nc{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new A(this.anchorPointX,this.anchorPointY)}}To.prototype.size=20;class vu extends ha{get(u){return new To(this,u)}}Nr("CollisionBoxArray",vu);class ch extends nc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ch.prototype.size=48;class lc extends yu{get(u){return new ch(this,u)}}Nr("PlacedSymbolArray",lc);class pf extends nc{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}pf.prototype.size=64;class mf extends sp{get(u){return new pf(this,u)}}Nr("SymbolInstanceArray",mf);class OA extends oc{getoffsetX(u){return this.float32[+u+0]}}Nr("GlyphOffsetArray",OA);class gf extends ls{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}Nr("SymbolLineVertexArray",gf);class Os extends nc{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Os.prototype.size=12;class uo extends cs{get(u){return new Os(this,u)}}Nr("TextAnchorOffsetArray",uo);class _u extends nc{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}_u.prototype.size=8;class MA extends Ps{get(u){return new _u(this,u)}}Nr("FeatureIndexArray",MA);class fm extends ss{}class cp extends ss{}class Mv extends ss{}class La extends Fc{}class wd extends ic{}class yf extends ac{}class bu extends ff{}class up extends $h{}class jc extends mu{}class uh extends Xa{}class Vg extends Pi{}class Gg extends Bl{}class LA extends PA{}class O extends lp{}const F=ua([{name:"a_pos",components:2,type:"Int16"}],4).members;class _{constructor(u=[]){this.segments=u}prepareSegment(u,g,w,T){let P=this.segments[this.segments.length-1];return u>_.MAX_VERTEX_ARRAY_LENGTH&&ue(`Max vertices per segment is ${_.MAX_VERTEX_ARRAY_LENGTH}: bucket requested `+u),(!P||P.vertexLength+u>_.MAX_VERTEX_ARRAY_LENGTH||P.sortKey!==T)&&(P={vertexOffset:g.length,primitiveOffset:w.length,vertexLength:0,primitiveLength:0},T!==void 0&&(P.sortKey=T),this.segments.push(P)),P}get(){return this.segments}destroy(){for(const u of this.segments)for(const g in u.vaos)u.vaos[g].destroy()}static simpleSegment(u,g,w,T){return new _([{vertexOffset:u,primitiveOffset:g,vertexLength:w,primitiveLength:T,vaos:{},sortKey:0}])}}function l(d,u){return 256*(d=q(Math.floor(d),0,255))+(u=q(Math.floor(u),0,255))}_.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nr("SegmentVector",_);const p=ua([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);qo={exports:{}},is={exports:{},exports:function(d,u){for(var g,w,T=3&d.length,P=d.length-T,L=u,Q=3432918353,z=461845907,ie=0;ie<P;)w=255&d.charCodeAt(ie)|(255&d.charCodeAt(++ie))<<8|(255&d.charCodeAt(++ie))<<16|(255&d.charCodeAt(++ie))<<24,++ie,L=27492+(65535&(g=5*(65535&(L=(L^=w=(65535&(w=(w=(65535&w)*Q+(((w>>>16)*Q&65535)<<16)&4294967295)<<15|w>>>17))*z+(((w>>>16)*z&65535)<<16)&4294967295)<<13|L>>>19))+((5*(L>>>16)&65535)<<16)&4294967295))+((58964+(g>>>16)&65535)<<16);switch(w=0,T){case 3:w^=(255&d.charCodeAt(ie+2))<<16;case 2:w^=(255&d.charCodeAt(ie+1))<<8;case 1:L^=w=(65535&(w=(w=(65535&(w^=255&d.charCodeAt(ie)))*Q+(((w>>>16)*Q&65535)<<16)&4294967295)<<15|w>>>17))*z+(((w>>>16)*z&65535)<<16)&4294967295}return L=2246822507*(65535&(L=(L^=d.length)^L>>>16))+((2246822507*(L>>>16)&65535)<<16)&4294967295,L=3266489909*(65535&(L^=L>>>13))+((3266489909*(L>>>16)&65535)<<16)&4294967295,(L^=L>>>16)>>>0}},uc={exports:{},exports:function(d,u){for(var g,w=d.length,T=u^w,P=0;4<=w;)g=1540483477*(65535&(g=255&d.charCodeAt(P)|(255&d.charCodeAt(++P))<<8|(255&d.charCodeAt(++P))<<16|(255&d.charCodeAt(++P))<<24))+((1540483477*(g>>>16)&65535)<<16),T=1540483477*(65535&T)+((1540483477*(T>>>16)&65535)<<16)^1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16),w-=4,++P;switch(w){case 3:T^=(255&d.charCodeAt(P+2))<<16;case 2:T^=(255&d.charCodeAt(P+1))<<8;case 1:T=1540483477*(65535&(T^=255&d.charCodeAt(P)))+((1540483477*(T>>>16)&65535)<<16)}return T=1540483477*(65535&(T^=T>>>13))+((1540483477*(T>>>16)&65535)<<16),(T^=T>>>15)>>>0}},Oi=is.exports,jo=uc.exports,qo.exports=Oi,qo.exports.murmur3=Oi,qo.exports.murmur2=jo;var v=o(qo.exports);class E{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,g,w,T){this.ids.push(I(u)),this.positions.push(g,w,T)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");var g=I(u);let w=0,T=this.ids.length-1;for(;w<T;){var P=w+T>>1;this.ids[P]>=g?T=P:w=1+P}for(var L=[];this.ids[w]===g;){var Q=this.positions[3*w],z=this.positions[3*w+1],ie=this.positions[3*w+2];L.push({index:Q,start:z,end:ie}),w++}return L}static serialize(T,g){var w=new Float64Array(T.ids),T=new Uint32Array(T.positions);return R(w,T,0,w.length-1),g&&g.push(w.buffer,T.buffer),{ids:w,positions:T}}static deserialize(u){var g=new E;return g.ids=u.ids,g.positions=u.positions,g.indexed=!0,g}}function I(d){var u=+d;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:v(String(d))}function R(d,u,g,w){for(;g<w;){var T=d[g+w>>1];let P=g-1,L=w+1;for(;;){for(;d[++P]<T;);for(;d[--L]>T;);if(P>=L)break;j(d,P,L),j(u,3*P,3*L),j(u,3*P+1,3*L+1),j(u,3*P+2,3*L+2)}L-g<w-L?(R(d,u,g,L),g=L+1):(R(d,u,L+1,w),w=L)}}function j(d,u,g){var w=d[u];d[u]=d[g],d[g]=w}Nr("FeaturePositionMap",E);class G{constructor(u,g){this.gl=u.gl,this.location=g}}class se extends G{constructor(u,g){super(u,g),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class X extends G{constructor(u,g){super(u,g),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class ee extends G{constructor(u,g){super(u,g),this.current=mi.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const Ae=new Float32Array(16);function Te(d){return[l(255*d.r,255*d.g),l(255*d.b,255*d.a)]}class Ce{constructor(u,g,w){this.value=u,this.uniformNames=g.map(T=>"u_"+T),this.type=w}setUniform(u,g,w){u.set(w.constantOr(this.value))}getBinding(u,g,w){return new(this.type==="color"?ee:se)(u,g)}}class Le{constructor(u,g){this.uniformNames=g.map(w=>"u_"+w),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,g){this.pixelRatioFrom=g.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=g.tlbr,this.patternTo=u.tlbr}setUniform(u,g,w,T){T=T==="u_pattern_to"?this.patternTo:T==="u_pattern_from"?this.patternFrom:T==="u_pixel_ratio_to"?this.pixelRatioTo:T==="u_pixel_ratio_from"?this.pixelRatioFrom:null,T&&u.set(T)}getBinding(u,g,w){return new(w.substr(0,9)==="u_pattern"?X:se)(u,g)}}class Me{constructor(u,g,w,T){this.expression=u,this.type=w,this.maxValue=0,this.paintVertexAttributes=g.map(P=>({name:"a_"+P,type:"Float32",components:w==="color"?2:1,offset:0})),this.paintVertexArray=new T}populatePaintArray(u,Q,w,T,P){var L=this.paintVertexArray.length,Q=this.expression.evaluate(new wi(0),Q,{},T,[],P);this.paintVertexArray.resize(u),this._setPaintValue(L,u,Q)}updatePaintArray(u,g,w,T){w=this.expression.evaluate({zoom:0},w,T),this._setPaintValue(u,g,w)}_setPaintValue(u,g,w){if(this.type==="color"){var T=Te(w);for(let P=u;P<g;P++)this.paintVertexArray.emplace(P,T[0],T[1])}else{for(let P=u;P<g;P++)this.paintVertexArray.emplace(P,w);this.maxValue=Math.max(this.maxValue,Math.abs(w))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class $e{constructor(u,g,w,T,P,L){this.expression=u,this.uniformNames=g.map(Q=>`u_${Q}_t`),this.type=w,this.useIntegerZoom=T,this.zoom=P,this.maxValue=0,this.paintVertexAttributes=g.map(Q=>({name:"a_"+Q,type:"Float32",components:w==="color"?4:2,offset:0})),this.paintVertexArray=new L}populatePaintArray(u,Q,w,z,P){var L=this.expression.evaluate(new wi(this.zoom),Q,{},z,[],P),Q=this.expression.evaluate(new wi(this.zoom+1),Q,{},z,[],P),z=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(z,u,L,Q)}updatePaintArray(u,g,L,T){var P=this.expression.evaluate({zoom:this.zoom},L,T),L=this.expression.evaluate({zoom:this.zoom+1},L,T);this._setPaintValue(u,g,P,L)}_setPaintValue(u,g,w,T){if(this.type==="color"){var P=Te(w),L=Te(T);for(let Q=u;Q<g;Q++)this.paintVertexArray.emplace(Q,P[0],P[1],L[0],L[1])}else{for(let Q=u;Q<g;Q++)this.paintVertexArray.emplace(Q,w,T);this.maxValue=Math.max(this.maxValue,Math.abs(w),Math.abs(T))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,g){g=this.useIntegerZoom?Math.floor(g.zoom):g.zoom,g=q(this.expression.interpolationFactor(g,this.zoom,this.zoom+1),0,1),u.set(g)}getBinding(u,g,w){return new se(u,g)}}class Ge{constructor(u,g,w,T,P,L){this.expression=u,this.type=g,this.useIntegerZoom=w,this.zoom=T,this.layerId=L,this.zoomInPaintVertexArray=new P,this.zoomOutPaintVertexArray=new P}populatePaintArray(u,g,w){var T=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(T,u,g.patterns&&g.patterns[this.layerId],w)}updatePaintArray(u,g,w,T,P){this._setPaintValues(u,g,w.patterns&&w.patterns[this.layerId],P)}_setPaintValues(u,g,w,T){if(T&&w){var{min:w,mid:P,max:L}=w,Q=T[w],z=T[P],ie=T[L];if(Q&&z&&ie)for(let ge=u;ge<g;ge++)this.zoomInPaintVertexArray.emplace(ge,z.tl[0],z.tl[1],z.br[0],z.br[1],Q.tl[0],Q.tl[1],Q.br[0],Q.br[1],z.pixelRatio,Q.pixelRatio),this.zoomOutPaintVertexArray.emplace(ge,z.tl[0],z.tl[1],z.br[0],z.br[1],ie.tl[0],ie.tl[1],ie.br[0],ie.br[1],z.pixelRatio,ie.pixelRatio)}}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,p.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,p.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class at{constructor(u,g,w){this.binders={},this._buffers=[];var T,P,L,Q,z,ie,te=[];for(const ge in u.paint._values)w(ge)&&(ie=u.paint.get(ge))instanceof Ho&&Vr(ie.property.specification)&&(T=Ct(ge,u.type),P=ie.value,L=ie.property.specification.type,Q=ie.property.useIntegerZoom,ie=(ie=ie.property.specification["property-type"])==="cross-faded"||ie==="cross-faded-data-driven",P.kind==="constant"?(this.binders[ge]=ie?new Le(P.value,T):new Ce(P.value,T,L),te.push("/u_"+ge)):P.kind==="source"||ie?(z=pt(ge,L,"source"),this.binders[ge]=ie?new Ge(P,L,Q,g,z,u.id):new Me(P,T,L,z),te.push("/a_"+ge)):(ie=pt(ge,L,"composite"),this.binders[ge]=new $e(P,T,L,Q,g,ie),te.push("/z_"+ge)));this.cacheKey=te.sort().join("")}getMaxValue(u){return u=this.binders[u],u instanceof Me||u instanceof $e?u.maxValue:0}populatePaintArrays(u,g,w,T,P){for(const Q in this.binders){var L=this.binders[Q];(L instanceof Me||L instanceof $e||L instanceof Ge)&&L.populatePaintArray(u,g,w,T,P)}}setConstantPatternPositions(u,g){for(const T in this.binders){var w=this.binders[T];w instanceof Le&&w.setConstantPatternPositions(u,g)}}updatePaintArrays(u,g,w,T,P){let L=!1;for(const te in u)for(const ge of g.getPositions(te)){var Q=w.feature(ge.index);for(const Ie in this.binders){var z,ie=this.binders[Ie];(ie instanceof Me||ie instanceof $e||ie instanceof Ge)&&ie.expression.isStateDependent===!0&&(z=T.paint.get(Ie),ie.expression=z.value,ie.updatePaintArray(ge.start,ge.end,Q,u[te],P),L=!0)}}return L}defines(){var u=[];for(const w in this.binders){var g=this.binders[w];(g instanceof Ce||g instanceof Le)&&u.push(...g.uniformNames.map(T=>"#define HAS_UNIFORM_"+T))}return u}getBinderAttributes(){var u=[];for(const w in this.binders){var g=this.binders[w];if(g instanceof Me||g instanceof $e)for(let T=0;T<g.paintVertexAttributes.length;T++)u.push(g.paintVertexAttributes[T].name);else if(g instanceof Ge)for(let T=0;T<p.members.length;T++)u.push(p.members[T].name)}return u}getBinderUniforms(){var u=[];for(const w in this.binders){var g=this.binders[w];if(g instanceof Ce||g instanceof Le||g instanceof $e)for(const T of g.uniformNames)u.push(T)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,g){var w=[];for(const L in this.binders){var T,P=this.binders[L];if(P instanceof Ce||P instanceof Le||P instanceof $e)for(const Q of P.uniformNames)g[Q]&&(T=P.getBinding(u,g[Q],Q),w.push({name:Q,property:L,binding:T}))}return w}setUniforms(u,g,w,T){for(var{name:P,property:L,binding:Q}of g)this.binders[L].setUniform(Q,T,w.get(L),P)}updatePaintBuffers(u){this._buffers=[];for(const T in this.binders){var g,w=this.binders[T];u&&w instanceof Ge?(g=u.fromScale===2?w.zoomInPaintVertexBuffer:w.zoomOutPaintVertexBuffer)&&this._buffers.push(g):(w instanceof Me||w instanceof $e)&&w.paintVertexBuffer&&this._buffers.push(w.paintVertexBuffer)}}upload(u){for(const w in this.binders){var g=this.binders[w];(g instanceof Me||g instanceof $e||g instanceof Ge)&&g.upload(u)}this.updatePaintBuffers()}destroy(){for(const g in this.binders){var u=this.binders[g];(u instanceof Me||u instanceof $e||u instanceof Ge)&&u.destroy()}}}class ft{constructor(u,g,w=()=>!0){this.programConfigurations={};for(const T of u)this.programConfigurations[T.id]=new at(T,g,w);this.needsUpload=!1,this._featureMap=new E,this._bufferOffset=0}populatePaintArrays(u,g,w,T,P,L){for(const Q in this.programConfigurations)this.programConfigurations[Q].populatePaintArrays(u,g,T,P,L);g.id!==void 0&&this._featureMap.add(g.id,w,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,g,w,T){for(const P of w)this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(u,this._featureMap,g,P,T)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const g in this.programConfigurations)this.programConfigurations[g].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function Ct(d,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[d]||[d.replace(u+"-","").replace(/-/g,"_")]}function pt(T,u,g){var w={color:{source:ac,composite:sc},number:{source:oc,composite:ac}},T=(T=T,{"line-pattern":{source:bu,composite:bu},"fill-pattern":{source:bu,composite:bu},"fill-extrusion-pattern":{source:bu,composite:bu}}[T]);return T&&T[g]||w[u][g]}Nr("ConstantBinder",Ce),Nr("CrossFadedConstantBinder",Le),Nr("SourceExpressionBinder",Me),Nr("CrossFadedCompositeBinder",Ge),Nr("CompositeExpressionBinder",$e),Nr("ProgramConfiguration",at,{omit:["_buffers"]}),Nr("ProgramConfigurationSet",ft);const Mt=8192,Qt=Math.pow(2,14)-1,Ft=-Qt-1;function Lt(d){var u=Mt/d.extent,g=d.loadGeometry();for(let Q=0;Q<g.length;Q++){var w=g[Q];for(let z=0;z<w.length;z++){var T=w[z],P=Math.round(T.x*u),L=Math.round(T.y*u);T.x=q(P,Ft,Qt),T.y=q(L,Ft,Qt),(P<T.x||P>T.x+1||L<T.y||L>T.y+1)&&ue("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return g}function Pt(d,u){return{type:d.type,id:d.id,properties:d.properties,geometry:u?Lt(d):[]}}function Br(d,u,g,w,T){d.emplaceBack(2*u+(w+1)/2,2*g+(T+1)/2)}class hr{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(g=>g.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new cp,this.indexArray=new LA,this.segments=new _,this.programConfigurations=new ft(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(u,g,w){var T,P,L,Q,z=this.layers[0],ie=[];let te=null,ge=!1;z.type==="circle"&&(te=z.layout.get("circle-sort-key"),ge=!te.isConstant());for({feature:T,id:P,index:L,sourceLayerIndex:Q}of u){var Ie,Fe=this.layers[0]._featureFilter.needGeometry,je=Pt(T,Fe);this.layers[0]._featureFilter.filter(new wi(this.zoom),je,w)&&(Ie=ge?te.evaluate(je,{},w):void 0,Fe={id:P,properties:T.properties,type:T.type,sourceLayerIndex:Q,index:L,geometry:Fe?je.geometry:Lt(T),patterns:{},sortKey:Ie},ie.push(Fe))}ge&&ie.sort((bt,Ot)=>bt.sortKey-Ot.sortKey);for(const bt of ie){var{geometry:Ye,index:it,sourceLayerIndex:Ve}=bt,ht=u[it].feature;this.addFeature(bt,Ye,it,w),g.featureIndex.insert(ht,Ye,it,Ve,this.index)}}update(u,g,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,g,this.stateDependentLayers,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,F),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,g,w,T){for(const z of g)for(const ie of z){var P=ie.x,L=ie.y;if(!(P<0||P>=Mt||L<0||L>=Mt)){var Q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,u.sortKey);const te=Q.vertexLength;Br(this.layoutVertexArray,P,L,-1,-1),Br(this.layoutVertexArray,P,L,1,-1),Br(this.layoutVertexArray,P,L,1,1),Br(this.layoutVertexArray,P,L,-1,1),this.indexArray.emplaceBack(te,te+1,te+2),this.indexArray.emplaceBack(te,te+3,te+2),Q.vertexLength+=4,Q.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,w,{},T)}}function ir(d,u){for(let g=0;g<d.length;g++)if(zr(u,d[g]))return!0;for(let g=0;g<u.length;g++)if(zr(d,u[g]))return!0;return!!mr(d,u)}function It(d,u,g){return zr(d,u)||!!sn(u,d,g)}function sr(d,u){if(d.length===1)return rn(u,d[0]);for(let w=0;w<u.length;w++){var g=u[w];for(let T=0;T<g.length;T++)if(zr(d,g[T]))return!0}for(let w=0;w<d.length;w++)if(rn(u,d[w]))return!0;for(let w=0;w<u.length;w++)if(mr(d,u[w]))return!0;return!1}function Tr(d,u,g){for(let T=0;T<u.length;T++){var w=u[T];if(3<=d.length){for(let P=0;P<w.length;P++)if(zr(d,w[P]))return!0}if((function(P,L,Q){if(1<P.length){if(mr(P,L))return 1;for(let z=0;z<L.length;z++)if(sn(L[z],P,Q))return 1}for(let z=0;z<P.length;z++)if(sn(P[z],L,Q))return 1})(d,w,g))return!0}return!1}function mr(d,u){var g,w;if(d.length!==0&&u.length!==0)for(let z=0;z<d.length-1;z++){var T=d[z],P=d[z+1];for(let ie=0;ie<u.length-1;ie++){var L=u[ie],Q=u[ie+1];if(w=P,de(g=T,L=L,Q=Q)!==de(w,L,Q)&&de(g,w,L)!==de(g,w,Q))return 1}}}function sn(d,u,g){var w=g*g;if(u.length===1)return d.distSqr(u[0])<w;for(let T=1;T<u.length;T++)if(Cn(d,u[T-1],u[T])<w)return 1}function Cn(d,u,g){var w=u.distSqr(g);return w===0||(w=((d.x-u.x)*(g.x-u.x)+(d.y-u.y)*(g.y-u.y))/w)<0?d.distSqr(u):1<w?d.distSqr(g):d.distSqr(g.sub(u)._mult(w)._add(u))}function rn(d,u){let g=!1,w,T,P;for(let L=0;L<d.length;L++)for(let Q=0,z=(w=d[L]).length-1;Q<w.length;z=Q++)T=w[Q],P=w[z],T.y>u.y!=P.y>u.y&&u.x<(P.x-T.x)*(u.y-T.y)/(P.y-T.y)+T.x&&(g=!g);return g}function zr(d,u){let g=!1;for(let P=0,L=d.length-1;P<d.length;L=P++){var w=d[P],T=d[L];w.y>u.y!=T.y>u.y&&u.x<(T.x-w.x)*(u.y-w.y)/(T.y-w.y)+w.x&&(g=!g)}return g}function Pr(d,u,g,w,T){for(const L of d)if(u<=L.x&&g<=L.y&&w>=L.x&&T>=L.y)return!0;var P=[new A(u,g),new A(u,T),new A(w,T),new A(w,g)];if(2<d.length){for(const L of P)if(zr(d,L))return!0}for(let L=0;L<d.length-1;L++)if((function(Q,z,ie){var te=ie[0],ge=ie[2];if(!(Q.x<te.x&&z.x<te.x||Q.x>ge.x&&z.x>ge.x||Q.y<te.y&&z.y<te.y||Q.y>ge.y&&z.y>ge.y))return te=de(Q,z,ie[0]),te!==de(Q,z,ie[1])||te!==de(Q,z,ie[2])||te!==de(Q,z,ie[3])})(d[L],d[L+1],P))return!0;return!1}function bn(d,u,g){var w=u.paint.get(d).value;return w.kind==="constant"?w.value:g.programConfigurations.get(u.id).getMaxValue(d)}function xr(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function En(d,u,g,w,T){if(!u[0]&&!u[1])return d;var P=A.convert(u)._mult(T),L=(g==="viewport"&&P._rotate(-w),[]);for(let z=0;z<d.length;z++){var Q=d[z];L.push(Q.sub(P))}return L}function Wi(d,u){var g=[];for(let z=0;z<d.length;z++){var w=d[z],T=[];for(let ie=0;ie<w.length;ie++){var L=w[ie-1],P=w[ie],Q=w[ie+1],L=ie===0?new A(0,0):P.sub(L)._unit()._perp(),Q=ie===w.length-1?new A(0,0):Q.sub(P)._unit()._perp(),L=L._add(Q)._unit(),Q=L.x*Q.x+L.y*Q.y;Q!=0&&L._mult(1/Q),T.push(L._mult(u)._add(P))}g.push(T)}return g}Nr("CircleBucket",hr,{omit:["layers"]});let ti,va;var Vn={get paint(){return va=va||new Za({"circle-radius":new Hr(be.paint_circle["circle-radius"]),"circle-color":new Hr(be.paint_circle["circle-color"]),"circle-blur":new Hr(be.paint_circle["circle-blur"]),"circle-opacity":new Hr(be.paint_circle["circle-opacity"]),"circle-translate":new Lr(be.paint_circle["circle-translate"]),"circle-translate-anchor":new Lr(be.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Lr(be.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Lr(be.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Hr(be.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Hr(be.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Hr(be.paint_circle["circle-stroke-opacity"])})},get layout(){return ti=ti||new Za({"circle-sort-key":new Hr(be.layout_circle["circle-sort-key"])})}},Un=1e-6,Ai=typeof Float32Array<"u"?Float32Array:Array;function Aa(){var d=new Ai(9);return Ai!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0),d[0]=1,d[4]=1,d[8]=1,d}function yn(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}function Nn(d,ht,g){var w=ht[0],T=ht[1],P=ht[2],L=ht[3],Q=ht[4],z=ht[5],ie=ht[6],te=ht[7],ge=ht[8],Ie=ht[9],Fe=ht[10],je=ht[11],Ye=ht[12],it=ht[13],Ve=ht[14],ht=ht[15],bt=g[0],Ot=g[1],Ut=g[2],$t=g[3];return d[0]=bt*w+Ot*Q+Ut*ge+$t*Ye,d[1]=bt*T+Ot*z+Ut*Ie+$t*it,d[2]=bt*P+Ot*ie+Ut*Fe+$t*Ve,d[3]=bt*L+Ot*te+Ut*je+$t*ht,bt=g[4],Ot=g[5],Ut=g[6],$t=g[7],d[4]=bt*w+Ot*Q+Ut*ge+$t*Ye,d[5]=bt*T+Ot*z+Ut*Ie+$t*it,d[6]=bt*P+Ot*ie+Ut*Fe+$t*Ve,d[7]=bt*L+Ot*te+Ut*je+$t*ht,bt=g[8],Ot=g[9],Ut=g[10],$t=g[11],d[8]=bt*w+Ot*Q+Ut*ge+$t*Ye,d[9]=bt*T+Ot*z+Ut*Ie+$t*it,d[10]=bt*P+Ot*ie+Ut*Fe+$t*Ve,d[11]=bt*L+Ot*te+Ut*je+$t*ht,bt=g[12],Ot=g[13],Ut=g[14],$t=g[15],d[12]=bt*w+Ot*Q+Ut*ge+$t*Ye,d[13]=bt*T+Ot*z+Ut*Ie+$t*it,d[14]=bt*P+Ot*ie+Ut*Fe+$t*Ve,d[15]=bt*L+Ot*te+Ut*je+$t*ht,d}Math.hypot||(Math.hypot=function(){for(var d=0,u=arguments.length;u--;)d+=arguments[u]*arguments[u];return Math.sqrt(d)});function Hn(d,u,g,w,T){return u=1/Math.tan(u/2),d[0]=u/g,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=u,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,T!=null&&T!==1/0?(d[10]=(T+w)*(g=1/(w-T)),d[14]=2*T*w*g):(d[10]=-1,d[14]=-2*w),d}function zn(d,u,g,w,T,P,L){var Q=1/(u-g),z=1/(w-T),ie=1/(P-L);return d[0]=-2*Q,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*z,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*ie,d[11]=0,d[12]=(u+g)*Q,d[13]=(T+w)*z,d[14]=(L+P)*ie,d[15]=1,d}is=Nn;function qn(){var d=new Ai(3);return Ai!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d}function ci(d,u,g){var w=new Ai(3);return w[0]=d,w[1]=u,w[2]=g,w}function gi(d,u){var T=u[0],g=u[1],w=u[2],T=T*T+g*g+w*w;return 0<T&&(T=1/Math.sqrt(T)),d[0]=u[0]*T,d[1]=u[1]*T,d[2]=u[2]*T,d}function us(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]}function ho(d,P,z){var w=P[0],T=P[1],P=P[2],L=z[0],Q=z[1],z=z[2];return d[0]=T*z-P*Q,d[1]=P*L-w*z,d[2]=w*Q-T*L,d}function ui(d,u,g){return d[0]=u[0]-g[0],d[1]=u[1]-g[1],d[2]=u[2]-g[2],d}function sl(d,L,g){var w=L[0],T=L[1],P=L[2],L=L[3];return d[0]=g[0]*w+g[4]*T+g[8]*P+g[12]*L,d[1]=g[1]*w+g[5]*T+g[9]*P+g[13]*L,d[2]=g[2]*w+g[6]*T+g[10]*P+g[14]*L,d[3]=g[3]*w+g[7]*T+g[11]*P+g[15]*L,d}qn();function Qc(d,u,g){return d[0]=u[0]*g[0],d[1]=u[1]*g[1],d[2]=u[2]*g[2],d[3]=u[3]*g[3],d}function Hi(){var d=new Ai(4);return Ai!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d[3]=1,d}uc=new Ai(4),Ai!=Float32Array&&(uc[0]=0,uc[1]=0,uc[2]=0,uc[3]=0),qn(),ci(1,0,0),ci(0,1,0),Hi(),Hi(),Aa();function oa(g){var u=g[0],g=g[1];return u*u+g*g}Oi=new Ai(2),Ai!=Float32Array&&(Oi[0]=0,Oi[1]=0);class Hc extends Ns{constructor(u){super(u,Vn)}createBucket(u){return new hr(u)}queryRadius(u){return bn("circle-radius",this,u)+bn("circle-stroke-width",this,u)+xr(this.paint.get("circle-translate"))}queryIntersectsFeature(ie,te,w,T,P,L,Q,z){var ie=En(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),L.angle,Q),te=this.paint.get("circle-radius").evaluate(te,w)+this.paint.get("circle-stroke-width").evaluate(te,w),ge=this.paint.get("circle-pitch-alignment")==="map",Ie=ge?ie:wu(ie,z),Fe=ge?te*Q:te;for(const it of T)for(const Ve of it){var je=ge?Ve:zc(Ve,z);let ht=Fe;var Ye=sl([],[Ve.x,Ve.y,0,1],z);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ht*=Ye[3]/L.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ht*=L.cameraToCenterDistance/Ye[3]),It(Ie,je,ht))return!0}return!1}}function zc(d,u){return d=sl([],[d.x,d.y,0,1],u),new A(d[0]/d[3],d[1]/d[3])}function wu(d,u){return d.map(g=>zc(g,u))}class ys extends hr{}Nr("HeatmapBucket",ys,{omit:["layers"]});let pm;var mm={get paint(){return pm=pm||new Za({"heatmap-radius":new Hr(be.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Hr(be.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Lr(be.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Gh(be.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Lr(be.paint_heatmap["heatmap-opacity"])})}};function cc(d,{width:u,height:g},w,T){if(T){if(T instanceof Uint8ClampedArray)T=new Uint8Array(T.buffer);else if(T.length!==u*g*w)throw new RangeError(`mismatched image size. expected: ${T.length} but got: `+u*g*w)}else T=new Uint8Array(u*g*w);return d.width=u,d.height=g,d.data=T,d}function Yh(d,{width:u,height:g},w){var T;u===d.width&&g===d.height||(ll(d,T=cc({},{width:u,height:g},w),{x:0,y:0},{x:0,y:0},{width:Math.min(d.width,u),height:Math.min(d.height,g)},w),d.width=u,d.height=g,d.data=T.data)}function ll(d,u,g,w,T,P){if(T.width!==0&&T.height!==0){if(T.width>d.width||T.height>d.height||g.x>d.width-T.width||g.y>d.height-T.height)throw new RangeError("out of range source coordinates for image copy");if(T.width>u.width||T.height>u.height||w.x>u.width-T.width||w.y>u.height-T.height)throw new RangeError("out of range destination coordinates for image copy");var L=d.data,Q=u.data;if(L===Q)throw new Error("srcData equals dstData, so image is already copied");for(let te=0;te<T.height;te++){var z=((g.y+te)*d.width+g.x)*P,ie=((w.y+te)*u.width+w.x)*P;for(let ge=0;ge<T.width*P;ge++)Q[ie+ge]=L[z+ge]}}}class vf{constructor(u,g){cc(this,u,1,g)}resize(u){Yh(this,u,1)}clone(){return new vf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,g,w,T,P){ll(u,g,w,T,P,1)}}class kl{constructor(u,g){cc(this,u,4,g)}resize(u){Yh(this,u,4)}replace(u,g){g?this.data.set(u):u instanceof Uint8ClampedArray?this.data=new Uint8Array(u.buffer):this.data=u}clone(){return new kl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,g,w,T,P){ll(u,g,w,T,P,4)}}function hp(d){const u={};var g=d.resolution||256,w=d.clips?d.clips.length:1;const T=d.image||new kl({width:g,height:w});if(Math.log(g)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - "+g);var P=(te,ge,Ie)=>{u[d.evaluationKey]=Ie,Ie=d.expression.evaluate(u),T.data[te+ge+0]=Math.floor(255*Ie.r/Ie.a),T.data[te+ge+1]=Math.floor(255*Ie.g/Ie.a),T.data[te+ge+2]=Math.floor(255*Ie.b/Ie.a),T.data[te+ge+3]=Math.floor(255*Ie.a)};if(d.clips)for(let te=0,ge=0;te<w;++te,ge+=4*g)for(let Ie=0,Fe=0;Ie<g;Ie++,Fe+=4){var L=Ie/(g-1),{start:Q,end:z}=d.clips[te];P(ge,Fe,Q*(1-L)+z*L)}else for(let te=0,ge=0;te<g;te++,ge+=4){var ie=te/(g-1);P(0,ge,ie)}return T}Nr("AlphaImage",vf),Nr("RGBAImage",kl);class $g extends Ns{createBucket(u){return new ys(u)}constructor(u){super(u,mm),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){var u=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=hp({expression:u,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let _f;var e1={get paint(){return _f=_f||new Za({"hillshade-illumination-direction":new Lr(be.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Lr(be.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Lr(be.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Lr(be.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Lr(be.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Lr(be.paint_hillshade["hillshade-accent-color"])})}};class t1 extends Ns{constructor(u){super(u,e1)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const RA=ua([{name:"a_pos",components:2,type:"Int16"}],4).members;jo={exports:{}};function bf(d,u,g){g=g||2;var w,T,P,L,Q,z=u&&u.length,ie=z?u[0]*g:d.length,te=gm(d,0,ie,g,!0),ge=[];if(te&&te.next!==te.prev){if(z&&(te=(function(Ye,it,Ve,ht){var bt,Ot,Ut,$t,dr=[];for(bt=0,Ot=it.length;bt<Ot;bt++)$t=it[bt]*ht,Ut=bt<Ot-1?it[bt+1]*ht:Ye.length,($t=gm(Ye,$t,Ut,ht,!1))===$t.next&&($t.steiner=!0),dr.push((function(Or){for(var Cr=Or,lr=Or;(Cr.x<lr.x||Cr.x===lr.x&&Cr.y<lr.y)&&(lr=Cr),Cr=Cr.next,Cr!==Or;);return lr})($t));for(dr.sort(Lv),bt=0;bt<dr.length;bt++)Ve=(function(Or,Cr){var lr=(function(_r,gr){var Ar,Yt=gr,Kr=_r.x,Mr=_r.y,Fr=-1/0;do if(Mr<=Yt.y&&Mr>=Yt.next.y&&Yt.next.y!==Yt.y){var vn=Yt.x+(Mr-Yt.y)*(Yt.next.x-Yt.x)/(Yt.next.y-Yt.y);if(vn<=Kr&&Fr<vn&&(Fr=vn,Ar=Yt.x<Yt.next.x?Yt:Yt.next,vn===Kr))return Ar}while(Yt=Yt.next,Yt!==gr);if(!Ar)return null;var Gn,Er=Ar,xi=Ar.x,Xr=Ar.y,Pn=1/0;for(Yt=Ar;Kr>=Yt.x&&Yt.x>=xi&&Kr!==Yt.x&&xd(Mr<Xr?Kr:Fr,Mr,xi,Xr,Mr<Xr?Fr:Kr,Mr,Yt.x,Yt.y)&&(Gn=Math.abs(Mr-Yt.y)/(Kr-Yt.x),fp(Yt,_r))&&(Gn<Pn||Gn===Pn&&(Yt.x>Ar.x||Yt.x===Ar.x&&(function(yi,qi){return sa(yi.prev,yi,qi.prev)<0&&sa(qi.next,yi,yi.next)<0})(Ar,Yt)))&&(Ar=Yt,Pn=Gn),Yt=Yt.next,Yt!==Er;);return Ar})(Or,Cr);return lr?(Ms(Or=Cd(lr,Or),Or.next),Ms(lr,lr.next)):Cr})(dr[bt],Ve);return Ve})(d,u,te,g)),d.length>80*g){for(var Ie=w=d[0],Fe=T=d[1],je=g;je<ie;je+=g)(P=d[je])<Ie&&(Ie=P),(L=d[je+1])<Fe&&(Fe=L),w<P&&(w=P),T<L&&(T=L);Q=(Q=Math.max(w-Ie,T-Fe))!==0?32767/Q:0}Wh(te,ge,g,Ie,Fe,Q,0)}return ge}function gm(d,u,g,w,T){var P,L;if(T===0<xu(d,u,g,w))for(P=u;P<g;P+=w)L=vm(P,d[P],d[P+1],L);else for(P=g-w;u<=P;P-=w)L=vm(P,d[P],d[P+1],L);return L&&ym(L,L.next)&&(DA(L),L=L.next),L}function Ms(d,u){if(!d)return d;u=u||d;var g,w=d;do if(g=!1,w.steiner||!ym(w,w.next)&&sa(w.prev,w,w.next)!==0)w=w.next;else{if(DA(w),(w=u=w.prev)===w.next)break;g=!0}while(g||w!==u);return u}function Wh(d,u,g,w,T,P,L){if(d){if(!L&&P){for(var Q=d,z=w,ie=T,te=P,ge=Q;ge.z===0&&(ge.z=Yg(ge.x,ge.y,z,ie,te)),ge.prevZ=ge.prev,ge.nextZ=ge.next,(ge=ge.next)!==Q;);ge.prevZ.nextZ=null,ge.prevZ=null;var Ie,Fe,je,Ye,it,Ve,ht,bt,Ot=ge,Ut=1;do for(Fe=Ot,it=Ot=null,Ve=0;Fe;){for(Ve++,je=Fe,Ie=ht=0;Ie<Ut&&(ht++,je=je.nextZ);Ie++);for(bt=Ut;0<ht||0<bt&&je;)ht!==0&&(bt===0||!je||Fe.z<=je.z)?(Fe=(Ye=Fe).nextZ,ht--):(je=(Ye=je).nextZ,bt--),it?it.nextZ=Ye:Ot=Ye,Ye.prevZ=it,it=Ye;Fe=je}while(it.nextZ=null,Ut*=2,1<Ve)}for(var $t,dr,Or=d;d.prev!==d.next;)if($t=d.prev,dr=d.next,P?(function(Cr,lr,_r,gr){var Ar=Cr.prev,Yt=Cr,Kr=Cr.next;if(!(0<=sa(Ar,Yt,Kr))){for(var Mr=Ar.x,Fr=Yt.x,vn=Kr.x,Gn=Ar.y,Er=Yt.y,xi=Kr.y,Xr=Mr<Fr?Mr<vn?Mr:vn:Fr<vn?Fr:vn,Pn=Gn<Er?Gn<xi?Gn:xi:Er<xi?Er:xi,yi=Fr<Mr?vn<Mr?Mr:vn:vn<Fr?Fr:vn,qi=Er<Gn?xi<Gn?Gn:xi:xi<Er?Er:xi,Ol=Yg(Xr,Pn,lr,_r,gr),Ds=Yg(yi,qi,lr,_r,gr),Xn=Cr.prevZ,di=Cr.nextZ;Xn&&Xn.z>=Ol&&di&&di.z<=Ds;){if(Xn.x>=Xr&&Xn.x<=yi&&Xn.y>=Pn&&Xn.y<=qi&&Xn!==Ar&&Xn!==Kr&&xd(Mr,Gn,Fr,Er,vn,xi,Xn.x,Xn.y)&&0<=sa(Xn.prev,Xn,Xn.next)||(Xn=Xn.prevZ,di.x>=Xr&&di.x<=yi&&di.y>=Pn&&di.y<=qi&&di!==Ar&&di!==Kr&&xd(Mr,Gn,Fr,Er,vn,xi,di.x,di.y)&&0<=sa(di.prev,di,di.next)))return;di=di.nextZ}for(;Xn&&Xn.z>=Ol;){if(Xn.x>=Xr&&Xn.x<=yi&&Xn.y>=Pn&&Xn.y<=qi&&Xn!==Ar&&Xn!==Kr&&xd(Mr,Gn,Fr,Er,vn,xi,Xn.x,Xn.y)&&0<=sa(Xn.prev,Xn,Xn.next))return;Xn=Xn.prevZ}for(;di&&di.z<=Ds;){if(di.x>=Xr&&di.x<=yi&&di.y>=Pn&&di.y<=qi&&di!==Ar&&di!==Kr&&xd(Mr,Gn,Fr,Er,vn,xi,di.x,di.y)&&0<=sa(di.prev,di,di.next))return;di=di.nextZ}return 1}})(d,w,T,P):(function(gr){var lr=gr.prev,_r=gr,gr=gr.next;if(!(0<=sa(lr,_r,gr))){for(var Ar=lr.x,Yt=_r.x,Kr=gr.x,Mr=lr.y,Fr=_r.y,vn=gr.y,Gn=Ar<Yt?Ar<Kr?Ar:Kr:Yt<Kr?Yt:Kr,Er=Mr<Fr?Mr<vn?Mr:vn:Fr<vn?Fr:vn,xi=Yt<Ar?Kr<Ar?Ar:Kr:Kr<Yt?Yt:Kr,Xr=Fr<Mr?vn<Mr?Mr:vn:vn<Fr?Fr:vn,Pn=gr.next;Pn!==lr;){if(Pn.x>=Gn&&Pn.x<=xi&&Pn.y>=Er&&Pn.y<=Xr&&xd(Ar,Mr,Yt,Fr,Kr,vn,Pn.x,Pn.y)&&0<=sa(Pn.prev,Pn,Pn.next))return;Pn=Pn.next}return 1}})(d))u.push($t.i/g|0),u.push(d.i/g|0),u.push(dr.i/g|0),DA(d),d=dr.next,Or=dr.next;else if((d=dr)===Or){L?L===1?Wh(d=(function(Cr,lr,_r){var gr=Cr;do var Ar=gr.prev,Yt=gr.next.next;while(!ym(Ar,Yt)&&Wg(Ar,gr,gr.next,Yt)&&fp(Ar,Yt)&&fp(Yt,Ar)&&(lr.push(Ar.i/_r|0),lr.push(gr.i/_r|0),lr.push(Yt.i/_r|0),DA(gr),DA(gr.next),gr=Cr=Yt),gr=gr.next,gr!==Cr);return Ms(gr)})(Ms(d),u,g),u,g,w,T,P,2):L===2&&(function(Cr,lr,_r,gr,Ar,Yt){var Kr=Cr;do for(var Mr,Fr=Kr.next.next;Fr!==Kr.prev;){if(Kr.i!==Fr.i&&(function(vn,Gn){return vn.next.i!==Gn.i&&vn.prev.i!==Gn.i&&!(function(Er,xi){var Xr=Er;do if(Xr.i!==Er.i&&Xr.next.i!==Er.i&&Xr.i!==xi.i&&Xr.next.i!==xi.i&&Wg(Xr,Xr.next,Er,xi))return 1;while(Xr=Xr.next,Xr!==Er)})(vn,Gn)&&(fp(vn,Gn)&&fp(Gn,vn)&&(function(Er,xi){for(var Xr=Er,Pn=!1,yi=(Er.x+xi.x)/2,qi=(Er.y+xi.y)/2;Xr.y>qi!=Xr.next.y>qi&&Xr.next.y!==Xr.y&&yi<(Xr.next.x-Xr.x)*(qi-Xr.y)/(Xr.next.y-Xr.y)+Xr.x&&(Pn=!Pn),Xr=Xr.next,Xr!==Er;);return Pn})(vn,Gn)&&(sa(vn.prev,vn,Gn.prev)||sa(vn,Gn.prev,Gn))||ym(vn,Gn)&&0<sa(vn.prev,vn,vn.next)&&0<sa(Gn.prev,Gn,Gn.next))})(Kr,Fr))return Mr=Cd(Kr,Fr),Kr=Ms(Kr,Kr.next),Mr=Ms(Mr,Mr.next),Wh(Kr,lr,_r,gr,Ar,Yt,0),Wh(Mr,lr,_r,gr,Ar,Yt,0);Fr=Fr.next}while(Kr=Kr.next,Kr!==Cr)})(d,u,g,w,T,P):Wh(Ms(d),u,g,w,T,P,1);break}}}function Lv(d,u){return d.x-u.x}function Yg(d,u,g,w,T){return(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-g)*T|0)|d<<8))|d<<4))|d<<2))|d<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-w)*T|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function xd(d,u,g,w,T,P,L,Q){return(d-L)*(P-Q)<=(T-L)*(u-Q)&&(g-L)*(u-Q)<=(d-L)*(w-Q)&&(T-L)*(w-Q)<=(g-L)*(P-Q)}function sa(d,u,g){return(u.y-d.y)*(g.x-u.x)-(u.x-d.x)*(g.y-u.y)}function ym(d,u){return d.x===u.x&&d.y===u.y}function Wg(d,u,g,w){var T=dp(sa(d,u,g)),P=dp(sa(d,u,w)),L=dp(sa(g,w,d)),Q=dp(sa(g,w,u));return T!==P&&L!==Q||T===0&&Ap(d,g,u)||P===0&&Ap(d,w,u)||L===0&&Ap(g,d,w)||!(Q!==0||!Ap(g,u,w))}function Ap(d,u,g){return u.x<=Math.max(d.x,g.x)&&u.x>=Math.min(d.x,g.x)&&u.y<=Math.max(d.y,g.y)&&u.y>=Math.min(d.y,g.y)}function dp(d){return 0<d?1:d<0?-1:0}function fp(d,u){return sa(d.prev,d,d.next)<0?0<=sa(d,u,d.next)&&0<=sa(d,d.prev,u):sa(d,u,d.prev)<0||sa(d,d.next,u)<0}function Cd(d,u){var g=new hh(d.i,d.x,d.y),w=new hh(u.i,u.x,u.y),T=d.next,P=u.prev;return(d.next=u).prev=d,(g.next=T).prev=g,(w.next=g).prev=w,(P.next=w).prev=P,w}function vm(d,u,g,w){return d=new hh(d,u,g),w?(d.next=w.next,(d.prev=w).next.prev=d,w.next=d):(d.prev=d).next=d,d}function DA(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function hh(d,u,g){this.i=d,this.x=u,this.y=g,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xu(d,u,g,w){for(var T=0,P=u,L=g-w;P<g;P+=w)T+=(d[L]-d[P])*(d[P+1]+d[L+1]),L=P;return T}jo.exports=bf,(jo.exports.default=bf).deviation=function(d,u,g,w){var T=u&&u.length,P=T?u[0]*g:d.length,L=Math.abs(xu(d,0,P,g));if(T)for(var Q=0,z=u.length;Q<z;Q++){var ie=u[Q]*g,te=Q<z-1?u[Q+1]*g:d.length;L-=Math.abs(xu(d,ie,te,g))}for(var ge=0,Q=0;Q<w.length;Q+=3){var Ie=w[Q]*g,Fe=w[Q+1]*g,je=w[Q+2]*g;ge+=Math.abs((d[Ie]-d[je])*(d[1+Fe]-d[1+Ie])-(d[Ie]-d[Fe])*(d[1+je]-d[1+Ie]))}return L===0&&ge===0?0:Math.abs((ge-L)/L)},bf.flatten=function(d){for(var u=d[0][0].length,g={vertices:[],holes:[],dimensions:u},w=0,T=0;T<d.length;T++){for(var P=0;P<d[T].length;P++)for(var L=0;L<u;L++)g.vertices.push(d[T][P][L]);0<T&&(w+=d[T-1].length,g.holes.push(w))}return g};var Zh=o(jo.exports);function _m(d,u,g,w,T){(function P(L,Q,z,ie,te){for(;z<ie;){600<ie-z&&(ge=ie-z+1,Ye=Q-z+1,Fe=Math.log(ge),Ie=.5*Math.exp(2*Fe/3),Fe=.5*Math.sqrt(Fe*Ie*(ge-Ie)/ge)*(Ye-ge/2<0?-1:1),je=Math.max(z,Math.floor(Q-Ye*Ie/ge+Fe)),Ye=Math.min(ie,Math.floor(Q+(ge-Ye)*Ie/ge+Fe)),P(L,Q,je,Ye,te));var ge,Ie,Fe,je,Ye,it=L[Q],Ve=z,ht=ie;for(UA(L,z,Q),0<te(L[ie],it)&&UA(L,z,ie);Ve<ht;){for(UA(L,Ve,ht),Ve++,ht--;te(L[Ve],it)<0;)Ve++;for(;0<te(L[ht],it);)ht--}te(L[z],it)===0?UA(L,z,ht):UA(L,++ht,ie),ht<=Q&&(z=ht+1),Q<=ht&&(ie=ht-1)}})(d,u,g,w||d.length-1,T||Rv)}function UA(d,u,g){var w=d[u];d[u]=d[g],d[g]=w}function Rv(d,u){return d<u?-1:u<d?1:0}function Zg(d,u){var g=d.length;if(g<=1)return[d];var w=[];let T,P;for(let Q=0;Q<g;Q++){var L=(function(z){let ie=0;for(let te=0,ge=z.length,Ie=ge-1,Fe,je;te<ge;Ie=te++)Fe=z[te],je=z[Ie],ie+=(je.x-Fe.x)*(Fe.y+je.y);return ie})(d[Q]);L!==0&&(d[Q].area=Math.abs(L),(P=P===void 0?L<0:P)===L<0?(T&&w.push(T),T=[d[Q]]):T.push(d[Q]))}if(T&&w.push(T),1<u)for(let Q=0;Q<w.length;Q++)w[Q].length<=u||(_m(w[Q],u,1,w[Q].length-1,Dv),w[Q]=w[Q].slice(0,u));return w}function Dv(d,u){return u.area-d.area}function bm(d,u,g){var w=g.patternDependencies;let T=!1;for(const L of u){var P=L.paint.get(d+"-pattern"),P=(P.isConstant()||(T=!0),P.constantOr(null));P&&(T=!0,w[P.to]=!0,w[P.from]=!0)}return T}function r1(d,u,g,w,T){var P=T.patternDependencies;for(const ie of u){var L,Q,z=ie.paint.get(d+"-pattern").value;z.kind!=="constant"&&(L=z.evaluate({zoom:w-1},g,{},T.availableImages),Q=z.evaluate({zoom:w},g,{},T.availableImages),z=z.evaluate({zoom:w+1},g,{},T.availableImages),L=L&&L.name?L.name:L,Q=Q&&Q.name?Q.name:Q,z=z&&z.name?z.name:z,P[L]=!0,P[Q]=!0,P[z]=!0,g.patterns[ie.id]={min:L,mid:Q,max:z})}return g}class wm{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(g=>g.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mv,this.indexArray=new LA,this.indexArray2=new O,this.programConfigurations=new ft(u.layers,u.zoom),this.segments=new _,this.segments2=new _,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(u,g,w){this.hasPattern=bm("fill",this.layers,g);var T,P,L,Q,z=this.layers[0].layout.get("fill-sort-key"),ie=!z.isConstant(),te=[];for({feature:T,id:P,index:L,sourceLayerIndex:Q}of u){var ge,Ie=this.layers[0]._featureFilter.needGeometry,Fe=Pt(T,Ie);this.layers[0]._featureFilter.filter(new wi(this.zoom),Fe,w)&&(ge=ie?z.evaluate(Fe,{},w,g.availableImages):void 0,Ie={id:P,properties:T.properties,type:T.type,sourceLayerIndex:Q,index:L,geometry:Ie?Fe.geometry:Lt(T),patterns:{},sortKey:ge},te.push(Ie))}ie&&te.sort((ht,bt)=>ht.sortKey-bt.sortKey);for(const ht of te){var{geometry:je,index:Ye,sourceLayerIndex:it}=ht,Ve=(this.hasPattern?(Ve=r1("fill",this.layers,ht,this.zoom,g),this.patternFeatures.push(Ve)):this.addFeature(ht,je,Ye,w,{}),u[Ye].feature);g.featureIndex.insert(Ve,je,Ye,it,this.index)}}update(u,g,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,g,this.stateDependentLayers,w)}addFeatures(u,g,w){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,g,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,RA),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,g,w,T,P){for(const Fe of Zg(g,500)){let je=0;for(const Ye of Fe)je+=Ye.length;var L=this.segments.prepareSegment(je,this.layoutVertexArray,this.indexArray),Q=L.vertexLength,z=[],ie=[];for(const Ye of Fe)if(Ye.length!==0){Ye!==Fe[0]&&ie.push(z.length/2);var te=this.segments2.prepareSegment(Ye.length,this.layoutVertexArray,this.indexArray2),ge=te.vertexLength;this.layoutVertexArray.emplaceBack(Ye[0].x,Ye[0].y),this.indexArray2.emplaceBack(ge+Ye.length-1,ge),z.push(Ye[0].x),z.push(Ye[0].y);for(let it=1;it<Ye.length;it++)this.layoutVertexArray.emplaceBack(Ye[it].x,Ye[it].y),this.indexArray2.emplaceBack(ge+it-1,ge+it),z.push(Ye[it].x),z.push(Ye[it].y);te.vertexLength+=Ye.length,te.primitiveLength+=Ye.length}var Ie=Zh(z,ie);for(let Ye=0;Ye<Ie.length;Ye+=3)this.indexArray.emplaceBack(Q+Ie[Ye],Q+Ie[Ye+1],Q+Ie[Ye+2]);L.vertexLength+=je,L.primitiveLength+=Ie.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,w,P,T)}}Nr("FillBucket",wm,{omit:["layers","patternFeatures"]});let n1,Uv;var gT={get paint(){return Uv=Uv||new Za({"fill-antialias":new Lr(be.paint_fill["fill-antialias"]),"fill-opacity":new Hr(be.paint_fill["fill-opacity"]),"fill-color":new Hr(be.paint_fill["fill-color"]),"fill-outline-color":new Hr(be.paint_fill["fill-outline-color"]),"fill-translate":new Lr(be.paint_fill["fill-translate"]),"fill-translate-anchor":new Lr(be.paint_fill["fill-translate-anchor"]),"fill-pattern":new rc(be.paint_fill["fill-pattern"])})},get layout(){return n1=n1||new Za({"fill-sort-key":new Hr(be.layout_fill["fill-sort-key"])})}};class yT extends Ns{constructor(u){super(u,gT)}recalculate(u,g){super.recalculate(u,g),u=this.paint._values["fill-outline-color"],u.value.kind==="constant"&&u.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new wm(u)}queryRadius(){return xr(this.paint.get("fill-translate"))}queryIntersectsFeature(u,g,w,T,P,L,Q){return sr(En(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),L.angle,Q),T)}isTileClipped(){return!0}}qo=ua([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4);const i1=ua([{name:"a_centroid",components:2,type:"Int16"}],4),vT=qo.members;var wf={},TM=s,uc=FA;function FA(d,u,g,w,T){this.properties={},this.extent=g,this.type=0,this._pbf=d,this._geometry=-1,this._keys=w,this._values=T,d.readFields(Fv,this,u)}function Fv(d,u,g){if(d==1)u.id=g.readVarint();else if(d==2)for(var w=g,T=u,P=w.readVarint()+w.pos;w.pos<P;){var L=T._keys[w.readVarint()],Q=T._values[w.readVarint()];T.properties[L]=Q}else d==3?u.type=g.readVarint():d==4&&(u._geometry=g.pos)}FA.types=["Unknown","Point","LineString","Polygon"],FA.prototype.loadGeometry=function(){for(var d,u,g=this._pbf,w=(g.pos=this._geometry,g.readVarint()+g.pos),T=1,P=0,L=0,Q=0,z=[];g.pos<w;)if(P<=0&&(T=7&(u=g.readVarint()),P=u>>3),P--,T===1||T===2)L+=g.readSVarint(),Q+=g.readSVarint(),T===1&&(d&&z.push(d),d=[]),d.push(new TM(L,Q));else{if(T!==7)throw new Error("unknown command "+T);d&&d.push(d[0].clone())}return d&&z.push(d),z},FA.prototype.bbox=function(){for(var d,u=this._pbf,g=(u.pos=this._geometry,u.readVarint()+u.pos),w=1,T=0,P=0,L=0,Q=1/0,z=-1/0,ie=1/0,te=-1/0;u.pos<g;)if(T<=0&&(w=7&(d=u.readVarint()),T=d>>3),T--,w===1||w===2)(P+=u.readSVarint())<Q&&(Q=P),z<P&&(z=P),(L+=u.readSVarint())<ie&&(ie=L),te<L&&(te=L);else if(w!==7)throw new Error("unknown command "+w);return[Q,ie,z,te]},FA.prototype.toGeoJSON=function(d,u,z){var w,T=this.extent*Math.pow(2,z),P=this.extent*d,L=this.extent*u,Q=this.loadGeometry(),z=FA.types[this.type];function ie(Ie){for(var Fe=0;Fe<Ie.length;Fe++){var je=Ie[Fe],Ye=180-360*(je.y+L)/T;Ie[Fe]=[360*(je.x+P)/T-180,360/Math.PI*Math.atan(Math.exp(Ye*Math.PI/180))-90]}}switch(this.type){case 1:for(var te=[],ge=0;ge<Q.length;ge++)te[ge]=Q[ge][0];ie(Q=te);break;case 2:for(ge=0;ge<Q.length;ge++)ie(Q[ge]);break;case 3:for(Q=(function(Ie){var Fe=Ie.length;if(Fe<=1)return[Ie];for(var je,Ye,it=[],Ve=0;Ve<Fe;Ve++){var ht=(function(bt){for(var Ot,Ut,$t=0,dr=0,Or=bt.length,Cr=Or-1;dr<Or;Cr=dr++)Ot=bt[dr],Ut=bt[Cr],$t+=(Ut.x-Ot.x)*(Ot.y+Ut.y);return $t})(Ie[Ve]);ht!==0&&((Ye=Ye===void 0?ht<0:Ye)===ht<0?(je&&it.push(je),je=[Ie[Ve]]):je.push(Ie[Ve]))}return je&&it.push(je),it})(Q),ge=0;ge<Q.length;ge++)for(w=0;w<Q[ge].length;w++)ie(Q[ge][w])}return Q.length===1?Q=Q[0]:z="Multi"+z,d={type:"Feature",geometry:{type:z,coordinates:Q},properties:this.properties},"id"in this&&(d.id=this.id),d};var a1=uc,Oi=jv;function jv(d,u){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(_T,this,u),this.length=this._features.length}function _T(d,u,g){d===15?u.version=g.readVarint():d===1?u.name=g.readString():d===5?u.extent=g.readVarint():d===2?u._features.push(g.pos):d===3?u._keys.push(g.readString()):d===4&&u._values.push((function(w){for(var T=null,P=w.readVarint()+w.pos;w.pos<P;){var L=w.readVarint()>>3;T=L==1?w.readString():L==2?w.readFloat():L==3?w.readDouble():L==4?w.readVarint64():L==5?w.readVarint():L==6?w.readSVarint():L==7?w.readBoolean():null}return T})(g))}jv.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");return this._pbf.pos=this._features[d],d=this._pbf.readVarint()+this._pbf.pos,new a1(this._pbf,d,this.extent,this._keys,this._values)};var bT=Oi;function Xg(d,u,g){d===3&&(d=new bT(g,g.readVarint()+g.pos)).length&&(u[d.name]=d)}wf.VectorTile=function(d,u){this.layers=d.readFields(Xg,{},u)},wf.VectorTileFeature=uc,wf.VectorTileLayer=Oi;const wT=wf.VectorTileFeature.types,Cu=Math.pow(2,13);function Eu(d,u,g,w,T,P,L,Q){d.emplaceBack(u,g,2*Math.floor(w*Cu)+L,T*Cu*2,P*Cu*2,Math.round(Q))}class Ed{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(g=>g.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new La,this.centroidVertexArray=new fm,this.indexArray=new LA,this.programConfigurations=new ft(u.layers,u.zoom),this.segments=new _,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(u,g,w){this.features=[],this.hasPattern=bm("fill-extrusion",this.layers,g);for(var{feature:T,id:P,index:L,sourceLayerIndex:Q}of u){var z=this.layers[0]._featureFilter.needGeometry,ie=Pt(T,z);this.layers[0]._featureFilter.filter(new wi(this.zoom),ie,w)&&(P={id:P,sourceLayerIndex:Q,index:L,geometry:z?ie.geometry:Lt(T),properties:T.properties,type:T.type,patterns:{}},this.hasPattern?this.features.push(r1("fill-extrusion",this.layers,P,this.zoom,g)):this.addFeature(P,P.geometry,L,w,{}),g.featureIndex.insert(T,P.geometry,L,Q,this.index,!0))}}addFeatures(u,g,w){for(const P of this.features){var T=P.geometry;this.addFeature(P,T,P.index,g,w)}}update(u,g,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,g,this.stateDependentLayers,w)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,vT),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,i1.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,g,w,T,P){var L={x:0,y:0,vertexCount:0};for(const it of Zg(g,500)){let Ve=0;for(const bt of it)Ve+=bt.length;let ht=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const bt of it)if(bt.length!==0&&!pp(bt)){let Ot=0;for(let Ut=0;Ut<bt.length;Ut++){var Q,z,ie,te=bt[Ut];1<=Ut&&(xT(te,Q=bt[Ut-1])||(ht.vertexLength+4>_.MAX_VERTEX_ARRAY_LENGTH&&(ht=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)),z=te.sub(Q)._perp()._unit(),ie=Q.dist(te),32768<Ot+ie&&(Ot=0),Eu(this.layoutVertexArray,te.x,te.y,z.x,z.y,0,0,Ot),Eu(this.layoutVertexArray,te.x,te.y,z.x,z.y,0,1,Ot),L.x+=2*te.x,L.y+=2*te.y,L.vertexCount+=2,Ot+=ie,Eu(this.layoutVertexArray,Q.x,Q.y,z.x,z.y,0,0,Ot),Eu(this.layoutVertexArray,Q.x,Q.y,z.x,z.y,0,1,Ot),L.x+=2*Q.x,L.y+=2*Q.y,L.vertexCount+=2,te=ht.vertexLength,this.indexArray.emplaceBack(te,te+2,te+1),this.indexArray.emplaceBack(te+1,te+2,te+3),ht.vertexLength+=4,ht.primitiveLength+=2))}}if(ht.vertexLength+Ve>_.MAX_VERTEX_ARRAY_LENGTH&&(ht=this.segments.prepareSegment(Ve,this.layoutVertexArray,this.indexArray)),wT[u.type]==="Polygon"){var ge=[],Ie=[],Fe=ht.vertexLength;for(const bt of it)if(bt.length!==0){bt!==it[0]&&Ie.push(ge.length/2);for(let Ot=0;Ot<bt.length;Ot++){var je=bt[Ot];Eu(this.layoutVertexArray,je.x,je.y,0,0,1,1,0),L.x+=je.x,L.y+=je.y,L.vertexCount+=1,ge.push(je.x),ge.push(je.y)}}var Ye=Zh(ge,Ie);for(let bt=0;bt<Ye.length;bt+=3)this.indexArray.emplaceBack(Fe+Ye[bt],Fe+Ye[bt+2],Fe+Ye[bt+1]);ht.primitiveLength+=Ye.length/3,ht.vertexLength+=Ve}}for(let it=0;it<L.vertexCount;it++)this.centroidVertexArray.emplaceBack(Math.floor(L.x/L.vertexCount),Math.floor(L.y/L.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,w,P,T)}}function xT(d,u){return d.x===u.x&&(d.x<0||d.x>Mt)||d.y===u.y&&(d.y<0||d.y>Mt)}function pp(d){return d.every(u=>u.x<0)||d.every(u=>u.x>Mt)||d.every(u=>u.y<0)||d.every(u=>u.y>Mt)}Nr("FillExtrusionBucket",Ed,{omit:["layers","features"]});let Sd;var Ls={get paint(){return Sd=Sd||new Za({"fill-extrusion-opacity":new Lr(be["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Hr(be["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Lr(be["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Lr(be["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new rc(be["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Hr(be["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Hr(be["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Lr(be["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class o1 extends Ns{constructor(u){super(u,Ls)}createBucket(u){return new Ed(u)}queryRadius(){return xr(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(u,g,w,T,P,L,Q,z){return u=En(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),L.angle,Q),Q=this.paint.get("fill-extrusion-height").evaluate(g,w),g=this.paint.get("fill-extrusion-base").evaluate(g,w),w=Cm(u,z,0,0),u=ET(T,g,Q,z),CT(u[0],u[1],w)}}function xm(d,u){return d.x*u.x+d.y*u.y}function s1(d,u){if(d.length===1){let te=0;var g=u[te++];let ge;for(;!ge||g.equals(ge);)if(!(ge=u[te++]))return 1/0;for(;te<u.length;te++){var w=u[te],ie=d[0],P=ge.sub(g),L=w.sub(g),ie=ie.sub(g),z=xm(P,P),T=xm(P,L),Q=xm(L,L),P=xm(ie,P),ie=xm(ie,L),L=z*Q-T*T,Q=(Q*P-T*ie)/L,z=(z*ie-T*P)/L,ie=g.z*(1-Q-z)+ge.z*Q+w.z*z;if(isFinite(ie))return ie}return 1/0}{let te=1/0;for(const ge of u)te=Math.min(te,ge.z);return te}}function CT(d,u,g){let w=1/0;sr(g,u)&&(w=s1(g,u[0]));for(let ie=0;ie<u.length;ie++){var T=u[ie],P=d[ie];for(let te=0;te<T.length-1;te++){var L=T[te],z=T[te+1],Q=P[te],z=[L,z,P[te+1],Q,L];ir(g,z)&&(w=Math.min(w,s1(g,z)))}}return w!==1/0&&w}function ET(d,u,g,w){var T=[],P=[],L=w[8]*u,Q=w[9]*u,z=w[10]*u,ie=w[11]*u,te=w[8]*g,ge=w[9]*g,Ie=w[10]*g,Fe=w[11]*g;for(const Or of d){var je=[],Ye=[];for(const Cr of Or){var Ut=Cr.x,it=Cr.y,$t=w[0]*Ut+w[4]*it+w[12],dr=w[1]*Ut+w[5]*it+w[13],Ot=w[2]*Ut+w[6]*it+w[14],Ut=w[3]*Ut+w[7]*it+w[15],it=Ot+z,Ve=Ut+ie,ht=$t+te,bt=dr+ge,Ot=Ot+Ie,Ut=Ut+Fe,$t=new A(($t+L)/Ve,(dr+Q)/Ve),dr=($t.z=it/Ve,je.push($t),new A(ht/Ut,bt/Ut));dr.z=Ot/Ut,Ye.push(dr)}T.push(je),P.push(Ye)}return[T,P]}function Cm(d,u,g,w){var T=[];for(const L of d){var P=[L.x,L.y,w,1];sl(P,P,u),T.push(new A(P[0]/P[3],P[1]/P[3]))}return T}const l1=ua([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,ST=ua([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,TT=wf.VectorTileFeature.types,BT=Math.cos(Math.PI/180*37.5),Qv=Math.pow(2,14)/.5;class c1{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(g=>g.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(g=>{this.gradients[g.id]={}}),this.layoutVertexArray=new wd,this.layoutVertexArray2=new yf,this.indexArray=new LA,this.programConfigurations=new ft(u.layers,u.zoom),this.segments=new _,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id)}populate(u,g,w){this.hasPattern=bm("line",this.layers,g);var T,P,L,Q,z=this.layers[0].layout.get("line-sort-key"),ie=!z.isConstant(),te=[];for({feature:T,id:P,index:L,sourceLayerIndex:Q}of u){var ge,Ie=this.layers[0]._featureFilter.needGeometry,Fe=Pt(T,Ie);this.layers[0]._featureFilter.filter(new wi(this.zoom),Fe,w)&&(ge=ie?z.evaluate(Fe,{},w):void 0,Ie={id:P,properties:T.properties,type:T.type,sourceLayerIndex:Q,index:L,geometry:Ie?Fe.geometry:Lt(T),patterns:{},sortKey:ge},te.push(Ie))}ie&&te.sort((ht,bt)=>ht.sortKey-bt.sortKey);for(const ht of te){var{geometry:je,index:Ye,sourceLayerIndex:it}=ht,Ve=(this.hasPattern?(Ve=r1("line",this.layers,ht,this.zoom,g),this.patternFeatures.push(Ve)):this.addFeature(ht,je,Ye,w,{}),u[Ye].feature);g.featureIndex.insert(Ve,je,Ye,it,this.index)}}update(u,g,w){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,g,this.stateDependentLayers,w)}addFeatures(u,g,w){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,g,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,ST)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,l1),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,g,w,T,P){var L=this.layers[0].layout,Q=L.get("line-join").evaluate(u,{}),z=L.get("line-cap"),ie=L.get("line-miter-limit"),te=L.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const ge of g)this.addLine(ge,u,Q,z,ie,te);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,w,P,T)}addLine(u,g,w,T,P,L){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let dr=0;dr<u.length-1;dr++)this.totalDistance+=u[dr].dist(u[dr+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}var Q=TT[g.type]==="Polygon";let z=u.length;for(;2<=z&&u[z-1].equals(u[z-2]);)z--;let ie=0;for(;ie<z-1&&u[ie].equals(u[ie+1]);)ie++;if(!(z<(Q?3:2))){w==="bevel"&&(P=1.05);var te,ge=this.overscaling<=16?15*Mt/(512*this.overscaling):0,Ie=this.segments.prepareSegment(10*z,this.layoutVertexArray,this.indexArray);let dr,Or,Cr,lr;this.e1=this.e2=-1,Q&&(dr=u[z-2],lr=u[ie].sub(dr)._unit()._perp());for(let _r=ie;_r<z;_r++)if(!(te=_r===z-1?Q?u[ie+1]:void 0:u[_r+1])||!u[_r].equals(te)){lr&&(Cr=lr),dr&&(Or=dr),dr=u[_r],lr=te?te.sub(dr)._unit()._perp():Cr;let gr=(Cr=Cr||lr).add(lr);gr.x===0&&gr.y===0||gr._unit();var Fe=Cr.x*lr.x+Cr.y*lr.y,it=gr.x*lr.x+gr.y*lr.y,je=it!=0?1/it:1/0,Ye=2*Math.sqrt(2-2*it),it=it<BT&&Or&&te,Ve=0<Cr.x*lr.y-Cr.y*lr.x,ht=(it&&_r>ie&&2*ge<(ht=dr.dist(Or))&&(ht=dr.sub(dr.sub(Or)._mult(ge/ht)._round()),this.updateDistance(Or,ht),this.addCurrentVertex(ht,Cr,0,0,Ie),Or=ht),Or&&te);let Ar=ht?w:Q?"butt":T;if(ht&&Ar==="round"&&(je<L?Ar="miter":je<=2&&(Ar="fakeround")),(Ar=Ar==="miter"&&P<je?"bevel":Ar)==="bevel"&&(2<je&&(Ar="flipbevel"),je<P)&&(Ar="miter"),Or&&this.updateDistance(Or,dr),Ar==="miter")gr._mult(je),this.addCurrentVertex(dr,gr,0,0,Ie);else if(Ar==="flipbevel")100<je?gr=lr.mult(-1):(bt=je*Cr.add(lr).mag()/Cr.sub(lr).mag(),gr._perp()._mult(bt*(Ve?-1:1))),this.addCurrentVertex(dr,gr,0,0,Ie),this.addCurrentVertex(dr,gr.mult(-1),0,0,Ie);else if(Ar==="bevel"||Ar==="fakeround"){var bt=-Math.sqrt(je*je-1),je=Ve?bt:0,Ot=Ve?0:bt;if(Or&&this.addCurrentVertex(dr,Cr,je,Ot,Ie),Ar==="fakeround"){var Ut=Math.round(180*Ye/Math.PI/20);for(let Kr=1;Kr<Ut;Kr++){let Mr=Kr/Ut;Mr!==.5&&($t=Mr-.5,Mr+=Mr*$t*(Mr-1)*((1.0904+Fe*(Fe*(3.55645-1.43519*Fe)-3.2452))*$t*$t+(.848013+Fe*(.215638*Fe-1.06021))));var $t=lr.sub(Cr)._mult(Mr)._add(Cr)._unit()._mult(Ve?-1:1);this.addHalfVertex(dr,$t.x,$t.y,!1,Ve,0,Ie)}}te&&this.addCurrentVertex(dr,lr,-je,-Ot,Ie)}else Ar==="butt"?this.addCurrentVertex(dr,gr,0,0,Ie):Ar==="square"?(Ye=Or?1:-1,this.addCurrentVertex(dr,gr,Ye,Ye,Ie)):Ar==="round"&&(Or&&(this.addCurrentVertex(dr,Cr,0,0,Ie),this.addCurrentVertex(dr,Cr,1,1,Ie,!0)),te)&&(this.addCurrentVertex(dr,lr,-1,-1,Ie,!0),this.addCurrentVertex(dr,lr,0,0,Ie));it&&_r<z-1&&2*ge<(je=dr.dist(te))&&(Ot=dr.add(te.sub(dr)._mult(ge/je)._round()),this.updateDistance(dr,Ot),this.addCurrentVertex(Ot,lr,0,0,Ie),dr=Ot)}}}addCurrentVertex(u,g,w,T,P,L=!1){var Q=g.x+g.y*w,z=g.y-g.x*w,ie=-g.x+g.y*T,te=-g.y-g.x*T;this.addHalfVertex(u,Q,z,L,!1,w,P),this.addHalfVertex(u,ie,te,L,!0,-T,P),this.distance>Qv/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,g,w,T,P,L))}addHalfVertex({x:u,y:te},w,T,P,L,Q,z){var ie=.5*(this.lineClips?this.scaledDistance*(Qv-1):this.scaledDistance),te=(this.layoutVertexArray.emplaceBack((u<<1)+(P?1:0),(te<<1)+(L?1:0),Math.round(63*w)+128,Math.round(63*T)+128,1+(Q===0?0:Q<0?-1:1)|(63&ie)<<2,ie>>6),this.lineClips&&(u=this.scaledDistance-this.lineClips.start,P=this.lineClips.end-this.lineClips.start,this.layoutVertexArray2.emplaceBack(u/P,this.lineClipsArray.length)),z.vertexLength++);0<=this.e1&&0<=this.e2&&(this.indexArray.emplaceBack(this.e1,this.e2,te),z.primitiveLength++),L?this.e2=te:this.e1=te}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,g){this.distance+=u.dist(g),this.updateScaledDistance()}}Nr("LineBucket",c1,{omit:["layers","patternFeatures"]});let u1,Ax;var dx={get paint(){return Ax=Ax||new Za({"line-opacity":new Hr(be.paint_line["line-opacity"]),"line-color":new Hr(be.paint_line["line-color"]),"line-translate":new Lr(be.paint_line["line-translate"]),"line-translate-anchor":new Lr(be.paint_line["line-translate-anchor"]),"line-width":new Hr(be.paint_line["line-width"]),"line-gap-width":new Hr(be.paint_line["line-gap-width"]),"line-offset":new Hr(be.paint_line["line-offset"]),"line-blur":new Hr(be.paint_line["line-blur"]),"line-dasharray":new Sl(be.paint_line["line-dasharray"]),"line-pattern":new rc(be.paint_line["line-pattern"]),"line-gradient":new Gh(be.paint_line["line-gradient"])})},get layout(){return u1=u1||new Za({"line-cap":new Lr(be.layout_line["line-cap"]),"line-join":new Hr(be.layout_line["line-join"]),"line-miter-limit":new Lr(be.layout_line["line-miter-limit"]),"line-round-limit":new Lr(be.layout_line["line-round-limit"]),"line-sort-key":new Hr(be.layout_line["line-sort-key"])})}};class BM extends Hr{possiblyEvaluate(u,g){return g=new wi(Math.floor(g.zoom),{now:g.now,fadeDuration:g.fadeDuration,zoomHistory:g.zoomHistory,transition:g.transition}),super.possiblyEvaluate(u,g)}evaluate(u,g,w,T){return g=ce({},g,{zoom:Math.floor(g.zoom)}),super.evaluate(u,g,w,T)}}let h1;class cl extends Ns{constructor(u){super(u,dx),this.gradientVersion=0,h1||((h1=new BM(dx.paint.properties["line-width"].specification)).useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){u==="line-gradient"&&(Zn(u=this.gradientExpression())?this.stepInterpolant=u._styleExpression.expression instanceof Yl:this.stepInterpolant=!1,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,g){super.recalculate(u,g),this.paint._values["line-floorwidth"]=h1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new c1(u)}queryRadius(w){var g=ul(bn("line-width",this,w),bn("line-gap-width",this,w)),w=bn("line-offset",this,w);return g/2+Math.abs(w)+xr(this.paint.get("line-translate"))}queryIntersectsFeature(u,g,w,T,P,L,Q){return u=En(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),L.angle,Q),L=Q/2*ul(this.paint.get("line-width").evaluate(g,w),this.paint.get("line-gap-width").evaluate(g,w)),g=this.paint.get("line-offset").evaluate(g,w),Tr(u,T=g?Wi(T,g*Q):T,L)}isTileClipped(){return!0}}function ul(d,u){return 0<u?u+2*d:d}const IT=ua([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),kT=ua([{name:"a_projected_pos",components:3,type:"Float32"}],4),NT=(ua([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ua([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),fx=(ua([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ua([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4));jo=ua([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function PT(d,u,g){return d.sections.forEach(w=>{var T,P;w.text=(w=w.text,P=g,(T=(T=u).layout.get("text-transform").evaluate(P,{}))==="uppercase"?w=w.toLocaleUpperCase():T==="lowercase"&&(w=w.toLocaleLowerCase()),w=So.applyArabicShaping?So.applyArabicShaping(w):w)}),d}function A1(d){const u={},g={},w=[];let T=0;function P(Ye){w.push(d[Ye]),T++}function L(Ye,it,Ve){var ht=g[Ye];return delete g[Ye],g[it]=ht,w[ht].geometry[0].pop(),w[ht].geometry[0]=w[ht].geometry[0].concat(Ve[0]),ht}function Q(Ye,it,Ve){var ht=u[it];return delete u[it],u[Ye]=ht,w[ht].geometry[0].shift(),w[ht].geometry[0]=Ve[0].concat(w[ht].geometry[0]),ht}function z(Ye,it,Ve){return Ve=Ve?it[0][it[0].length-1]:it[0][0],`${Ye}:${Ve.x}:`+Ve.y}for(let Ye=0;Ye<d.length;Ye++){var ie,te,ge,Ie,je=d[Ye],Fe=je.geometry,je=je.text?je.text.toString():null;je?(ie=z(je,Fe),te=z(je,Fe,!0),ie in g&&te in u&&g[ie]!==u[te]?(ge=Q(ie,te,Fe),Ie=L(ie,te,w[ge].geometry),delete u[ie],delete g[te],g[z(je,w[Ie].geometry,!0)]=Ie,w[ge].geometry=null):ie in g?L(ie,te,Fe):te in u?Q(ie,te,Fe):(P(Ye),u[ie]=T-1,g[te]=T-1)):P(Ye)}return w.filter(Ye=>Ye.geometry)}ua([{name:"triangle",components:3,type:"Uint16"}]),ua([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ua([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ua([{type:"Float32",name:"offsetX"}]),ua([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ua([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Em={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function OT(d){let u="";for(let T=0;T<d.length;T++){var g=d.charCodeAt(T+1)||null,w=d.charCodeAt(T-1)||null;(!g||!El(g)||Em[d[T+1]])&&(!w||!El(w)||Em[d[T-1]])&&Em[d[T]]?u+=Em[d[T]]:u+=d[T]}return u}var zo=24,qo={read:function(d,u,g,w,Fe){var P,L,Q=8*Fe-w-1,z=(1<<Q)-1,ie=z>>1,te=-7,ge=g?Fe-1:0,Ie=g?-1:1,Fe=d[u+ge];for(ge+=Ie,P=Fe&(1<<-te)-1,Fe>>=-te,te+=Q;0<te;P=256*P+d[u+ge],ge+=Ie,te-=8);for(L=P&(1<<-te)-1,P>>=-te,te+=w;0<te;L=256*L+d[u+ge],ge+=Ie,te-=8);if(P===0)P=1-ie;else{if(P===z)return L?NaN:1/0*(Fe?-1:1);L+=Math.pow(2,w),P-=ie}return(Fe?-1:1)*L*Math.pow(2,P-w)},write:function(d,u,g,w,T,je){var L,Q,z=8*je-T-1,ie=(1<<z)-1,te=ie>>1,ge=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ie=w?0:je-1,Fe=w?1:-1,je=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(Q=isNaN(u)?1:0,L=ie):(L=Math.floor(Math.log(u)/Math.LN2),u*(w=Math.pow(2,-L))<1&&(L--,w*=2),2<=(u+=1<=L+te?ge/w:ge*Math.pow(2,1-te))*w&&(L++,w/=2),ie<=L+te?(Q=0,L=ie):1<=L+te?(Q=(u*w-1)*Math.pow(2,T),L+=te):(Q=u*Math.pow(2,te-1)*Math.pow(2,T),L=0));8<=T;d[g+Ie]=255&Q,Ie+=Fe,Q/=256,T-=8);for(L=L<<T|Q,z+=T;0<z;d[g+Ie]=255&L,Ie+=Fe,L/=256,z-=8);d[g+Ie-Fe]|=128*je}},uc=Zi,Jg=qo;function Zi(d){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(d)?d:new Uint8Array(d||0),this.pos=0,this.type=0,this.length=this.buf.length}Zi.Varint=0,Zi.Fixed64=1,Zi.Bytes=2,Zi.Fixed32=5;var d1=4294967296,f1=1/d1,Hv=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function jA(d){return d.type===Zi.Bytes?d.readVarint()+d.pos:d.pos+1}function Sm(d,u,g){return g?4294967296*u+(d>>>0):4294967296*(u>>>0)+(d>>>0)}function p1(d,u,g){var w=u<=16383?1:u<=2097151?2:u<=268435455?3:Math.floor(Math.log(u)/(7*Math.LN2));g.realloc(w);for(var T=g.pos-1;d<=T;T--)g.buf[T+w]=g.buf[T]}function MT(d,u){for(var g=0;g<d.length;g++)u.writeVarint(d[g])}function xf(d,u){for(var g=0;g<d.length;g++)u.writeSVarint(d[g])}function px(d,u){for(var g=0;g<d.length;g++)u.writeFloat(d[g])}function IM(d,u){for(var g=0;g<d.length;g++)u.writeDouble(d[g])}function LT(d,u){for(var g=0;g<d.length;g++)u.writeBoolean(d[g])}function Cf(d,u){for(var g=0;g<d.length;g++)u.writeFixed32(d[g])}function RT(d,u){for(var g=0;g<d.length;g++)u.writeSFixed32(d[g])}function m1(d,u){for(var g=0;g<d.length;g++)u.writeFixed64(d[g])}function zv(d,u){for(var g=0;g<d.length;g++)u.writeSFixed64(d[g])}function Ra(d,u){return(d[u]|d[u+1]<<8|d[u+2]<<16)+16777216*d[u+3]}function ey(d,u,g){d[g]=u,d[g+1]=u>>>8,d[g+2]=u>>>16,d[g+3]=u>>>24}function DT(d,u){return(d[u]|d[u+1]<<8|d[u+2]<<16)+(d[u+3]<<24)}Zi.prototype={destroy:function(){this.buf=null},readFields:function(d,u,g){for(g=g||this.length;this.pos<g;){var w=this.readVarint(),T=w>>3,P=this.pos;this.type=7&w,d(T,u,this),this.pos===P&&this.skip(w)}return u},readMessage:function(d,u){return this.readFields(d,u,this.readVarint()+this.pos)},readFixed32:function(){var d=Ra(this.buf,this.pos);return this.pos+=4,d},readSFixed32:function(){var d=DT(this.buf,this.pos);return this.pos+=4,d},readFixed64:function(){var d=Ra(this.buf,this.pos)+Ra(this.buf,this.pos+4)*d1;return this.pos+=8,d},readSFixed64:function(){var d=Ra(this.buf,this.pos)+DT(this.buf,this.pos+4)*d1;return this.pos+=8,d},readFloat:function(){var d=Jg.read(this.buf,this.pos,!0,23,4);return this.pos+=4,d},readDouble:function(){var d=Jg.read(this.buf,this.pos,!0,52,8);return this.pos+=8,d},readVarint:function(L){var T=this.buf,w=T[this.pos++],P=127&w;if(w<128||(P|=(127&(w=T[this.pos++]))<<7,w<128)||(P|=(127&(w=T[this.pos++]))<<14,w<128)||(P|=(127&(w=T[this.pos++]))<<21,w<128))return P;var u,g,w=P|=(15&T[this.pos])<<28,T=L,P=this,L=P.buf;if(g=L[P.pos++],u=(112&g)>>4,g<128||(g=L[P.pos++],u|=(127&g)<<3,g<128)||(g=L[P.pos++],u|=(127&g)<<10,g<128)||(g=L[P.pos++],u|=(127&g)<<17,g<128)||(g=L[P.pos++],u|=(127&g)<<24,g<128)||(g=L[P.pos++],u|=(1&g)<<31,g<128))return Sm(w,u,T);throw new Error("Expected varint not more than 10 bytes")},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var d=this.readVarint();return d%2==1?(d+1)/-2:d/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var d=this.readVarint()+this.pos,u=this.pos;if(12<=(this.pos=d)-u&&Hv)return g=this.buf,Hv.decode(g.subarray(u,d));for(var g,w,T,P,L=this.buf,Q=d,z="",ie=u;ie<Q;){var te=L[ie],ge=null,Ie=239<te?4:223<te?3:191<te?2:1;if(Q<ie+Ie)break;Ie===1?te<128&&(ge=te):Ie===2?(192&(w=L[ie+1]))==128&&(ge=(31&te)<<6|63&w)<=127&&(ge=null):Ie===3?(w=L[ie+1],T=L[ie+2],(192&w)==128&&(192&T)==128&&((ge=(15&te)<<12|(63&w)<<6|63&T)<=2047||55296<=ge&&ge<=57343)&&(ge=null)):Ie===4&&(w=L[ie+1],T=L[ie+2],P=L[ie+3],(192&w)==128)&&(192&T)==128&&(192&P)==128&&((ge=(15&te)<<18|(63&w)<<12|(63&T)<<6|63&P)<=65535||1114112<=ge)&&(ge=null),ge===null?(ge=65533,Ie=1):65535<ge&&(ge-=65536,z+=String.fromCharCode(ge>>>10&1023|55296),ge=56320|1023&ge),z+=String.fromCharCode(ge),ie+=Ie}return z},readBytes:function(){var d=this.readVarint()+this.pos,u=this.buf.subarray(this.pos,d);return this.pos=d,u},readPackedVarint:function(d,u){if(this.type!==Zi.Bytes)return d.push(this.readVarint(u));var g=jA(this);for(d=d||[];this.pos<g;)d.push(this.readVarint(u));return d},readPackedSVarint:function(d){if(this.type!==Zi.Bytes)return d.push(this.readSVarint());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readSVarint());return d},readPackedBoolean:function(d){if(this.type!==Zi.Bytes)return d.push(this.readBoolean());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readBoolean());return d},readPackedFloat:function(d){if(this.type!==Zi.Bytes)return d.push(this.readFloat());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readFloat());return d},readPackedDouble:function(d){if(this.type!==Zi.Bytes)return d.push(this.readDouble());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readDouble());return d},readPackedFixed32:function(d){if(this.type!==Zi.Bytes)return d.push(this.readFixed32());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readFixed32());return d},readPackedSFixed32:function(d){if(this.type!==Zi.Bytes)return d.push(this.readSFixed32());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readSFixed32());return d},readPackedFixed64:function(d){if(this.type!==Zi.Bytes)return d.push(this.readFixed64());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readFixed64());return d},readPackedSFixed64:function(d){if(this.type!==Zi.Bytes)return d.push(this.readSFixed64());var u=jA(this);for(d=d||[];this.pos<u;)d.push(this.readSFixed64());return d},skip:function(d){if(d&=7,d===Zi.Varint)for(;127<this.buf[this.pos++];);else if(d===Zi.Bytes)this.pos=this.readVarint()+this.pos;else if(d===Zi.Fixed32)this.pos+=4;else{if(d!==Zi.Fixed64)throw new Error("Unimplemented type: "+d);this.pos+=8}},writeTag:function(d,u){this.writeVarint(d<<3|u)},realloc:function(d){for(var u,g=this.length||16;g<this.pos+d;)g*=2;g!==this.length&&((u=new Uint8Array(g)).set(this.buf),this.buf=u,this.length=g)},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(d){this.realloc(4),ey(this.buf,d,this.pos),this.pos+=4},writeSFixed32:function(d){this.realloc(4),ey(this.buf,d,this.pos),this.pos+=4},writeFixed64:function(d){this.realloc(8),ey(this.buf,-1&d,this.pos),ey(this.buf,Math.floor(d*f1),this.pos+4),this.pos+=8},writeSFixed64:function(d){this.realloc(8),ey(this.buf,-1&d,this.pos),ey(this.buf,Math.floor(d*f1),this.pos+4),this.pos+=8},writeVarint:function(d){if(268435455<(d=+d||0)||d<0){var g=d,T=this;if(0<=g?(u=g%4294967296|0,w=g/4294967296|0):(w=~(-g/4294967296),4294967295^(u=~(-g%4294967296))?u=u+1|0:w=w+1|(u=0)),18446744073709552e3<=g||g<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");T.realloc(10);var g=u,u=T,g=(u.buf[u.pos++]=127&g|128,g>>>=7,u.buf[u.pos++]=127&g|128,g>>>=7,u.buf[u.pos++]=127&g|128,g>>>=7,u.buf[u.pos++]=127&g|128,g>>>=7,u.buf[u.pos]=127&g,w),w=T,T=(7&g)<<4;w.buf[w.pos++]|=T|((g>>>=3)?128:0),g&&(w.buf[w.pos++]=127&g|((g>>>=7)?128:0),g)&&(w.buf[w.pos++]=127&g|((g>>>=7)?128:0),g)&&(w.buf[w.pos++]=127&g|((g>>>=7)?128:0),g)&&(w.buf[w.pos++]=127&g|((g>>>=7)?128:0),g)&&(w.buf[w.pos++]=127&g)}else this.realloc(4),this.buf[this.pos++]=127&d|(127<d?128:0),d<=127||(this.buf[this.pos++]=127&(d>>>=7)|(127<d?128:0),d<=127)||(this.buf[this.pos++]=127&(d>>>=7)|(127<d?128:0),d<=127)||(this.buf[this.pos++]=d>>>7&127)},writeSVarint:function(d){this.writeVarint(d<0?2*-d-1:2*d)},writeBoolean:function(d){this.writeVarint(!!d)},writeString:function(g){g=String(g),this.realloc(4*g.length),this.pos++;var u=this.pos,g=(this.pos=(function(w,T,P){for(var L,Q,z=0;z<T.length;z++){if(55295<(L=T.charCodeAt(z))&&L<57344){if(!Q){56319<L||z+1===T.length?(w[P++]=239,w[P++]=191,w[P++]=189):Q=L;continue}if(L<56320){w[P++]=239,w[P++]=191,w[P++]=189,Q=L;continue}L=Q-55296<<10|L-56320|65536,Q=null}else Q&&(w[P++]=239,w[P++]=191,w[P++]=189,Q=null);L<128?w[P++]=L:(L<2048?w[P++]=L>>6|192:(L<65536?w[P++]=L>>12|224:(w[P++]=L>>18|240,w[P++]=L>>12&63|128),w[P++]=L>>6&63|128),w[P++]=63&L|128)}return P})(this.buf,g,this.pos),this.pos-u);128<=g&&p1(u,g,this),this.pos=u-1,this.writeVarint(g),this.pos+=g},writeFloat:function(d){this.realloc(4),Jg.write(this.buf,d,this.pos,!0,23,4),this.pos+=4},writeDouble:function(d){this.realloc(8),Jg.write(this.buf,d,this.pos,!0,52,8),this.pos+=8},writeBytes:function(d){var u=d.length;this.writeVarint(u),this.realloc(u);for(var g=0;g<u;g++)this.buf[this.pos++]=d[g]},writeRawMessage:function(w,u){this.pos++;var g=this.pos,w=(w(u,this),this.pos-g);128<=w&&p1(g,w,this),this.pos=g-1,this.writeVarint(w),this.pos+=w},writeMessage:function(d,u,g){this.writeTag(d,Zi.Bytes),this.writeRawMessage(u,g)},writePackedVarint:function(d,u){u.length&&this.writeMessage(d,MT,u)},writePackedSVarint:function(d,u){u.length&&this.writeMessage(d,xf,u)},writePackedBoolean:function(d,u){u.length&&this.writeMessage(d,LT,u)},writePackedFloat:function(d,u){u.length&&this.writeMessage(d,px,u)},writePackedDouble:function(d,u){u.length&&this.writeMessage(d,IM,u)},writePackedFixed32:function(d,u){u.length&&this.writeMessage(d,Cf,u)},writePackedSFixed32:function(d,u){u.length&&this.writeMessage(d,RT,u)},writePackedFixed64:function(d,u){u.length&&this.writeMessage(d,m1,u)},writePackedSFixed64:function(d,u){u.length&&this.writeMessage(d,zv,u)},writeBytesField:function(d,u){this.writeTag(d,Zi.Bytes),this.writeBytes(u)},writeFixed32Field:function(d,u){this.writeTag(d,Zi.Fixed32),this.writeFixed32(u)},writeSFixed32Field:function(d,u){this.writeTag(d,Zi.Fixed32),this.writeSFixed32(u)},writeFixed64Field:function(d,u){this.writeTag(d,Zi.Fixed64),this.writeFixed64(u)},writeSFixed64Field:function(d,u){this.writeTag(d,Zi.Fixed64),this.writeSFixed64(u)},writeVarintField:function(d,u){this.writeTag(d,Zi.Varint),this.writeVarint(u)},writeSVarintField:function(d,u){this.writeTag(d,Zi.Varint),this.writeSVarint(u)},writeStringField:function(d,u){this.writeTag(d,Zi.Bytes),this.writeString(u)},writeFloatField:function(d,u){this.writeTag(d,Zi.Fixed32),this.writeFloat(u)},writeDoubleField:function(d,u){this.writeTag(d,Zi.Fixed64),this.writeDouble(u)},writeBooleanField:function(d,u){this.writeVarintField(d,!!u)}};var qv,Tm=o(uc);const Td=3;function UT(d,u,g){d===1&&g.readMessage(FT,u)}function FT(d,u,g){var w,T,P,L,Q;d===3&&({id:d,bitmap:g,width:w,height:T,left:P,top:L,advance:Q}=g.readMessage(Kv,{}),u.push({id:d,bitmap:new vf({width:w+2*Td,height:T+2*Td},g),metrics:{width:w,height:T,left:P,top:L,advance:Q}}))}function Kv(d,u,g){d===1?u.id=g.readVarint():d===2?u.bitmap=g.readBytes():d===3?u.width=g.readVarint():d===4?u.height=g.readVarint():d===5?u.left=g.readSVarint():d===6?u.top=g.readSVarint():d===7&&(u.advance=g.readVarint())}const QA=Td;function mx(d){let u=0,g=0;for(const z of d)u+=z.w*z.h,g=Math.max(g,z.w);d.sort((z,ie)=>ie.h-z.h);var w=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),g),h:1/0}];let T=0,P=0;for(const z of d)for(let ie=w.length-1;0<=ie;ie--){var L,Q=w[ie];if(!(z.w>Q.w||z.h>Q.h)){z.x=Q.x,z.y=Q.y,P=Math.max(P,z.y+z.h),T=Math.max(T,z.x+z.w),z.w===Q.w&&z.h===Q.h?(L=w.pop(),ie<w.length&&(w[ie]=L)):z.h===Q.h?(Q.x+=z.w,Q.w-=z.w):(z.w!==Q.w&&w.push({x:Q.x+z.w,y:Q.y,w:Q.w-z.w,h:z.h}),Q.y+=z.h,Q.h-=z.h);break}}return{w:T,h:P,fill:u/(T*P)||0}}(Oi=qv=qv||{}).none="none",Oi.height="height",Oi.width="width";const Nl=1;class g1{constructor(u,{pixelRatio:g,version:w,stretchX:T,stretchY:P,content:L,contentMatch:Q}){this.paddedRect=u,this.pixelRatio=g,this.stretchX=T,this.stretchY=P,this.content=L,this.version=w,this.contentMatch=Q}get tl(){return[this.paddedRect.x+Nl,this.paddedRect.y+Nl]}get br(){return[this.paddedRect.x+this.paddedRect.w-Nl,this.paddedRect.y+this.paddedRect.h-Nl]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Nl)/this.pixelRatio,(this.paddedRect.h-2*Nl)/this.pixelRatio]}}class y1{constructor(u,g){var w={},T={},P=(this.haveRenderCallbacks=[],[]);this.addImages(u,w,P),this.addImages(g,T,P);const{w:L,h:Q}=mx(P);var z=new kl({width:L||1,height:Q||1});for(const Fe in u){var ie=u[Fe],te=w[Fe].paddedRect;kl.copy(ie.data,z,{x:0,y:0},{x:te.x+Nl,y:te.y+Nl},ie.data)}for(const Fe in g){var ge=g[Fe],Ie=T[Fe].paddedRect;const je=Ie.x+Nl,Ye=Ie.y+Nl,it=ge.data.width,Ve=ge.data.height;kl.copy(ge.data,z,{x:0,y:0},{x:je,y:Ye},ge.data),kl.copy(ge.data,z,{x:0,y:Ve-1},{x:je,y:Ye-1},{width:it,height:1}),kl.copy(ge.data,z,{x:0,y:0},{x:je,y:Ye+Ve},{width:it,height:1}),kl.copy(ge.data,z,{x:it-1,y:0},{x:je-1,y:Ye},{width:1,height:Ve}),kl.copy(ge.data,z,{x:0,y:0},{x:je+it,y:Ye},{width:1,height:Ve})}this.image=z,this.iconPositions=w,this.patternPositions=T}addImages(u,g,w){for(const L in u){var T=u[L],P={x:0,y:0,w:T.data.width+2*Nl,h:T.data.height+2*Nl};w.push(P),g[L]=new g1(P,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(L)}}patchUpdatedImages(u,g){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const w in u.updatedImages)this.patchUpdatedImage(this.iconPositions[w],u.getImage(w),g),this.patchUpdatedImage(this.patternPositions[w],u.getImage(w),g)}patchUpdatedImage(u,g,w){var T;u&&g&&u.version!==g.version&&(u.version=g.version,[u,T]=u.tl,w.update(g.data,void 0,{x:u,y:T}))}}Nr("ImagePosition",g1),Nr("ImageAtlas",y1),i.WritingMode=void 0,(qo=i.WritingMode||(i.WritingMode={}))[qo.none=0]="none",qo[qo.horizontal=1]="horizontal",qo[qo.vertical=2]="vertical",qo[qo.horizontalOnly=3]="horizontalOnly";const Bm=-17;class mp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(u,g){var w=new mp;return w.scale=u||1,w.fontStack=g,w}static forImage(u){var g=new mp;return g.imageName=u,g}}class Im{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,g){var w=new Im;for(let P=0;P<u.sections.length;P++){var T=u.sections[P];T.image?w.addImageSection(T):w.addTextSection(T,g)}return w}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=OT(this.text)}trim(){let u=0;for(let w=0;w<this.text.length&&Ao[this.text.charCodeAt(w)];w++)u++;let g=this.text.length;for(let w=this.text.length-1;0<=w&&w>=u&&Ao[this.text.charCodeAt(w)];w--)g--;this.text=this.text.substring(u,g),this.sectionIndex=this.sectionIndex.slice(u,g)}substring(u,g){var w=new Im;return w.text=this.text.substring(u,g),w.sectionIndex=this.sectionIndex.slice(u,g),w.sections=this.sections,w}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,g)=>Math.max(u,this.sections[g].scale),0)}addTextSection(u,g){this.text+=u.text,this.sections.push(mp.forText(u.scale,u.fontStack||g));var w=this.sections.length-1;for(let T=0;T<u.text.length;++T)this.sectionIndex.push(w)}addImageSection(w){var g,w=w.image?w.image.name:"";w.length===0?ue("Can't add FormattedSection with an empty image."):(g=this.getNextImageSectionCharCode())?(this.text+=String.fromCharCode(g),this.sections.push(mp.forImage(w)),this.sectionIndex.push(this.sections.length-1)):ue("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?63743<=this.imageSectionID?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Xh(ht,u,g,w,bt,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye){var it=Im.fromFeature(ht,bt);ge===i.WritingMode.vertical&&it.verticalizePunctuation();let Ve;var{processBidirectionalText:ht,processStyledBidirectionalText:bt}=So;if(ht&&it.sections.length===1){Ve=[];for(const As of ht(it.toString(),v1(it,ie,P,u,w,Fe,je))){var Ot=new Im;Ot.text=As,Ot.sections=it.sections;for(let _s=0;_s<As.length;_s++)Ot.sectionIndex.push(0);Ve.push(Ot)}}else if(bt){Ve=[];for(const As of bt(it.text,it.sectionIndex,v1(it,ie,P,u,w,Fe,je))){var Ut=new Im;Ut.text=As[0],Ut.sectionIndex=As[1],Ut.sections=it.sections,Ve.push(Ut)}}else Ve=(function(As,_s){var Bu=[],eA=As.text;let Mi=0;for(const Bi of _s)Bu.push(As.substring(Mi,Bi)),Mi=Bi;return Mi<eA.length&&Bu.push(As.substring(Mi,eA.length)),Bu})(it,v1(it,ie,P,u,w,Fe,je));ht=[],bt={positionedLines:ht,text:it.toString(),top:te[1],bottom:te[1],left:te[0],right:te[0],writingMode:ge,iconsInText:!1,verticalizable:!1};{var $t=bt,dr=u,Or=g,Cr=w,lr=(P=Ve,L),_r=(Fe=Q,je=z,ge),gr=ie,Ar=Ie,Yt=Ye;let As=0,_s=Bm,Bu=0,eA=0;var Kr=je==="right"?1:je==="left"?0:.5;let Mi=0;for(const Vo of P){Vo.trim();var Mr=Vo.getMaxScale(),Fr=(Mr-1)*zo,vn={positionedGlyphs:[],lineOffset:0},Gn=($t.positionedLines[Mi]=vn).positionedGlyphs;let hc=0;if(Vo.length()){for(let pa=0;pa<Vo.length();pa++){var Er=Vo.getSection(pa),xi=Vo.getSectionIndex(pa),Xr=Vo.getCharCode(pa);let Bo=0,hl=null,Ml=null,ds=null,Us=zo;var Pn=!(_r===i.WritingMode.horizontal||!Ar&&!Kh(Xr)||Ar&&(Ao[Xr]||(function(Fs){return kr.Arabic(Fs)||kr["Arabic Supplement"](Fs)||kr["Arabic Extended-A"](Fs)||kr["Arabic Presentation Forms-A"](Fs)||kr["Arabic Presentation Forms-B"](Fs)})(Xr)));if(Er.imageName){var yi=Cr[Er.imageName];if(!yi)continue;ds=Er.imageName,$t.iconsInText=$t.iconsInText||!0,Ml=yi.paddedRect;var yi=yi.displaySize,qi=(Er.scale=Er.scale*zo/Yt,hl={width:yi[0],height:yi[1],left:Nl,top:-QA,advance:Pn?yi[1]:yi[0]},zo-yi[1]*Er.scale),qi=(Bo=Fr+qi,Us=hl.advance,Pn?yi[0]*Er.scale-zo*Mr:yi[1]*Er.scale-zo*Mr);0<qi&&qi>hc&&(hc=qi)}else{if(yi=Or[Er.fontStack],qi=yi&&yi[Xr],qi&&qi.rect)Ml=qi.rect,hl=qi.metrics;else{var Ol=dr[Er.fontStack],Ol=Ol&&Ol[Xr];if(!Ol)continue;hl=Ol.metrics}Bo=(Mr-Er.scale)*zo}Pn?($t.verticalizable=!0,Gn.push({glyph:Xr,imageName:ds,x:As,y:_s+Bo,vertical:Pn,scale:Er.scale,fontStack:Er.fontStack,sectionIndex:xi,metrics:hl,rect:Ml}),As+=Us*Er.scale+gr):(Gn.push({glyph:Xr,imageName:ds,x:As,y:_s+Bo,vertical:Pn,scale:Er.scale,fontStack:Er.fontStack,sectionIndex:xi,metrics:hl,rect:Ml}),As+=hl.advance*Er.scale+gr)}Gn.length!==0&&(Ds=As-gr,Bu=Math.max(Ds,Bu),(function(pa,Bo,hl,Ml,ds){if(Ml||ds){var Us=pa[hl],Us=Us.metrics.advance*Us.scale,Fs=(pa[hl].x+Us)*Ml;for(let tA=Bo;tA<=hl;tA++)pa[tA].x-=Fs,pa[tA].y+=ds}})(Gn,0,Gn.length-1,Kr,hc)),As=0;var Ds=lr*Mr+hc;vn.lineOffset=Math.max(hc,Fr),_s+=Ds,eA=Math.max(Ds,eA)}else _s+=lr;++Mi}var je=_s-Bm,{horizontalAlign:Fe,verticalAlign:te}=_1(Fe);{var Xn=$t.positionedLines,di=Kr,VA=Fe,wp=te,gh=Bu,GA=eA,vs=lr,Ci=je,i0=P.length,hs=(di-VA)*gh;let Vo=0;Vo=GA!==vs?-Ci*wp-Bm:(-wp*i0+.5)*vs;for(const hc of Xn)for(const pa of hc.positionedGlyphs)pa.x+=hs,pa.y+=Vo}$t.top+=-te*je,$t.bottom=$t.top+je,$t.left+=-Fe*Bu,$t.right=$t.left+Bu}return!(function(As){for(const _s of As)if(_s.positionedGlyphs.length!==0)return;return 1})(ht)&&bt}const Ao={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},gx={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function yx(d,u,g,w,T,P){return u.imageName?(w=w[u.imageName])?w.displaySize[0]*u.scale*zo/P+T:0:(P=(w=g[u.fontStack])&&w[d])?P.metrics.advance*u.scale+T:0}function Rs(d,u,g,w){var T=Math.pow(d-u,2);return w?d<u?T/2:2*T:T+Math.abs(g)*g}function jT(d,u,g,w,T,P){let L=null,Q=Rs(u,g,T,P);for(const ie of w){var z=Rs(u-ie.x,g,T,P)+ie.badness;z<=Q&&(L=ie,Q=z)}return{index:d,x:u,priorBreak:L,badness:Q}}function v1(d,u,g,w,T,P,L){if(P!=="point")return[];if(!d)return[];var Q=[],z=(function(je,Ye,it,Ve,ht,bt){let Ot=0;for(let $t=0;$t<je.length();$t++){var Ut=je.getSection($t);Ot+=yx(je.getCharCode($t),Ut,Ve,ht,Ye,bt)}return it=Math.max(1,Math.ceil(Ot/it)),Ot/it})(d,u,g,w,T,L),ie=0<=d.text.indexOf("");let te=0;for(let je=0;je<d.length();je++){var ge,Ie=d.getSection(je),Fe=d.getCharCode(je);Ao[Fe]||(te+=yx(Fe,Ie,w,T,u,L)),je<d.length()-1&&(ge=!((ge=Fe)<11904||!kr["Bopomofo Extended"](ge)&&!(kr.Bopomofo(ge)||kr["CJK Compatibility Forms"](ge)||kr["CJK Compatibility Ideographs"](ge)||kr["CJK Compatibility"](ge)||kr["CJK Radicals Supplement"](ge)||kr["CJK Strokes"](ge)||kr["CJK Symbols and Punctuation"](ge)||kr["CJK Unified Ideographs Extension A"](ge)||kr["CJK Unified Ideographs"](ge)||kr["Enclosed CJK Letters and Months"](ge)||kr["Halfwidth and Fullwidth Forms"](ge)||kr.Hiragana(ge)||kr["Ideographic Description Characters"](ge)||kr["Kangxi Radicals"](ge)||kr["Katakana Phonetic Extensions"](ge)||kr.Katakana(ge)||kr["Vertical Forms"](ge)||kr["Yi Radicals"](ge)||kr["Yi Syllables"](ge))),gx[Fe]||ge||Ie.imageName)&&Q.push(jT(je+1,te,z,Q,(function(Ye,it,Ve){let ht=0;return Ye===10&&(ht-=1e4),Ve&&(ht+=150),Ye!==40&&Ye!==65288||(ht+=50),it!==41&&it!==65289||(ht+=50),ht})(Fe,d.getCharCode(je+1),ge&&ie),!1))}return(function je(Ye){return Ye?je(Ye.priorBreak).concat(Ye.index):[]})(jT(d.length(),te,z,Q,0,!0))}function _1(d){let u=.5,g=.5;switch(d){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(d){case"bottom":case"bottom-right":case"bottom-left":g=1;break;case"top":case"top-right":case"top-left":g=0}return{horizontalAlign:u,verticalAlign:g}}function Ja(d){let u=d.left,g=d.top,w=d.right-u,T=d.bottom-g;var P=d.image.content[2]-d.image.content[0],L=d.image.content[3]-d.image.content[1];return L!=0&&w!==0&&T!==0&&(P=P/L,d.image.contentMatch===qv.height?w/T<P&&(L=T*P,u*=L/w,w=L):d.image.contentMatch===qv.width&&P!=0&&w/T>P&&(L=w/P,g*=L/L,T=L)),{x1:u,y1:g,x2:u+w,y2:g+T}}function qc(d,u,g,w,T,P){d=d.image;let L;d.content&&(Q=d.content,z=d.pixelRatio||1,L=[Q[0]/z,Q[1]/z,d.displaySize[0]-Q[2]/z,d.displaySize[1]-Q[3]/z]);var Q=u.left*P,z=u.right*P;let ie,te,ge,Ie;return te=g==="width"||g==="both"?(Ie=T[0]+Q-w[3],T[0]+z+w[1]):(Ie=T[0]+(Q+z-d.displaySize[0])/2)+d.displaySize[0],Q=u.top*P,z=u.bottom*P,ge=g==="height"||g==="both"?(ie=T[1]+Q-w[0],T[1]+z+w[2]):(ie=T[1]+(Q+z-d.displaySize[1])/2)+d.displaySize[1],{image:d,top:ie,right:te,bottom:ge,left:Ie,collisionPadding:L}}const Ah=255,HA=128,Ef=Ah*HA;function QT(d,u){if(u=u.expression,u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new wi(d+1))};if(u.kind==="source")return{kind:"source"};{var{zoomStops:g,interpolationType:w}=u;let L=0;for(;L<g.length&&g[L]<=d;)L++;let Q=L=Math.max(0,L-1);for(;Q<g.length&&g[Q]<d+1;)Q++;Q=Math.min(g.length-1,Q);var T=g[L],P=g[Q];return u.kind==="composite"?{kind:"composite",minZoom:T,maxZoom:P,interpolationType:w}:{kind:"camera",minZoom:T,maxZoom:P,minSize:u.evaluate(new wi(T)),maxSize:u.evaluate(new wi(P)),interpolationType:w}}}function Vv(d,u,g){let w="never";return u=d.get(u),u?w=u:d.get(g)&&(w="always"),w}const dh=wf.VectorTileFeature.types,zA=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gv(d,u,g,w,T,P,L,je,z,ie,te,ge,Ie){var Fe=je?Math.min(Ef,Math.round(je[0])):0,je=je?Math.min(Ef,Math.round(je[1])):0;d.emplaceBack(u,g,Math.round(32*w),Math.round(32*T),P,L,(Fe<<1)+(z?1:0),je,16*ie,16*te,256*ge,256*Ie)}function Kc(d,u,g){d.emplaceBack(u.x,u.y,g),d.emplaceBack(u.x,u.y,g),d.emplaceBack(u.x,u.y,g),d.emplaceBack(u.x,u.y,g)}function HT(d){for(const u of d.sections)if((function(g){for(const w of g)if(IA(w.charCodeAt(0)))return 1})(u.text))return!0;return!1}class Bd{constructor(u){this.layoutVertexArray=new up,this.indexArray=new LA,this.programConfigurations=u,this.segments=new _,this.dynamicLayoutVertexArray=new jc,this.opacityVertexArray=new uh,this.hasVisibleVertices=!1,this.placedSymbolArray=new lc}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(u,g,w,T){!this.isEmpty()&&(w&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,IT.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,g),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,kT.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,zA,!0),this.opacityVertexBuffer.itemSize=1),w||T)&&this.programConfigurations.upload(u)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Nr("SymbolBuffers",Bd);class Sf{constructor(u,g,w){this.layoutVertexArray=new u,this.layoutAttributes=g,this.indexArray=new w,this.segments=new _,this.collisionVertexArray=new Gg}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,NT.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Nr("CollisionBuffers",Sf);class fh{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(P=>P.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=yn([]),this.placementViewportMatrix=yn([]);var g=this.layers[0]._unevaluatedLayout._values,g=(this.textSizeData=QT(this.zoom,g["text-size"]),this.iconSizeData=QT(this.zoom,g["icon-size"]),this.layers[0].layout),T=g.get("symbol-sort-key"),w=g.get("symbol-z-order"),T=(this.canOverlap=Vv(g,"text-overlap","text-allow-overlap")!=="never"||Vv(g,"icon-overlap","icon-allow-overlap")!=="never"||g.get("text-ignore-placement")||g.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&!T.isConstant(),w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey);this.sortFeaturesByY=T&&this.canOverlap,g.get("symbol-placement")==="point"&&(this.writingModes=g.get("text-writing-mode").map(P=>i.WritingMode[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=u.sourceID}createArrays(){this.text=new Bd(new ft(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new Bd(new ft(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new OA,this.lineVertexArray=new gf,this.symbolInstances=new mf,this.textAnchorOffsets=new uo}calculateGlyphDependencies(u,g,w,T,P){for(let Q=0;Q<u.length;Q++){var L;g[u.charCodeAt(Q)]=!0,(w||T)&&P&&(L=Em[u.charAt(Q)])&&(g[L.charCodeAt(0)]=!0)}}populate(u,g,w){var T=this.layers[0],P=T.layout,L=P.get("text-font"),Q=P.get("text-field"),z=P.get("icon-image"),ie=(Q.value.kind!=="constant"||Q.value.value instanceof Uo&&!Q.value.value.isEmpty()||0<Q.value.value.toString().length)&&(L.value.kind!=="constant"||0<L.value.value.length),te=z.value.kind!=="constant"||!!z.value.value||0<Object.keys(z.parameters).length,ge=P.get("symbol-sort-key");if(this.features=[],ie||te){var Ie,Fe,je,Ye,it=g.iconDependencies,Ve=g.glyphDependencies,ht=g.availableImages,bt=new wi(this.zoom);for({feature:Ie,id:Fe,index:je,sourceLayerIndex:Ye}of u){var Ot,Ut=T._featureFilter.needGeometry,$t=Pt(Ie,Ut);if(T._featureFilter.filter(bt,$t,w)){Ut||($t.geometry=Lt(Ie));let _r;ie&&(Ut=T.getValueAndResolveTokens("text-field",$t,w,ht),Ut=Uo.factory(Ut),!(Ot=this.hasRTLText=this.hasRTLText||HT(Ut))||So.getRTLTextPluginStatus()==="unavailable"||Ot&&So.isParsed())&&(_r=PT(Ut,T,$t));let gr;if(te&&(Ot=T.getValueAndResolveTokens("icon-image",$t,w,ht),gr=Ot instanceof ns?Ot:ns.fromString(Ot)),(_r||gr)&&(Ut=this.sortFeaturesByKey?ge.evaluate($t,{},w):void 0,Ut={id:Fe,text:_r,icon:gr,index:je,sourceLayerIndex:Ye,geometry:$t.geometry,properties:Ie.properties,type:dh[Ie.type],sortKey:Ut},this.features.push(Ut),gr&&(it[gr.name]=!0),_r)){var dr,Or,Cr=L.evaluate($t,{},w).join(","),lr=P.get("text-rotation-alignment")!=="viewport"&&P.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&0<=this.writingModes.indexOf(i.WritingMode.vertical);for(const Ar of _r.sections)Ar.image?it[Ar.image.name]=!0:(dr=sh(_r.toString()),Or=Ve[Or=Ar.fontStack||Cr]=Ve[Or]||{},this.calculateGlyphDependencies(Ar.text,Or,lr,this.allowVerticalPlacement,dr))}}}P.get("symbol-placement")==="line"&&(this.features=A1(this.features)),this.sortFeaturesByKey&&this.features.sort((_r,gr)=>_r.sortKey-gr.sortKey)}}update(u,g,w){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,g,this.layers,w),this.icon.programConfigurations.updatePaintArrays(u,g,this.layers,w))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,g){var w=this.lineVertexArray.length;if(u.segment!==void 0){let L=u.dist(g[u.segment+1]),Q=u.dist(g[u.segment]);var T={};for(let z=u.segment+1;z<g.length;z++)T[z]={x:g[z].x,y:g[z].y,tileUnitDistanceFromAnchor:L},z<g.length-1&&(L+=g[z+1].dist(g[z]));for(let z=u.segment||0;0<=z;z--)T[z]={x:g[z].x,y:g[z].y,tileUnitDistanceFromAnchor:Q},0<z&&(Q+=g[z-1].dist(g[z]));for(let z=0;z<g.length;z++){var P=T[z];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:w,lineLength:this.lineVertexArray.length-w}}addSymbols(u,g,w,T,P,L,Q,z,ie,te,ge,Ie){var Fe=u.indexArray,je=u.layoutVertexArray,Ye=u.segments.prepareSegment(4*g.length,je,Fe,this.canOverlap?L.sortKey:void 0),it=this.glyphOffsetArray.length,Ve=Ye.vertexLength,ht=this.allowVerticalPlacement&&Q===i.WritingMode.vertical?Math.PI/2:0,bt=L.text&&L.text.sections;for(let vn=0;vn<g.length;vn++){var{tl:Ot,tr:Ut,bl:$t,br:dr,tex:Or,pixelOffsetTL:Cr,pixelOffsetBR:lr,minFontScaleX:_r,minFontScaleY:gr,glyphOffset:Ar,isSDF:Yt,sectionIndex:Kr}=g[vn],Mr=Ye.vertexLength,Fr=Ar[1];Gv(je,z.x,z.y,Ot.x,Fr+Ot.y,Or.x,Or.y,w,Yt,Cr.x,Cr.y,_r,gr),Gv(je,z.x,z.y,Ut.x,Fr+Ut.y,Or.x+Or.w,Or.y,w,Yt,lr.x,Cr.y,_r,gr),Gv(je,z.x,z.y,$t.x,Fr+$t.y,Or.x,Or.y+Or.h,w,Yt,Cr.x,lr.y,_r,gr),Gv(je,z.x,z.y,dr.x,Fr+dr.y,Or.x+Or.w,Or.y+Or.h,w,Yt,lr.x,lr.y,_r,gr),Kc(u.dynamicLayoutVertexArray,z,ht),Fe.emplaceBack(Mr,Mr+1,Mr+2),Fe.emplaceBack(Mr+1,Mr+2,Mr+3),Ye.vertexLength+=4,Ye.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ar[0]),vn!==g.length-1&&Kr===g[vn+1].sectionIndex||u.programConfigurations.populatePaintArrays(je.length,L,L.index,{},Ie,bt&&bt[Kr])}u.placedSymbolArray.emplaceBack(z.x,z.y,it,this.glyphOffsetArray.length-it,Ve,ie,te,z.segment,w?w[0]:0,w?w[1]:0,T[0],T[1],Q,0,!1,0,ge)}_addCollisionDebugVertex(u,g,w,T,P,L){return g.emplaceBack(0,0),u.emplaceBack(w.x,w.y,T,P,Math.round(L.x),Math.round(L.y))}addCollisionDebugVertices(u,je,w,T,P,L,Fe){var z=P.segments.prepareSegment(4,P.layoutVertexArray,P.indexArray),ie=z.vertexLength,te=P.layoutVertexArray,ge=P.collisionVertexArray,Ie=Fe.anchorX,Fe=Fe.anchorY,je=(this._addCollisionDebugVertex(te,ge,L,Ie,Fe,new A(u,je)),this._addCollisionDebugVertex(te,ge,L,Ie,Fe,new A(w,je)),this._addCollisionDebugVertex(te,ge,L,Ie,Fe,new A(w,T)),this._addCollisionDebugVertex(te,ge,L,Ie,Fe,new A(u,T)),z.vertexLength+=4,P.indexArray);je.emplaceBack(ie,ie+1),je.emplaceBack(ie+1,ie+2),je.emplaceBack(ie+2,ie+3),je.emplaceBack(ie+3,ie),z.primitiveLength+=4}addDebugCollisionBoxes(u,g,w,T){for(let te=u;te<g;te++){var P=this.collisionBoxArray.get(te),L=P.x1,Q=P.y1,z=P.x2,ie=P.y2;this.addCollisionDebugVertices(L,Q,z,ie,T?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,w)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Sf(Vg,fx.members,O),this.iconCollisionBox=new Sf(Vg,fx.members,O);for(let g=0;g<this.symbolInstances.length;g++){var u=this.symbolInstances.get(g);this.addDebugCollisionBoxes(u.textBoxStartIndex,u.textBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.iconBoxStartIndex,u.iconBoxEndIndex,u,!1),this.addDebugCollisionBoxes(u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u,!1)}}_deserializeCollisionBoxesForSymbol(u,g,w,T,P,L,Q,z,ie){var te={};for(let Ye=g;Ye<w;Ye++){var ge=u.get(Ye);te.textBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},te.textFeatureIndex=ge.featureIndex;break}for(let Ye=T;Ye<P;Ye++){var Ie=u.get(Ye);te.verticalTextBox={x1:Ie.x1,y1:Ie.y1,x2:Ie.x2,y2:Ie.y2,anchorPointX:Ie.anchorPointX,anchorPointY:Ie.anchorPointY},te.verticalTextFeatureIndex=Ie.featureIndex;break}for(let Ye=L;Ye<Q;Ye++){var Fe=u.get(Ye);te.iconBox={x1:Fe.x1,y1:Fe.y1,x2:Fe.x2,y2:Fe.y2,anchorPointX:Fe.anchorPointX,anchorPointY:Fe.anchorPointY},te.iconFeatureIndex=Fe.featureIndex;break}for(let Ye=z;Ye<ie;Ye++){var je=u.get(Ye);te.verticalIconBox={x1:je.x1,y1:je.y1,x2:je.x2,y2:je.y2,anchorPointX:je.anchorPointX,anchorPointY:je.anchorPointY},te.verticalIconFeatureIndex=je.featureIndex;break}return te}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let w=0;w<this.symbolInstances.length;w++){var g=this.symbolInstances.get(w);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,g.textBoxStartIndex,g.textBoxEndIndex,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g.iconBoxStartIndex,g.iconBoxEndIndex,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex))}}hasTextData(){return 0<this.text.segments.get().length}hasIconData(){return 0<this.icon.segments.get().length}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&0<this.textCollisionBox.segments.get().length}hasIconCollisionBoxData(){return this.hasDebugData()&&0<this.iconCollisionBox.segments.get().length}addIndicesForPlacedSymbol(u,w){var w=u.placedSymbolArray.get(w),T=w.vertexStartIndex+4*w.numGlyphs;for(let P=w.vertexStartIndex;P<T;P+=4)u.indexArray.emplaceBack(P,P+1,P+2),u.indexArray.emplaceBack(P+1,P+2,P+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;var g=Math.sin(u),w=Math.cos(u);const T=[],P=[];var L=[];for(let z=0;z<this.symbolInstances.length;++z){L.push(z);var Q=this.symbolInstances.get(z);T.push(0|Math.round(g*Q.anchorX+w*Q.anchorY)),P.push(Q.featureIndex)}return L.sort((z,ie)=>T[z]-T[ie]||P[ie]-P[z]),L}addToSortKeyRanges(u,g){var w=this.sortKeyRanges[this.sortKeyRanges.length-1];w&&w.sortKey===g?w.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:g,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(1<this.text.segments.get().length||1<this.icon.segments.get().length)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const w of this.symbolInstanceIndexes){var g=this.symbolInstances.get(w);this.featureSortOrder.push(g.featureIndex),[g.rightJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.leftJustifiedTextSymbolIndex].forEach((T,P,L)=>{0<=T&&L.indexOf(T)===P&&this.addIndicesForPlacedSymbol(this.text,T)}),0<=g.verticalPlacedTextSymbolIndex&&this.addIndicesForPlacedSymbol(this.text,g.verticalPlacedTextSymbolIndex),0<=g.placedIconSymbolIndex&&this.addIndicesForPlacedSymbol(this.icon,g.placedIconSymbolIndex),0<=g.verticalPlacedIconSymbolIndex&&this.addIndicesForPlacedSymbol(this.icon,g.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}function vx(d,u){return u.replace(/{([^{}]+)}/g,(g,w)=>d&&w in d?String(d[w]):"")}Nr("SymbolBucket",fh,{omit:["layers","collisionBoxArray","features","compareText"]}),fh.MAX_GLYPHS=65535,fh.addDynamicAttributes=Kc;let b1,qA;var w1={get paint(){return qA=qA||new Za({"icon-opacity":new Hr(be.paint_symbol["icon-opacity"]),"icon-color":new Hr(be.paint_symbol["icon-color"]),"icon-halo-color":new Hr(be.paint_symbol["icon-halo-color"]),"icon-halo-width":new Hr(be.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Hr(be.paint_symbol["icon-halo-blur"]),"icon-translate":new Lr(be.paint_symbol["icon-translate"]),"icon-translate-anchor":new Lr(be.paint_symbol["icon-translate-anchor"]),"text-opacity":new Hr(be.paint_symbol["text-opacity"]),"text-color":new Hr(be.paint_symbol["text-color"],{runtimeType:yr,getOverride:d=>d.textColor,hasOverride:d=>!!d.textColor}),"text-halo-color":new Hr(be.paint_symbol["text-halo-color"]),"text-halo-width":new Hr(be.paint_symbol["text-halo-width"]),"text-halo-blur":new Hr(be.paint_symbol["text-halo-blur"]),"text-translate":new Lr(be.paint_symbol["text-translate"]),"text-translate-anchor":new Lr(be.paint_symbol["text-translate-anchor"])})},get layout(){return b1=b1||new Za({"symbol-placement":new Lr(be.layout_symbol["symbol-placement"]),"symbol-spacing":new Lr(be.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Lr(be.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Hr(be.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Lr(be.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Lr(be.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Lr(be.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Lr(be.layout_symbol["icon-ignore-placement"]),"icon-optional":new Lr(be.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Lr(be.layout_symbol["icon-rotation-alignment"]),"icon-size":new Hr(be.layout_symbol["icon-size"]),"icon-text-fit":new Lr(be.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Lr(be.layout_symbol["icon-text-fit-padding"]),"icon-image":new Hr(be.layout_symbol["icon-image"]),"icon-rotate":new Hr(be.layout_symbol["icon-rotate"]),"icon-padding":new Hr(be.layout_symbol["icon-padding"]),"icon-keep-upright":new Lr(be.layout_symbol["icon-keep-upright"]),"icon-offset":new Hr(be.layout_symbol["icon-offset"]),"icon-anchor":new Hr(be.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Lr(be.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Lr(be.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Lr(be.layout_symbol["text-rotation-alignment"]),"text-field":new Hr(be.layout_symbol["text-field"]),"text-font":new Hr(be.layout_symbol["text-font"]),"text-size":new Hr(be.layout_symbol["text-size"]),"text-max-width":new Hr(be.layout_symbol["text-max-width"]),"text-line-height":new Lr(be.layout_symbol["text-line-height"]),"text-letter-spacing":new Hr(be.layout_symbol["text-letter-spacing"]),"text-justify":new Hr(be.layout_symbol["text-justify"]),"text-radial-offset":new Hr(be.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Lr(be.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Hr(be.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Hr(be.layout_symbol["text-anchor"]),"text-max-angle":new Lr(be.layout_symbol["text-max-angle"]),"text-writing-mode":new Lr(be.layout_symbol["text-writing-mode"]),"text-rotate":new Hr(be.layout_symbol["text-rotate"]),"text-padding":new Lr(be.layout_symbol["text-padding"]),"text-keep-upright":new Lr(be.layout_symbol["text-keep-upright"]),"text-transform":new Hr(be.layout_symbol["text-transform"]),"text-offset":new Hr(be.layout_symbol["text-offset"]),"text-allow-overlap":new Lr(be.layout_symbol["text-allow-overlap"]),"text-overlap":new Lr(be.layout_symbol["text-overlap"]),"text-ignore-placement":new Lr(be.layout_symbol["text-ignore-placement"]),"text-optional":new Lr(be.layout_symbol["text-optional"])})}};class km{constructor(u){if(u.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:rr,this.defaultValue=u}evaluate(u){if(u.formattedSection){var g=this.defaultValue.property.overrides;if(g&&g.hasOverride(u.formattedSection))return g.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nr("FormatSectionOverride",km,{omit:["defaultValue"]});class gp extends Ns{constructor(u){super(u,w1)}recalculate(u,g){if(super.recalculate(u,g),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point")if(u=this.layout.get("text-writing-mode"),u){var w=[];for(const T of u)w.indexOf(T)<0&&w.push(T);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"];this._setPaintOverrides()}getValueAndResolveTokens(u,g,w,T){return w=this.layout.get(u).evaluate(g,{},w,T),T=this._unevaluatedLayout._values[u],T.isDataDriven()||gd(T.value)||!w?w:vx(g.properties,w)}createBucket(u){return new fh(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const w of w1.paint.overridableProperties)if(gp.hasPaintOverride(this.layout,w)){var u=this.paint.get(w),g=new km(u),g=new uu(g,u.property.specification);let T=null;T=u.value.kind==="constant"||u.value.kind==="source"?new Vi("source",g):new nl("composite",g,u.value.zoomStops),this.paint._values[w]=new Ho(u.property,T,u.parameters)}}_handleOverridablePaintPropertyUpdate(u,g,w){return!(!this.layout||g.isDataDriven()||w.isDataDriven())&&gp.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,g){u=u.get("text-field");const w=w1.paint.properties[g];let T=!1;const P=L=>{for(const Q of L)if(w.overrides&&w.overrides.hasOverride(Q))return void(T=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Uo)P(u.value.value.sections);else if(u.value.kind==="source"){const L=Q=>{var z;T||(Q instanceof Vl&&Tn(Q.value)===$r?(z=Q.value,P(z.sections)):Q instanceof Y?P(Q.sections):Q.eachChild(L))};g=u.value,g._styleExpression&&L(g._styleExpression.expression)}return T}}let ty;var ry={get paint(){return ty=ty||new Za({"background-color":new Lr(be.paint_background["background-color"]),"background-pattern":new Sl(be.paint_background["background-pattern"]),"background-opacity":new Lr(be.paint_background["background-opacity"])})}};class zT extends Ns{constructor(u){super(u,ry)}}let _x;var $v={get paint(){return _x=_x||new Za({"raster-opacity":new Lr(be.paint_raster["raster-opacity"]),"raster-hue-rotate":new Lr(be.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Lr(be.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Lr(be.paint_raster["raster-brightness-max"]),"raster-saturation":new Lr(be.paint_raster["raster-saturation"]),"raster-contrast":new Lr(be.paint_raster["raster-contrast"]),"raster-resampling":new Lr(be.paint_raster["raster-resampling"]),"raster-fade-duration":new Lr(be.paint_raster["raster-fade-duration"])})}};class qT extends Ns{constructor(u){super(u,$v)}}class x1 extends Ns{constructor(u){super(u,{}),this.onAdd=g=>{this.implementation.onAdd&&this.implementation.onAdd(g,g.painter.context.gl)},this.onRemove=g=>{this.implementation.onRemove&&this.implementation.onRemove(g,g.painter.context.gl)},this.implementation=u}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class KT{constructor(u){this._methodToThrottle=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const bx=63710088e-1;class yp{constructor(u,g){if(isNaN(u)||isNaN(g))throw new Error(`Invalid LngLat object: (${u}, ${g})`);if(this.lng=+u,this.lat=+g,90<this.lat||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new yp($(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){var g=Math.PI/180,T=this.lat*g,w=u.lat*g,T=Math.sin(T)*Math.sin(w)+Math.cos(T)*Math.cos(w)*Math.cos((u.lng-this.lng)*g);return bx*Math.acos(Math.min(T,1))}static convert(u){if(u instanceof yp)return u;if(Array.isArray(u)&&(u.length===2||u.length===3))return new yp(Number(u[0]),Number(u[1]));if(Array.isArray(u)||typeof u!="object"||u===null)throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]");return new yp(Number("lng"in u?u.lng:u.lon),Number(u.lat))}}const da=2*Math.PI*bx;function Ia(d){return da*Math.cos(d*Math.PI/180)}function Ti(d){return(180+d)/360}function zi(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}function fa(d,u){return d/Ia(u)}function ph(d){return 360*d-180}function Id(d){return 360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90}function ny(d,u){return d*Ia(Id(u))}function wx(d){return 1/Math.cos(d*Math.PI/180)}class Jh{constructor(u,g,w=0){this.x=+u,this.y=+g,this.z=+w}static fromLngLat(u,g=0){return u=yp.convert(u),new Jh(Ti(u.lng),zi(u.lat),fa(g,u.lat))}toLngLat(){return new yp(ph(this.x),Id(this.y))}toAltitude(){return ny(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/da*wx(Id(this.y))}}function Ko(T,u,g){var w=Tf(256*T,256*(u=Math.pow(2,g)-u-1),g),T=Tf(256*(T+1),256*(u+1),g);return w[0]+","+w[1]+","+T[0]+","+T[1]}function Tf(d,u,g){return g=2*Math.PI*6378137/256/Math.pow(2,g),[d*g-2*Math.PI*6378137/2,u*g-2*Math.PI*6378137/2]}class Bf{constructor(u,g,w){if(u<0||25<u||w<0||w>=Math.pow(2,u)||g<0||g>=Math.pow(2,u))throw new Error(`x=${g}, y=${w}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=g,this.y=w,this.key=kd(0,u,u,g,w)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,g,w){var T=Ko(this.x,this.y,this.z),P=Yv(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(w==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,1<g?"@2x":"").replace(/{quadkey}/g,P).replace(/{bbox-epsg-3857}/g,T)}isChildOf(u){var g=this.z-u.z;return 0<g&&u.x===this.x>>g&&u.y===this.y>>g}getTilePoint(u){var g=Math.pow(2,this.z);return new A((u.x*g-this.x)*Mt,(u.y*g-this.y)*Mt)}toString(){return`${this.z}/${this.x}/`+this.y}}class C1{constructor(u,g){this.wrap=u,this.canonical=g,this.key=kd(u,g.z,g.z,g.x,g.y)}}class fo{constructor(u,g,w,T,P){if(u<w)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = `+w);this.overscaledZ=u,this.wrap=g,this.canonical=new Bf(w,+T,+P),this.key=kd(g,u,w,T,P)}clone(){return new fo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = `+this.overscaledZ);var g=this.canonical.z-u;return u>this.canonical.z?new fo(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fo(u,this.wrap,u,this.canonical.x>>g,this.canonical.y>>g)}calculateScaledKey(u,g){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = `+this.overscaledZ);var w=this.canonical.z-u;return u>this.canonical.z?kd(this.wrap*+g,u,this.canonical.z,this.canonical.x,this.canonical.y):kd(this.wrap*+g,u,u,this.canonical.x>>w,this.canonical.y>>w)}isChildOf(u){var g;return u.wrap===this.wrap&&(g=this.canonical.z-u.canonical.z,u.overscaledZ===0||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>g&&u.canonical.y===this.canonical.y>>g)}children(u){var g,w;return this.overscaledZ>=u?[new fo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)]:(u=this.canonical.z+1,g=2*this.canonical.x,w=2*this.canonical.y,[new fo(u,this.wrap,u,g,w),new fo(u,this.wrap,u,1+g,w),new fo(u,this.wrap,u,g,1+w),new fo(u,this.wrap,u,1+g,1+w)])}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new fo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new fo(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new C1(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/`+this.canonical.y}getTilePoint(u){return this.canonical.getTilePoint(new Jh(u.x-this.wrap,u.y))}}function kd(d,u,g,w,T){var P=1<<g;return(P*P*(d=(d*=2)<0?-1*d-1:d)+P*T+w).toString(36)+g.toString(36)+u.toString(36)}function Yv(d,u,g){let w="",T;for(let P=d;0<P;P--)T=1<<P-1,w+=(u&T?1:0)+(g&T?2:0);return w}Nr("CanonicalTileID",Bf),Nr("OverscaledTileID",fo,{omit:["posMatrix"]});class Vc{constructor(u,g,w,T=1,P=1,L=1,Q=0){if(this.uid=u,g.height!==g.width)throw new RangeError("DEM tiles must be square");if(w&&!["mapbox","terrarium","custom"].includes(w))ue(`"${w}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);else{this.stride=g.height;var z=this.dim=g.height-2;switch(this.data=new Uint32Array(g.data.buffer),w){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=T,this.greenFactor=P,this.blueFactor=L,this.baseShift=Q;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let te=0;te<z;te++)this.data[this._idx(-1,te)]=this.data[this._idx(0,te)],this.data[this._idx(z,te)]=this.data[this._idx(z-1,te)],this.data[this._idx(te,-1)]=this.data[this._idx(te,0)],this.data[this._idx(te,z)]=this.data[this._idx(te,z-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(z,-1)]=this.data[this._idx(z-1,0)],this.data[this._idx(-1,z)]=this.data[this._idx(0,z-1)],this.data[this._idx(z,z)]=this.data[this._idx(z-1,z-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let te=0;te<z;te++)for(let ge=0;ge<z;ge++){var ie=this.get(te,ge);ie>this.max&&(this.max=ie),ie<this.min&&(this.min=ie)}}}get(T,g){var w=new Uint8Array(this.data.buffer),T=4*this._idx(T,g);return this.unpack(w[T],w[1+T],w[2+T])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,g){if(u<-1||u>=this.dim+1||g<-1||g>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(g+1)*this.stride+(u+1)}unpack(u,g,w){return u*this.redFactor+g*this.greenFactor+w*this.blueFactor-this.baseShift}getPixels(){return new kl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,g,w){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let T=g*this.dim,P=g*this.dim+this.dim,L=w*this.dim,Q=w*this.dim+this.dim;switch(g){case-1:T=P-1;break;case 1:P=T+1}switch(w){case-1:L=Q-1;break;case 1:Q=L+1}var z=-g*this.dim,ie=-w*this.dim;for(let te=L;te<Q;te++)for(let ge=T;ge<P;ge++)this.data[this._idx(ge,te)]=u.data[this._idx(ge+z,te+ie)]}}Nr("DEMData",Vc);class E1{constructor(u){this._stringToNumber={},this._numberToString=[];for(let w=0;w<u.length;w++){var g=u[w];this._stringToNumber[g]=w,this._numberToString[w]=g}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length `+this._numberToString.length);return this._numberToString[u]}}class S1{constructor(u,g,w,T,P){this.type="Feature",(this._vectorTileFeature=u)._z=g,u._x=w,u._y=T,this.properties=u.properties,this.id=P}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){var u={geometry:this.geometry};for(const g in this)g!=="_geometry"&&g!=="_vectorTileFeature"&&(u[g]=this[g]);return u}}class Wv{constructor(u,g){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new TA(Mt,16,0),this.grid3D=new TA(Mt,16,0),this.featureIndexArray=new MA,this.promoteId=g}insert(u,g,w,T,P,L){var Q=this.featureIndexArray.length,z=(this.featureIndexArray.emplaceBack(w,T,P),L?this.grid3D:this.grid);for(let Ie=0;Ie<g.length;Ie++){var ie=g[Ie],te=[1/0,1/0,-1/0,-1/0];for(let Fe=0;Fe<ie.length;Fe++){var ge=ie[Fe];te[0]=Math.min(te[0],ge.x),te[1]=Math.min(te[1],ge.y),te[2]=Math.max(te[2],ge.x),te[3]=Math.max(te[3],ge.y)}te[0]<Mt&&te[1]<Mt&&0<=te[2]&&0<=te[3]&&z.insert(Q,te[0],te[1],te[2],te[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new wf.VectorTile(new Tm(this.rawTileData)).layers,this.sourceLayerCoder=new E1(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,g,w,T){this.loadVTLayers();const P=u.params||{},L=Mt/u.tileSize/u.scale,Q=ih(P.filter),z=u.queryGeometry,ie=u.queryPadding*L;var ge=If(z),te=this.grid.query(ge.minX-ie,ge.minY-ie,ge.maxX+ie,ge.maxY+ie),ge=If(u.cameraQueryGeometry);for(const Ye of this.grid3D.query(ge.minX-ie,ge.minY-ie,ge.maxX+ie,ge.maxY+ie,(it,Ve,ht,bt)=>Pr(u.cameraQueryGeometry,it-ie,Ve-ie,ht+ie,bt+ie)))te.push(Ye);te.sort(Pl);var Ie={};let Fe;for(let Ye=0;Ye<te.length;Ye++){var je=te[Ye];if(je!==Fe){Fe=je,je=this.featureIndexArray.get(je);let it=null;this.loadMatchingFeature(Ie,je.bucketIndex,je.sourceLayerIndex,je.featureIndex,Q,P.layers,P.availableImages,g,w,T,(Ve,ht,bt)=>(it=it||Lt(Ve),ht.queryIntersectsFeature(z,Ve,bt,it,this.z,u.transform,L,u.pixelPosMatrix)))}}return Ie}loadMatchingFeature(u,g,w,T,P,L,Q,z,ie,te,ge){var Ie=this.bucketLayerIDs[g];if(!L||Ne(L,Ie)){var g=this.sourceLayerCoder.decode(w),Fe=this.vtLayers[g].feature(T);if(P.needGeometry){if(w=Pt(Fe,!0),!P.filter(new wi(this.tileID.overscaledZ),w,this.tileID.canonical))return}else if(!P.filter(new wi(this.tileID.overscaledZ),Fe))return;var je=this.getId(Fe,g);for(let Ot=0;Ot<Ie.length;Ot++){var Ye=Ie[Ot];if(!(L&&L.indexOf(Ye)<0)){var it=z[Ye];if(it){let Ut={};je&&te&&(Ut=te.getState(it.sourceLayer||"_geojsonTileLayer",je));var Ve=ce({},ie[Ye]),it=(Ve.paint=Zv(Ve.paint,it.paint,Fe,Ut,Q),Ve.layout=Zv(Ve.layout,it.layout,Fe,Ut,Q),!ge||ge(Fe,it,Ut));if(it){var ht=new S1(Fe,this.z,this.x,this.y,je);ht.layer=Ve;let dr=u[Ye];(dr=dr===void 0?u[Ye]=[]:dr).push({featureIndex:T,feature:ht,intersectionZ:it})}}}}}}lookupSymbolFeatures(u,g,w,T,P,L,Q,z){var ie={},te=(this.loadVTLayers(),ih(P));for(const ge of u)this.loadMatchingFeature(ie,w,T,ge,te,L,Q,z,g);return ie}hasLayer(u){for(const g of this.bucketLayerIDs)for(const w of g)if(u===w)return!0;return!1}getId(u,g){let w=u.id;return w=this.promoteId&&(g=typeof this.promoteId=="string"?this.promoteId:this.promoteId[g],typeof(w=u.properties[g])=="boolean")?Number(w):w}}function Zv(d,u,g,w,T){return he(d,(P,L)=>(L=u instanceof Ma?u.get(L):null,L&&L.evaluate?L.evaluate(g,w,T):L))}function If(d){let u=1/0,g=1/0,w=-1/0,T=-1/0;for(const P of d)u=Math.min(u,P.x),g=Math.min(g,P.y),w=Math.max(w,P.x),T=Math.max(T,P.y);return{minX:u,minY:g,maxX:w,maxY:T}}function Pl(d,u){return u-d}function kf(d,u,g,w,T){var P=[];for(let Q=0;Q<d.length;Q++){var L=d[Q];let z;for(let ie=0;ie<L.length-1;ie++){let te=L[ie],ge=L[ie+1];te.x<u&&ge.x<u||(te.x<u?te=new A(u,te.y+(ge.y-te.y)*((u-te.x)/(ge.x-te.x)))._round():ge.x<u&&(ge=new A(u,te.y+(ge.y-te.y)*((u-te.x)/(ge.x-te.x)))._round()),te.y<g&&ge.y<g)||(te.y<g?te=new A(te.x+(ge.x-te.x)*((g-te.y)/(ge.y-te.y)),g)._round():ge.y<g&&(ge=new A(te.x+(ge.x-te.x)*((g-te.y)/(ge.y-te.y)),g)._round()),te.x>=w&&ge.x>=w)||(te.x>=w?te=new A(w,te.y+(ge.y-te.y)*((w-te.x)/(ge.x-te.x)))._round():ge.x>=w&&(ge=new A(w,te.y+(ge.y-te.y)*((w-te.x)/(ge.x-te.x)))._round()),te.y>=T&&ge.y>=T)||(te.y>=T?te=new A(te.x+(ge.x-te.x)*((T-te.y)/(ge.y-te.y)),T)._round():ge.y>=T&&(ge=new A(te.x+(ge.x-te.x)*((T-te.y)/(ge.y-te.y)),T)._round()),z&&te.equals(z[z.length-1])||(z=[te],P.push(z)),z.push(ge))}}return P}Nr("FeatureIndex",Wv,{omit:["rawTileData","sourceLayerCoder"]});class mh extends A{constructor(u,g,w,T){super(u,g),this.angle=w,T!==void 0&&(this.segment=T)}clone(){return new mh(this.x,this.y,this.angle,this.segment)}}function Nm(d,u,g,w,T){if(u.segment!==void 0&&g!==0){let ie=u,te=u.segment+1,ge=0;for(;ge>-g/2;){if(--te<0)return;ge-=d[te].dist(ie),ie=d[te]}ge+=d[te].dist(d[te+1]),te++;var P=[];let Ie=0;for(;ge<g/2;){var L=d[te-1],Q=d[te],z=d[te+1];if(!z)return;for(L=L.angleTo(Q)-Q.angleTo(z),L=Math.abs((L+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:ge,angleDelta:L}),Ie+=L;ge-P[0].distance>w;)Ie-=P.shift().angleDelta;if(Ie>T)return;te++,ge+=Q.dist(z)}}return 1}function T1(d){let u=0;for(let g=0;g<d.length-1;g++)u+=d[g].dist(d[g+1]);return u}function B1(d,u,g){return d?.6*u*g:0}function xx(d,u){return Math.max(d?d.right-d.left:0,u?u.right-u.left:0)}function Xv(d,u,g,te,ge,Fe,L,Q,z){var ie=B1(te,Fe,L),te=xx(te,ge),ge=te*L,Ie=d[0].x===0||d[0].x===z||d[0].y===0||d[0].y===z,Fe=(u-ge<u/4&&(u=ge+u/4),2*Fe);return(function je(Ye,it,Ve,ht,bt,Ot,Ut,$t,dr){const Or=Ot/2,Cr=T1(Ye);let lr=0,_r=it-Ve,gr=[];for(let Ar=0;Ar<Ye.length-1;Ar++){const Yt=Ye[Ar],Kr=Ye[Ar+1],Mr=Yt.dist(Kr),Fr=Kr.angleTo(Yt);for(;_r+Ve<lr+Mr;){const vn=((_r+=Ve)-lr)/Mr,Gn=oo.number(Yt.x,Kr.x,vn),Er=oo.number(Yt.y,Kr.y,vn);if(0<=Gn&&Gn<dr&&0<=Er&&Er<dr&&0<=_r-Or&&_r+Or<=Cr){const xi=new mh(Gn,Er,Fr,Ar);xi._round(),ht&&!Nm(Ye,xi,Ot,ht,bt)||gr.push(xi)}}lr+=Mr}return $t||gr.length||Ut||(gr=je(Ye,lr/2,Ve,ht,bt,Ot,Ut,!0,dr)),gr})(d,Ie?u/2*Q%u:(te/2+Fe)*L*Q%u,u,ie,g,ge,Ie,!1,z)}Nr("Anchor",mh);const vp=Nl;function Su(d,u,g,w){var T=[];const P=d.image,L=P.pixelRatio;var Q=P.paddedRect.w-2*vp,z=P.paddedRect.h-2*vp;let ie={x1:d.left,y1:d.top,x2:d.right,y2:d.bottom};var te=P.stretchX||[[0,Q]],ge=P.stretchY||[[0,z]],Ve=(Xr,Pn)=>Xr+Pn[1]-Pn[0];const Ie=te.reduce(Ve,0),Fe=ge.reduce(Ve,0);var je,Ye,it,Ve=Q-Ie,ht=z-Fe;let bt=0,Ot=Ie,Ut=0,$t=Fe,dr=0,Or=Ve,Cr=0,lr=ht;P.content&&w&&(Ye=(je=P.content)[2]-je[0],it=je[3]-je[1],P.contentMatch&&P.content&&(ie=Ja(d)),bt=Jv(te,0,je[0]),Ut=Jv(ge,0,je[1]),Ot=Jv(te,je[0],je[2]),$t=Jv(ge,je[1],je[3]),dr=je[0]-bt,Cr=je[1]-Ut,Or=Ye-Ot,lr=it-$t);const _r=ie.x1,gr=ie.y1,Ar=ie.x2-_r,Yt=ie.y2-gr;var Kr=(Ci,Pn,yi,qi)=>{var di=(Ci.stretch-bt)/Ot*Ar+_r,wp=Ci.fixed-dr-Or*Ci.stretch/Ie,Ds=(Pn.stretch-Ut)/$t*Yt+gr,vs=Pn.fixed-Cr-lr*Pn.stretch/Fe,Xn=(yi.stretch-bt)/Ot*Ar+_r,gh=yi.fixed-dr-Or*yi.stretch/Ie,VA=(qi.stretch-Ut)/$t*Yt+gr,GA=qi.fixed-Cr-lr*qi.stretch/Fe,Ol=new A(di,Ds),Ds=new A(Xn,Ds),Xn=new A(Xn,VA),di=new A(di,VA),VA=new A(wp/L,vs/L),wp=new A(gh/L,GA/L),vs=u*Math.PI/180,gh=(vs&&(gh=Math.sin(vs),GA=Math.cos(vs),Ol._matMult(vs=[GA,-gh,gh,GA]),Ds._matMult(vs),di._matMult(vs),Xn._matMult(vs)),Ci.stretch+Ci.fixed),GA=yi.stretch+yi.fixed,vs=Pn.stretch+Pn.fixed,Ci=qi.stretch+qi.fixed;return{tl:Ol,tr:Ds,bl:di,br:Xn,tex:{x:P.paddedRect.x+vp+gh,y:P.paddedRect.y+vp+vs,w:GA-gh,h:Ci-vs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:VA,pixelOffsetBR:wp,minFontScaleX:Or/L/Ar,minFontScaleY:lr/L/Yt,isSDF:g}};if(w&&(P.stretchX||P.stretchY)){var Mr=Tu(te,Ve,Ie),Fr=Tu(ge,ht,Fe);for(let Xr=0;Xr<Mr.length-1;Xr++){var vn=Mr[Xr],Gn=Mr[Xr+1];for(let Pn=0;Pn<Fr.length-1;Pn++){var Er=Fr[Pn],xi=Fr[Pn+1];T.push(Kr(vn,Er,Gn,xi))}}}else T.push(Kr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:1+Q},{fixed:0,stretch:1+z}));return T}function Jv(d,u,g){let w=0;for(const T of d)w+=Math.max(u,Math.min(g,T[1]))-Math.max(u,Math.min(g,T[0]));return w}function Tu(d,u,g){var w,T,P=[{fixed:-vp,stretch:0}];for([w,T]of d){var L=P[P.length-1];P.push({fixed:w-L.stretch,stretch:L.stretch}),P.push({fixed:w-L.stretch,stretch:L.stretch+(T-w)})}return P.push({fixed:u+vp,stretch:g}),P}function VT(d,u,g,w,T,P,L,Q){var z=w.layout.get("text-rotate").evaluate(P,{})*Math.PI/180,ie=[];for(const Ut of u.positionedLines)for(const $t of Ut.positionedGlyphs)if($t.rect){var te=$t.rect||{};let dr=QA+1,Or=!0,Cr=1,lr=0;var ge,Ot=(T||Q)&&$t.vertical,Ie=$t.metrics.advance*$t.scale/2,Fe=(Q&&u.verticalizable&&(Fe=($t.scale-1)*zo,ge=(zo-$t.metrics.width*$t.scale)/2,lr=Ut.lineOffset/2-($t.imageName?-ge:Fe)),$t.imageName&&(ge=L[$t.imageName],Or=ge.sdf,Cr=ge.pixelRatio,dr=Nl/Cr),T?[$t.x+Ie,$t.y]:[0,0]);let _r=T?[0,0]:[$t.x+Ie+g[0],$t.y+g[1]-lr],gr=[0,0];Ot&&(gr=_r,_r=[0,0]);var je=$t.metrics.isDoubleResolution?2:1,Ve=($t.metrics.left-dr)*$t.scale-Ie+_r[0],it=(-$t.metrics.top-dr)*$t.scale+_r[1],ht=Ve+te.w/je*$t.scale/Cr,je=it+te.h/je*$t.scale/Cr,Ye=new A(Ve,it),it=new A(ht,it),Ve=new A(Ve,je),ht=new A(ht,je),bt=(Ot&&(je=new A(-Ie,Ie-Bm),Ot=-Math.PI/2,Ie=zo/2-Ie,bt=$t.imageName?Ie:0,Ie=new A(5-Bm-Ie,-bt),bt=new A(...gr),Ye._rotateAround(Ot,je)._add(Ie)._add(bt),it._rotateAround(Ot,je)._add(Ie)._add(bt),Ve._rotateAround(Ot,je)._add(Ie)._add(bt),ht._rotateAround(Ot,je)._add(Ie)._add(bt)),z&&(Ot=Math.sin(z),je=Math.cos(z),Ye._matMult(Ie=[je,-Ot,Ot,je]),it._matMult(Ie),Ve._matMult(Ie),ht._matMult(Ie)),new A(0,0)),Ot=new A(0,0);ie.push({tl:Ye,tr:it,bl:Ve,br:ht,tex:te,writingMode:u.writingMode,glyphOffset:Fe,sectionIndex:$t.sectionIndex,isSDF:Or,pixelOffsetTL:bt,pixelOffsetBR:Ot,minFontScaleX:0,minFontScaleY:0})}return ie}class e0{constructor(u,g,w,T,P,L,Q,z,ie,te){if(this.boxStartIndex=u.length,ie){let Ie=L.top,Fe=L.bottom;var ie=L.collisionPadding,ie=(ie&&(Ie-=ie[1],Fe+=ie[3]),Fe-Ie);0<ie&&(ie=Math.max(10,ie),this.circleDiameter=ie)}else{var ge,ie=(ie=L.image)!=null&&ie.contentMatch&&L.image.content?Ja(L):{x1:L.left,y1:L.top,x2:L.right,y2:L.bottom},z=(ie.y1=ie.y1*Q-z[0],ie.x2=ie.x2*Q+z[1],ie.y2=ie.y2*Q+z[2],ie.x1=ie.x1*Q-z[3],L.collisionPadding);z&&(ie.x1-=z[0]*Q,ie.y1-=z[1]*Q,ie.x2+=z[2]*Q,ie.y2+=z[3]*Q),te&&(L=new A(ie.x1,ie.y1),z=new A(ie.x2,ie.y1),Q=new A(ie.x1,ie.y2),ge=new A(ie.x2,ie.y2),te=te*Math.PI/180,L._rotate(te),z._rotate(te),Q._rotate(te),ge._rotate(te),ie.x1=Math.min(L.x,z.x,Q.x,ge.x),ie.x2=Math.max(L.x,z.x,Q.x,ge.x),ie.y1=Math.min(L.y,z.y,Q.y,ge.y),ie.y2=Math.max(L.y,z.y,Q.y,ge.y)),u.emplaceBack(g.x,g.y,ie.x1,ie.y1,ie.x2,ie.y2,w,T,P)}this.boxEndIndex=u.length}}class kM{constructor(u=[],g=_p){if(this.data=u,this.length=this.data.length,this.compare=g,0<this.length)for(let w=(this.length>>1)-1;0<=w;w--)this._down(w)}push(u){this.data.push(u),this.length++,this._up(this.length-1)}pop(){var u,g;if(this.length!==0)return u=this.data[0],g=this.data.pop(),this.length--,0<this.length&&(this.data[0]=g,this._down(0)),u}peek(){return this.data[0]}_up(u){for(var{data:g,compare:w}=this,T=g[u];0<u;){var P=u-1>>1,L=g[P];if(0<=w(T,L))break;g[u]=L,u=P}g[u]=T}_down(u){for(var{data:g,compare:w}=this,T=this.length>>1,P=g[u];u<T;){let Q=1+(u<<1),z=g[Q];var L=Q+1;if(L<this.length&&w(g[L],z)<0&&(Q=L,z=g[L]),0<=w(z,P))break;g[u]=z,u=Q}g[u]=P}}function _p(d,u){return d<u?-1:u<d?1:0}function I1(d,u=1,g=!1){let w=1/0,T=1/0,P=-1/0,L=-1/0;var Q=d[0];for(let Ve=0;Ve<Q.length;Ve++){var z=Q[Ve];(!Ve||z.x<w)&&(w=z.x),(!Ve||z.y<T)&&(T=z.y),(!Ve||z.x>P)&&(P=z.x),(!Ve||z.y>L)&&(L=z.y)}var ie=P-w,te=L-T,ge=Math.min(ie,te);let Ie=ge/2;var Fe=new kM([],Cx);if(ge===0)return new A(w,T);for(let Ve=w;Ve<P;Ve+=ge)for(let ht=T;ht<L;ht+=ge)Fe.push(new KA(Ve+Ie,ht+Ie,Ie,d));let je=(function(Ve){let ht=0,bt=0,Ot=0;var Ut=Ve[0];for(let Cr=0,lr=Ut.length,_r=lr-1;Cr<lr;_r=Cr++){var $t=Ut[Cr],dr=Ut[_r],Or=$t.x*dr.y-dr.x*$t.y;bt+=($t.x+dr.x)*Or,Ot+=($t.y+dr.y)*Or,ht+=3*Or}return new KA(bt/ht,Ot/ht,0,Ve)})(d),Ye=Fe.length;for(;Fe.length;){var it=Fe.pop();(it.d>je.d||!je.d)&&(je=it,g)&&console.log("found best %d after %d probes",Math.round(1e4*it.d)/1e4,Ye),it.max-je.d<=u||(Ie=it.h/2,Fe.push(new KA(it.p.x-Ie,it.p.y-Ie,Ie,d)),Fe.push(new KA(it.p.x+Ie,it.p.y-Ie,Ie,d)),Fe.push(new KA(it.p.x-Ie,it.p.y+Ie,Ie,d)),Fe.push(new KA(it.p.x+Ie,it.p.y+Ie,Ie,d)),Ye+=4)}return g&&(console.log("num probes: "+Ye),console.log("best distance: "+je.d)),je.p}function Cx(d,u){return u.max-d.max}function KA(d,u,g,w){this.p=new A(d,u),this.h=g,this.d=(function(T,P){let L=!1,Q=1/0;for(let ge=0;ge<P.length;ge++){var z=P[ge];for(let Ie=0,Fe=z.length,je=Fe-1;Ie<Fe;je=Ie++){var ie=z[Ie],te=z[je];ie.y>T.y!=te.y>T.y&&T.x<(te.x-ie.x)*(T.y-ie.y)/(te.y-ie.y)+ie.x&&(L=!L),Q=Math.min(Q,Cn(T,ie,te))}}return(L?1:-1)*Math.sqrt(Q)})(this.p,w),this.max=this.d+this.h*Math.SQRT2}i.TextAnchorEnum=void 0,(Oi=i.TextAnchorEnum||(i.TextAnchorEnum={}))[Oi.center=1]="center",Oi[Oi.left=2]="left",Oi[Oi.right=3]="right",Oi[Oi.top=4]="top",Oi[Oi.bottom=5]="bottom",Oi[Oi["top-left"]=6]="top-left",Oi[Oi["top-right"]=7]="top-right",Oi[Oi["bottom-left"]=8]="bottom-left",Oi[Oi["bottom-right"]=9]="bottom-right";const Nf=7,k1=Number.POSITIVE_INFINITY;function Ex(d,u){if(u[1]!==k1){var g=d,w=u[0],T=u[1];let Q=0,z=0;switch(w=Math.abs(w),T=Math.abs(T),g){case"top-right":case"top-left":case"top":z=T-Nf;break;case"bottom-right":case"bottom-left":case"bottom":z=-T+Nf}switch(g){case"top-right":case"bottom-right":case"right":Q=-w;break;case"top-left":case"bottom-left":case"left":Q=w}return[Q,z]}{var g=d,P=u[0];let z=0,ie=0;var L=(P=P<0?0:P)/Math.SQRT2;switch(g){case"top-right":case"top-left":ie=L-Nf;break;case"bottom-right":case"bottom-left":ie=-L+Nf;break;case"bottom":ie=-P+Nf;break;case"top":ie=P-Nf}switch(g){case"top-right":case"bottom-right":z=-L;break;case"top-left":case"bottom-left":z=L;break;case"left":z=P;break;case"right":z=-P}return[z,ie]}}function N1(d,u,g){var w=d.layout,T=(T=w.get("text-variable-anchor-offset"))==null?void 0:T.evaluate(u,{},g);if(T){var P=T.values,L=[];for(let te=0;te<P.length;te+=2){var Q=L[te]=P[te],z=P[te+1].map(ge=>ge*zo);Q.startsWith("top")?z[1]-=Nf:Q.startsWith("bottom")&&(z[1]+=Nf),L[te+1]=z}return new rs(L)}if(T=w.get("text-variable-anchor"),T){let te;var d=d._unevaluatedLayout,ie=(te=d.getValue("text-radial-offset")!==void 0?[w.get("text-radial-offset").evaluate(u,{},g)*zo,k1]:w.get("text-offset").evaluate(u,{},g).map(Ie=>Ie*zo),[]);for(const Ie of T)ie.push(Ie,Ex(Ie,te));return new rs(ie)}return null}function t0(d){switch(d){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function GT(d,u,g,w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je){g=VT(0,g,Q,T,P,L,w,d.allowVerticalPlacement),w=d.textSizeData;let Ye=null;w.kind==="source"?(Ye=[HA*T.layout.get("text-size").evaluate(L,{})])[0]>Ef&&ue(`${d.layerIds[0]}: Value for "text-size" is >= ${Ah}. Reduce your "text-size".`):w.kind==="composite"&&((Ye=[HA*Fe.compositeTextSizes[0].evaluate(L,{},je),HA*Fe.compositeTextSizes[1].evaluate(L,{},je)])[0]>Ef||Ye[1]>Ef)&&ue(`${d.layerIds[0]}: Value for "text-size" is >= ${Ah}. Reduce your "text-size".`),d.addSymbols(d.text,g,Ye,Q,P,L,ie,u,z.lineStartIndex,z.lineLength,Ie,je);for(const it of te)ge[it]=d.text.placedSymbolArray.length-1;return 4*g.length}function $T(d){for(const u in d)return d[u];return null}const YT=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];function P1(d,u,g,w,T,P){var L;T-w<=g||((function Q(z,ie,te,ge,Ie,Fe){for(;ge<Ie;){if(600<Ie-ge){const Ve=Ie-ge+1,ht=te-ge+1,bt=Math.log(Ve),Ot=.5*Math.exp(2*bt/3),Ut=.5*Math.sqrt(bt*Ot*(Ve-Ot)/Ve)*(ht-Ve/2<0?-1:1),$t=Math.max(ge,Math.floor(te-ht*Ot/Ve+Ut)),dr=Math.min(Ie,Math.floor(te+(Ve-ht)*Ot/Ve+Ut));Q(z,ie,te,$t,dr,Fe)}const je=ie[2*te+Fe];let Ye=ge,it=Ie;for(iy(z,ie,ge,te),ie[2*Ie+Fe]>je&&iy(z,ie,ge,Ie);Ye<it;){for(iy(z,ie,Ye,it),Ye++,it--;ie[2*Ye+Fe]<je;)Ye++;for(;ie[2*it+Fe]>je;)it--}ie[2*ge+Fe]===je?iy(z,ie,ge,it):(it++,iy(z,ie,it,Ie)),it<=te&&(ge=it+1),te<=it&&(Ie=it-1)}})(d,u,L=w+T>>1,w,T,P),P1(d,u,g,w,L-1,1-P),P1(d,u,g,1+L,T,1-P))}function iy(d,u,g,w){bp(d,g,w),bp(u,2*g,2*w),bp(u,2*g+1,2*w+1)}function bp(d,u,g){var w=d[u];d[u]=d[g],d[g]=w}function r0(d,u,g,w){return d-=g,g=u-w,d*d+g*g}i.PerformanceMarkers=void 0,(qo=i.PerformanceMarkers||(i.PerformanceMarkers={})).create="create",qo.load="load",qo.fullLoad="fullLoad";let n0=null,ay=[];const O1=1e3/60,M1="loadTime",L1="fullLoadTime";Oi={mark(d){performance.mark(d)},frame(d){var u;n0!=null&&(u=d-n0,ay.push(u)),n0=d},clearMetrics(){n0=null,ay=[],performance.clearMeasures(M1),performance.clearMeasures(L1);for(const d in i.PerformanceMarkers)performance.clearMarks(i.PerformanceMarkers[d])},getPerformanceMetrics(){performance.measure(M1,i.PerformanceMarkers.create,i.PerformanceMarkers.load),performance.measure(L1,i.PerformanceMarkers.create,i.PerformanceMarkers.fullLoad);var d=performance.getEntriesByName(M1)[0].duration,u=performance.getEntriesByName(L1)[0].duration,g=ay.length,w=1/(ay.reduce((P,L)=>P+L,0)/g/1e3),T=ay.filter(P=>P>O1).reduce((P,L)=>P+(L-O1)/O1,0);return{loadTime:d,fullLoadTime:u,fps:w,percentDroppedFrames:T/(g+T)*100,totalFrames:g}}},i.AJAXError=Ze,i.Actor=class{constructor(d,u){this.target=d,this.mapId=u,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new KT(()=>this.process()),this.subscription=ze(this.target,"message",g=>this.receive(g),!1),this.globalScope=me(self)?d:window}registerMessageHandler(d,u){this.messageHandlers[d]=u}sendAsync(d,u){return new Promise((g,w)=>{const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[T]={resolve:g,reject:w},u&&u.signal.addEventListener("abort",()=>{delete this.resolveRejects[T];var P={id:T,type:"<cancel>",origin:location.origin,targetMapId:d.targetMapId,sourceMapId:this.mapId};this.target.postMessage(P)},{once:!0}),g=[],w=Object.assign(Object.assign({},d),{id:T,sourceMapId:this.mapId,origin:location.origin,data:Uc(d.data,g)}),this.target.postMessage(w,{transfer:g})})}receive(g){var u,g=g.data,w=g.id;g.origin!=="file://"&&location.origin!=="file://"&&g.origin!==location.origin||g.targetMapId&&this.mapId!==g.targetMapId||(g.type==="<cancel>"?(delete this.tasks[w],u=this.abortControllers[w],delete this.abortControllers[w],u&&u.abort()):me(self)||g.mustQueue?(this.tasks[w]=g,this.taskQueue.push(w),this.invoker.trigger()):this.processTask(w,g))}process(){var d,u;this.taskQueue.length!==0&&(d=this.taskQueue.shift(),u=this.tasks[d],delete this.tasks[d],0<this.taskQueue.length&&this.invoker.trigger(),u)&&this.processTask(d,u)}processTask(d,u){return a(this,void 0,void 0,function*(){if(u.type==="<response>")return g=this.resolveRejects[d],delete this.resolveRejects[d],g?void(u.error?g.reject(BA(u.error)):g.resolve(BA(u.data))):void 0;if(this.messageHandlers[u.type]){var g=BA(u.data),w=new AbortController;this.abortControllers[d]=w;try{var T=yield this.messageHandlers[u.type](u.sourceMapId,g,w);this.completeTask(d,null,T)}catch(P){this.completeTask(d,P)}}else this.completeTask(d,new Error(`Could not find a registered handler for ${u.type}, map ID: ${this.mapId}, available handlers: `+Object.keys(this.messageHandlers).join(", ")))})}completeTask(T,u,g){var w=[],T=(delete this.abortControllers[T],{id:T,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:u?Uc(u):null,data:Uc(g,w)});this.target.postMessage(T,{transfer:w})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},i.AlphaImage=vf,i.CanonicalTileID=Bf,i.CollisionBoxArray=vu,i.CollisionCircleLayoutArray=class extends gu{},i.Color=mi,i.DEMData=Vc,i.DataConstantProperty=Lr,i.DictionaryCoder=E1,i.EXTENT=Mt,i.ErrorEvent=re,i.EvaluationParameters=wi,i.Event=J,i.Evented=Ue,i.FeatureIndex=Wv,i.FillBucket=wm,i.FillExtrusionBucket=Ed,i.GLOBAL_DISPATCHER_ID=qe,i.GeoJSONFeature=S1,i.ImageAtlas=y1,i.ImagePosition=g1,i.KDBush=class gre{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var g,[w,T]=new Uint8Array(u,0,2);if(w!==219)throw new Error("Data does not appear to be in a KDBush format.");if((w=T>>4)!=1)throw new Error(`Got v${w} data when expected v1.`);if(w=YT[15&T])return[T]=new Uint16Array(u,2,1),[g]=new Uint32Array(u,4,1),new gre(g,T,w,u);throw new Error("Unrecognized array type.")}constructor(u,g=64,w=Float64Array,T){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+g,2),65535),this.ArrayType=w,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;var P=YT.indexOf(this.ArrayType),L=2*u*this.ArrayType.BYTES_PER_ELEMENT,Q=u*this.IndexArrayType.BYTES_PER_ELEMENT,z=(8-Q%8)%8;if(P<0)throw new Error(`Unexpected typed array class: ${w}.`);T&&T instanceof ArrayBuffer?(this.data=T,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+Q+z,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+L+Q+z),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+Q+z,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+P]),new Uint16Array(this.data,2,1)[0]=g,new Uint32Array(this.data,4,1)[0]=u)}add(u,g){var w=this._pos>>1;return this.ids[w]=w,this.coords[this._pos++]=u,this.coords[this._pos++]=g,w}finish(){var u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return P1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,g,w,T){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:P,coords:L,nodeSize:Q}=this,z=[0,P.length-1,0],ie=[];z.length;){var te=z.pop()||0,ge=z.pop()||0,Ie=z.pop()||0;if(ge-Ie<=Q)for(let ht=Ie;ht<=ge;ht++){var Fe=L[2*ht],je=L[2*ht+1];u<=Fe&&Fe<=w&&g<=je&&je<=T&&ie.push(P[ht])}else{var Ye=Ie+ge>>1,it=L[2*Ye],Ve=L[2*Ye+1];u<=it&&it<=w&&g<=Ve&&Ve<=T&&ie.push(P[Ye]),(te===0?u<=it:g<=Ve)&&(z.push(Ie),z.push(Ye-1),z.push(1-te)),(te===0?it<=w:Ve<=T)&&(z.push(1+Ye),z.push(ge),z.push(1-te))}}return ie}within(u,g,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:T,coords:P,nodeSize:L}=this,Q=[0,T.length-1,0],z=[],ie=w*w;Q.length;){var te=Q.pop()||0,ge=Q.pop()||0,Ie=Q.pop()||0;if(ge-Ie<=L)for(let it=Ie;it<=ge;it++)r0(P[2*it],P[2*it+1],u,g)<=ie&&z.push(T[it]);else{var Fe=Ie+ge>>1,je=P[2*Fe],Ye=P[2*Fe+1];r0(je,Ye,u,g)<=ie&&z.push(T[Fe]),(te===0?u-w<=je:g-w<=Ye)&&(Q.push(Ie),Q.push(Fe-1),Q.push(1-te)),(te===0?je<=u+w:Ye<=g+w)&&(Q.push(1+Fe),Q.push(ge),Q.push(1-te))}}return z}},i.LineBucket=c1,i.LineStripIndexArray=class extends Il{},i.LngLat=yp,i.MercatorCoordinate=Jh,i.ONE_EM=zo,i.OverscaledTileID=fo,i.PerformanceUtils=Oi,i.Point=A,i.Pos3dArray=class extends ls{},i.PosArray=fm,i.Properties=Za,i.Protobuf=Tm,i.QuadTriangleArray=class extends PA{},i.RGBAImage=kl,i.RasterBoundsArray=class extends lh{},i.RequestPerformance=class{constructor(d){this._marks={start:[d.url,"start"].join("#"),end:[d.url,"end"].join("#"),measure:d.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let d=performance.getEntriesByName(this._marks.measure);return d.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),d=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),d}},i.SegmentVector=_,i.SymbolBucket=fh,i.Transitionable=Vh,i.TriangleIndexArray=LA,i.Uniform1f=se,i.Uniform1i=class extends G{constructor(d,u){super(d,u),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}},i.Uniform2f=class extends G{constructor(d,u){super(d,u),this.current=[0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))}},i.Uniform3f=class extends G{constructor(d,u){super(d,u),this.current=[0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))}},i.Uniform4f=X,i.UniformColor=ee,i.UniformMatrix4f=class extends G{constructor(d,u){super(d,u),this.current=Ae}set(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);else for(let u=1;u<16;u++)if(d[u]!==this.current[u]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}},i.UnwrappedTileID=C1,i.ValidationError=rt,i.ZoomHistory=dm,i.__awaiter=a,i.add=function(d,u,g){return d[0]=u[0]+g[0],d[1]=u[1]+g[1],d[2]=u[2]+g[2],d},i.addDynamicAttributes=Kc,i.addProtocol=function(d,u){ve.REGISTERED_PROTOCOLS[d]=u},i.arrayBufferToImage=d=>new Promise((u,g)=>{const w=new Image;w.onload=()=>{u(w),URL.revokeObjectURL(w.src),w.onload=null,window.requestAnimationFrame(()=>{w.src=_e})},w.onerror=()=>g(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));var T=new Blob([new Uint8Array(d)],{type:"image/png"});w.src=d.byteLength?URL.createObjectURL(T):_e}),i.arrayBufferToImageBitmap=d=>a(void 0,void 0,void 0,function*(){if(d.byteLength===0)return createImageBitmap(new ImageData(1,1));var u=new Blob([new Uint8Array(d)],{type:"image/png"});try{return createImageBitmap(u)}catch(g){throw new Error(`Could not load image because of ${g.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),i.bezier=H,i.clamp=q,i.clipLine=kf,i.clone=function(d){var u=new Ai(16);return u[0]=d[0],u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=d[6],u[7]=d[7],u[8]=d[8],u[9]=d[9],u[10]=d[10],u[11]=d[11],u[12]=d[12],u[13]=d[13],u[14]=d[14],u[15]=d[15],u},i.clone$1=fe,i.clone$2=function(d){var u=new Ai(3);return u[0]=d[0],u[1]=d[1],u[2]=d[2],u},i.collisionCircleLayout=jo,i.config=ve,i.copy=function(d,u){return d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=u[6],d[7]=u[7],d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},i.create=function(){var d=new Ai(16);return Ai!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0),d[0]=1,d[5]=1,d[10]=1,d[15]=1,d},i.create$1=Aa,i.create$2=function(){var d=new Ai(4);return Ai!=Float32Array&&(d[1]=0,d[2]=0),d[0]=1,d[3]=1,d},i.createAbortError=ae,i.createExpression=CA,i.createFilter=ih,i.createLayout=ua,i.createStyleLayer=function(d){if(d.type==="custom")return new x1(d);switch(d.type){case"background":return new zT(d);case"circle":return new Hc(d);case"fill":return new yT(d);case"fill-extrusion":return new o1(d);case"heatmap":return new $g(d);case"hillshade":return new t1(d);case"line":return new cl(d);case"raster":return new qT(d);case"symbol":return new gp(d)}},i.cross=ho,i.deepEqual=function d(u,g){if(Array.isArray(u)){if(!Array.isArray(g)||u.length!==g.length)return!1;for(let w=0;w<u.length;w++)if(!d(u[w],g[w]))return!1}else{if(typeof u!="object"||u===null||g===null)return u===g;if(typeof g!="object"||Object.keys(u).length!==Object.keys(g).length)return!1;for(const w in u)if(!d(u[w],g[w]))return!1}return!0},i.defaultEasing=f,i.degreesToRadians=function(d){return d*Math.PI/180},i.derefLayers=function(d){d=d.slice();var u=Object.create(null);for(let g=0;g<d.length;g++)u[d[g].id]=d[g];for(let g=0;g<d.length;g++)"ref"in d[g]&&(d[g]=(function(w,T){const P={};for(const L in w)L!=="ref"&&(P[L]=w[L]);return et.forEach(L=>{L in T&&(P[L]=T[L])}),P})(d[g],u[d[g].ref]));return d},i.diffStyles=function(d,u){if(!d)return[{command:"setStyle",args:[u]}];let g=[];try{if(!Ke(d.version,u.version))return[{command:"setStyle",args:[u]}];Ke(d.center,u.center)||g.push({command:"setCenter",args:[u.center]}),Ke(d.zoom,u.zoom)||g.push({command:"setZoom",args:[u.zoom]}),Ke(d.bearing,u.bearing)||g.push({command:"setBearing",args:[u.bearing]}),Ke(d.pitch,u.pitch)||g.push({command:"setPitch",args:[u.pitch]}),Ke(d.sprite,u.sprite)||g.push({command:"setSprite",args:[u.sprite]}),Ke(d.glyphs,u.glyphs)||g.push({command:"setGlyphs",args:[u.glyphs]}),Ke(d.transition,u.transition)||g.push({command:"setTransition",args:[u.transition]}),Ke(d.light,u.light)||g.push({command:"setLight",args:[u.light]}),Ke(d.terrain,u.terrain)||g.push({command:"setTerrain",args:[u.terrain]}),Ke(d.sky,u.sky)||g.push({command:"setSky",args:[u.sky]});const Ye={};var w=[];Gt(d.sources,u.sources,w,Ye);const it=[];d.layers&&d.layers.forEach(Ve=>{"source"in Ve&&Ye[Ve.source]?g.push({command:"removeLayer",args:[Ve.id]}):it.push(Ve)}),g=g.concat(w);{var T=it,P=u.layers,L=g;P=P||[];var Q,z,ie=(T=T||[]).map(ur),te=P.map(ur),ge=T.reduce(nt,{}),Ie=P.reduce(nt,{}),Fe=ie.slice(),je=Object.create(null);let Ve,ht,bt;for(let Ot=0,Ut=0;Ot<ie.length;Ot++)Ve=ie[Ot],Object.prototype.hasOwnProperty.call(Ie,Ve)?Ut++:(mt(L,{command:"removeLayer",args:[Ve]}),Fe.splice(Fe.indexOf(Ve,Ut),1));for(let Ot=0,Ut=0;Ot<te.length;Ot++)Ve=te[te.length-1-Ot],Fe[Fe.length-1-Ot]!==Ve&&(Object.prototype.hasOwnProperty.call(ge,Ve)?(mt(L,{command:"removeLayer",args:[Ve]}),Fe.splice(Fe.lastIndexOf(Ve,Fe.length-Ut),1)):Ut++,ht=Fe[Fe.length-Ot],mt(L,{command:"addLayer",args:[Ie[Ve],ht]}),Fe.splice(Fe.length-Ot,0,Ve),je[Ve]=!0);for(let Ot=0;Ot<te.length;Ot++)if(Q=ge[Ve=te[Ot]],z=Ie[Ve],!je[Ve]&&!Ke(Q,z))if(Ke(Q.source,z.source)&&Ke(Q["source-layer"],z["source-layer"])&&Ke(Q.type,z.type)){for(bt in tr(Q.layout,z.layout,L,Ve,null,"setLayoutProperty"),tr(Q.paint,z.paint,L,Ve,null,"setPaintProperty"),Ke(Q.filter,z.filter)||mt(L,{command:"setFilter",args:[Ve,z.filter]}),Ke(Q.minzoom,z.minzoom)&&Ke(Q.maxzoom,z.maxzoom)||mt(L,{command:"setLayerZoomRange",args:[Ve,z.minzoom,z.maxzoom]}),Q)Object.prototype.hasOwnProperty.call(Q,bt)&&bt!=="layout"&&bt!=="paint"&&bt!=="filter"&&bt!=="metadata"&&bt!=="minzoom"&&bt!=="maxzoom"&&(bt.indexOf("paint.")===0?tr(Q[bt],z[bt],L,Ve,bt.slice(6),"setPaintProperty"):Ke(Q[bt],z[bt])||mt(L,{command:"setLayerProperty",args:[Ve,bt,z[bt]]}));for(bt in z)Object.prototype.hasOwnProperty.call(z,bt)&&!Object.prototype.hasOwnProperty.call(Q,bt)&&bt!=="layout"&&bt!=="paint"&&bt!=="filter"&&bt!=="metadata"&&bt!=="minzoom"&&bt!=="maxzoom"&&(bt.indexOf("paint.")===0?tr(Q[bt],z[bt],L,Ve,bt.slice(6),"setPaintProperty"):Ke(Q[bt],z[bt])||mt(L,{command:"setLayerProperty",args:[Ve,bt,z[bt]]}))}else mt(L,{command:"removeLayer",args:[Ve]}),mt(L,{command:"addLayer",args:[z,ht=Fe[Fe.lastIndexOf(Ve)+1]]})}}catch(Ye){console.warn("Unable to compute style diff:",Ye),g=[{command:"setStyle",args:[u]}]}return g},i.dot=us,i.dot$1=function(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]+d[3]*u[3]},i.earthRadius=bx,i.emitValidationErrors=qh,i.emptyStyle=function(){var d={},u=be.$version;for(const w in be.$root){var g=be.$root[w];if(g.required){let T=null;(T=w==="version"?u:g.type==="array"?[]:{})!=null&&(d[w]=T)}}return d},i.equals=function(Ve,Fr){var g=Ve[0],w=Ve[1],T=Ve[2],P=Ve[3],L=Ve[4],Q=Ve[5],z=Ve[6],ie=Ve[7],te=Ve[8],ge=Ve[9],Ie=Ve[10],Fe=Ve[11],je=Ve[12],Ye=Ve[13],it=Ve[14],Ve=Ve[15],ht=Fr[0],bt=Fr[1],Ot=Fr[2],Ut=Fr[3],$t=Fr[4],dr=Fr[5],Or=Fr[6],Cr=Fr[7],lr=Fr[8],_r=Fr[9],gr=Fr[10],Ar=Fr[11],Yt=Fr[12],Kr=Fr[13],Mr=Fr[14],Fr=Fr[15];return Math.abs(g-ht)<=Un*Math.max(1,Math.abs(g),Math.abs(ht))&&Math.abs(w-bt)<=Un*Math.max(1,Math.abs(w),Math.abs(bt))&&Math.abs(T-Ot)<=Un*Math.max(1,Math.abs(T),Math.abs(Ot))&&Math.abs(P-Ut)<=Un*Math.max(1,Math.abs(P),Math.abs(Ut))&&Math.abs(L-$t)<=Un*Math.max(1,Math.abs(L),Math.abs($t))&&Math.abs(Q-dr)<=Un*Math.max(1,Math.abs(Q),Math.abs(dr))&&Math.abs(z-Or)<=Un*Math.max(1,Math.abs(z),Math.abs(Or))&&Math.abs(ie-Cr)<=Un*Math.max(1,Math.abs(ie),Math.abs(Cr))&&Math.abs(te-lr)<=Un*Math.max(1,Math.abs(te),Math.abs(lr))&&Math.abs(ge-_r)<=Un*Math.max(1,Math.abs(ge),Math.abs(_r))&&Math.abs(Ie-gr)<=Un*Math.max(1,Math.abs(Ie),Math.abs(gr))&&Math.abs(Fe-Ar)<=Un*Math.max(1,Math.abs(Fe),Math.abs(Ar))&&Math.abs(je-Yt)<=Un*Math.max(1,Math.abs(je),Math.abs(Yt))&&Math.abs(Ye-Kr)<=Un*Math.max(1,Math.abs(Ye),Math.abs(Kr))&&Math.abs(it-Mr)<=Un*Math.max(1,Math.abs(it),Math.abs(Mr))&&Math.abs(Ve-Fr)<=Un*Math.max(1,Math.abs(Ve),Math.abs(Fr))},i.evaluateSizeForFeature=function(d,{uSize:u,uSizeT:g},{lowerSize:w,upperSize:T}){return d.kind==="source"?w/HA:d.kind==="composite"?oo.number(w/HA,T/HA,g):u},i.evaluateSizeForZoom=function(d,u){let g=0,w=0;var T,P,L;return d.kind==="constant"?w=d.layoutSize:d.kind!=="source"&&({interpolationType:L,minZoom:T,maxZoom:P}=d,L=L?q(Ea.interpolationFactor(L,u,T,P),0,1):0,d.kind==="camera"?w=oo.number(d.minSize,d.maxSize,L):g=L),{uSizeT:g,uSize:w}},i.exactEquals=function(d,u){return d[0]===u[0]&&d[1]===u[1]&&d[2]===u[2]&&d[3]===u[3]&&d[4]===u[4]&&d[5]===u[5]&&d[6]===u[6]&&d[7]===u[7]&&d[8]===u[8]&&d[9]===u[9]&&d[10]===u[10]&&d[11]===u[11]&&d[12]===u[12]&&d[13]===u[13]&&d[14]===u[14]&&d[15]===u[15]},i.extend=ce,i.filterObject=le,i.findLineIntersection=function(d,P,g,Q){var T=P.y-d.y,P=P.x-d.x,L=Q.y-g.y,Q=Q.x-g.x,z=L*P-Q*T;return z==0?null:(Q=(Q*(d.y-g.y)-L*(d.x-g.x))/z,new A(d.x+Q*P,d.y+Q*T))},i.fromRotation=function(d,w){var g=Math.sin(w),w=Math.cos(w);return d[0]=w,d[1]=g,d[2]=0,d[3]=-g,d[4]=w,d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},i.fromScaling=function(d,u){return d[0]=u[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=u[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=u[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d},i.getAnchorAlignment=_1,i.getAnchorJustification=t0,i.getArrayBuffer=(d,u)=>yt(ce(d,{type:"arrayBuffer"}),u),i.getDefaultExportFromCjs=o,i.getImageData=function(d,u,g,w,T){return a(this,void 0,void 0,function*(){if(M())try{return yield ke(d,u,g,w,T)}catch{}return L=u,Q=g,z=w,ie=T,te=(P=d).width,ge=P.height,We&&Oe||(We=new OffscreenCanvas(te,ge),Oe=We.getContext("2d",{willReadFrequently:!0})),We.width=te,We.height=ge,Oe.drawImage(P,0,0,te,ge),P=Oe.getImageData(L,Q,z,ie),Oe.clearRect(0,0,te,ge),P.data;var P,L,Q,z,ie,te,ge})},i.getJSON=(d,u)=>yt(ce(d,{type:"json"}),u),i.getOverlapMode=Vv,i.getProtocol=Re,i.getReferrer=st,i.getVideo=d=>{const u=window.document.createElement("video");return u.muted=!0,new Promise(g=>{u.onloadstart=()=>{g(u)};for(const T of d){var w=window.document.createElement("source");Pe(T)||(u.crossOrigin="Anonymous"),w.src=T,u.appendChild(w)}})},i.groupByLayout=function(d,u){var g={};for(let P=0;P<d.length;P++){var w=u&&u[d[P].id]||SA(d[P]);u&&(u[d[P].id]=w);let L=g[w];(L=L||(g[w]=[])).push(d[P])}var T=[];for(const P in g)T.push(g[P]);return T},i.identity=yn,i.interpolate=oo,i.invert=function(d,Ve){var g=Ve[0],w=Ve[1],T=Ve[2],P=Ve[3],L=Ve[4],Q=Ve[5],z=Ve[6],ie=Ve[7],te=Ve[8],ge=Ve[9],Ie=Ve[10],Fe=Ve[11],je=Ve[12],Ye=Ve[13],it=Ve[14],Ve=Ve[15],ht=g*Q-w*L,bt=g*z-T*L,Ot=g*ie-P*L,Ut=w*z-T*Q,$t=w*ie-P*Q,dr=T*ie-P*z,Or=te*Ye-ge*je,Cr=te*it-Ie*je,lr=te*Ve-Fe*je,_r=ge*it-Ie*Ye,gr=ge*Ve-Fe*Ye,Ar=Ie*Ve-Fe*it,Yt=ht*Ar-bt*gr+Ot*_r+Ut*lr-$t*Cr+dr*Or;return Yt?(d[0]=(Q*Ar-z*gr+ie*_r)*(Yt=1/Yt),d[1]=(T*gr-w*Ar-P*_r)*Yt,d[2]=(Ye*dr-it*$t+Ve*Ut)*Yt,d[3]=(Ie*$t-ge*dr-Fe*Ut)*Yt,d[4]=(z*lr-L*Ar-ie*Cr)*Yt,d[5]=(g*Ar-T*lr+P*Cr)*Yt,d[6]=(it*Ot-je*dr-Ve*bt)*Yt,d[7]=(te*dr-Ie*Ot+Fe*bt)*Yt,d[8]=(L*gr-Q*lr+ie*Or)*Yt,d[9]=(w*lr-g*gr-P*Or)*Yt,d[10]=(je*$t-Ye*Ot+Ve*ht)*Yt,d[11]=(ge*Ot-te*$t-Fe*ht)*Yt,d[12]=(Q*Cr-L*_r-z*Or)*Yt,d[13]=(g*_r-w*Cr+T*Or)*Yt,d[14]=(Ye*bt-je*Ut-it*ht)*Yt,d[15]=(te*Ut-ge*bt+Ie*ht)*Yt,d):null},i.isAbortError=function(d){return d.message===ne},i.isImageBitmap=Ee,i.isOffscreenCanvasDistorted=M,i.isSafari=function(d){var u;return Qe==null&&(u=d.navigator?d.navigator.userAgent:null,Qe=!!d.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))),Qe},i.isWorker=me,i.keysDifference=function(d,u){var g=[];for(const w in d)w in u||g.push(w);return g},i.makeRequest=yt,i.mapObject=he,i.mercatorXfromLng=Ti,i.mercatorYfromLat=zi,i.mercatorZfromAltitude=fa,i.mul=is,i.mul$1=Qc,i.multiply=Nn,i.nextPowerOfTwo=function(d){return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))},i.normalize=gi,i.offscreenCanvasSupported=k,i.ortho=zn,i.parseCacheControl=function(d){const u={};return d.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(g,w,T,P)=>(T=T||P,u[w]=!T||T.toLowerCase(),"")),u["max-age"]&&(d=parseInt(u["max-age"],10),isNaN(d)?delete u["max-age"]:u["max-age"]=d),u},i.parseGlyphPbf=function(d){return new Tm(d).readFields(UT,[])},i.pbf=uc,i.performSymbolLayout=function(d){d.bucket.createArrays();var u,g,w=512*d.bucket.overscaling,T=(d.bucket.tilePixelRatio=Mt/w,d.bucket.compareText={},d.bucket.iconsNeedLinear=!1,d.bucket.layers[0]),P=T.layout,L={layoutIconSize:(w=T._unevaluatedLayout._values)["icon-size"].possiblyEvaluate(new wi(d.bucket.zoom+1),d.canonical),layoutTextSize:w["text-size"].possiblyEvaluate(new wi(d.bucket.zoom+1),d.canonical),textMaxSize:w["text-size"].possiblyEvaluate(new wi(18))};d.bucket.textSizeData.kind==="composite"&&({minZoom:u,maxZoom:g}=d.bucket.textSizeData,L.compositeTextSizes=[w["text-size"].possiblyEvaluate(new wi(u),d.canonical),w["text-size"].possiblyEvaluate(new wi(g),d.canonical)]),d.bucket.iconSizeData.kind==="composite"&&({minZoom:u,maxZoom:g}=d.bucket.iconSizeData,L.compositeIconSizes=[w["icon-size"].possiblyEvaluate(new wi(u),d.canonical),w["icon-size"].possiblyEvaluate(new wi(g),d.canonical)]);const Q=P.get("text-line-height")*zo;var z=P.get("text-rotation-alignment")!=="viewport"&&P.get("symbol-placement")!=="point",ie=P.get("text-keep-upright"),te=P.get("text-size");for(const Ve of d.bucket.features){const ht=P.get("text-font").evaluate(Ve,{},d.canonical).join(","),bt=te.evaluate(Ve,{},d.canonical),Ot=L.layoutTextSize.evaluate(Ve,{},d.canonical);var ge=L.layoutIconSize.evaluate(Ve,{},d.canonical);const Ut={horizontal:{},vertical:void 0},$t=Ve.text;let dr=[0,0];if($t){const lr=$t.toString();var Ie=P.get("text-letter-spacing").evaluate(Ve,{},d.canonical)*zo;const _r=ap(lr)?Ie:0,gr=P.get("text-anchor").evaluate(Ve,{},d.canonical);var Fe=N1(T,Ve,d.canonical);Fe||(Ie=P.get("text-radial-offset").evaluate(Ve,{},d.canonical),dr=Ie?Ex(gr,[Ie*zo,k1]):P.get("text-offset").evaluate(Ve,{},d.canonical).map(Mr=>Mr*zo));let Ar=z?"center":P.get("text-justify").evaluate(Ve,{},d.canonical);const Yt=P.get("symbol-placement"),Kr=Yt==="point"?P.get("text-max-width").evaluate(Ve,{},d.canonical)*zo:0;if(Ie=()=>{d.bucket.allowVerticalPlacement&&sh(lr)&&(Ut.vertical=Xh($t,d.glyphMap,d.glyphPositions,d.imagePositions,ht,Kr,Q,gr,"left",_r,dr,i.WritingMode.vertical,!0,Yt,Ot,bt))},!z&&Fe){var je,Ye=new Set;if(Ar==="auto")for(let Fr=0;Fr<Fe.values.length;Fr+=2)Ye.add(t0(Fe.values[Fr]));else Ye.add(Ar);let Mr=!1;for(const Fr of Ye)Ut.horizontal[Fr]||(Mr?Ut.horizontal[Fr]=Ut.horizontal[0]:(je=Xh($t,d.glyphMap,d.glyphPositions,d.imagePositions,ht,Kr,Q,"center",Fr,_r,dr,i.WritingMode.horizontal,!1,Yt,Ot,bt))&&(Ut.horizontal[Fr]=je,Mr=je.positionedLines.length===1));Ie()}else{Ar==="auto"&&(Ar=t0(gr));var it=Xh($t,d.glyphMap,d.glyphPositions,d.imagePositions,ht,Kr,Q,gr,Ar,_r,dr,i.WritingMode.horizontal,!1,Yt,Ot,bt);it&&(Ut.horizontal[Ar]=it),Ie(),sh(lr)&&z&&ie&&(Ut.vertical=Xh($t,d.glyphMap,d.glyphPositions,d.imagePositions,ht,Kr,Q,gr,Ar,_r,dr,i.WritingMode.vertical,!1,Yt,Ot,bt))}}let Or,Cr=!1;Ve.icon&&Ve.icon.name&&(it=d.imageMap[Ve.icon.name])&&(Or=(function(lr,Mr,Kr){var{horizontalAlign:Kr,verticalAlign:Ar}=_1(Kr),Yt=Mr[0],Mr=Mr[1],Kr=(Yt=Yt-lr.displaySize[0]*Kr)+lr.displaySize[0],Mr=Mr-lr.displaySize[1]*Ar;return{image:lr,top:Mr,bottom:Mr+lr.displaySize[1],left:Yt,right:Kr}})(d.imagePositions[Ve.icon.name],P.get("icon-offset").evaluate(Ve,{},d.canonical),P.get("icon-anchor").evaluate(Ve,{},d.canonical)),Cr=!!it.sdf,d.bucket.sdfIcons===void 0?d.bucket.sdfIcons=Cr:d.bucket.sdfIcons!==Cr&&ue("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),it.pixelRatio!==d.bucket.pixelRatio||P.get("icon-rotate").constantOr(1)!==0)&&(d.bucket.iconsNeedLinear=!0),Ie=$T(Ut.horizontal)||Ut.vertical,d.bucket.iconsInText=!!Ie&&Ie.iconsInText,(Ie||Or)&&(function(lr,_r,gr,Ar,Yt,Kr,Mr,Fr,vn,Gn,Er){let xi=Kr.textMaxSize.evaluate(_r,{});xi===void 0&&(xi=Mr);const Xr=lr.layers[0].layout,Pn=Xr.get("icon-offset").evaluate(_r,{},Er),yi=$T(gr.horizontal),qi=Mr/24,Ol=lr.tilePixelRatio*qi,Ds=lr.tilePixelRatio*xi/24,Xn=lr.tilePixelRatio*Fr,di=lr.tilePixelRatio*Xr.get("symbol-spacing"),VA=Xr.get("text-padding")*lr.tilePixelRatio,wp=(function(Mi,Bi,Ei,Da=1){return Mi=Mi.get("icon-padding").evaluate(Bi,{},Ei),[(Bi=Mi&&Mi.values)[0]*Da,Bi[1]*Da,Bi[2]*Da,Bi[3]*Da]})(Xr,_r,Er,lr.tilePixelRatio),gh=Xr.get("text-max-angle")/180*Math.PI,GA=Xr.get("text-rotation-alignment")!=="viewport"&&Xr.get("symbol-placement")!=="point",vs=Xr.get("icon-rotation-alignment")==="map"&&Xr.get("symbol-placement")!=="point",Ci=Xr.get("symbol-placement"),i0=di/2,hs=Xr.get("icon-text-fit");let As;Ar&&hs!=="none"&&(lr.allowVerticalPlacement&&gr.vertical&&(As=qc(Ar,gr.vertical,hs,Xr.get("icon-text-fit-padding"),Pn,qi)),yi)&&(Ar=qc(Ar,yi,hs,Xr.get("icon-text-fit-padding"),Pn,qi));var _s=(Mi,Bi)=>{if(!(Bi.x<0||Bi.x>=Mt||Bi.y<0||Bi.y>=Mt)){var Ei=lr,Da=Bi;Bi=Mi;var Vo=gr;Mi=Ar;var hc=Yt,pa=As,Bo=lr.layers[0],hl=lr.collisionBoxArray,Ml=_r.index,ds=_r.sourceLayerIndex,Us=lr.index,Fs=Ol,tA=[VA,VA,VA,VA],Nd=GA,xp=vn,Pd=Xn,Iu=wp,rA=vs,a0=Pn,ku=_r,Cp=Kr,Al=Gn,Od=Er,l0=Mr,Pf=Ei.addToLineVertexArray(Da,Bi);let Om,oy,sy,ly,Sx=0,Mm=0,cy=0,Tx=0,Bx=-1,Ep=-1;var Ll={};let uy=v("");if(Ei.allowVerticalPlacement&&Vo.vertical&&(Bi=Bo.layout.get("text-rotate").evaluate(ku,{},Od)+90,o0=Vo.vertical,sy=new e0(hl,Da,Ml,ds,Us,o0,Fs,tA,Nd,Bi),pa)&&(ly=new e0(hl,Da,Ml,ds,Us,pa,Pd,Iu,Nd,Bi)),Mi){var o0=Bo.layout.get("icon-rotate").evaluate(ku,{}),Bi=Bo.layout.get("icon-text-fit")!=="none",R1=Su(Mi,o0,Al,Bi),pa=pa?Su(pa,o0,Al,Bi):void 0,Al=(oy=new e0(hl,Da,Ml,ds,Us,Mi,Pd,Iu,!1,o0),Sx=4*R1.length,Ei.iconSizeData);let Nu=null;Al.kind==="source"?(Nu=[HA*Bo.layout.get("icon-size").evaluate(ku,{})])[0]>Ef&&ue(`${Ei.layerIds[0]}: Value for "icon-size" is >= ${Ah}. Reduce your "icon-size".`):Al.kind==="composite"&&((Nu=[HA*Cp.compositeIconSizes[0].evaluate(ku,{},Od),HA*Cp.compositeIconSizes[1].evaluate(ku,{},Od)])[0]>Ef||Nu[1]>Ef)&&ue(`${Ei.layerIds[0]}: Value for "icon-size" is >= ${Ah}. Reduce your "icon-size".`),Ei.addSymbols(Ei.icon,R1,Nu,a0,rA,ku,i.WritingMode.none,Da,Pf.lineStartIndex,Pf.lineLength,-1,Od),Bx=Ei.icon.placedSymbolArray.length-1,pa&&(Mm=4*pa.length,Ei.addSymbols(Ei.icon,pa,Nu,a0,rA,ku,i.WritingMode.vertical,Da,Pf.lineStartIndex,Pf.lineLength,-1,Od),Ep=Ei.icon.placedSymbolArray.length-1)}var Pm=Object.keys(Vo.horizontal);for(const yh of Pm){var s0=Vo.horizontal[yh],D1=(Om||(uy=v(s0.text),D1=Bo.layout.get("text-rotate").evaluate(ku,{},Od),Om=new e0(hl,Da,Ml,ds,Us,s0,Fs,tA,Nd,D1)),s0.positionedLines.length===1);if(cy+=GT(Ei,Da,s0,hc,Bo,Nd,ku,xp,Pf,Vo.vertical?i.WritingMode.horizontal:i.WritingMode.horizontalOnly,D1?Pm:[yh],Ll,Bx,Cp,Od),D1)break}Vo.vertical&&(Tx+=GT(Ei,Da,Vo.vertical,hc,Bo,Nd,ku,xp,Pf,i.WritingMode.vertical,["vertical"],Ll,Ep,Cp,Od)),Bi=Om?Om.boxStartIndex:Ei.collisionBoxArray.length,Mi=Om?Om.boxEndIndex:Ei.collisionBoxArray.length,Pd=sy?sy.boxStartIndex:Ei.collisionBoxArray.length,Iu=sy?sy.boxEndIndex:Ei.collisionBoxArray.length,Al=oy?oy.boxStartIndex:Ei.collisionBoxArray.length,R1=oy?oy.boxEndIndex:Ei.collisionBoxArray.length,pa=ly?ly.boxStartIndex:Ei.collisionBoxArray.length,a0=ly?ly.boxEndIndex:Ei.collisionBoxArray.length;let $A=-1;rA=(yh,Lm)=>yh&&yh.circleDiameter?Math.max(yh.circleDiameter,Lm):Lm,$A=rA(Om,$A),$A=rA(sy,$A),$A=rA(oy,$A),rA=-1<($A=rA(ly,$A))?1:0,rA&&($A*=l0/zo),Ei.glyphOffsetArray.length>=fh.MAX_GLYPHS&&ue("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ku.sortKey!==void 0&&Ei.addToSortKeyRanges(Ei.symbolInstances.length,ku.sortKey);var l0=N1(Bo,ku,Od),[l0,NM]=(function(yh,Lm){var Ix=yh.length,Nu=Lm?.values;if(0<Nu?.length)for(let U1=0;U1<Nu.length;U1+=2){var WT=i.TextAnchorEnum[Nu[U1]],kx=Nu[U1+1];yh.emplaceBack(WT,kx[0],kx[1])}return[Ix,yh.length]})(Ei.textAnchorOffsets,l0);Ei.symbolInstances.emplaceBack(Da.x,Da.y,0<=Ll.right?Ll.right:-1,0<=Ll.center?Ll.center:-1,0<=Ll.left?Ll.left:-1,Ll.vertical||-1,Bx,Ep,uy,Bi,Mi,Pd,Iu,Al,R1,pa,a0,Ml,cy,Tx,Sx,Mm,rA,0,Fs,$A,l0,NM)}};if(Ci==="line")for(const Mi of kf(_r.geometry,0,0,Mt,Mt))for(const Bi of Xv(Mi,di,gh,gr.vertical||yi,Ar,24,Ds,lr.overscaling,Mt))yi&&(function(Ei,Da,Vo,hc){if(Ei=Ei.compareText,Da in Ei){var pa=Ei[Da];for(let Bo=pa.length-1;0<=Bo;Bo--)if(hc.dist(pa[Bo])<Vo)return 1}else Ei[Da]=[];return Ei[Da].push(hc),0})(lr,yi.text,i0,Bi)||_s(Mi,Bi);else if(Ci==="line-center")for(const Mi of _r.geometry){var Bu;1<Mi.length&&(Bu=(function(Bi,Ei,Da,Vo,hc,pa){var Bo=B1(Da,hc,pa),hl=xx(Da,Vo)*pa;let Ml=0;var ds=T1(Bi)/2;for(let Pd=0;Pd<Bi.length-1;Pd++){var Us,Fs,tA=Bi[Pd],Nd=Bi[Pd+1],xp=tA.dist(Nd);if(Ml+xp>ds)return Us=(ds-Ml)/xp,Fs=oo.number(tA.x,Nd.x,Us),Us=oo.number(tA.y,Nd.y,Us),(Fs=new mh(Fs,Us,Nd.angleTo(tA),Pd))._round(),!Bo||Nm(Bi,Fs,hl,Bo,Ei)?Fs:void 0;Ml+=xp}})(Mi,gh,gr.vertical||yi,Ar,24,Ds))&&_s(Mi,Bu)}else if(_r.type==="Polygon")for(const Mi of Zg(_r.geometry,0)){var eA=I1(Mi,16);_s(Mi[0],new mh(eA.x,eA.y,0))}else if(_r.type==="LineString")for(const Mi of _r.geometry)_s(Mi,new mh(Mi[0].x,Mi[0].y,0));else if(_r.type==="Point")for(const Mi of _r.geometry)for(const Bi of Mi)_s([Bi],new mh(Bi.x,Bi.y,0))})(d.bucket,Ve,Ut,Or,d.imageMap,L,Ot,ge,dr,Cr,d.canonical)}d.showCollisionBoxes&&d.bucket.generateCollisionDebugBuffers()},i.perspective=Hn,i.pick=function(d,u){var g={};for(let T=0;T<u.length;T++){var w=u[T];w in d&&(g[w]=d[w])}return g},i.pointGeometry=s,i.polygonIntersectsPolygon=ir,i.potpack=mx,i.readImageUsingVideoFrame=ke,i.register=Nr,i.removeProtocol=function(d){delete ve.REGISTERED_PROTOCOLS[d]},i.renderColorRamp=hp,i.renderStyleImage=function(d){var u=d.userImage;return!!(u&&u.render&&u.render())&&(d.data.replace(new Uint8Array(u.data.buffer)),!0)},i.rotate=function(d,L,z){var w=L[0],T=L[1],P=L[2],L=L[3],Q=Math.sin(z),z=Math.cos(z);return d[0]=w*z+P*Q,d[1]=T*z+L*Q,d[2]=w*-Q+P*z,d[3]=T*-Q+L*z,d},i.rotateX=function(d,u,T){var w=Math.sin(T),T=Math.cos(T),P=u[4],L=u[5],Q=u[6],z=u[7],ie=u[8],te=u[9],ge=u[10],Ie=u[11];return u!==d&&(d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[4]=P*T+ie*w,d[5]=L*T+te*w,d[6]=Q*T+ge*w,d[7]=z*T+Ie*w,d[8]=ie*T-P*w,d[9]=te*T-L*w,d[10]=ge*T-Q*w,d[11]=Ie*T-z*w,d},i.rotateZ=function(d,u,T){var w=Math.sin(T),T=Math.cos(T),P=u[0],L=u[1],Q=u[2],z=u[3],ie=u[4],te=u[5],ge=u[6],Ie=u[7];return u!==d&&(d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[0]=P*T+ie*w,d[1]=L*T+te*w,d[2]=Q*T+ge*w,d[3]=z*T+Ie*w,d[4]=ie*T-P*w,d[5]=te*T-L*w,d[6]=ge*T-Q*w,d[7]=Ie*T-z*w,d},i.rtlWorkerPlugin=So,i.sameOrigin=Pe,i.scale=function(d,u,P){var w=P[0],T=P[1],P=P[2];return d[0]=u[0]*w,d[1]=u[1]*w,d[2]=u[2]*w,d[3]=u[3]*w,d[4]=u[4]*T,d[5]=u[5]*T,d[6]=u[6]*T,d[7]=u[7]*T,d[8]=u[8]*P,d[9]=u[9]*P,d[10]=u[10]*P,d[11]=u[11]*P,d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},i.scale$1=function(d,u,g){return d[0]=u[0]*g,d[1]=u[1]*g,d[2]=u[2]*g,d},i.sphericalToCartesian=function([d,u,g]){return u=(u+=90)*(Math.PI/180),g*=Math.PI/180,{x:d*Math.cos(u)*Math.sin(g),y:d*Math.sin(u)*Math.sin(g),z:d*Math.cos(g)}},i.sqrLen=oa,i.sub=ui,i.toEvaluationFeature=Pt,i.transformMat3=function(d,P,g){var w=P[0],T=P[1],P=P[2];return d[0]=w*g[0]+T*g[3]+P*g[6],d[1]=w*g[1]+T*g[4]+P*g[7],d[2]=w*g[2]+T*g[5]+P*g[8],d},i.transformMat4=sl,i.transformMat4$1=function(d,T,g){var w=T[0],T=T[1];return d[0]=g[0]*w+g[4]*T+g[12],d[1]=g[1]*w+g[5]*T+g[13],d},i.translate=function(d,u,Ve){var w,T,P,L,Q,z,ie,te,ge,Ie,Fe,je,Ye=Ve[0],it=Ve[1],Ve=Ve[2];return u===d?(d[12]=u[0]*Ye+u[4]*it+u[8]*Ve+u[12],d[13]=u[1]*Ye+u[5]*it+u[9]*Ve+u[13],d[14]=u[2]*Ye+u[6]*it+u[10]*Ve+u[14],d[15]=u[3]*Ye+u[7]*it+u[11]*Ve+u[15]):(w=u[0],T=u[1],P=u[2],L=u[3],Q=u[4],z=u[5],ie=u[6],te=u[7],ge=u[8],Ie=u[9],Fe=u[10],je=u[11],d[0]=w,d[1]=T,d[2]=P,d[3]=L,d[4]=Q,d[5]=z,d[6]=ie,d[7]=te,d[8]=ge,d[9]=Ie,d[10]=Fe,d[11]=je,d[12]=w*Ye+Q*it+ge*Ve+u[12],d[13]=T*Ye+z*it+Ie*Ve+u[13],d[14]=P*Ye+ie*it+Fe*Ve+u[14],d[15]=L*Ye+te*it+je*Ve+u[15]),d},i.unicodeBlockLookup=kr,i.uniqueId=function(){return V++},i.v8Spec=be,i.validateCustomStyleLayer=function(d){var u=[],g=d.id;return g===void 0&&u.push({message:`layers.${g}: missing required property "id"`}),d.render===void 0&&u.push({message:`layers.${g}: missing required method "render"`}),d.renderingMode&&d.renderingMode!=="2d"&&d.renderingMode!=="3d"&&u.push({message:`layers.${g}: property "renderingMode" must be either "2d" or "3d"`}),u},i.validateLight=rh,i.validateStyle=ol,i.vectorTile=wf,i.warnOnce=ue,i.wrap=$}),n("worker",0,function(i){class a{constructor(ye){this.keyCache={},ye&&this.replace(ye)}replace(ye){this._layerConfigs={},this._layers={},this.update(ye,[])}update(ye,we){for(const dt of ye){this._layerConfigs[dt.id]=dt;var Se=this._layers[dt.id]=i.createStyleLayer(dt);Se._featureFilter=i.createFilter(Se.filter),this.keyCache[dt.id]&&delete this.keyCache[dt.id]}for(const dt of we)delete this.keyCache[dt],delete this._layerConfigs[dt],delete this._layers[dt];this.familiesBySource={};for(const dt of i.groupByLayout(Object.values(this._layerConfigs),this.keyCache)){var Je=dt.map(tt=>this._layers[tt.id]),ut=Je[0];if(ut.visibility!=="none"){var xt=ut.source||"";let tt=this.familiesBySource[xt];tt=tt||(this.familiesBySource[xt]={}),xt=ut.sourceLayer||"_geojsonTileLayer";let At=tt[xt];(At=At||(tt[xt]=[])).push(Je)}}}}class o{constructor(ye){var we={},Se=[];for(const Ir in ye){var Je=ye[Ir],ut=we[Ir]={};for(const Rr in Je){var xt,dt=Je[+Rr];dt&&dt.bitmap.width!==0&&dt.bitmap.height!==0&&(xt={x:0,y:0,w:dt.bitmap.width+2,h:dt.bitmap.height+2},Se.push(xt),ut[Rr]={rect:xt,metrics:dt.metrics})}}var{w:tt,h:At}=i.potpack(Se),zt=new i.AlphaImage({width:tt||1,height:At||1});for(const Ir in ye){var qt=ye[Ir];for(const Rr in qt){var or,Sr=qt[+Rr];Sr&&Sr.bitmap.width!==0&&Sr.bitmap.height!==0&&(or=we[Ir][Rr].rect,i.AlphaImage.copy(Sr.bitmap,zt,{x:0,y:0},{x:or.x+1,y:or.y+1},Sr.bitmap))}}this.image=zt,this.positions=we}}i.register("GlyphAtlas",o);class s{constructor(ye){this.tileID=new i.OverscaledTileID(ye.tileID.overscaledZ,ye.tileID.wrap,ye.tileID.canonical.z,ye.tileID.canonical.x,ye.tileID.canonical.y),this.uid=ye.uid,this.zoom=ye.zoom,this.pixelRatio=ye.pixelRatio,this.tileSize=ye.tileSize,this.source=ye.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ye.showCollisionBoxes,this.collectResourceTiming=!!ye.collectResourceTiming,this.returnDependencies=!!ye.returnDependencies,this.promoteId=ye.promoteId,this.inFlightDependencies=[]}parse(ye,we,Se,Je){return i.__awaiter(this,void 0,void 0,function*(){this.status="parsing",this.data=ye,this.collisionBoxArray=new i.CollisionBoxArray;var ut=new i.DictionaryCoder(Object.keys(ye.layers).sort()),xt=new i.FeatureIndex(this.tileID,this.promoteId),dt=(xt.bucketLayerIDs=[],{}),tt={featureIndex:xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Se},At=we.familiesBySource[this.source];for(const Yi in At){var zt=ye.layers[Yi];if(zt){zt.version===1&&i.warnOnce(`Vector tile source "${this.source}" layer "${Yi}" does not use vector tile spec v2 and therefore may have some rendering errors.`);var qt=ut.encode(Yi),or=[];for(let ba=0;ba<zt.length;ba++){var Sr=zt.feature(ba),Ir=xt.getId(Sr,Yi);or.push({feature:Sr,id:Ir,index:ba,sourceLayerIndex:qt})}for(const ba of At[Yi]){var Rr=ba[0];Rr.source!==this.source&&i.warnOnce(`layer.source = ${Rr.source} does not equal this.source = `+this.source),Rr.minzoom&&this.zoom<Math.floor(Rr.minzoom)||Rr.maxzoom&&this.zoom>=Rr.maxzoom||Rr.visibility!=="none"&&(c(ba,this.zoom,Se),(dt[Rr.id]=Rr.createBucket({index:xt.bucketLayerIDs.length,layers:ba,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:qt,sourceID:this.source})).populate(or,tt,this.tileID.canonical),xt.bucketLayerIDs.push(ba.map(Wu=>Wu.id)))}}}var gn=i.mapObject(tt.glyphDependencies,Yi=>Object.keys(Yi).map(Number));this.inFlightDependencies.forEach(Yi=>Yi?.abort()),this.inFlightDependencies=[];let Ln=Promise.resolve({});Object.keys(gn).length&&(An=new AbortController,this.inFlightDependencies.push(An),Ln=Je.sendAsync({type:"GG",data:{stacks:gn,source:this.source,tileID:this.tileID,type:"glyphs"}},An)),gn=Object.keys(tt.iconDependencies);let kn=Promise.resolve({});gn.length&&(An=new AbortController,this.inFlightDependencies.push(An),kn=Je.sendAsync({type:"GI",data:{icons:gn,source:this.source,tileID:this.tileID,type:"icons"}},An));var An,gn=Object.keys(tt.patternDependencies);let dn=Promise.resolve({});gn.length&&(An=new AbortController,this.inFlightDependencies.push(An),dn=Je.sendAsync({type:"GI",data:{icons:gn,source:this.source,tileID:this.tileID,type:"patterns"}},An));var[Dr,Qr,gn]=yield Promise.all([Ln,kn,dn]),Rn=new o(Dr),$i=new i.ImageAtlas(Qr,gn);for(const Yi in dt){var Va=dt[Yi];Va instanceof i.SymbolBucket?(c(Va.layers,this.zoom,Se),i.performSymbolLayout({bucket:Va,glyphMap:Dr,glyphPositions:Rn.positions,imageMap:Qr,imagePositions:$i.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Va.hasPattern&&(Va instanceof i.LineBucket||Va instanceof i.FillBucket||Va instanceof i.FillExtrusionBucket)&&(c(Va.layers,this.zoom,Se),Va.addFeatures(tt,this.tileID.canonical,$i.patternPositions))}return this.status="done",{buckets:Object.values(dt).filter(Yi=>!Yi.isEmpty()),featureIndex:xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Rn.image,imageAtlas:$i,glyphMap:this.returnDependencies?Dr:null,iconMap:this.returnDependencies?Qr:null,glyphPositions:this.returnDependencies?Rn.positions:null}})}}function c(De,ye,we){var Se=new i.EvaluationParameters(ye);for(const Je of De)Je.recalculate(Se,we)}class A{constructor(ye,we,Se){this.actor=ye,this.layerIndex=we,this.availableImages=Se,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ye,we){return i.__awaiter(this,void 0,void 0,function*(){var Se=yield i.getArrayBuffer(ye.request,we);try{return{vectorTile:new i.vectorTile.VectorTile(new i.Protobuf(Se.data)),rawData:Se.data,cacheControl:Se.cacheControl,expires:Se.expires}}catch(Je){Se=new Uint8Array(Se.data),Se=Se[0]===31&&Se[1]===139;let ut=`Unable to parse the tile at ${ye.request.url}, `;throw ut+=Se?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: "+Je.messge,new Error(ut)}})}loadTile(ye){return i.__awaiter(this,void 0,void 0,function*(){var we=ye.uid,Se=!!(ye&&ye.request&&ye.request.collectResourceTiming)&&new i.RequestPerformance(ye.request),Je=new s(ye),ut=(this.loading[we]=Je,new AbortController);Je.abort=ut;try{var xt=yield this.loadVectorTile(ye,ut);if(delete this.loading[we],!xt)return null;var dt,tt=xt.rawData,At={},zt=(xt.expires&&(At.expires=xt.expires),xt.cacheControl&&(At.cacheControl=xt.cacheControl),{}),qt=(Se&&(dt=Se.finish())&&(zt.resourceTiming=JSON.parse(JSON.stringify(dt))),Je.vectorTile=xt.vectorTile,Je.parse(xt.vectorTile,this.layerIndex,this.availableImages,this.actor));this.loaded[we]=Je,this.fetching[we]={rawTileData:tt,cacheControl:At,resourceTiming:zt};try{var or=yield qt;return i.extend({rawTileData:tt.slice(0)},or,At,zt)}finally{delete this.fetching[we]}}catch(Sr){throw delete this.loading[we],Je.status="done",this.loaded[we]=Je,Sr}})}reloadTile(ye){return i.__awaiter(this,void 0,void 0,function*(){var we=ye.uid;if(!this.loaded||!this.loaded[we])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");var Se=this.loaded[we];if(Se.showCollisionBoxes=ye.showCollisionBoxes,Se.status==="parsing"){var Je,ut,xt,dt=yield Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor);return this.fetching[we]?({rawTileData:Je,cacheControl:ut,resourceTiming:xt}=this.fetching[we],delete this.fetching[we],i.extend({rawTileData:Je.slice(0)},dt,ut,xt)):dt}if(Se.status==="done"&&Se.vectorTile)return Se.parse(Se.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(ye){return i.__awaiter(this,void 0,void 0,function*(){var we=this.loading,Se=ye.uid;we&&we[Se]&&we[Se].abort&&(we[Se].abort.abort(),delete we[Se])})}removeTile(ye){return i.__awaiter(this,void 0,void 0,function*(){this.loaded&&this.loaded[ye.uid]&&delete this.loaded[ye.uid]})}}class f{constructor(){this.loaded={}}loadTile(ye){return i.__awaiter(this,void 0,void 0,function*(){var{uid:we,encoding:Se,rawImageData:Je,redFactor:ut,greenFactor:xt,blueFactor:dt,baseShift:tt}=ye,At=Je.width+2,zt=Je.height+2,At=i.isImageBitmap(Je)?new i.RGBAImage({width:At,height:zt},yield i.getImageData(Je,-1,-1,At,zt)):Je,zt=new i.DEMData(we,At,Se,ut,xt,dt,tt);return this.loaded=this.loaded||{},this.loaded[we]=zt})}removeTile(Se){var we=this.loaded,Se=Se.uid;we&&we[Se]&&delete we[Se]}}function y(De,ye){if(De.length!==0){C(De[0],ye);for(var we=1;we<De.length;we++)C(De[we],!ye)}}function C(De,ye){for(var we=0,Se=0,Je=0,ut=De.length,xt=ut-1;Je<ut;xt=Je++){var dt=(De[Je][0]-De[xt][0])*(De[xt][1]+De[Je][1]),tt=we+dt;Se+=Math.abs(we)>=Math.abs(dt)?we-tt+dt:dt-tt+we,we=tt}0<=we+Se!=!!ye&&De.reverse()}var x=i.getDefaultExportFromCjs(function De(ye,we){var Se,Je=ye&&ye.type;if(Je==="FeatureCollection")for(Se=0;Se<ye.features.length;Se++)De(ye.features[Se],we);else if(Je==="GeometryCollection")for(Se=0;Se<ye.geometries.length;Se++)De(ye.geometries[Se],we);else if(Je==="Feature")De(ye.geometry,we);else if(Je==="Polygon")y(ye.coordinates,we);else if(Je==="MultiPolygon")for(Se=0;Se<ye.coordinates.length;Se++)y(ye.coordinates[Se],we);return ye});const k=i.vectorTile.VectorTileFeature.prototype.toGeoJSON;let N=class{constructor(De){this._feature=De,this.extent=i.EXTENT,this.type=De.type,this.properties=De.tags,"id"in De&&!isNaN(De.id)&&(this.id=parseInt(De.id,10))}loadGeometry(){if(this._feature.type===1){var De=[];for(const Se of this._feature.geometry)De.push([new i.Point(Se[0],Se[1])]);return De}var ye=[];for(const Se of this._feature.geometry){var we=[];for(const Je of Se)we.push(new i.Point(Je[0],Je[1]));ye.push(we)}return ye}toGeoJSON(De,ye,we){return k.call(this,De,ye,we)}},M=class{constructor(De){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=De.length,this._features=De}feature(De){return new N(this._features[De])}};var D={exports:{}},H=i.pointGeometry,q=i.vectorTile.VectorTileFeature,$=ce;function ce(De,ye){this.options=ye||{},this.features=De,this.length=De.length}function V(De,ye){this.id=typeof De.id=="number"?De.id:void 0,this.type=De.type,this.rawGeometry=De.type===1?[De.geometry]:De.geometry,this.properties=De.tags,this.extent=ye||4096}ce.prototype.feature=function(De){return new V(this.features[De],this.options.extent)},V.prototype.loadGeometry=function(){var De=this.rawGeometry;this.geometry=[];for(var ye=0;ye<De.length;ye++){for(var we=De[ye],Se=[],Je=0;Je<we.length;Je++)Se.push(new H(we[Je][0],we[Je][1]));this.geometry.push(Se)}return this.geometry},V.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var De=this.geometry,ye=1/0,we=-1/0,Se=1/0,Je=-1/0,ut=0;ut<De.length;ut++)for(var xt=De[ut],dt=0;dt<xt.length;dt++)var tt=xt[dt],ye=Math.min(ye,tt.x),we=Math.max(we,tt.x),Se=Math.min(Se,tt.y),Je=Math.max(Je,tt.y);return[ye,Se,we,Je]},V.prototype.toGeoJSON=q.prototype.toGeoJSON;var he=i.pbf,le=$;function fe(De){var ye,we=new he,Se=De,Je=we;for(ye in Se.layers)Je.writeMessage(3,Ne,Se.layers[ye]);return we.finish()}function Ne(De,ye){ye.writeVarintField(15,De.version||1),ye.writeStringField(1,De.name||""),ye.writeVarintField(5,De.extent||4096);for(var we={keys:[],values:[],keycache:{},valuecache:{}},Se=0;Se<De.length;Se++)we.feature=De.feature(Se),ye.writeMessage(2,W,we);var Je=we.keys;for(Se=0;Se<Je.length;Se++)ye.writeStringField(3,Je[Se]);var ut=we.values;for(Se=0;Se<ut.length;Se++)ye.writeMessage(4,Ee,ut[Se])}function W(De,ye){var we=De.feature;we.id!==void 0&&ye.writeVarintField(1,we.id),ye.writeMessage(2,ue,De),ye.writeVarintField(3,we.type),ye.writeMessage(4,Qe,we)}function ue(De,ye){var we,Se=De.feature,Je=De.keys,ut=De.values,xt=De.keycache,dt=De.valuecache;for(we in Se.properties){var tt,At=Se.properties[we],zt=xt[we];At!==null&&(zt===void 0&&(Je.push(we),zt=Je.length-1,xt[we]=zt),ye.writeVarint(zt),(tt=dt[zt=(zt=typeof At)+":"+(At=zt!="string"&&zt!="boolean"&&zt!="number"?JSON.stringify(At):At)])===void 0&&(ut.push(At),tt=ut.length-1,dt[zt]=tt),ye.writeVarint(tt))}}function de(De,ye){return(ye<<3)+(7&De)}function me(De){return De<<1^De>>31}function Qe(De,ye){for(var we=De.loadGeometry(),Se=De.type,Je=0,ut=0,xt=we.length,dt=0;dt<xt;dt++){for(var tt=we[dt],At=1,zt=(Se===1&&(At=tt.length),ye.writeVarint(de(1,At)),Se===3?tt.length-1:tt.length),qt=0;qt<zt;qt++){qt===1&&Se!==1&&ye.writeVarint(de(2,zt-1));var or=tt[qt].x-Je,Sr=tt[qt].y-ut;ye.writeVarint(me(or)),ye.writeVarint(me(Sr)),Je+=or,ut+=Sr}Se===3&&ye.writeVarint(15)}}function Ee(De,ye){var we=typeof De;we=="string"?ye.writeStringField(1,De):we=="boolean"?ye.writeBooleanField(7,De):we=="number"&&(De%1!=0?ye.writeDoubleField(3,De):De<0?ye.writeSVarintField(6,De):ye.writeVarintField(5,De))}D.exports=fe,D.exports.fromVectorTileJs=fe,D.exports.fromGeojsonVt=function(De,ye){ye=ye||{};var we,Se={};for(we in De)Se[we]=new le(De[we].features,ye),Se[we].name=we,Se[we].version=ye.version,Se[we].extent=ye.extent;return fe({layers:Se})},D.exports.GeoJSONWrapper=le;var _e,ke=i.getDefaultExportFromCjs(D.exports);const We={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:De=>De},Oe=Math.fround||(_e=new Float32Array(1),De=>(_e[0]=+De,_e[0])),ze=3,ne=5,ae=6;class ve{constructor(ye){this.options=Object.assign(Object.create(We),ye),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ye){var{log:we,minZoom:Se,maxZoom:Je}=this.options,ut=(we&&console.time("total time"),`prepare ${ye.length} points`),xt=(we&&console.time(ut),this.points=ye,[]);for(let qt=0;qt<ye.length;qt++){var dt,tt=ye[qt];tt.geometry&&([tt,dt]=tt.geometry.coordinates,tt=Oe(Ze(tt)),dt=Oe(st(dt)),xt.push(tt,dt,1/0,qt,-1,1),this.options.reduce)&&xt.push(0)}let At=this.trees[Je+1]=this._createTree(xt);we&&console.timeEnd(ut);for(let qt=Je;qt>=Se;qt--){var zt=+Date.now();At=this.trees[qt]=this._createTree(this._cluster(At,qt)),we&&console.log("z%d: %d clusters in %dms",qt,At.numItems,+Date.now()-zt)}return we&&console.timeEnd("total time"),this}getClusters(dt,we){let Se=((dt[0]+180)%360+360)%360-180;var Je=Math.max(-90,Math.min(90,dt[1]));let ut=dt[2]===180?180:((dt[2]+180)%360+360)%360-180;var xt=Math.max(-90,Math.min(90,dt[3]));if(360<=dt[2]-dt[0])Se=-180,ut=180;else if(Se>ut)return dt=this.getClusters([Se,Je,180,xt],we),tt=this.getClusters([-180,Je,ut,xt],we),dt.concat(tt);var dt=this.trees[this._limitZoom(we)],tt=dt.range(Ze(Se),st(xt),Ze(ut),st(Je)),At=dt.data,zt=[];for(const or of tt){var qt=this.stride*or;zt.push(1<At[qt+ne]?Re(At,qt,this.clusterProps):this.points[At[qt+ze]])}return zt}getChildren(ye){var dt=this._getOriginId(ye),ut=this._getOriginZoom(ye),we="No cluster with the specified id.",Se=this.trees[ut];if(!Se)throw new Error(we);var Je=Se.data;if(dt*this.stride>=Je.length)throw new Error(we);var ut=this.options.radius/(this.options.extent*Math.pow(2,ut-1)),xt=Je[dt*this.stride],dt=Je[dt*this.stride+1],tt=[];for(const zt of Se.within(xt,dt,ut)){var At=zt*this.stride;Je[4+At]===ye&&tt.push(1<Je[At+ne]?Re(Je,At,this.clusterProps):this.points[Je[At+ze]])}if(tt.length===0)throw new Error(we);return tt}getLeaves(ye,we,Se){var Je=[];return this._appendLeaves(Je,ye,we=we||10,Se=Se||0,0),Je}getTile(ut,we,Se){var Je=this.trees[this._limitZoom(ut)],ut=Math.pow(2,ut),{extent:dt,radius:xt}=this.options,xt=xt/dt,dt=(Se-xt)/ut,tt=(Se+1+xt)/ut,At={features:[]};return this._addTileFeatures(Je.range((we-xt)/ut,dt,(we+1+xt)/ut,tt),Je.data,we,Se,ut,At),we===0&&this._addTileFeatures(Je.range(1-xt/ut,dt,1,tt),Je.data,ut,Se,ut,At),we===ut-1&&this._addTileFeatures(Je.range(0,dt,xt/ut,tt),Je.data,-1,Se,ut,At),At.features.length?At:null}getClusterExpansionZoom(ye){let we=this._getOriginZoom(ye)-1;for(;we<=this.options.maxZoom;){var Se=this.getChildren(ye);if(we++,Se.length!==1)break;ye=Se[0].properties.cluster_id}return we}_appendLeaves(ye,we,Se,Je,ut){for(const dt of this.getChildren(we)){var xt=dt.properties;if(xt&&xt.cluster?ut+xt.point_count<=Je?ut+=xt.point_count:ut=this._appendLeaves(ye,xt.cluster_id,Se,Je,ut):ut<Je?ut++:ye.push(dt),ye.length===Se)break}return ut}_createTree(ye){var we=new i.KDBush(ye.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Se=0;Se<ye.length;Se+=this.stride)we.add(ye[Se],ye[Se+1]);return we.finish(),we.data=ye,we}_addTileFeatures(ye,we,Se,Je,ut,xt){for(const qt of ye){var dt,tt=qt*this.stride,At=1<we[tt+ne];let or,Sr,Ir;Ir=At?(or=qe(we,tt,this.clusterProps),Sr=we[tt],we[1+tt]):(zt=this.points[we[tt+ze]],[zt,dt]=(or=zt.properties,zt.geometry.coordinates),Sr=Ze(zt),st(dt));var zt={type:1,geometry:[[Math.round(this.options.extent*(Sr*ut-Se)),Math.round(this.options.extent*(Ir*ut-Je))]],tags:or};let Rr;(Rr=At||this.options.generateId?we[tt+ze]:this.points[we[tt+ze]].id)!==void 0&&(zt.id=Rr),xt.features.push(zt)}}_limitZoom(ye){return Math.max(this.options.minZoom,Math.min(Math.floor(+ye),this.options.maxZoom+1))}_cluster(ye,we){var{radius:Se,extent:Je,reduce:ut,minPoints:xt}=this.options,dt=Se/(Je*Math.pow(2,we)),tt=ye.data,At=[],zt=this.stride;for(let Dr=0;Dr<tt.length;Dr+=zt)if(!(tt[Dr+2]<=we)){tt[Dr+2]=we;var qt=tt[Dr],or=tt[Dr+1],Sr=ye.within(tt[Dr],tt[Dr+1],dt),Ir=tt[Dr+ne];let Qr=Ir;for(const gn of Sr){var Rr=gn*zt;tt[2+Rr]>we&&(Qr+=tt[Rr+ne])}if(Qr>Ir&&Qr>=xt){let gn=qt*Ir,Rn=or*Ir,$i,Va=-1;var Ln=((Dr/zt|0)<<5)+(we+1)+this.points.length;for(const Yi of Sr){var kn,An=Yi*zt;tt[2+An]<=we||(tt[2+An]=we,kn=tt[An+ne],gn+=tt[An]*kn,Rn+=tt[1+An]*kn,tt[4+An]=Ln,ut&&($i||($i=this._map(tt,Dr,!0),Va=this.clusterProps.length,this.clusterProps.push($i)),ut($i,this._map(tt,An))))}tt[Dr+4]=Ln,At.push(gn/Qr,Rn/Qr,1/0,Ln,-1,Qr),ut&&At.push(Va)}else{for(let gn=0;gn<zt;gn++)At.push(tt[Dr+gn]);if(1<Qr)for(const gn of Sr){var dn=gn*zt;if(!(tt[2+dn]<=we)){tt[2+dn]=we;for(let Rn=0;Rn<zt;Rn++)At.push(tt[dn+Rn])}}}}return At}_getOriginId(ye){return ye-this.points.length>>5}_getOriginZoom(ye){return(ye-this.points.length)%32}_map(ye,we,Se){var Je;return 1<ye[we+ne]?(Je=this.clusterProps[ye[we+ae]],Se?Object.assign({},Je):Je):(Je=this.points[ye[we+ze]].properties,ye=this.options.map(Je),Se&&ye===Je?Object.assign({},ye):ye)}}function Re(De,ye,we){return{type:"Feature",id:De[ye+ze],properties:qe(De,ye,we),geometry:{type:"Point",coordinates:[360*(De[ye]-.5),(function(Se){return Se=(180-360*Se)*Math.PI/180,360*Math.atan(Math.exp(Se))/Math.PI-90})(De[ye+1])]}}}function qe(De,ye,xt){var Se=De[ye+ne],Je=1e4<=Se?Math.round(Se/1e3)+"k":1e3<=Se?Math.round(Se/100)/10+"k":Se,ut=De[ye+ae],xt=ut===-1?{}:Object.assign({},xt[ut]);return Object.assign(xt,{cluster:!0,cluster_id:De[ye+ze],point_count:Se,point_count_abbreviated:Je})}function Ze(De){return De/360+.5}function st(De){return De=Math.sin(De*Math.PI/180),De=.5-.25*Math.log((1+De)/(1-De))/Math.PI,De<0?0:1<De?1:De}function ot(De,ye,we,Se){for(var Je,ut=Se,xt=we-ye>>1,dt=we-ye,tt=De[ye],At=De[ye+1],zt=De[we],qt=De[we+1],or=ye+3;or<we;or+=3){var Sr=(function(Ir,Rr,Ln,kn,An,dn){var Dr=An-Ln,Qr=dn-kn;{var gn;Dr==0&&Qr==0||(1<(gn=((Ir-Ln)*Dr+(Rr-kn)*Qr)/(Dr*Dr+Qr*Qr))?(Ln=An,kn=dn):0<gn&&(Ln+=Dr*gn,kn+=Qr*gn))}return(Dr=Ir-Ln)*Dr+(Qr=Rr-kn)*Qr})(De[or],De[or+1],tt,At,zt,qt);ut<Sr?(Je=or,ut=Sr):Sr===ut&&(Sr=Math.abs(or-xt))<dt&&(Je=or,dt=Sr)}Se<ut&&(3<Je-ye&&ot(De,ye,Je,Se),De[Je+2]=ut,3<we-Je)&&ot(De,Je,we,Se)}function yt(Je,dt,we,Se){var Je={id:Je===void 0?null:Je,type:dt,geometry:we,tags:Se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},ut=Je,xt=ut.geometry,dt=ut.type;if(dt==="Point"||dt==="MultiPoint"||dt==="LineString")Pe(ut,xt);else if(dt==="Polygon"||dt==="MultiLineString")for(var tt=0;tt<xt.length;tt++)Pe(ut,xt[tt]);else if(dt==="MultiPolygon")for(tt=0;tt<xt.length;tt++)for(var At=0;At<xt[tt].length;At++)Pe(ut,xt[tt][At]);return Je}function Pe(De,ye){for(var we=0;we<ye.length;we+=3)De.minX=Math.min(De.minX,ye[we]),De.minY=Math.min(De.minY,ye[we+1]),De.maxX=Math.max(De.maxX,ye[we]),De.maxY=Math.max(De.maxY,ye[we+1])}function oe(De,ye,we,Se){if(ye.geometry){var Je=ye.geometry.coordinates,ut=ye.geometry.type,xt=Math.pow(we.tolerance/((1<<we.maxZoom)*we.extent),2),dt=[],tt=ye.id;if(we.promoteId?tt=ye.properties[we.promoteId]:we.generateId&&(tt=Se||0),ut==="Point")pe(Je,dt);else if(ut==="MultiPoint")for(var At=0;At<Je.length;At++)pe(Je[At],dt);else if(ut==="LineString")J(Je,dt,xt,!1);else if(ut==="MultiLineString"){if(we.lineMetrics){for(At=0;At<Je.length;At++)J(Je[At],dt=[],xt,!1),De.push(yt(tt,"LineString",dt,ye.properties));return}re(Je,dt,xt,!1)}else if(ut==="Polygon")re(Je,dt,xt,!0);else{if(ut!=="MultiPolygon"){if(ut!=="GeometryCollection")throw new Error("Input data is not a valid GeoJSON object.");for(At=0;At<ye.geometry.geometries.length;At++)oe(De,{id:tt,geometry:ye.geometry.geometries[At],properties:ye.properties},we,Se);return}for(At=0;At<Je.length;At++){var zt=[];re(Je[At],zt,xt,!0),dt.push(zt)}}De.push(yt(tt,ut,dt,ye.properties))}}function pe(De,ye){ye.push(Ue(De[0])),ye.push(be(De[1])),ye.push(0)}function J(De,ye,we,Se){for(var Je,ut,xt=0,dt=0;dt<De.length;dt++){var tt=Ue(De[dt][0]),At=be(De[dt][1]);ye.push(tt),ye.push(At),ye.push(0),0<dt&&(xt+=Se?(Je*At-tt*ut)/2:Math.sqrt(Math.pow(tt-Je,2)+Math.pow(At-ut,2))),Je=tt,ut=At}var zt=ye.length-3;ye[2]=1,ot(ye,0,zt,we),ye[2+zt]=1,ye.size=Math.abs(xt),ye.start=0,ye.end=ye.size}function re(De,ye,we,Se){for(var Je=0;Je<De.length;Je++){var ut=[];J(De[Je],ut,we,Se),ye.push(ut)}}function Ue(De){return De/360+.5}function be(De){return De=Math.sin(De*Math.PI/180),De=.5-.25*Math.log((1+De)/(1-De))/Math.PI,De<0?0:1<De?1:De}function et(De,ye,we,Se,Je,ut,xt,dt){if(Se/=ye,(we/=ye)<=ut&&xt<Se)return De;if(xt<we||Se<=ut)return null;for(var tt=[],At=0;At<De.length;At++){var zt=De[At],qt=zt.geometry,or=zt.type,Sr=Je===0?zt.minX:zt.minY,Ir=Je===0?zt.maxX:zt.maxY;if(we<=Sr&&Ir<Se)tt.push(zt);else if(!(Ir<we||Se<=Sr)){var Rr=[];if(or==="Point"||or==="MultiPoint"){gn=Qr=Dr=dn=An=kn=Ln=void 0;for(var Ln=qt,kn=Rr,An=we,dn=Se,Dr=Je,Qr=0;Qr<Ln.length;Qr+=3){var gn=Ln[Qr+Dr];An<=gn&&gn<=dn&&(kn.push(Ln[Qr]),kn.push(Ln[Qr+1]),kn.push(Ln[Qr+2]))}}else if(or==="LineString")Ke(qt,Rr,we,Se,Je,!1,dt.lineMetrics);else if(or==="MultiLineString")_t(qt,Rr,we,Se,Je,!1);else if(or==="Polygon")_t(qt,Rr,we,Se,Je,!0);else if(or==="MultiPolygon")for(var Rn=0;Rn<qt.length;Rn++){var $i=[];_t(qt[Rn],$i,we,Se,Je,!0),$i.length&&Rr.push($i)}if(Rr.length)if(dt.lineMetrics&&or==="LineString")for(Rn=0;Rn<Rr.length;Rn++)tt.push(yt(zt.id,or,Rr[Rn],zt.tags));else or!=="LineString"&&or!=="MultiLineString"||(Rr.length===1?(or="LineString",Rr=Rr[0]):or="MultiLineString"),or!=="Point"&&or!=="MultiPoint"||(or=Rr.length===3?"Point":"MultiPoint"),tt.push(yt(zt.id,or,Rr,zt.tags))}}return tt.length?tt:null}function Ke(De,ye,we,Se,Je,ut,xt){for(var dt,tt,At=mt(De),zt=Je===0?Gt:tr,qt=De.start,or=0;or<De.length-3;or+=3){var dn=De[or],Dr=De[or+1],Qr=De[or+2],Sr=De[or+3],Ir=De[or+4],Rr=Je===0?dn:Dr,Ln=Je===0?Sr:Ir,kn=!1;xt&&(dt=Math.sqrt(Math.pow(dn-Sr,2)+Math.pow(Dr-Ir,2))),Rr<we?we<Ln&&(tt=zt(At,dn,Dr,Sr,Ir,we),xt)&&(At.start=qt+dt*tt):Se<Rr?Ln<Se&&(tt=zt(At,dn,Dr,Sr,Ir,Se),xt)&&(At.start=qt+dt*tt):Kt(At,dn,Dr,Qr),Ln<we&&we<=Rr&&(tt=zt(At,dn,Dr,Sr,Ir,we),kn=!0),Se<Ln&&Rr<=Se&&(tt=zt(At,dn,Dr,Sr,Ir,Se),kn=!0),!ut&&kn&&(xt&&(At.end=qt+dt*tt),ye.push(At),At=mt(De)),xt&&(qt+=dt)}var An=De.length-3,dn=De[An],Dr=De[1+An],Qr=De[2+An];we<=(Rr=Je===0?dn:Dr)&&Rr<=Se&&Kt(At,dn,Dr,Qr),An=At.length-3,ut&&3<=An&&(At[An]!==At[0]||At[1+An]!==At[1])&&Kt(At,At[0],At[1],At[2]),At.length&&ye.push(At)}function mt(De){var ye=[];return ye.size=De.size,ye.start=De.start,ye.end=De.end,ye}function _t(De,ye,we,Se,Je,ut){for(var xt=0;xt<De.length;xt++)Ke(De[xt],ye,we,Se,Je,ut,!1)}function Kt(De,ye,we,Se){De.push(ye),De.push(we),De.push(Se)}function Gt(De,ye,we,Se,Je,ut){return Se=(ut-ye)/(Se-ye),De.push(ut),De.push(we+(Je-we)*Se),De.push(1),Se}function tr(De,ye,we,Se,Je,ut){return Je=(ut-we)/(Je-we),De.push(ye+(Se-ye)*Je),De.push(ut),De.push(1),Je}function ur(De,ye){for(var we=[],Se=0;Se<De.length;Se++){var Je=De[Se],ut=Je.type;if(ut==="Point"||ut==="MultiPoint"||ut==="LineString")xt=nt(Je.geometry,ye);else if(ut==="MultiLineString"||ut==="Polygon")for(var xt=[],dt=0;dt<Je.geometry.length;dt++)xt.push(nt(Je.geometry[dt],ye));else if(ut==="MultiPolygon")for(xt=[],dt=0;dt<Je.geometry.length;dt++){for(var tt=[],At=0;At<Je.geometry[dt].length;At++)tt.push(nt(Je.geometry[dt][At],ye));xt.push(tt)}we.push(yt(Je.id,ut,xt,Je.tags))}return we}function nt(De,ye){var we=[];we.size=De.size,De.start!==void 0&&(we.start=De.start,we.end=De.end);for(var Se=0;Se<De.length;Se+=3)we.push(De[Se]+ye,De[Se+1],De[Se+2]);return we}function rt(De,ye){if(!De.transformed){for(var we,Se=1<<De.z,Je=De.x,ut=De.y,xt=0;xt<De.features.length;xt++){var dt=De.features[xt],tt=dt.geometry,At=dt.type;if(dt.geometry=[],At===1)for(we=0;we<tt.length;we+=2)dt.geometry.push(Ht(tt[we],tt[we+1],ye,Se,Je,ut));else for(we=0;we<tt.length;we++){for(var zt=[],qt=0;qt<tt[we].length;qt+=2)zt.push(Ht(tt[we][qt],tt[we][qt+1],ye,Se,Je,ut));dt.geometry.push(zt)}}De.transformed=!0}return De}function Ht(De,ye,we,Se,Je,ut){return[Math.round(we*(De*Se-Je)),Math.round(we*(ye*Se-ut))]}function Tt(De,ye,we,Se,Je){for(var ut=ye===Je.maxZoom?0:Je.tolerance/((1<<ye)*Je.extent),xt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:we,y:Se,z:ye,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},dt=0;dt<De.length;dt++){xt.numFeatures++,An=kn=Ln=Rr=Ir=Sr=or=qt=dn=zt=At=tt=void 0;var tt=xt,At=De[dt],zt=ut,dn=Je,qt=At.geometry,or=At.type,Sr=[];if(or==="Point"||or==="MultiPoint")for(var Ir=0;Ir<qt.length;Ir+=3)Sr.push(qt[Ir]),Sr.push(qt[Ir+1]),tt.numPoints++,tt.numSimplified++;else if(or==="LineString")Jt(Sr,qt,tt,zt,!1,!1);else if(or==="MultiLineString"||or==="Polygon")for(Ir=0;Ir<qt.length;Ir++)Jt(Sr,qt[Ir],tt,zt,or==="Polygon",Ir===0);else if(or==="MultiPolygon")for(var Rr=0;Rr<qt.length;Rr++){var Ln=qt[Rr];for(Ir=0;Ir<Ln.length;Ir++)Jt(Sr,Ln[Ir],tt,zt,!0,Ir===0)}if(Sr.length){var kn=At.tags||null;if(or==="LineString"&&dn.lineMetrics){for(var An in kn={},At.tags)kn[An]=At.tags[An];kn.mapbox_clip_start=qt.start/qt.size,kn.mapbox_clip_end=qt.end/qt.size}dn={geometry:Sr,type:or==="Polygon"||or==="MultiPolygon"?3:or==="LineString"||or==="MultiLineString"?2:1,tags:kn},At.id!==null&&(dn.id=At.id),tt.features.push(dn)}var dn=De[dt].minX,Dr=De[dt].minY,Qr=De[dt].maxX,gn=De[dt].maxY;dn<xt.minX&&(xt.minX=dn),Dr<xt.minY&&(xt.minY=Dr),xt.maxX<Qr&&(xt.maxX=Qr),xt.maxY<gn&&(xt.maxY=gn)}return xt}function Jt(De,ye,we,Se,Je,ut){var xt=Se*Se;if(0<Se&&ye.size<(Je?xt:Se))we.numPoints+=ye.length/3;else{for(var dt=[],tt=0;tt<ye.length;tt+=3)(Se===0||ye[tt+2]>xt)&&(we.numSimplified++,dt.push(ye[tt]),dt.push(ye[tt+1])),we.numPoints++;if(Je){for(var At=dt,Je=ut,zt=0,qt=0,or=At.length,Sr=or-2;qt<or;Sr=qt,qt+=2)zt+=(At[qt]-At[Sr])*(At[qt+1]+At[Sr+1]);if(0<zt===Je)for(qt=0,or=At.length;qt<or/2;qt+=2){var Ir=At[qt],Rr=At[qt+1];At[qt]=At[or-2-qt],At[qt+1]=At[or-1-qt],At[or-2-qt]=Ir,At[or-1-qt]=Rr}}De.push(dt)}}function rr(De,ye){return new St(De,ye)}function St(tt,ye){var we=(ye=this.options=(function(At,zt){for(var qt in zt)At[qt]=zt[qt];return At})(Object.create(this.options),ye)).debug;if(we&&console.time("preprocess data"),ye.maxZoom<0||24<ye.maxZoom)throw new Error("maxZoom should be in the 0-24 range");if(ye.promoteId&&ye.generateId)throw new Error("promoteId and generateId cannot be used together.");var Se,Je,ut,xt,dt,tt=(function(At,zt){var qt=[];if(At.type==="FeatureCollection")for(var or=0;or<At.features.length;or++)oe(qt,At.features[or],zt,or);else At.type==="Feature"?oe(qt,At,zt):oe(qt,{geometry:At},zt);return qt})(tt,ye);this.tiles={},this.tileCoords=[],we&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ye.indexMaxZoom,ye.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Se=tt,Je=(ye=ye).buffer/ye.extent,xt=et(ut=Se,1,-1-Je,Je,0,-1,2,ye),dt=et(Se,1,1-Je,2+Je,0,-1,2,ye),(tt=ut=(xt||dt)&&(ut=et(Se,1,-Je,1+Je,0,-1,2,ye)||[],xt&&(ut=ur(xt,1).concat(ut)),dt)?ut.concat(ur(dt,-1)):ut).length&&this.splitTile(tt,0,0,0),we&&(tt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Vt(De,ye,we){return 32*((1<<De)*we+ye)+De}function Nt(De,ye){return ye?De.properties[ye]:De.id}function yr(De,ye){if(De==null)return 1;if(De.type==="Feature")return Nt(De,ye)!=null;if(De.type==="FeatureCollection"){var we=new Set;for(const Je of De.features){var Se=Nt(Je,ye);if(Se==null||we.has(Se))return;we.add(Se)}return 1}}function Gr(De,ye){var we=new Map;if(De!=null)if(De.type==="Feature")we.set(Nt(De,ye),De);else for(const Se of De.features)we.set(Nt(Se,ye),Se);return we}function Xt(De,ye,we){if(ye.removeAll&&De.clear(),ye.remove)for(const tt of ye.remove)De.delete(tt);if(ye.add)for(const tt of ye.add){var Se=Nt(tt,we);Se!=null&&De.set(Se,tt)}if(ye.update)for(const tt of ye.update){let At=De.get(tt.id);if(At!=null){var Je=tt.newGeometry||tt.removeAllProperties,ut=!tt.removeAllProperties&&(0<((ut=tt.removeProperties)==null?void 0:ut.length)||0<((ut=tt.addOrUpdateProperties)==null?void 0:ut.length));if((Je||ut)&&(At=Object.assign({},At),De.set(tt.id,At),ut)&&(At.properties=Object.assign({},At.properties)),tt.newGeometry&&(At.geometry=tt.newGeometry),tt.removeAllProperties)At.properties={};else if(0<((Je=tt.removeProperties)==null?void 0:Je.length))for(const zt of tt.removeProperties)Object.prototype.hasOwnProperty.call(At.properties,zt)&&delete At.properties[zt];if(0<((Je=tt.addOrUpdateProperties)==null?void 0:Je.length))for(var{key:xt,value:dt}of tt.addOrUpdateProperties)At.properties[xt]=dt}}}St.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},St.prototype.splitTile=function(De,ye,we,Se,Je,ut,xt){for(var dt=[De,ye,we,Se],tt=this.options,At=tt.debug;dt.length;){Se=dt.pop(),we=dt.pop(),ye=dt.pop(),De=dt.pop();var zt,qt,or,Sr,Ir,Rr,Ln,kn,An,dn=1<<ye,Dr=Vt(ye,we,Se),Qr=this.tiles[Dr];if(Qr||(1<At&&console.time("creation"),Qr=this.tiles[Dr]=Tt(De,ye,we,Se,tt),this.tileCoords.push({z:ye,x:we,y:Se}),At&&(1<At&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ye,we,Se,Qr.numFeatures,Qr.numPoints,Qr.numSimplified),console.timeEnd("creation")),this.stats[Dr="z"+ye]=(this.stats[Dr]||0)+1,this.total++)),Qr.source=De,Je){if(ye===tt.maxZoom||ye===Je)continue;var Dr=1<<Je-ye;if(we!==Math.floor(ut/Dr)||Se!==Math.floor(xt/Dr))continue}else if(ye===tt.indexMaxZoom||Qr.numPoints<=tt.indexMaxPoints)continue;Qr.source=null,De.length!==0&&(1<At&&console.time("clipping"),zt=.5-(Dr=.5*tt.buffer/tt.extent),or=1+Dr,Ln=Sr=Ir=Rr=null,kn=et(De,dn,we-Dr,we+(qt=.5+Dr),0,Qr.minX,Qr.maxX,tt),An=et(De,dn,we+zt,we+or,0,Qr.minX,Qr.maxX,tt),De=null,kn&&(Ln=et(kn,dn,Se-Dr,Se+qt,1,Qr.minY,Qr.maxY,tt),Sr=et(kn,dn,Se+zt,Se+or,1,Qr.minY,Qr.maxY,tt),kn=null),An&&(Ir=et(An,dn,Se-Dr,Se+qt,1,Qr.minY,Qr.maxY,tt),Rr=et(An,dn,Se+zt,Se+or,1,Qr.minY,Qr.maxY,tt),An=null),1<At&&console.timeEnd("clipping"),dt.push(Ln||[],ye+1,2*we,2*Se),dt.push(Sr||[],ye+1,2*we,2*Se+1),dt.push(Ir||[],ye+1,2*we+1,2*Se),dt.push(Rr||[],ye+1,2*we+1,2*Se+1))}},St.prototype.getTile=function(De,ye,we){var Je=this.options,Se=Je.extent,Je=Je.debug;if(De<0||24<De)return null;var ut=1<<De,ut=Vt(De,ye=(ye%ut+ut)%ut,we);if(this.tiles[ut])return rt(this.tiles[ut],Se);1<Je&&console.log("drilling down to z%d-%d-%d",De,ye,we);for(var xt,dt=De,tt=ye,At=we;!xt&&0<dt;)dt--,tt=Math.floor(tt/2),At=Math.floor(At/2),xt=this.tiles[Vt(dt,tt,At)];return xt&&xt.source&&(1<Je&&console.log("found parent tile z%d-%d-%d",dt,tt,At),1<Je&&console.time("drilling down"),this.splitTile(xt.source,dt,tt,At,De,ye,we),1<Je&&console.timeEnd("drilling down"),this.tiles[ut])?rt(this.tiles[ut],Se):null};class on extends A{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ye,we){return i.__awaiter(this,void 0,void 0,function*(){var Se=ye.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");if(Se=this._geoJSONIndex.getTile(Se.z,Se.x,Se.y),!Se)return null;Se=new M(Se.features);let Je=ke(Se);return{vectorTile:Se,rawData:(Je=Je.byteOffset===0&&Je.byteLength===Je.buffer.byteLength?Je:new Uint8Array(Je)).buffer}})}loadData(ye){return i.__awaiter(this,void 0,void 0,function*(){(we=this._pendingRequest)!=null&&we.abort();var we=!!(ye&&ye.request&&ye.request.collectResourceTiming)&&new i.RequestPerformance(ye.request);this._pendingRequest=new AbortController;try{let xt=yield this.loadGeoJSON(ye,this._pendingRequest);if(delete this._pendingRequest,typeof xt!="object")throw new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`);if(x(xt,!0),ye.filter){const dt=i.createExpression(ye.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(dt.result==="error")throw new Error(dt.value.map(tt=>tt.key+": "+tt.message).join(", "));var Se=xt.features.filter(tt=>dt.value.evaluate({zoom:0},tt));xt={type:"FeatureCollection",features:Se}}this._geoJSONIndex=ye.cluster?new ve($r(ye)).load(xt.features):rr(xt,ye.geojsonVtOptions),this.loaded={};var Je,ut={};return we&&(Je=we.finish())&&(ut.resourceTiming={},ut.resourceTiming[ye.source]=JSON.parse(JSON.stringify(Je))),ut}catch(xt){if(delete this._pendingRequest,i.isAbortError(xt))return{abandoned:!0};throw xt}})}reloadTile(ye){var we=this.loaded,Se=ye.uid;return we&&we[Se]?super.reloadTile(ye):this.loadTile(ye)}loadGeoJSON(ye,we){return i.__awaiter(this,void 0,void 0,function*(){var Se,Je=ye.promoteId;if(ye.request)return Se=yield i.getJSON(ye.request,we),this._dataUpdateable=yr(Se.data,Je)?Gr(Se.data,Je):void 0,Se.data;if(typeof ye.data=="string")try{var ut=JSON.parse(ye.data);return this._dataUpdateable=yr(ut,Je)?Gr(ut,Je):void 0,ut}catch{throw new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`)}if(!ye.dataDiff)throw new Error(`Input data given to '${ye.source}' is not a valid GeoJSON object.`);if(this._dataUpdateable)return Xt(this._dataUpdateable,ye.dataDiff,Je),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())};throw new Error("Cannot update existing geojson data in "+ye.source)})}removeSource(ye){return i.__awaiter(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ye){return this._geoJSONIndex.getClusterExpansionZoom(ye.clusterId)}getClusterChildren(ye){return this._geoJSONIndex.getChildren(ye.clusterId)}getClusterLeaves(ye){return this._geoJSONIndex.getLeaves(ye.clusterId,ye.limit,ye.offset)}}function $r({superclusterOptions:De,clusterProperties:ye}){if(ye&&De){const Je={},ut={},xt={accumulated:null,zoom:0},dt={properties:null},tt=Object.keys(ye);for(const At of tt){var[Se,we]=ye[At],we=i.createExpression(we),Se=i.createExpression(typeof Se=="string"?[Se,["accumulated"],["get",At]]:Se);Je[At]=we.value,ut[At]=Se.value}De.map=At=>{dt.properties=At;var zt={};for(const qt of tt)zt[qt]=Je[qt].evaluate(xt,dt);return zt},De.reduce=(At,zt)=>{dt.properties=zt;for(const qt of tt)xt.accumulated=At[qt],At[qt]=ut[qt].evaluate(xt,dt)}}return De}class xn{constructor(ye){this.self=ye,this.actor=new i.Actor(ye),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(we,Se)=>{if(this.externalWorkerSourceTypes[we])throw new Error(`Worker source with name "${we}" already registered.`);this.externalWorkerSourceTypes[we]=Se},this.self.addProtocol=i.addProtocol,this.self.removeProtocol=i.removeProtocol,this.self.registerRTLTextPlugin=we=>{if(i.rtlWorkerPlugin.isParsed())throw new Error("RTL text plugin already registered.");i.rtlWorkerPlugin.setMethods(we)},this.actor.registerMessageHandler("LDT",(we,Se)=>this._getDEMWorkerSource(we,Se.source).loadTile(Se)),this.actor.registerMessageHandler("RDT",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){this._getDEMWorkerSource(we,Se.source).removeTile(Se)})),this.actor.registerMessageHandler("GCEZ",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){return this._getWorkerSource(we,Se.type,Se.source).getClusterExpansionZoom(Se)})),this.actor.registerMessageHandler("GCC",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){return this._getWorkerSource(we,Se.type,Se.source).getClusterChildren(Se)})),this.actor.registerMessageHandler("GCL",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){return this._getWorkerSource(we,Se.type,Se.source).getClusterLeaves(Se)})),this.actor.registerMessageHandler("LD",(we,Se)=>this._getWorkerSource(we,Se.type,Se.source).loadData(Se)),this.actor.registerMessageHandler("LT",(we,Se)=>this._getWorkerSource(we,Se.type,Se.source).loadTile(Se)),this.actor.registerMessageHandler("RT",(we,Se)=>this._getWorkerSource(we,Se.type,Se.source).reloadTile(Se)),this.actor.registerMessageHandler("AT",(we,Se)=>this._getWorkerSource(we,Se.type,Se.source).abortTile(Se)),this.actor.registerMessageHandler("RMT",(we,Se)=>this._getWorkerSource(we,Se.type,Se.source).removeTile(Se)),this.actor.registerMessageHandler("RS",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){var Je;this.workerSources[we]&&this.workerSources[we][Se.type]&&this.workerSources[we][Se.type][Se.source]&&(Je=this.workerSources[we][Se.type][Se.source],delete this.workerSources[we][Se.type][Se.source],Je.removeSource!==void 0)&&Je.removeSource(Se)})),this.actor.registerMessageHandler("RM",we=>i.__awaiter(this,void 0,void 0,function*(){delete this.layerIndexes[we],delete this.availableImages[we],delete this.workerSources[we],delete this.demWorkerSources[we]})),this.actor.registerMessageHandler("SR",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){this.referrer=Se})),this.actor.registerMessageHandler("SRPS",(we,Se)=>this._syncRTLPluginState(we,Se)),this.actor.registerMessageHandler("IS",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){this.self.importScripts(Se)})),this.actor.registerMessageHandler("SI",(we,Se)=>this._setImages(we,Se)),this.actor.registerMessageHandler("UL",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){this._getLayerIndex(we).update(Se.layers,Se.removedIds)})),this.actor.registerMessageHandler("SL",(we,Se)=>i.__awaiter(this,void 0,void 0,function*(){this._getLayerIndex(we).replace(Se)}))}_setImages(ye,we){return i.__awaiter(this,void 0,void 0,function*(){this.availableImages[ye]=we;for(const Je in this.workerSources[ye]){var Se=this.workerSources[ye][Je];for(const ut in Se)Se[ut].availableImages=we}})}_syncRTLPluginState(ye,we){return i.__awaiter(this,void 0,void 0,function*(){if(i.rtlWorkerPlugin.isParsed())return i.rtlWorkerPlugin.getState();if(we.pluginStatus!=="loading")return i.rtlWorkerPlugin.setState(we),we;var Se=we.pluginURL,Je=(this.self.importScripts(Se),i.rtlWorkerPlugin.isParsed());if(Je)return i.rtlWorkerPlugin.setState(Je={pluginStatus:"loaded",pluginURL:Se}),Je;throw i.rtlWorkerPlugin.setState({pluginStatus:"error",pluginURL:""}),new Error("RTL Text Plugin failed to import scripts from "+Se)})}_getAvailableImages(ye){let we=this.availableImages[ye];return we=we||[]}_getLayerIndex(ye){let we=this.layerIndexes[ye];return we=we||(this.layerIndexes[ye]=new a)}_getWorkerSource(ye,we,Se){if(this.workerSources[ye]||(this.workerSources[ye]={}),this.workerSources[ye][we]||(this.workerSources[ye][we]={}),!this.workerSources[ye][we][Se]){var Je={sendAsync:(ut,xt)=>(ut.targetMapId=ye,this.actor.sendAsync(ut,xt))};switch(we){case"vector":this.workerSources[ye][we][Se]=new A(Je,this._getLayerIndex(ye),this._getAvailableImages(ye));break;case"geojson":this.workerSources[ye][we][Se]=new on(Je,this._getLayerIndex(ye),this._getAvailableImages(ye));break;default:this.workerSources[ye][we][Se]=new this.externalWorkerSourceTypes[we](Je,this._getLayerIndex(ye),this._getAvailableImages(ye))}}return this.workerSources[ye][we][Se]}_getDEMWorkerSource(ye,we){return this.demWorkerSources[ye]||(this.demWorkerSources[ye]={}),this.demWorkerSources[ye][we]||(this.demWorkerSources[ye][we]=new f),this.demWorkerSources[ye][we]}}return i.isWorker(self)&&(self.worker=new xn(self)),xn}),n("index",0,function(i,a){var o,s="4.1.2",Dn=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date);let c,A;const f={now:Dn,frameAsync(_){return new Promise((l,p)=>{const v=requestAnimationFrame(l);_.signal.addEventListener("abort",()=>{cancelAnimationFrame(v),p(a.createAbortError())})})},getImageData(_,l=0){return this.getImageCanvasContext(_).getImageData(-l,-l,_.width+2*l,_.height+2*l)},getImageCanvasContext(_){var l=window.document.createElement("canvas"),p=l.getContext("2d",{willReadFrequently:!0});if(p)return l.width=_.width,l.height=_.height,p.drawImage(_,0,0,_.width,_.height),p;throw new Error("failed to create canvas 2d context")},resolveURL(_){return(c=c||document.createElement("a")).href=_,c.href},hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(A=A??matchMedia("(prefers-reduced-motion: reduce)")).matches}};class y{static testProp(l){if(y.docStyle){for(let p=0;p<l.length;p++)if(l[p]in y.docStyle)return l[p]}return l[0]}static create(l,p,v){return l=window.document.createElement(l),p!==void 0&&(l.className=p),v&&v.appendChild(l),l}static createNS(l,p){return window.document.createElementNS(l,p)}static disableDrag(){y.docStyle&&y.selectProp&&(y.userSelect=y.docStyle[y.selectProp],y.docStyle[y.selectProp]="none")}static enableDrag(){y.docStyle&&y.selectProp&&(y.docStyle[y.selectProp]=y.userSelect)}static setTransform(l,p){l.style[y.transformProp]=p}static addEventListener(l,p,v,E={}){"passive"in E?l.addEventListener(p,v,E):l.addEventListener(p,v,E.capture)}static removeEventListener(l,p,v,E={}){"passive"in E?l.removeEventListener(p,v,E):l.removeEventListener(p,v,E.capture)}static suppressClickInternal(l){l.preventDefault(),l.stopPropagation(),window.removeEventListener("click",y.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",y.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",y.suppressClickInternal,!0)},0)}static getScale(l){var p=l.getBoundingClientRect();return{x:p.width/l.offsetWidth||1,y:p.height/l.offsetHeight||1,boundingClientRect:p}}static getPoint(l,p,v){var E=p.boundingClientRect;return new a.Point((v.clientX-E.left)/p.x-l.clientLeft,(v.clientY-E.top)/p.y-l.clientTop)}static mousePos(l,p){var v=y.getScale(l);return y.getPoint(l,v,p)}static touchPos(l,p){var v=[],E=y.getScale(l);for(let I=0;I<p.length;I++)v.push(y.getPoint(l,E,p[I]));return v}static mouseButton(l){return l.button}static remove(l){l.parentNode&&l.parentNode.removeChild(l)}}y.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,y.selectProp=y.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),y.transformProp=y.testProp(["transform","WebkitTransform"]);const C={supported:!1,testSupport:function(_){!k&&N&&(M?D(_):x=_)}};let x,k=!1,N,M=!1;function D(_){var l=_.createTexture();_.bindTexture(_.TEXTURE_2D,l);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,N),_.isContextLost())return;C.supported=!0}catch{}_.deleteTexture(l),k=!0}typeof document<"u"&&((N=document.createElement("img")).onload=function(){x&&D(x),x=null,M=!0},N.onerror=function(){k=!0,x=null},N.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(_){let l,p,v,E;_.resetRequestQueue=()=>{l=[],p=0,v=0,E={}},_.addThrottleControl=se=>{var X=v++;return E[X]=se,X},_.removeThrottleControl=se=>{delete E[se],j()},_.getImage=(se,X,ee=!0)=>new Promise((Ae,Te)=>{C.supported&&(se.headers||(se.headers={}),se.headers.accept="image/webp,*/*"),a.extend(se,{type:"image"});var Ce={abortController:X,requestParameters:se,supportImageRefresh:ee,state:"queued",onError:Le=>{Te(Le)},onSuccess:Le=>{Ae(Le)}};l.push(Ce),j()});const I=se=>typeof createImageBitmap=="function"?a.arrayBufferToImageBitmap(se):a.arrayBufferToImage(se),R=se=>a.__awaiter(this,void 0,void 0,function*(){se.state="running";var{requestParameters:X,supportImageRefresh:Ce,onError:ee,onSuccess:Ae,abortController:Te}=se,Ce=Ce===!1&&!a.isWorker(self)&&!a.getProtocol(X.url)&&(!X.headers||Object.keys(X.headers).reduce((Me,$e)=>Me&&$e==="accept",!0)),Ce=(p++,Ce?G(X,Te):a.makeRequest(X,Te));try{var Le=yield Ce;delete se.abortController,se.state="completed",Le.data instanceof HTMLImageElement||a.isImageBitmap(Le.data)?Ae(Le):Le.data&&Ae({data:yield I(Le.data),cacheControl:Le.cacheControl,expires:Le.expires})}catch(Me){delete se.abortController,ee(Me)}finally{p--,j()}}),j=()=>{var se=(()=>{for(const ee of Object.keys(E))if(E[ee]())return!0;return!1})()?a.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let ee=p;ee<se&&0<l.length;ee++){var X=l.shift();X.abortController.signal.aborted?ee--:R(X)}},G=(se,X)=>new Promise((ee,Ae)=>{const Te=new Image;var Ce=se.url,Le=se.credentials;Le&&Le==="include"?Te.crossOrigin="use-credentials":(Le&&Le==="same-origin"||!a.sameOrigin(Ce))&&(Te.crossOrigin="anonymous"),X.signal.addEventListener("abort",()=>{Te.src="",Ae(a.createAbortError())}),Te.fetchPriority="high",Te.onload=()=>{Te.onerror=Te.onload=null,ee({data:Te})},Te.onerror=()=>{Te.onerror=Te.onload=null,X.signal.aborted||Ae(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Te.src=Ce})})(o=o||{}),o.resetRequestQueue();class H{constructor(l){this._transformRequestFn=l}transformRequest(l,p){return this._transformRequestFn&&this._transformRequestFn(l,p)||{url:l}}normalizeSpriteURL(l,p,v){return l=$(l),l.path+=""+p+v,ce(l)}setTransformRequest(l){this._transformRequestFn=l}}const q=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function $(_){var l=_.match(q);if(l)return{protocol:l[1],authority:l[2],path:l[3]||"/",params:l[4]?l[4].split("&"):[]};throw new Error(`Unable to parse URL "${_}"`)}function ce(_){var l=_.params.length?"?"+_.params.join("&"):"";return _.protocol+"://"+_.authority+_.path+l}function V(_){var l=[];if(typeof _=="string")l.push({id:"default",url:_});else if(_&&0<_.length){var p,v,E=[];for({id:p,url:v}of _){var I=""+p+v;E.indexOf(I)===-1&&(E.push(I),l.push({id:p,url:v}))}}return l}function he(_,l,p,v){return a.__awaiter(this,void 0,void 0,function*(){var E,I,R=V(_),j=1<p?"@2x":"",G={},se={};for({id:E,url:I}of R){var X=l.transformRequest(l.normalizeSpriteURL(I,j,".json"),"SpriteJSON"),X=(G[E]=a.getJSON(X,v),l.transformRequest(l.normalizeSpriteURL(I,j,".png"),"SpriteImage"));se[E]=o.getImage(X,v)}return yield Promise.all([...Object.values(G),...Object.values(se)]),(function(ee,Ae){return a.__awaiter(this,void 0,void 0,function*(){var Te={};for(const Lt in ee){Te[Lt]={};var Ce=f.getImageCanvasContext((yield Ae[Lt]).data),Le=(yield ee[Lt]).data;for(const Pt in Le){var{width:Me,height:$e,x:Ge,y:at,sdf:ft,pixelRatio:Ct,stretchX:pt,stretchY:Mt,content:Qt,contentMatch:Ft}=Le[Pt];Te[Lt][Pt]={data:null,pixelRatio:Ct,sdf:ft,stretchX:pt,stretchY:Mt,content:Qt,spriteData:{width:Me,height:$e,x:Ge,y:at,context:Ce},contentMatch:Ft}}}return Te})})(G,se)})}class le{constructor(l,p,v,E){this.context=l,this.format=v,this.texture=l.gl.createTexture(),this.update(p,E)}update(l,p,v){var{width:E,height:I}=l,R=!(this.size&&this.size[0]===E&&this.size[1]===I||v),j=this.context,G=j.gl;this.useMipmap=!!(p&&p.useMipmap),G.bindTexture(G.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===G.RGBA&&(!p||p.premultiply!==!1)),R?(this.size=[E,I],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.isImageBitmap(l)?G.texImage2D(G.TEXTURE_2D,0,this.format,this.format,G.UNSIGNED_BYTE,l):G.texImage2D(G.TEXTURE_2D,0,this.format,E,I,0,this.format,G.UNSIGNED_BYTE,l.data)):({x:j,y:p}=v||{x:0,y:0},l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||a.isImageBitmap(l)?G.texSubImage2D(G.TEXTURE_2D,0,j,p,G.RGBA,G.UNSIGNED_BYTE,l):G.texSubImage2D(G.TEXTURE_2D,0,j,p,E,I,G.RGBA,G.UNSIGNED_BYTE,l.data)),this.useMipmap&&this.isSizePowerOfTwo()&&G.generateMipmap(G.TEXTURE_2D)}bind(l,p,v){var E=this.context,E=E.gl;E.bindTexture(E.TEXTURE_2D,this.texture),v!==E.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(v=E.LINEAR),l!==this.filter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,l),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,v||l),this.filter=l),p!==this.wrap&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,p),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){var l=this.context.gl;l.deleteTexture(this.texture),this.texture=null}}class fe extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l)){for(var{ids:p,promiseResolve:v}of this.requestors)v(this._getImagesForIds(p));this.requestors=[]}}getImage(v){var p,v=this.images[v];return v&&!v.data&&v.spriteData&&(p=v.spriteData,v.data=new a.RGBAImage({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),v.spriteData=null),v}addImage(l,p){if(this.images[l])throw new Error(`Image id ${l} already exist, use updateImage instead`);this._validate(l,p)&&(this.images[l]=p)}_validate(l,p){let v=!0;var E=p.data||p.spriteData;return this._validateStretch(p.stretchX,E&&E.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),v=!1),this._validateStretch(p.stretchY,E&&E.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),v=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),v=!1),v}_validateStretch(l,p){if(l){let v=0;for(const E of l){if(E[0]<v||E[1]<E[0]||p<E[1])return!1;v=E[1]}}return!0}_validateContent(l,p){var v,E;return!l||l.length===4&&(v=(E=p.spriteData)&&E.width||p.data.width,E=E&&E.height||p.data.height,!(l[0]<0||v<l[0]||l[1]<0||E<l[1]||l[2]<0||v<l[2]||l[3]<0||E<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,p,v=!0){var E=this.getImage(l);if(v&&(E.data.width!==p.data.width||E.data.height!==p.data.height))throw new Error(`size mismatch between old image (${E.data.width}x${E.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=E.version+1,this.images[l]=p,this.updatedImages[l]=!0}removeImage(l){var p=this.images[l];delete this.images[l],delete this.patterns[l],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l){return new Promise((p,v)=>{let E=!0;if(!this.isLoaded())for(const I of l)this.images[I]||(E=!1);this.isLoaded()||E?p(this._getImagesForIds(l)):this.requestors.push({ids:l,promiseResolve:p})})}_getImagesForIds(l){var p={};for(const v of l){let E=this.getImage(v);E||(this.fire(new a.Event("styleimagemissing",{id:v})),E=this.getImage(v)),E?p[v]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,contentMatch:E.contentMatch,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:a.warnOnce(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){var{width:l,height:p}=this.atlasImage;return{width:l,height:p}}getPattern(l){var p=this.patterns[l],v=this.getImage(l);return v?(p&&p.position.version===v.version?p:(p?p.position.version=v.version:(p={w:v.data.width+2,h:v.data.height+2,x:0,y:0},v=new a.ImagePosition(p,v),this.patterns[l]={bin:p,position:v}),this._updatePatternAtlas(),this.patterns[l])).position:null}bind(l){var p=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new le(l,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){var l=[];for(const G in this.patterns)l.push(this.patterns[G].bin);const{w:p,h:v}=a.potpack(l);var E=this.atlasImage;E.resize({width:p||1,height:v||1});for(const G in this.patterns){var R=this.patterns[G].bin,I=R.x+1,R=R.y+1,j=this.getImage(G).data;const se=j.width,X=j.height;a.RGBAImage.copy(j,E,{x:0,y:0},{x:I,y:R},{width:se,height:X}),a.RGBAImage.copy(j,E,{x:0,y:X-1},{x:I,y:R-1},{width:se,height:1}),a.RGBAImage.copy(j,E,{x:0,y:0},{x:I,y:R+X},{width:se,height:1}),a.RGBAImage.copy(j,E,{x:se-1,y:0},{x:I-1,y:R},{width:1,height:X}),a.RGBAImage.copy(j,E,{x:0,y:0},{x:I+se,y:R},{width:1,height:X})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const v of l){var p;this.callbackDispatchedThisFrame[v]||(this.callbackDispatchedThisFrame[v]=!0,(p=this.getImage(v))||a.warnOnce(`Image with ID: "${v}" was not found`),a.renderStyleImage(p)&&this.updateImage(v,p))}}}const Ne=1e20;function W(_,l,p,v,E,I,R,j,G){for(let se=l;se<l+v;se++)ue(_,p*I+se,I,E,R,j,G);for(let se=p;se<p+E;se++)ue(_,se*I+l,1,v,R,j,G)}function ue(_,l,p,v,E,I,R){R[I[0]=0]=-Ne,R[1]=Ne,E[0]=_[l];for(let ee=1,Ae=0,Te=0;ee<v;ee++){E[ee]=_[l+ee*p];var j=ee*ee;do{var G=I[Ae];Te=(E[ee]-E[G]+j-G*G)/(ee-G)/2}while(Te<=R[Ae]&&-1<--Ae);I[++Ae]=ee,R[Ae]=Te,R[Ae+1]=Ne}for(let ee=0,Ae=0;ee<v;ee++){for(;R[Ae+1]<ee;)Ae++;var se=I[Ae],X=ee-se;_[l+ee*p]=E[se]+X*X}}class de{constructor(l,p){this.requestManager=l,this.localIdeographFontFamily=p,this.entries={}}setURL(l){this.url=l}getGlyphs(l){return a.__awaiter(this,void 0,void 0,function*(){var p=[];for(const j in l)for(const G of l[j])p.push(this._getAndCacheGlyphsPromise(j,G));var v,E,I,R={};for({stack:v,id:E,glyph:I}of yield Promise.all(p))R[v]||(R[v]={}),R[v][E]=I&&{id:I.id,bitmap:I.bitmap.clone(),metrics:I.metrics};return R})}_getAndCacheGlyphsPromise(l,p){return a.__awaiter(this,void 0,void 0,function*(){let v=this.entries[l];var E=(v=v||(this.entries[l]={glyphs:{},requests:{},ranges:{}})).glyphs[p];if(E!==void 0)return{stack:l,id:p,glyph:E};if(E=this._tinySDF(v,l,p))return v.glyphs[p]=E,{stack:l,id:p,glyph:E};var I=Math.floor(p/256);if(65535<256*I)throw new Error("glyphs > 65535 not supported");if(v.ranges[I])return{stack:l,id:p,glyph:E};if(!this.url)throw new Error("glyphsUrl is not set");v.requests[I]||(E=de.loadGlyphRange(l,I,this.url,this.requestManager),v.requests[I]=E);var R=yield v.requests[I];for(const j in R)this._doesCharSupportLocalGlyph(+j)||(v.glyphs[+j]=R[+j]);return v.ranges[I]=!0,{stack:l,id:p,glyph:R[p]||null}})}_doesCharSupportLocalGlyph(l){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](l)||a.unicodeBlockLookup["Hangul Syllables"](l)||a.unicodeBlockLookup.Hiragana(l)||a.unicodeBlockLookup.Katakana(l))}_tinySDF(l,p,v){var E=this.localIdeographFontFamily;if(E&&this._doesCharSupportLocalGlyph(v)){let I=l.tinySDF;if(!I){let R="400";/bold/i.test(p)?R="900":/medium/i.test(p)?R="500":/light/i.test(p)&&(R="200"),I=l.tinySDF=new de.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:E,fontWeight:R})}return p=I.draw(String.fromCharCode(v)),{id:v,bitmap:new a.AlphaImage({width:p.width||60,height:p.height||60},p.data),metrics:{width:p.glyphWidth/2||24,height:p.glyphHeight/2||24,left:p.glyphLeft/2+.5||0,top:p.glyphTop/2-27.5||-8,advance:p.glyphAdvance/2||24,isDoubleResolution:!0}}}}}de.loadGlyphRange=function(_,l,p,v){return a.__awaiter(this,void 0,void 0,function*(){var E=256*l,I=255+E,R=v.transformRequest(p.replace("{fontstack}",_).replace("{range}",E+"-"+I),"Glyphs"),R=yield a.getArrayBuffer(R,new AbortController);if(!R||!R.data)throw new Error(`Could not load glyph range. range: ${l}, ${E}-`+I);var j={};for(const G of a.parseGlyphPbf(R.data))j[G.id]=G;return j})},de.TinySDF=class{constructor({fontSize:_=24,buffer:l=3,radius:p=8,cutoff:v=.25,fontFamily:E="sans-serif",fontWeight:I="normal",fontStyle:R="normal"}={}){this.buffer=l,this.cutoff=v,this.radius=p,v=this.size=_+4*l,p=this._createCanvas(v),l=this.ctx=p.getContext("2d",{willReadFrequently:!0}),l.font=R+` ${I} ${_}px `+E,l.textBaseline="alphabetic",l.textAlign="left",l.fillStyle="black",this.gridOuter=new Float64Array(v*v),this.gridInner=new Float64Array(v*v),this.f=new Float64Array(v),this.z=new Float64Array(v+1),this.v=new Uint16Array(v)}_createCanvas(_){var l=document.createElement("canvas");return l.width=l.height=_,l}draw(_){var{width:l,actualBoundingBoxAscent:v,actualBoundingBoxDescent:p,actualBoundingBoxLeft:X,actualBoundingBoxRight:j}=this.ctx.measureText(_),v=Math.ceil(v),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(j-X))),I=Math.min(this.size-this.buffer,v+Math.ceil(p)),R=E+2*this.buffer,j=I+2*this.buffer,G=Math.max(R*j,0),se=new Uint8ClampedArray(G),X={data:se,width:R,height:j,glyphWidth:E,glyphHeight:I,glyphTop:v,glyphLeft:0,glyphAdvance:l};if(E!==0&&I!==0){var{ctx:p,buffer:ee,gridInner:Ae,gridOuter:Te}=this,Ce=(p.clearRect(ee,ee,E,I),p.fillText(_,ee,ee+v),p.getImageData(ee,ee,E,I));Te.fill(Ne,0,G),Ae.fill(0,0,G);for(let at=0;at<I;at++)for(let ft=0;ft<E;ft++){var Le,Me=Ce.data[4*(at*E+ft)+3]/255;Me!=0&&(Le=(at+ee)*R+ft+ee,Me==1?(Te[Le]=0,Ae[Le]=Ne):(Te[Le]=0<(Me=.5-Me)?Me*Me:0,Ae[Le]=Me<0?Me*Me:0))}W(Te,0,0,R,j,R,this.f,this.v,this.z),W(Ae,ee,ee,E,I,R,this.f,this.v,this.z);for(let at=0;at<G;at++){var $e=Math.sqrt(Te[at])-Math.sqrt(Ae[at]);se[at]=Math.round(255-255*($e/this.radius+this.cutoff))}}return X}};class me{constructor(){this.specification=a.v8Spec.light.position}possiblyEvaluate(l,p){return a.sphericalToCartesian(l.expression.evaluate(p))}interpolate(l,p,v){return{x:a.interpolate.number(l.x,p.x,v),y:a.interpolate.number(l.y,p.y,v),z:a.interpolate.number(l.z,p.z,v)}}}const Qe="-transition";let Ee;class _e extends a.Evented{constructor(l){super(),Ee=Ee||new a.Properties({anchor:new a.DataConstantProperty(a.v8Spec.light.anchor),position:new me,color:new a.DataConstantProperty(a.v8Spec.light.color),intensity:new a.DataConstantProperty(a.v8Spec.light.intensity)}),this._transitionable=new a.Transitionable(Ee),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,p={}){if(!this._validate(a.validateLight,l,p))for(const E in l){var v=l[E];E.endsWith(Qe)?this._transitionable.setTransition(E.slice(0,-Qe.length),v):this._transitionable.setValue(E,v)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,p,v){return(!v||v.validate!==!1)&&a.emitValidationErrors(this,l.call(a.validateStyle,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.v8Spec}))}}class ke{constructor(l,p){this.width=l,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(l,p){var v=l.join(",")+String(p);return this.dashEntry[v]||(this.dashEntry[v]=this.addDash(l,p)),this.dashEntry[v]}getDashRanges(l,p,v){var E=[],I=l.length%2==1?-l[l.length-1]*v:0,R=l[0]*v;let j=!0,G=(E.push({left:I,right:R,isDash:j,zeroLength:l[0]===0}),l[0]);for(let X=1;X<l.length;X++){j=!j;var se=l[X],I=G*v,R=(G+=se)*v;E.push({left:I,right:R,isDash:j,zeroLength:se===0})}return E}addRoundDash(l,p,v){var E=p/2;for(let X=-v;X<=v;X++){var I=this.nextRow+v+X,R=this.width*I;let ee=0,Ae=l[ee];for(let Te=0;Te<this.width;Te++){1<Te/Ae.right&&(Ae=l[++ee]);var j=Math.abs(Te-Ae.left),se=Math.abs(Te-Ae.right),j=Math.min(j,se);let Ce;var G,se=X/v*(1+E);Ce=Ae.isDash?(G=E-Math.abs(se),Math.sqrt(j*j+G*G)):E-Math.sqrt(j*j+se*se),this.data[R+Te]=Math.max(0,Math.min(255,Ce+128))}}}addRegularDash(l){for(let ee=l.length-1;0<=ee;--ee){var p=l[ee],v=l[ee+1];p.zeroLength?l.splice(ee,1):v&&v.isDash===p.isDash&&(v.left=p.left,l.splice(ee,1))}var E=l[0],I=l[l.length-1],R=(E.isDash===I.isDash&&(E.left=I.left-this.width,I.right=E.right+this.width),this.width*this.nextRow);let j=0,G=l[j];for(let ee=0;ee<this.width;ee++){1<ee/G.right&&(G=l[++j]);var se=Math.abs(ee-G.left),X=Math.abs(ee-G.right),se=Math.min(se,X),X=G.isDash?se:-se;this.data[R+ee]=Math.max(0,Math.min(255,X+128))}}addDash(l,p){var v,E,I=p?7:0,R=2*I+1;if(this.nextRow+R>this.height)return a.warnOnce("LineAtlas out of space"),null;let j=0;for(let G=0;G<l.length;G++)j+=l[G];return j!==0&&(v=this.width/j,E=this.getDashRanges(l,this.width,v),p?this.addRoundDash(E,v,I):this.addRegularDash(E)),p={y:(this.nextRow+I+.5)/this.height,height:2*I/this.height,width:j},this.nextRow+=R,this.dirty=!0,p}bind(l){l=l.gl,this.texture?(l.bindTexture(l.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,l.texSubImage2D(l.TEXTURE_2D,0,0,0,this.width,this.height,l.ALPHA,l.UNSIGNED_BYTE,this.data))):(this.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,this.texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texImage2D(l.TEXTURE_2D,0,l.ALPHA,this.width,this.height,0,l.ALPHA,l.UNSIGNED_BYTE,this.data))}}function We(){return new Worker(a.config.WORKER_URL)}const Oe="maplibre_preloaded_worker_pool";class ze{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<ze.workerCount;)this.workers.push(We());return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Oe]}numActive(){return Object.keys(this.active).length}}Dn=Math.floor(f.hardwareConcurrency/2),ze.workerCount=a.isSafari(globalThis)?Math.max(Math.min(Dn,3),1):1;let ne;function ae(){return ne=ne||new ze}class ve{constructor(l,p){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=p;var v=this.workerPool.acquire(p);for(let I=0;I<v.length;I++){var E=v[I],E=new a.Actor(E,p);E.name="Worker "+I,this.actors.push(E)}if(!this.actors.length)throw new Error("No actors found")}broadcast(l,p){var v=[];for(const E of this.actors)v.push(E.sendAsync({type:l,data:p}));return Promise.all(v)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(l=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],l&&this.workerPool.release(this.id)}registerMessageHandler(l,p){for(const v of this.actors)v.registerMessageHandler(l,p)}}let Re;function qe(){return Re||(Re=new ve(ae(),a.GLOBAL_DISPATCHER_ID)).registerMessageHandler("GR",(_,l,p)=>a.makeRequest(l,p)),Re}function Ze(_,l,p,ee,E,I){var R,j,G,se=(function(Ce,Le,Me){if(Ce)for(const at of Ce){var $e=Le[at];if($e&&$e.source===Me&&$e.type==="fill-extrusion")return!0}else for(const at in Le){var Ge=Le[at];if(Ge.source===Me&&Ge.type==="fill-extrusion")return!0}return!1})(E&&E.layers,l,_.id),X=I.maxPitchScaleFactor(),ee=_.tilesIn(ee,X,se),Ae=(ee.sort(yt),[]);for(const Ce of ee)Ae.push({wrappedTileID:Ce.tileID.wrapped().key,queryResults:Ce.tile.queryRenderedFeatures(l,p,_._state,Ce.queryGeometry,Ce.cameraQueryGeometry,Ce.scale,E,I,X,(R=_.transform,j=Ce.tileID,G=void 0,G=a.create(),a.translate(G,G,[1,1,0]),a.scale(G,G,[.5*R.width,.5*R.height,1]),a.multiply(G,G,R.calculatePosMatrix(j.toUnwrapped()))))});var Te=(function(Ce){var Le={},Me={};for(const Mt of Ce){var $e=Mt.queryResults,Ge=Mt.wrappedTileID,at=Me[Ge]=Me[Ge]||{};for(const Qt in $e){var ft=$e[Qt],Ct=at[Qt]=at[Qt]||{},pt=Le[Qt]=Le[Qt]||[];for(const Ft of ft)Ct[Ft.featureIndex]||(Ct[Ft.featureIndex]=!0,pt.push(Ft))}}return Le})(Ae);for(const Ce in Te)Te[Ce].forEach(Me=>{var Me=Me.feature,$e=_.getFeatureState(Me.layer["source-layer"],Me.id);Me.source=Me.layer.source,Me.layer["source-layer"]&&(Me.sourceLayer=Me.layer["source-layer"]),Me.state=$e});return Te}function st(_,l,p,v,E,I,R){var j={},G=I.queryRenderedSymbols(v),se=[];for(const Te of Object.keys(G).map(Number))se.push(R[Te]);se.sort(yt);for(const Te of se){var X=Te.featureIndex.lookupSymbolFeatures(G[Te.bucketInstanceId],l,Te.bucketIndex,Te.sourceLayerIndex,E.filter,E.layers,E.availableImages,_);for(const Ce in X){var ee=j[Ce]=j[Ce]||[],Ae=X[Ce];Ae.sort((Le,Me)=>{var $e,Ge=Te.featureSortOrder;return Ge?($e=Ge.indexOf(Le.featureIndex),Ge.indexOf(Me.featureIndex)-$e):Me.featureIndex-Le.featureIndex});for(const Le of Ae)ee.push(Le)}}for(const Te in j)j[Te].forEach(Le=>{var Le=Le.feature,Me=_[Te],Me=p[Me.source].getFeatureState(Le.layer["source-layer"],Le.id);Le.source=Le.layer.source,Le.layer["source-layer"]&&(Le.sourceLayer=Le.layer["source-layer"]),Le.state=Me});return j}function ot(_,l){var p=_.getRenderableIds().map(j=>_.getTileByID(j)),v=[],E={};for(let j=0;j<p.length;j++){var I=p[j],R=I.tileID.canonical.key;E[R]||(E[R]=!0,I.querySourceFeatures(v,l))}return v}function yt(_,l){return _=_.tileID,l=l.tileID,_.overscaledZ-l.overscaledZ||_.canonical.y-l.canonical.y||_.wrap-l.wrap||_.canonical.x-l.canonical.x}function Pe(_,l,p){return a.__awaiter(this,void 0,void 0,function*(){let v=_;var E;return _.url?(E=yield a.getJSON(l.transformRequest(_.url,"Source"),p),v=E.data):yield f.frameAsync(p),v?(E=a.pick(a.extend(v,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]),"vector_layers"in v&&v.vector_layers&&(E.vectorLayerIds=v.vector_layers.map(I=>I.id)),E):null})}class oe{constructor(l,p){l&&(p?this.setSouthWest(l).setNorthEast(p):Array.isArray(l)&&(l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1])))}setNorthEast(l){return this._ne=l instanceof a.LngLat?new a.LngLat(l.lng,l.lat):a.LngLat.convert(l),this}setSouthWest(l){return this._sw=l instanceof a.LngLat?new a.LngLat(l.lng,l.lat):a.LngLat.convert(l),this}extend(l){var p,v=this._sw,E=this._ne;let I,R;if(l instanceof a.LngLat)I=l,R=l;else{if(!(l instanceof oe))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?(p=l,this.extend(oe.convert(p))):this.extend(a.LngLat.convert(l)):l&&("lng"in l||"lon"in l)&&"lat"in l?this.extend(a.LngLat.convert(l)):this;if(I=l._sw,R=l._ne,!I||!R)return this}return v||E?(v.lng=Math.min(I.lng,v.lng),v.lat=Math.min(I.lat,v.lat),E.lng=Math.max(R.lng,E.lng),E.lat=Math.max(R.lat,E.lat)):(this._sw=new a.LngLat(I.lng,I.lat),this._ne=new a.LngLat(R.lng,R.lat)),this}getCenter(){return new a.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new a.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(p){var{lng:p,lat:v}=a.LngLat.convert(p),v=this._sw.lat<=v&&v<=this._ne.lat;let E=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(E=this._sw.lng>=p&&p>=this._ne.lng),v&&E}static convert(l){return l instanceof oe?l:l&&new oe(l)}static fromLngLat(l,v=0){var v=360*v/40075017,E=v/Math.cos(Math.PI/180*l.lat);return new oe(new a.LngLat(l.lng-E,l.lat-v),new a.LngLat(l.lng+E,l.lat+v))}}class pe{constructor(l,p,v){this.bounds=oe.convert(this.validateBounds(l)),this.minzoom=p||0,this.maxzoom=v||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){var p=Math.pow(2,l.z);const v=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),E=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),I=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),R=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return l.x>=v&&l.x<I&&l.y>=E&&l.y<R}}class J extends a.Evented{constructor(l,p,v,E){if(super(),this.id=l,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(E)}load(){return a.__awaiter(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{var l=yield Pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),l&&(a.extend(this,l),l.bounds&&(this.tileBounds=new pe(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))}catch(p){this._tileJSONRequest=null,this.fire(new a.ErrorEvent(p))}})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}setSourceProperty(l){this._tileJSONRequest&&this._tileJSONRequest.abort(),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}loadTile(l){return a.__awaiter(this,void 0,void 0,function*(){var p=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(p,"Tile"),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(l.actor&&l.state!=="expired"){if(l.state==="loading")return new Promise((I,R)=>{l.reloadPromise={resolve:I,reject:R}})}else l.actor=this.dispatcher.getActor(),v="LT";l.abortController=new AbortController;try{var E=yield l.actor.sendAsync({type:v,data:p},l.abortController);delete l.abortController,l.aborted||this._afterTileLoadWorkerResponse(l,E)}catch(I){if(delete l.abortController,!l.aborted){if(I&&I.status!==404)throw I;this._afterTileLoadWorkerResponse(l,null)}}})}_afterTileLoadWorkerResponse(l,p){p&&p.resourceTiming&&(l.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&l.setExpiryData(p),l.loadVectorData(p,this.map.painter),l.reloadPromise&&(p=l.reloadPromise,l.reloadPromise=null,this.loadTile(l).then(p.resolve).catch(p.reject))}abortTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.actor&&(yield l.actor.sendAsync({type:"AT",data:{uid:l.uid,type:this.type,source:this.id}}))})}unloadTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.unloadVectorData(),l.actor&&(yield l.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class re extends a.Evented{constructor(l,p,v,E){super(),this.id=l,this.dispatcher=v,this.setEventedParent(E),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){return a.__awaiter(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{var l=yield Pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,l&&(a.extend(this,l),l.bounds&&(this.tileBounds=new pe(l.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))}catch(p){this._tileJSONRequest=null,this.fire(new a.ErrorEvent(p))}})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(l){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),l(),this.load()}setTiles(l){return this.setSourceProperty(()=>{this._options.tiles=l}),this}setUrl(l){return this.setSourceProperty(()=>{this.url=l,this._options.url=l}),this}serialize(){return a.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l){return a.__awaiter(this,void 0,void 0,function*(){var p=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);l.abortController=new AbortController;try{var v,E,I,R=yield o.getImage(this.map._requestManager.transformRequest(p,"Tile"),l.abortController,this.map._refreshExpiredTiles);delete l.abortController,l.aborted?l.state="unloaded":R&&R.data&&(this.map._refreshExpiredTiles&&R.cacheControl&&R.expires&&l.setExpiryData({cacheControl:R.cacheControl,expires:R.expires}),E=(v=this.map.painter.context).gl,I=R.data,l.texture=this.map.painter.getTileTexture(I.width),l.texture?l.texture.update(I,{useMipmap:!0}):(l.texture=new le(v,I,E.RGBA,{useMipmap:!0}),l.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),v.extTextureFilterAnisotropic&&E.texParameterf(E.TEXTURE_2D,v.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,v.extTextureFilterAnisotropicMax)),l.state="loaded")}catch(j){if(delete l.abortController,l.aborted)l.state="unloaded";else if(j)throw l.state="errored",j}})}abortTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController)})}unloadTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.texture&&this.map.painter.saveTileTexture(l.texture)})}hasTransition(){return!1}}class Ue extends re{constructor(l,p,v,E){super(l,p,v,E),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(l){return a.__awaiter(this,void 0,void 0,function*(){var p=l.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(p,"Tile");l.neighboringTiles=this._getNeighboringTiles(l.tileID),l.abortController=new AbortController;try{var v,E,I,R,j=yield o.getImage(p,l.abortController,this.map._refreshExpiredTiles);delete l.abortController,l.aborted?l.state="unloaded":j&&j.data&&(v=j.data,this.map._refreshExpiredTiles&&j.cacheControl&&j.expires&&l.setExpiryData({cacheControl:j.cacheControl,expires:j.expires}),E=a.isImageBitmap(v)&&a.offscreenCanvasSupported()?v:yield this.readImageNow(v),I={type:this.type,uid:l.uid,source:this.id,rawImageData:E,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift},l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),R=yield l.actor.sendAsync({type:"LDT",data:I}),l.dem=R,l.needsHillshadePrepare=!0,l.needsTerrainPrepare=!0,l.state="loaded"))}catch(G){if(delete l.abortController,l.aborted)l.state="unloaded";else if(G)throw l.state="errored",G}})}readImageNow(l){return a.__awaiter(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&a.isOffscreenCanvasDistorted()){var p=l.width+2,v=l.height+2;try{return new a.RGBAImage({width:p,height:v},yield a.readImageUsingVideoFrame(l,-1,-1,p,v))}catch{}}return f.getImageData(l,1)})}_getNeighboringTiles(l){var p=l.canonical,v=Math.pow(2,p.z),E=(p.x-1+v)%v,I=p.x===0?l.wrap-1:l.wrap,R=(p.x+1+v)%v,j=p.x+1===v?l.wrap+1:l.wrap,G={};return G[new a.OverscaledTileID(l.overscaledZ,I,p.z,E,p.y).key]={backfilled:!1},G[new a.OverscaledTileID(l.overscaledZ,j,p.z,R,p.y).key]={backfilled:!1},0<p.y&&(G[new a.OverscaledTileID(l.overscaledZ,I,p.z,E,p.y-1).key]={backfilled:!1},G[new a.OverscaledTileID(l.overscaledZ,l.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},G[new a.OverscaledTileID(l.overscaledZ,j,p.z,R,p.y-1).key]={backfilled:!1}),p.y+1<v&&(G[new a.OverscaledTileID(l.overscaledZ,I,p.z,E,p.y+1).key]={backfilled:!1},G[new a.OverscaledTileID(l.overscaledZ,l.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},G[new a.OverscaledTileID(l.overscaledZ,j,p.z,R,p.y+1).key]={backfilled:!1}),G}unloadTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&(yield l.actor.sendAsync({type:"RDT",data:{type:this.type,uid:l.uid,source:this.id}}))})}}class be extends a.Evented{constructor(l,p,v,E){super(),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=v.getActor(),this.setEventedParent(E),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId,l=a.EXTENT/this.tileSize,this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*l,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*l,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*l,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return a.__awaiter(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(l){this.map=l,this.load()}setData(l){return this._data=l,this._updateWorkerData(),this}updateData(l){return this._updateWorkerData(l),this}setClusterOptions(l){return this.workerOptions.cluster=l.cluster,l&&(l.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=l.clusterRadius),l.clusterMaxZoom!==void 0)&&(this.workerOptions.superclusterOptions.maxZoom=l.clusterMaxZoom),this._updateWorkerData(),this}getClusterExpansionZoom(l){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:l,source:this.id}})}getClusterChildren(l){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:l,source:this.id}})}getClusterLeaves(l,p,v){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:l,limit:p,offset:v}})}_updateWorkerData(l){return a.__awaiter(this,void 0,void 0,function*(){var p=a.extend({type:this.type},this.workerOptions);l?p.dataDiff=l:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(f.resolveURL(this._data),"Source"),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"}));try{var v=yield this.actor.sendAsync({type:"LD",data:p});if(this._pendingLoads--,this._removed||v.abandoned)this.fire(new a.Event("dataabort",{dataType:"source"}));else{let I=null;v.resourceTiming&&v.resourceTiming[this.id]&&(I=v.resourceTiming[this.id].slice(0));var E={dataType:"source"};this._collectResourceTiming&&I&&0<I.length&&a.extend(E,{resourceTiming:I}),this.fire(new a.Event("data",Object.assign(Object.assign({},E),{sourceDataType:"metadata"}))),this.fire(new a.Event("data",Object.assign(Object.assign({},E),{sourceDataType:"content"})))}}catch(I){this._pendingLoads--,this._removed?this.fire(new a.Event("dataabort",{dataType:"source"})):this.fire(new a.ErrorEvent(I))}})}loaded(){return this._pendingLoads===0}loadTile(l){return a.__awaiter(this,void 0,void 0,function*(){var p=l.actor?"RT":"LT",v=(l.actor=this.actor,{type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId}),v=(l.abortController=new AbortController,yield this.actor.sendAsync({type:p,data:v},l.abortController));delete l.abortController,l.unloadVectorData(),l.aborted||l.loadVectorData(v,this.map.painter,p=="RT")})}abortTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.abortController&&(l.abortController.abort(),delete l.abortController),l.aborted=!0})}unloadTile(l){return a.__awaiter(this,void 0,void 0,function*(){l.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:l.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var et=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ke extends a.Evented{constructor(l,p,v,E){super(),this.id=l,this.dispatcher=v,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(E),this.options=p}load(l){return a.__awaiter(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{var p=yield o.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,l&&(this.coordinates=l),this._finishLoading())}catch(v){this._request=null,this.fire(new a.ErrorEvent(v))}})}loaded(){return this._loaded}updateImage(l){return l.url&&(this._request&&(this._request.abort(),this._request=null),this.options.url=l.url,this.load(l.coordinates).finally(()=>{this.texture=null})),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(l){return l=(this.coordinates=l).map(a.MercatorCoordinate.fromLngLat),this.tileID=mt(l),this.minzoom=this.maxzoom=this.tileID.z,l=l.map(p=>this.tileID.getTilePoint(p)._round()),this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(l[0].x,l[0].y,0,0),this._boundsArray.emplaceBack(l[1].x,l[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(l[3].x,l[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(l[2].x,l[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length!==0&&this.image){var l=this.map.painter.context,p=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,et.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new le(l,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let E=!1;for(const I in this.tiles){var v=this.tiles[I];v.state!=="loaded"&&(v.state="loaded",v.texture=this.texture,E=!0)}E&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}}loadTile(l){return a.__awaiter(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l).buckets={}:l.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}function mt(R){let l=1/0,p=1/0,v=-1/0,E=-1/0;for(const j of R)l=Math.min(l,j.x),p=Math.min(p,j.y),v=Math.max(v,j.x),E=Math.max(E,j.y);var R=v-l,I=E-p,R=Math.max(R,I),I=Math.max(0,Math.floor(-Math.log(R)/Math.LN2)),R=Math.pow(2,I);return new a.CanonicalTileID(I,Math.floor((l+v)/2*R),Math.floor((p+E)/2*R))}class _t extends Ke{constructor(l,p,v,E){super(l,p,v,E),this.roundZoom=!0,this.type="video",this.options=p}load(){return a.__awaiter(this,void 0,void 0,function*(){this._loaded=!1;var l=this.options;this.urls=[];for(const v of l.urls)this.urls.push(this.map._requestManager.transformRequest(v,"Source").url);try{var p=yield a.getVideo(this.urls);this._loaded=!0,p&&(this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())}catch(v){this.fire(new a.ErrorEvent(v))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(l){var p;this.video&&(l<(p=this.video.seekable).start(0)||l>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=l)}getVideo(){return this.video}onAdd(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var l=this.map.painter.context,p=l.gl;this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,et.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new le(l,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let E=!1;for(const I in this.tiles){var v=this.tiles[I];v.state!=="loaded"&&(v.state="loaded",v.texture=this.texture,E=!0)}E&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Kt extends Ke{constructor(l,p,v,E){super(l,p,v,E),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(I=>!Array.isArray(I)||I.length!==2||I.some(R=>typeof R!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+l,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+l,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+l,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+l,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+l,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return a.__awaiter(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var p=this.map.painter.context,v=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,et.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new le(p,this.canvas,v.RGBA,{premultiply:!0});let I=!1;for(const R in this.tiles){var E=this.tiles[R];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture,I=!0)}I&&this.fire(new a.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const l of[this.canvas.width,this.canvas.height])if(isNaN(l)||l<=0)return!0;return!1}}const Gt={},tr=(_,l,p,v)=>{if(l=new(ur(l.type))(_,l,p,v),l.id!==_)throw new Error(`Expected Source id to be ${_} instead of `+l.id);return l},ur=_=>{switch(_){case"geojson":return be;case"image":return Ke;case"raster":return re;case"raster-dem":return Ue;case"vector":return J;case"video":return _t;case"canvas":return Kt}return Gt[_]};function nt(_,l){var p={};if(l)for(const v of _){const E=v.layerIds.map(I=>l.getLayer(I)).filter(Boolean);if(E.length!==0){v.layers=E,v.stateDependentLayerIds&&(v.stateDependentLayers=v.stateDependentLayerIds.map(I=>E.filter(R=>R.id===I)[0]));for(const I of E)p[I.id]=v}}return p}const rt="RTLPluginLoaded";class Ht extends a.Evented{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=qe()}_syncState(l){return this.status=l,this.dispatcher.broadcast("SRPS",{pluginStatus:l,pluginURL:this.url}).catch(p=>{throw this.status="error",p})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(l){return a.__awaiter(this,arguments,void 0,function*(p,v=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=f.resolveURL(p),!this.url)throw new Error(`requested url ${p} is invalid`);if(this.status==="unavailable"){if(!v)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return a.__awaiter(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.Event(rt))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Tt=null;function Jt(){return Tt=Tt||new Ht}class rr{constructor(l,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=l,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(l){l+=this.timeAdded,l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(l){this.demTexture&&l.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(l,p,v){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",l){l.featureIndex&&(this.latestFeatureIndex=l.featureIndex,l.rawTileData?(this.latestRawTileData=l.rawTileData,this.latestFeatureIndex.rawTileData=l.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=l.collisionBoxArray,this.buckets=nt(l.buckets,p.style),this.hasSymbolBuckets=!1;for(const j in this.buckets){var E=this.buckets[j];if(E instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!v)break;E.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const j in this.buckets){var I=this.buckets[j];if(I instanceof a.SymbolBucket&&I.hasRTLText){this.hasRTLText=!0,Jt().lazyLoad();break}}this.queryPadding=0;for(const j in this.buckets){var R=this.buckets[j];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(j).queryRadius(R))}l.imageAtlas&&(this.imageAtlas=l.imageAtlas),l.glyphAtlasImage&&(this.glyphAtlasImage=l.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(l){return this.buckets[l.id]}upload(l){for(const E in this.buckets){var p=this.buckets[E];p.uploadPending()&&p.upload(l)}var v=l.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new le(l,this.imageAtlas.image,v.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new le(l,this.glyphAtlasImage,v.ALPHA),this.glyphAtlasImage=null)}prepare(l){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(l,this.imageAtlasTexture)}queryRenderedFeatures(l,p,v,E,I,R,j,G,se,X){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:E,cameraQueryGeometry:I,scale:R,tileSize:this.tileSize,pixelPosMatrix:X,transform:G,params:j,queryPadding:this.queryPadding*se},l,p,v):{}}querySourceFeatures(l,p){var v=this.latestFeatureIndex;if(v&&v.rawTileData){var E=v.loadVTLayers(),I=p&&p.sourceLayer?p.sourceLayer:"",R=E._geojsonTileLayer||E[I];if(R){var j=a.createFilter(p&&p.filter),{z:G,x:se,y:X}=this.tileID.canonical,ee={z:G,x:se,y:X};for(let Ce=0;Ce<R.length;Ce++){var Ae=R.feature(Ce);if(j.needGeometry){var Te=a.toEvaluationFeature(Ae,!0);if(!j.filter(new a.EvaluationParameters(this.tileID.overscaledZ),Te,this.tileID.canonical))continue}else if(!j.filter(new a.EvaluationParameters(this.tileID.overscaledZ),Ae))continue;Te=v.getId(Ae,I),Ae=new a.GeoJSONFeature(Ae,G,se,X,Te),Ae.tile=ee,l.push(Ae)}}}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(l){var p=this.expirationTime;if(l.cacheControl?(v=a.parseCacheControl(l.cacheControl))["max-age"]&&(this.expirationTime=Date.now()+1e3*v["max-age"]):l.expires&&(this.expirationTime=new Date(l.expires).getTime()),this.expirationTime){var v=Date.now();let E=!1;this.expirationTime>v?E=!1:p&&!(this.expirationTime<p)&&(l=this.expirationTime-p)?this.expirationTime=v+Math.max(l,3e4):E=!0,E?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(l,p){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(l).length!==0){var v,E,I,R=this.latestFeatureIndex.loadVTLayers();for(const j in this.buckets)p.style.hasLayer(j)&&(E=R[I=(v=this.buckets[j]).layers[0].sourceLayer||"_geojsonTileLayer"],I=l[I],E)&&I&&Object.keys(I).length!==0&&(v.update(I,E,this.imageAtlas&&this.imageAtlas.patternPositions||{}),I=p&&p.style&&p.style.getLayer(j))&&(this.queryPadding=Math.max(this.queryPadding,I.queryRadius(v)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<f.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(l){this.symbolFadeHoldUntil=f.now()+l}setDependencies(l,p){var v={};for(const E of p)v[E]=!0;this.dependencies[l]=v}hasDependency(l,p){for(const E of l){var v=this.dependencies[E];if(v){for(const I of p)if(v[I])return!0}}return!1}}class St{constructor(l,p){this.max=l,this.onRemove=p,this.reset()}reset(){for(const l in this.data)for(const p of this.data[l])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(l,p,v){var E=l.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);const I={value:p,timeout:void 0};return v!==void 0&&(I.timeout=setTimeout(()=>{this.remove(l,I)},v)),this.data[E].push(I),this.order.push(E),this.order.length>this.max&&(p=this._getAndRemoveByKey(this.order[0]))&&this.onRemove(p),this}has(l){return l.wrapped().key in this.data}getAndRemove(l){return this.has(l)?this._getAndRemoveByKey(l.wrapped().key):null}_getAndRemoveByKey(l){var p=this.data[l].shift();return p.timeout&&clearTimeout(p.timeout),this.data[l].length===0&&delete this.data[l],this.order.splice(this.order.indexOf(l),1),p.value}getByKey(l){return l=this.data[l],l?l[0].value:null}get(l){return this.has(l)?this.data[l.wrapped().key][0].value:null}remove(l,p){var v;return this.has(l)&&(l=l.wrapped().key,p=p===void 0?0:this.data[l].indexOf(p),v=this.data[l][p],this.data[l].splice(p,1),v.timeout&&clearTimeout(v.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(v.value),this.order.splice(this.order.indexOf(l),1)),this}setMaxSize(l){for(this.max=l;this.order.length>this.max;){var p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(l){var p=[];for(const v in this.data)for(const E of this.data[v])l(E.value)||p.push(E);for(const v of p)this.remove(v.value.tileID,v)}}class Vt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(l,p,v){var E=String(p);if(this.stateChanges[l]=this.stateChanges[l]||{},this.stateChanges[l][E]=this.stateChanges[l][E]||{},a.extend(this.stateChanges[l][E],v),this.deletedStates[l]===null){this.deletedStates[l]={};for(const I in this.state[l])I!==E&&(this.deletedStates[l][I]=null)}else if(this.deletedStates[l]&&this.deletedStates[l][E]===null){this.deletedStates[l][E]={};for(const I in this.state[l][E])v[I]||(this.deletedStates[l][E][I]=null)}else for(const I in v)this.deletedStates[l]&&this.deletedStates[l][E]&&this.deletedStates[l][E][I]===null&&delete this.deletedStates[l][E][I]}removeFeatureState(l,p,v){var E=this.deletedStates[l]===null;if(!E){var I=String(p);if(this.deletedStates[l]=this.deletedStates[l]||{},v&&p!==void 0)this.deletedStates[l][I]!==null&&(this.deletedStates[l][I]=this.deletedStates[l][I]||{},this.deletedStates[l][I][v]=null);else if(p!==void 0)if(this.stateChanges[l]&&this.stateChanges[l][I])for(v in this.deletedStates[l][I]={},this.stateChanges[l][I])this.deletedStates[l][I][v]=null;else this.deletedStates[l][I]=null;else this.deletedStates[l]=null}}getState(l,p){var v=String(p),E=this.state[l]||{},I=this.stateChanges[l]||{},R=a.extend({},E[v],I[v]);if(this.deletedStates[l]===null)return{};if(this.deletedStates[l]){if(E=this.deletedStates[l][p],E===null)return{};for(const j in E)delete R[j]}return R}initializeTileState(l,p){l.setFeatureState(this.state,p)}coalesceChanges(l,p){var v={};for(const R in this.stateChanges){this.state[R]=this.state[R]||{};var E={};for(const j in this.stateChanges[R])this.state[R][j]||(this.state[R][j]={}),a.extend(this.state[R][j],this.stateChanges[R][j]),E[j]=this.state[R][j];v[R]=E}for(const R in this.deletedStates){this.state[R]=this.state[R]||{};var I={};if(this.deletedStates[R]===null)for(const j in this.state[R])I[j]={},this.state[R][j]={};else for(const j in this.deletedStates[R]){if(this.deletedStates[R][j]===null)this.state[R][j]={};else for(const G of Object.keys(this.deletedStates[R][j]))delete this.state[R][j][G];I[j]=this.state[R][j]}v[R]=v[R]||{},a.extend(v[R],I)}if(this.stateChanges={},this.deletedStates={},Object.keys(v).length!==0)for(const R in l)l[R].setFeatureState(v,p)}}class Nt extends a.Evented{constructor(l,p,v){super(),this.id=l,this.dispatcher=v,this.on("data",E=>{E.dataType==="source"&&E.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&E.dataType==="source"&&E.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=tr(l,p,v,this),this._tiles={},this._cache=new St(0,E=>this._unloadTile(E)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Vt,this._didEmitContent=!1,this._updated=!1}onAdd(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._maxTileCacheZoomLevels=l?l._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(l)}onRemove(l){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(l)}loaded(){if(!this._sourceErrored){if(!this._sourceLoaded||!this._source.loaded())return!1;if(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain){if(!this._updated)return!1;for(const p in this._tiles){var l=this._tiles[p];if(l.state!=="loaded"&&l.state!=="errored")return!1}}}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){var l;this._paused&&(l=this._shouldReloadOnResume,this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform)&&this.update(this.transform,this.terrain)}_loadTile(l,p,v){return a.__awaiter(this,void 0,void 0,function*(){try{yield this._source.loadTile(l),this._tileLoaded(l,p,v)}catch(E){l.state="errored",E.status!==404?this._source.fire(new a.ErrorEvent(E,{tile:l})):this.update(this.transform,this.terrain)}})}_unloadTile(l){this._source.unloadTile&&this._source.unloadTile(l)}_abortTile(l){this._source.abortTile&&this._source.abortTile(l),this._source.fire(new a.Event("dataabort",{tile:l,coord:l.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(l){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const v in this._tiles){var p=this._tiles[v];p.upload(l),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(l=>l.tileID).sort(yr).map(l=>l.key)}getRenderableIds(l){var p=[];for(const v in this._tiles)this._isIdRenderable(v,l)&&p.push(this._tiles[v]);return l?p.sort((I,R)=>{var I=I.tileID,R=R.tileID,j=new a.Point(I.canonical.x,I.canonical.y)._rotate(this.transform.angle),G=new a.Point(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return I.overscaledZ-R.overscaledZ||G.y-j.y||G.x-j.x}).map(v=>v.tileID.key):p.map(v=>v.tileID).sort(yr).map(v=>v.key)}hasRenderableParent(l){return l=this.findLoadedParent(l,0),!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(l,p){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(p||!this._tiles[l].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const l in this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")}}_reloadTile(l,p){return a.__awaiter(this,void 0,void 0,function*(){var v=this._tiles[l];v&&(v.state!=="loading"&&(v.state=p),yield this._loadTile(v,l,p))})}_tileLoaded(l,p,v){l.timeAdded=f.now(),v==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(p,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),l.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:l,coord:l.tileID}))}_backfillDEM(l){var p=this.getRenderableIds();for(let I=0;I<p.length;I++){var v=p[I];l.neighboringTiles&&l.neighboringTiles[v]&&(E(l,v=this.getTileByID(v)),E(v,l))}function E(I,R){I.needsHillshadePrepare=!0,I.needsTerrainPrepare=!0;let j=R.tileID.canonical.x-I.tileID.canonical.x;var G=R.tileID.canonical.y-I.tileID.canonical.y,se=Math.pow(2,I.tileID.canonical.z),X=R.tileID.key;j===0&&G==0||1<Math.abs(G)||(1<Math.abs(j)&&(Math.abs(j+se)===1?j+=se:Math.abs(j-se)===1&&(j-=se)),R.dem&&I.dem&&(I.dem.backfillBorder(R.dem,j,G),I.neighboringTiles)&&I.neighboringTiles[X]&&(I.neighboringTiles[X].backfilled=!0))}}getTile(l){return this.getTileByID(l.key)}getTileByID(l){return this._tiles[l]}_retainLoadedChildren(l,p,v,E){for(const R in this._tiles){let j=this._tiles[R];if(!(E[R]||!j.hasData()||j.tileID.overscaledZ<=p||j.tileID.overscaledZ>v)){let G=j.tileID;for(;j&&j.tileID.overscaledZ>p+1;){var I=j.tileID.scaledTo(j.tileID.overscaledZ-1);(j=this._tiles[I.key])&&j.hasData()&&(G=I)}let se=G;for(;se.overscaledZ>p;)if(l[(se=se.scaledTo(se.overscaledZ-1)).key]){E[G.key]=G;break}}}}findLoadedParent(l,p){var v;if(l.key in this._loadedParentTiles)return(v=this._loadedParentTiles[l.key])&&v.tileID.overscaledZ>=p?v:null;for(let I=l.overscaledZ-1;I>=p;I--){var E=l.scaledTo(I),E=this._getLoadedTile(E);if(E)return E}}_getLoadedTile(l){var p=this._tiles[l.key];return p&&p.hasData()?p:this._cache.getByKey(l.wrapped().key)}updateCacheSize(E){var v=Math.ceil(E.width/this._source.tileSize)+1,E=Math.ceil(E.height/this._source.tileSize)+1,p=this._maxTileCacheZoomLevels===null?a.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels,v=Math.floor(v*E*p),E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(E)}handleWrapJump(l){var p=this._prevLng===void 0?l:this._prevLng,v=Math.round((l-p)/360);if(this._prevLng=l,v){var E={};for(const j in this._tiles){var I=this._tiles[j];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+v),E[I.tileID.key]=I}this._tiles=E;for(const j in this._timers)clearTimeout(this._timers[j]),delete this._timers[j];for(const j in this._tiles){var R=this._tiles[j];this._setTileReloadTimer(j,R)}}}update(l,p){if(this.transform=l,this.terrain=p,this._sourceLoaded&&!this._paused){this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};let at;this.used||this.usedForTerrain?this._source.tileID?at=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(Ct=>new a.OverscaledTileID(Ct.canonical.z,Ct.wrap,Ct.canonical.z,Ct.canonical.x,Ct.canonical.y)):(at=l.coveringTiles({tileSize:(this.usedForTerrain?this:this._source).tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(at=at.filter(Ct=>this._source.hasTile(Ct)))):at=[];var l=l.coveringZoomLevel(this._source),v=Math.max(l-Nt.maxOverzooming,this._source.minzoom),E=Math.max(l+Nt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){var I,R={};for(const Ct of at)Ct.canonical.z>this._source.minzoom&&(R[(I=Ct.scaledTo(Ct.canonical.z-1)).key]=I,R[(I=Ct.scaledTo(Math.max(this._source.minzoom,Math.min(Ct.canonical.z,5)))).key]=I);at=at.concat(Object.values(R))}var j=at.length===0&&!this._updated&&this._didEmitContent,G=(this._updated=!0,j&&this.fire(new a.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id})),this._updateRetainedTiles(at,l));if(Gr(this._source.type)){var se={},X={},j=Object.keys(G),ee=f.now();for(const pt of j){var Ae=G[pt],Te=this._tiles[pt];!Te||Te.fadeEndTime!==0&&Te.fadeEndTime<=ee||((Te=this.findLoadedParent(Ae,v))&&(this._addTile(Te.tileID),se[Te.tileID.key]=Te.tileID),X[pt]=Ae)}this._retainLoadedChildren(X,l,E,G);for(const pt in se)G[pt]||(this._coveredTiles[pt]=!0,G[pt]=se[pt]);if(p){var Ce={},Le={};for(const pt of at)this._tiles[pt.key].hasData()?Ce[pt.key]=pt:Le[pt.key]=pt;for(const pt in Le){var Me=Le[pt].children(this._source.maxzoom);this._tiles[Me[0].key]&&this._tiles[Me[1].key]&&this._tiles[Me[2].key]&&this._tiles[Me[3].key]&&(Ce[Me[0].key]=G[Me[0].key]=Me[0],Ce[Me[1].key]=G[Me[1].key]=Me[1],Ce[Me[2].key]=G[Me[2].key]=Me[2],Ce[Me[3].key]=G[Me[3].key]=Me[3],delete Le[pt])}for(const pt in Le){var $e=this.findLoadedParent(Le[pt],this._source.minzoom);if($e){Ce[$e.tileID.key]=G[$e.tileID.key]=$e.tileID;for(const Mt in Ce)Ce[Mt].isChildOf($e.tileID)&&delete Ce[Mt]}}for(const pt in this._tiles)Ce[pt]||(this._coveredTiles[pt]=!0)}}for(const Ct in G)this._tiles[Ct].clearFadeHold();for(const Ct of a.keysDifference(this._tiles,G)){var Ge=this._tiles[Ct];Ge.hasSymbolBuckets&&!Ge.holdingForFade()?Ge.setHoldDuration(this.map._fadeDuration):Ge.hasSymbolBuckets&&!Ge.symbolFadeFinished()||this._removeTile(Ct)}this._updateLoadedParentTileCache()}}releaseSymbolFadeTiles(){for(const l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)}_updateRetainedTiles(l,p){var v={},E={},I=Math.max(p-Nt.maxOverzooming,this._source.minzoom),R=Math.max(p+Nt.maxUnderzooming,this._source.minzoom),j={};for(const Te of l){var G=this._addTile(Te);v[Te.key]=Te,G.hasData()||p<this._source.maxzoom&&(j[Te.key]=Te)}this._retainLoadedChildren(j,p,R,v);for(const Te of l){let Ce=this._tiles[Te.key];if(!Ce.hasData()){if(p+1>this._source.maxzoom){var se=Te.children(this._source.maxzoom)[0],X=this.getTile(se);if(X&&X.hasData()){v[se.key]=se;continue}}else if(X=Te.children(this._source.maxzoom),v[X[0].key]&&v[X[1].key]&&v[X[2].key]&&v[X[3].key])continue;let Le=Ce.wasRequested();for(let Me=Te.overscaledZ-1;Me>=I;--Me){var ee=Te.scaledTo(Me);if(E[ee.key])break;if(E[ee.key]=!0,Ce=!(Ce=this.getTile(ee))&&Le?this._addTile(ee):Ce){var Ae=Ce.hasData();if((Le||Ae)&&(v[ee.key]=ee),Le=Ce.wasRequested(),Ae)break}}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const v in this._tiles){var l=[];let E,I=this._tiles[v].tileID;for(;0<I.overscaledZ;){if(I.key in this._loadedParentTiles){E=this._loadedParentTiles[I.key];break}l.push(I.key);var p=I.scaledTo(I.overscaledZ-1);if(E=this._getLoadedTile(p))break;I=p}for(const R of l)this._loadedParentTiles[R]=E}}_addTile(l){let p=this._tiles[l.key];var v;return p||((p=this._cache.getAndRemove(l))&&(this._setTileReloadTimer(l.key,p),p.tileID=l,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[l.key])&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,p)),(v=p)||(p=new rr(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(p,l.key,p.state)),p.uses++,this._tiles[l.key]=p,v)||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(l,p){l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]),p=p.getExpiryTimeout(),p&&(this._timers[l]=setTimeout(()=>{this._reloadTile(l,"expired"),delete this._timers[l]},p))}_removeTile(l){var p=this._tiles[l];p&&(p.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),0<p.uses||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const l in this._tiles)this._removeTile(l);this._cache.reset()}tilesIn(l,p,v){var E=[];const I=this.transform;if(I){var v=v?I.getCameraQueryGeometry(l):l,R=l.map(Ge=>I.pointCoordinate(Ge,this.terrain)),j=v.map(Ge=>I.pointCoordinate(Ge,this.terrain)),G=this.getIds();let Ce=1/0,Le=1/0,Me=-1/0,$e=-1/0;for(const Ge of j)Ce=Math.min(Ce,Ge.x),Le=Math.min(Le,Ge.y),Me=Math.max(Me,Ge.x),$e=Math.max($e,Ge.y);for(let Ge=0;Ge<G.length;Ge++){var se=this._tiles[G[Ge]];if(!se.holdingForFade()){const at=se.tileID;var X=Math.pow(2,I.zoom-se.tileID.overscaledZ),ee=p*se.queryPadding*a.EXTENT/se.tileSize/X,Ae=[at.getTilePoint(new a.MercatorCoordinate(Ce,Le)),at.getTilePoint(new a.MercatorCoordinate(Me,$e))];Ae[0].x-ee<a.EXTENT&&Ae[0].y-ee<a.EXTENT&&0<=Ae[1].x+ee&&0<=Ae[1].y+ee&&(Ae=R.map(ft=>at.getTilePoint(ft)),ee=j.map(ft=>at.getTilePoint(ft)),E.push({tile:se,tileID:at,queryGeometry:Ae,cameraQueryGeometry:ee,scale:X}))}}}return E}getVisibleCoordinates(l){l=this.getRenderableIds(l).map(p=>this._tiles[p].tileID);for(const p of l)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(Gr(this._source.type)){var l=f.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=l)return!0}return!1}setFeatureState(l,p,v){this._state.updateState(l=l||"_geojsonTileLayer",p,v)}removeFeatureState(l,p,v){this._state.removeFeatureState(l=l||"_geojsonTileLayer",p,v)}getFeatureState(l,p){return this._state.getState(l=l||"_geojsonTileLayer",p)}setDependencies(l,p,v){l=this._tiles[l],l&&l.setDependencies(p,v)}reloadTilesForDependencies(l,p){for(const v in this._tiles)this._tiles[v].hasDependency(l,p)&&this._reloadTile(v,"reloading");this._cache.filter(v=>!v.hasDependency(l,p))}}function yr(_,l){var p=Math.abs(2*_.wrap)-(_.wrap<0),v=Math.abs(2*l.wrap)-(l.wrap<0);return _.overscaledZ-l.overscaledZ||v-p||l.canonical.y-_.canonical.y||l.canonical.x-_.canonical.x}function Gr(_){return _==="raster"||_==="image"||_==="video"}Nt.maxOverzooming=10,Nt.maxUnderzooming=3;class Xt{constructor(l,p){this.reset(l,p)}reset(l,p){this.points=l||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(I){if(this.points.length===1)return this.points[0];I=a.clamp(I,0,1);let p=1,v=this._distances[p];for(var E=I*this.paddedLength+this.padding;v<E&&p<this._distances.length;)v=this._distances[++p];var I=p-1,j=this._distances[I],R=v-j,j=0<R?(E-j)/R:0;return this.points[I].mult(1-j).add(this.points[p].mult(j))}}function on(_,l){return _==="always"||_!=="never"&&l!=="never"}class $r{constructor(l,p,v){var E=this.boxCells=[],I=this.circleCells=[];this.xCellCount=Math.ceil(l/v),this.yCellCount=Math.ceil(p/v);for(let R=0;R<this.xCellCount*this.yCellCount;R++)E.push([]),I.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=p,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,p,v,E,I){this._forEachCell(p,v,E,I,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(E),this.bboxes.push(I)}insertCircle(l,p,v,E){this._forEachCell(p-E,v-E,p+E,v+E,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(p),this.circles.push(v),this.circles.push(E)}_insertBoxCell(l,p,v,E,I,R){this.boxCells[I].push(R)}_insertCircleCell(l,p,v,E,I,R){this.circleCells[I].push(R)}_query(l,p,v,E,I,R,j){if(v<0||l>this.width||E<0||p>this.height)return[];var G=[];if(l<=0&&p<=0&&this.width<=v&&this.height<=E){if(I)return[{key:null,x1:l,y1:p,x2:v,y2:E}];for(let Ae=0;Ae<this.boxKeys.length;Ae++)G.push({key:this.boxKeys[Ae],x1:this.bboxes[4*Ae],y1:this.bboxes[4*Ae+1],x2:this.bboxes[4*Ae+2],y2:this.bboxes[4*Ae+3]});for(let Ae=0;Ae<this.circleKeys.length;Ae++){var se=this.circles[3*Ae],X=this.circles[3*Ae+1],ee=this.circles[3*Ae+2];G.push({key:this.circleKeys[Ae],x1:se-ee,y1:X-ee,x2:se+ee,y2:X+ee})}}else this._forEachCell(l,p,v,E,this._queryCell,G,{hitTest:I,overlapMode:R,seenUids:{box:{},circle:{}}},j);return G}query(l,p,v,E){return this._query(l,p,v,E,!1,null)}hitTest(l,p,v,E,I,R){return 0<this._query(l,p,v,E,!0,I,R).length}hitTestCircle(l,p,v,E,I){var R=l-v,j=l+v,G=p-v,se=p+v;return!(j<0||R>this.width||se<0||G>this.height)&&(this._forEachCell(R,G,j,se,this._queryCellCircle,R=[],{hitTest:!0,overlapMode:E,circle:{x:l,y:p,radius:v},seenUids:{box:{},circle:{}}},I),0<R.length)}_queryCell(l,p,v,E,I,R,Ae,G){var{seenUids:se,hitTest:X,overlapMode:ee}=Ae,Ae=this.boxCells[I];if(Ae!==null){var Te=this.bboxes;for(const Ct of Ae)if(!se.box[Ct]){se.box[Ct]=!0;var Ce=4*Ct,Le=this.boxKeys[Ct];if(l<=Te[2+Ce]&&p<=Te[3+Ce]&&v>=Te[0+Ce]&&E>=Te[1+Ce]&&(!G||G(Le))&&(!X||!on(ee,Le.overlapMode))&&(R.push({key:Le,x1:Te[Ce],y1:Te[1+Ce],x2:Te[2+Ce],y2:Te[3+Ce]}),X))return!0}}if(Ae=this.circleCells[I],Ae!==null){var Me=this.circles;for(const Ct of Ae)if(!se.circle[Ct]){se.circle[Ct]=!0;var $e=3*Ct,Ge=this.circleKeys[Ct];if(this._circleAndRectCollide(Me[$e],Me[1+$e],Me[2+$e],l,p,v,E)&&(!G||G(Ge))&&(!X||!on(ee,Ge.overlapMode))){var at=Me[$e],ft=Me[1+$e],$e=Me[2+$e];if(R.push({key:Ge,x1:at-$e,y1:ft-$e,x2:at+$e,y2:ft+$e}),X)return!0}}}return!1}_queryCellCircle(l,p,v,E,I,R,Ae,G){var{circle:se,seenUids:X,overlapMode:ee}=Ae,Ae=this.boxCells[I];if(Ae!==null){var Te=this.bboxes;for(const at of Ae)if(!X.box[at]){X.box[at]=!0;var Ce=4*at,Le=this.boxKeys[at];if(this._circleAndRectCollide(se.x,se.y,se.radius,Te[0+Ce],Te[1+Ce],Te[2+Ce],Te[3+Ce])&&(!G||G(Le))&&!on(ee,Le.overlapMode))return R.push(!0),!0}}if(Ae=this.circleCells[I],Ae!==null){var Me=this.circles;for(const at of Ae)if(!X.circle[at]){X.circle[at]=!0;var $e=3*at,Ge=this.circleKeys[at];if(this._circlesCollide(Me[$e],Me[1+$e],Me[2+$e],se.x,se.y,se.radius)&&(!G||G(Ge))&&!on(ee,Ge.overlapMode))return R.push(!0),!0}}}_forEachCell(l,p,v,E,I,R,j,G){var se=this._convertToXCellCoord(l),X=this._convertToYCellCoord(p),ee=this._convertToXCellCoord(v),Ae=this._convertToYCellCoord(E);for(let Ce=se;Ce<=ee;Ce++)for(let Le=X;Le<=Ae;Le++){var Te=this.xCellCount*Le+Ce;if(I.call(this,l,p,v,E,Te,R,j,G))return}}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,p,v,E,I,R){return E-=l,l=I-p,I=v+R,E*E+l*l<I*I}_circleAndRectCollide(l,p,v,E,I,R,j){return R=(R-E)/2,l=Math.abs(l-(E+R)),!(R+v<l||(E=(j-I)/2)+v<(j=Math.abs(p-(I+E)))||!(l<=R||j<=E||(p=l-R)*p+(I=j-E)*I<=v*v))}}function xn(_,l,p,v,E){var I=a.create();return l?(a.scale(I,I,[1/E,1/E,1]),p||a.rotateZ(I,I,v.angle)):a.multiply(I,v.labelPlaneMatrix,_),I}function De(_,l,p,v,E){return l?(l=a.clone(_),a.scale(l,l,[E,E,1]),p||a.rotateZ(l,l,-v.angle),l):v.glCoordMatrix}function ye(_,l,p){let v;return p?(v=[_.x,_.y,p(_.x,_.y),1],a.transformMat4(v,v,l)):or(v=[_.x,_.y,0,1],v,l),p=v[3],{point:new a.Point(v[0]/p,v[1]/p),signedDistanceFromCamera:p}}function we(_,l){return .5+_/l*.5}function Se(_,Me,p,v,E,I,R,j,G,se,X,ee,Ae){var $e=j.glyphStartIndex+j.numGlyphs,Te=j.lineStartIndex,Ce=j.lineStartIndex+j.lineLength,Le=Me.getoffsetX(j.glyphStartIndex),Me=Me.getoffsetX($e-1),$e=At(_*Le,p,v,E,I,R,j.segment,Te,Ce,G,se,X,ee,Ae);return $e&&(Le=At(_*Me,p,v,E,I,R,j.segment,Te,Ce,G,se,X,ee,Ae))?{first:$e,last:Le}:null}function Je(_,l,p,v){if(_===a.WritingMode.horizontal){var E=Math.abs(p.y-l.y);if(Math.abs(p.x-l.x)*v<E)return{useVertical:!0}}return(_===a.WritingMode.vertical?l.y<p.y:l.x>p.x)?{needsFlipping:!0}:null}function ut(_,l,p,v,E,I,R,j,G,se,X,ee,Ae,Te,Ce,Le){var Me=l/24,$e=_.lineOffsetX*Me,Ge=_.lineOffsetY*Me;let at;if(1<_.numGlyphs){var ft=_.glyphStartIndex+_.numGlyphs,Ct=_.lineStartIndex,pt=_.lineStartIndex+_.lineLength,l=Se(Me,j,$e,Ge,p,X,ee,_,G,I,Ae,Ce,Le);if(!l)return{notEnoughRoom:!0};var Mt=ye(l.first.point,R,Le).point,R=ye(l.last.point,R,Le).point;if(v&&!p&&(Mt=Je(_.writingMode,Mt,R,Te),Mt))return Mt;at=[l.first];for(let Lt=_.glyphStartIndex+1;Lt<ft-1;Lt++)at.push(At(Me*j.getoffsetX(Lt),$e,Ge,p,X,ee,_.segment,Ct,pt,G,I,Ae,Ce,Le));at.push(l.last)}else{if(v&&!p&&(R=ye(ee,E,Le).point,Mt=_.lineStartIndex+_.segment+1,l=new a.Point(G.getx(Mt),G.gety(Mt)),v=ye(l,E,Le),Mt=0<v.signedDistanceFromCamera?v.point:xt(ee,l,R,1,E,Le),v=Je(_.writingMode,R,Mt,Te),v))return v;if(l=At(Me*j.getoffsetX(_.glyphStartIndex),$e,Ge,p,X,ee,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,G,I,Ae,Ce,Le),!l)return{notEnoughRoom:!0};at=[l]}for(const Qt of at)a.addDynamicAttributes(se,Qt.point,Qt.angle);return{}}function xt(_,l,p,v,E,I){return _=ye(_.add(_.sub(l)._unit()),E,I).point,l=p.sub(_),p.add(l._mult(v/l.mag()))}function dt(_,E){var p,v,{projectionCache:E,lineVertexArray:I,labelPlaneMatrix:R,tileAnchorPoint:j,distanceFromAnchor:G,getElevation:se,previousVertex:X,direction:ee,absOffsetX:Ae}=E;return E.projections[_]||(0<(v=ye(p=new a.Point(I.getx(_),I.gety(_)),R,se)).signedDistanceFromCamera?(E.projections[_]=v.point,v.point):(E=_-ee,xt(G===0?j:new a.Point(I.getx(E),I.gety(E)),p,X,Ae-G+1,R,se)))}function tt(_,l,p){return _._unit()._perp()._mult(l*p)}function At(_,l,p,v,E,I,R,j,G,se,X,ee,Ae,Te){_=v?_-l:_+l;let Ce=0<_?1:-1,Le=0,Me=(v&&(Ce*=-1,Le=Math.PI),Ce<0&&(Le+=Math.PI),0<Ce?j+R:j+R+1),$e=E,Ge=E,at,ft,Ct=0,pt=0;var Mt=Math.abs(_),Qt=[];let Ft;for(;Ct+pt<=Mt;){if((Me+=Ce)<j||Me>=G)return null;Ct+=pt,Ge=$e,ft=at;var Lt={projectionCache:ee,lineVertexArray:se,labelPlaneMatrix:X,tileAnchorPoint:I,distanceFromAnchor:Ct,getElevation:Te,previousVertex:Ge,direction:Ce,absOffsetX:Mt};if($e=dt(Me,Lt),p===0)Qt.push(Ge),Ft=$e.sub(Ge);else{let Br;var Pt=$e.sub(Ge);Br=Pt.mag()===0?tt(dt(Me+Ce,Lt).sub($e),p,Ce):tt(Pt,p,Ce),ft=ft||Ge.add(Br),at=(function(hr,ir,It,sr,Tr,mr,sn,Cn){var{projectionCache:rn,direction:zr}=Cn;if(!rn.offsets[hr]){if(ir=It.add(ir),hr+zr<sr||Tr<=hr+zr)return rn.offsets[hr]=ir;sr=dt(hr+zr,Cn),Tr=tt(sr.sub(It),sn,zr),Cn=It.add(Tr),sn=sr.add(Tr),rn.offsets[hr]=a.findLineIntersection(mr,ir,Cn,sn)||ir}return rn.offsets[hr]})(Me,Br,$e,j,G,ft,p,Lt),Qt.push(ft),Ft=at.sub(ft)}pt=Ft.mag()}return l=(Mt-Ct)/pt,v=Ft._mult(l)._add(ft||Ge),R=Le+Math.atan2($e.y-Ge.y,$e.x-Ge.x),Qt.push(v),{point:v,angle:Ae?R:0,path:Qt}}const zt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qt(_,l){for(let v=0;v<_;v++){var p=l.length;l.resize(p+4),l.float32.set(zt,3*p)}}function or(_,E,p){var v=E[0],E=E[1];_[0]=p[0]*v+p[4]*E+p[12],_[1]=p[1]*v+p[5]*E+p[13],_[3]=p[3]*v+p[7]*E+p[15]}class Sr{constructor(l,p=new $r(l.width+200,l.height+200,25),v=new $r(l.width+200,l.height+200,25)){this.transform=l,this.grid=p,this.ignoredGrid=v,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+100,this.screenBottomBoundary=l.height+100,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(Ae,p,se,j,I,G){var j=this.projectAndGetPerspectiveRatio(j,Ae.anchorPointX,Ae.anchorPointY,G),G=se*j.perspectiveRatio,se=Ae.x1*G+j.point.x,X=Ae.y1*G+j.point.y,ee=Ae.x2*G+j.point.x,Ae=Ae.y2*G+j.point.y;return!this.isInsideGrid(se,X,ee,Ae)||p!=="always"&&this.grid.hitTest(se,X,ee,Ae,p,I)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[se,X,ee,Ae],offscreen:this.isOffscreen(se,X,ee,Ae)}}placeCollisionCircles(l,p,v,ft,at,$e,j,G,se,Ge,ee,Ae,Te,Ce){var Le=[],Me=new a.Point(p.anchorX,p.anchorY),$e=ye(Me,$e,Ce),$e=we(this.transform.cameraToCenterDistance,$e.signedDistanceFromCamera),Ge=(Ge?at/$e:at*$e)/a.ONE_EM,at=ye(Me,j,Ce).point,ft=Se(Ge,ft,p.lineOffsetX*Ge,p.lineOffsetY*Ge,!1,at,Me,p,v,j,{projections:{},offsets:{}},!1,Ce);let Ct=!1,pt=!1,Mt=!0;if(ft){var Qt=.5*Ae*$e+Te,Ge=new a.Point(-100,-100),at=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Ft=new Xt,Lt=ft.first,Pt=ft.last;let Pr=[];for(let xr=Lt.path.length-1;1<=xr;xr--)Pr.push(Lt.path[xr]);for(let xr=1;xr<Pt.path.length;xr++)Pr.push(Pt.path[xr]);var Br=2.5*Qt;G&&(Me=Pr.map(xr=>ye(xr,G,Ce)),Pr=Me.some(xr=>xr.signedDistanceFromCamera<=0)?[]:Me.map(xr=>xr.point));let bn=[];if(0<Pr.length){var hr=Pr[0].clone(),ir=Pr[0].clone();for(let xr=1;xr<Pr.length;xr++)hr.x=Math.min(hr.x,Pr[xr].x),hr.y=Math.min(hr.y,Pr[xr].y),ir.x=Math.max(ir.x,Pr[xr].x),ir.y=Math.max(ir.y,Pr[xr].y);bn=hr.x>=Ge.x&&ir.x<=at.x&&hr.y>=Ge.y&&ir.y<=at.y?[Pr]:ir.x<Ge.x||hr.x>at.x||ir.y<Ge.y||hr.y>at.y?[]:a.clipLine([Pr],Ge.x,Ge.y,at.x,at.y)}for(const xr of bn){Ft.reset(xr,.25*Qt);let En=0;En=Ft.length<=.5*Qt?1:Math.ceil(Ft.paddedLength/Br)+1;for(let Wi=0;Wi<En;Wi++){var sr=Wi/Math.max(En-1,1),sr=Ft.lerp(sr),It=sr.x+100,sr=sr.y+100,Tr=(Le.push(It,sr,Qt,0),It-Qt),mr=sr-Qt,sn=It+Qt,Cn=sr+Qt;if(Mt=Mt&&this.isOffscreen(Tr,mr,sn,Cn),pt=pt||this.isInsideGrid(Tr,mr,sn,Cn),l!=="always"&&this.grid.hitTestCircle(It,sr,Qt,l,ee)&&(Ct=!0,!se))return{circles:[],offscreen:!1,collisionDetected:Ct}}}}return{circles:!se&&Ct||!pt||$e<this.perspectiveRatioCutoff?[]:Le,offscreen:Mt,collisionDetected:Ct}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};var p=[];let v=1/0,E=1/0,I=-1/0,R=-1/0;for(const Ae of l){var j=new a.Point(Ae.x+100,Ae.y+100);v=Math.min(v,j.x),E=Math.min(E,j.y),I=Math.max(I,j.x),R=Math.max(R,j.y),p.push(j)}var G={},se={};for(const Ae of this.grid.query(v,E,I,R).concat(this.ignoredGrid.query(v,E,I,R))){var X,ee=Ae.key;G[ee.bucketInstanceId]===void 0&&(G[ee.bucketInstanceId]={}),G[ee.bucketInstanceId][ee.featureIndex]||(X=[new a.Point(Ae.x1,Ae.y1),new a.Point(Ae.x2,Ae.y1),new a.Point(Ae.x2,Ae.y2),new a.Point(Ae.x1,Ae.y2)],a.polygonIntersectsPolygon(p,X)&&(G[ee.bucketInstanceId][ee.featureIndex]=!0,se[ee.bucketInstanceId]===void 0&&(se[ee.bucketInstanceId]=[]),se[ee.bucketInstanceId].push(ee.featureIndex)))}return se}insertCollisionBox(l,p,v,E,I,R){(v?this.ignoredGrid:this.grid).insert({bucketInstanceId:E,featureIndex:I,collisionGroupID:R,overlapMode:p},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,p,v,E,I,R){var j=v?this.ignoredGrid:this.grid,G={bucketInstanceId:E,featureIndex:I,collisionGroupID:R,overlapMode:p};for(let se=0;se<l.length;se+=4)j.insertCircle(G,l[se],l[se+1],l[se+2])}projectAndGetPerspectiveRatio(l,p,v,E){let I;return E?(I=[p,v,E(p,v),1],a.transformMat4(I,I,l)):or(I=[p,v,0,1],I,l),{point:new a.Point((I[0]/I[3]+1)/2*this.transform.width+100,(-I[1]/I[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/I[3]*.5}}isOffscreen(l,p,v,E){return v<100||l>=this.screenRightBoundary||E<100||p>this.screenBottomBoundary}isInsideGrid(l,p,v,E){return 0<=v&&l<this.gridRightBoundary&&0<=E&&p<this.gridBottomBoundary}getViewportMatrix(){var l=a.identity([]);return a.translate(l,l,[-100,-100,0]),l}}function Ir(_,l,p){return l*(a.EXTENT/(_.tileSize*Math.pow(2,p-_.tileID.overscaledZ)))}class Rr{constructor(l,p,v,E){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?p:-p))):E&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class Ln{constructor(l,p,v,E,I){this.text=new Rr(l?l.text:null,p,v,I),this.icon=new Rr(l?l.icon:null,p,E,I)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class kn{constructor(l,p,v){this.text=l,this.icon=p,this.skipFade=v}}class An{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class dn{constructor(l,p,v,E,I){this.bucketInstanceId=l,this.featureIndex=p,this.sourceLayerIndex=v,this.bucketIndex=E,this.tileID=I}}class Dr{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const p=++this.maxGroupID;this.collisionGroups[l]={ID:p,predicate:v=>v.collisionGroupID===p}}return this.collisionGroups[l]}}function Qr(I,l,p,v,E){var{horizontalAlign:I,verticalAlign:R}=a.getAnchorAlignment(I);return new a.Point(-(I-.5)*l+v[0]*E,-(R-.5)*p+v[1]*E)}function gn(R,Ae,p,v,E,I){var{x1:R,x2:j,y1:G,y2:se,anchorPointX:X,anchorPointY:ee}=R,Ae=new a.Point(Ae,p);return v&&Ae._rotate(E?I:-I),{x1:R+Ae.x,y1:G+Ae.y,x2:j+Ae.x,y2:se+Ae.y,anchorPointX:X,anchorPointY:ee}}class Rn{constructor(l,p,v,E,I){this.transform=l.clone(),this.terrain=p,this.collisionIndex=new Sr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Dr(E),this.collisionCircleArrays={},(this.prevPlacement=I)&&(I.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,p,v,E){var I=v.getBucket(p),R=v.latestFeatureIndex;if(I&&R&&p.id===I.layerIds[0]){var p=v.collisionBoxArray,j=I.layers[0].layout,G=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),se=v.tileSize/a.EXTENT,X=this.transform.calculatePosMatrix(v.tileID.toUnwrapped()),ee=j.get("text-pitch-alignment")==="map",Ae=j.get("text-rotation-alignment")==="map",Te=Ir(v,1,this.transform.zoom),Ce=xn(X,ee,Ae,this.transform,Te);let ft=null;ee&&(ee=De(X,ee,Ae,this.transform,Te),ft=a.multiply([],this.transform.labelPlaneMatrix,ee)),this.retainedQueryData[I.bucketInstanceId]=new dn(I.bucketInstanceId,R,I.sourceLayerIndex,I.index,v.tileID);var Le={bucket:I,layout:j,posMatrix:X,textLabelPlaneMatrix:Ce,labelToScreenMatrix:ft,scale:G,textPixelRatio:se,holdingForFade:v.holdingForFade(),collisionBoxArray:p,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(I.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(I.sourceID)};if(E)for(const Ct of I.sortKeyRanges){var{sortKey:Me,symbolInstanceStart:$e,symbolInstanceEnd:Ge}=Ct;l.push({sortKey:Me,symbolInstanceStart:$e,symbolInstanceEnd:Ge,parameters:Le})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:Le})}}attemptAnchorPlacement(Ge,ft,v,E,I,R,j,G,se,X,ee,Ae,Te,Ce,Le,Me){var $e=a.TextAnchorEnum[Ge.textAnchor],Ge=[Ge.textOffset0,Ge.textOffset1],at=Qr($e,v,E,Ge,I),ft=this.collisionIndex.placeCollisionBox(gn(ft,at.x,at.y,R,j,this.transform.angle),ee,G,se,X.predicate,Me);if(!(Le&&this.collisionIndex.placeCollisionBox(gn(Le,at.x,at.y,R,j,this.transform.angle),ee,G,se,X.predicate,Me).box.length===0)&&0<ft.box.length){let Ct;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ae.crossTileID]&&this.prevPlacement.placements[Ae.crossTileID]&&this.prevPlacement.placements[Ae.crossTileID].text&&(Ct=this.prevPlacement.variableOffsets[Ae.crossTileID].anchor),Ae.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Ae.crossTileID]={textOffset:Ge,width:v,height:E,anchor:$e,textBoxScale:I,prevAnchor:Ct},this.markUsedJustification(Te,$e,Ae,Ce),Te.allowVerticalPlacement&&(this.markUsedOrientation(Te,Ce,Ae),this.placedOrientations[Ae.crossTileID]=Ce),{shift:at,placedGlyphBoxes:ft}}}placeLayerBucketPart(l,p,v){const{bucket:E,layout:I,posMatrix:R,textLabelPlaneMatrix:j,labelToScreenMatrix:G,textPixelRatio:se,holdingForFade:X,collisionBoxArray:ee,partiallyEvaluatedTextSize:Ae,collisionGroup:Te}=l.parameters,Ce=I.get("text-optional"),Le=I.get("icon-optional"),Me=a.getOverlapMode(I,"text-overlap","text-allow-overlap"),$e=Me==="always",Ge=a.getOverlapMode(I,"icon-overlap","icon-allow-overlap");var at=Ge==="always";const ft=I.get("text-rotation-alignment")==="map",Ct=I.get("text-pitch-alignment")==="map",pt=I.get("icon-text-fit")!=="none";var Mt=I.get("symbol-z-order")==="viewport-y";const Qt=$e&&(at||!E.hasIconData()||Le),Ft=at&&($e||!E.hasTextData()||Ce),Lt=(!E.collisionArrays&&ee&&E.deserializeCollisionBoxes(ee),this.retainedQueryData[E.bucketInstanceId].tileID),Pt=this.terrain?(It,sr)=>this.terrain.getElevation(Lt,It,sr):null;var Br=(It,sr)=>{if(!p[It.crossTileID])if(X)this.placements[It.crossTileID]=new kn(!1,!1,!1);else{let zr=!1,Pr=!1,bn=!0,xr=null,En={box:null,offscreen:null},Wi={box:null},ti=null,va=null,Vn=0,Un=0,Ai=0;sr.textFeatureIndex?Vn=sr.textFeatureIndex:It.useRuntimeCollisionCircles&&(Vn=It.featureIndex),sr.verticalTextFeatureIndex&&(Un=sr.verticalTextFeatureIndex);const Aa=sr.textBox;if(Aa){var Tr=Hn=>{let zn=a.WritingMode.horizontal;return E.allowVerticalPlacement&&!Hn&&this.prevPlacement&&(Hn=this.prevPlacement.placedOrientations[It.crossTileID])&&(this.placedOrientations[It.crossTileID]=Hn,zn=Hn,this.markUsedOrientation(E,zn,It)),zn},mr=(Hn,zn)=>{if(E.allowVerticalPlacement&&0<It.numVerticalGlyphVertices&&sr.verticalTextBox){for(const qn of E.writingModes)if(qn===a.WritingMode.vertical?(En=zn(),Wi=En):En=Hn(),En&&En.box&&En.box.length)break}else En=Hn()};const yn=It.textAnchorOffsetStartIndex,Nn=It.textAnchorOffsetEndIndex;if(Nn===yn){const Hn=(zn,qn)=>(zn=this.collisionIndex.placeCollisionBox(zn,Me,se,R,Te.predicate,Pt),zn&&zn.box&&zn.box.length&&(this.markUsedOrientation(E,qn,It),this.placedOrientations[It.crossTileID]=qn),zn);mr(()=>Hn(Aa,a.WritingMode.horizontal),()=>{var zn=sr.verticalTextBox;return E.allowVerticalPlacement&&0<It.numVerticalGlyphVertices&&zn?Hn(zn,a.WritingMode.vertical):{box:null,offscreen:null}}),Tr(En&&En.box&&En.box.length)}else{let Hn=a.TextAnchorEnum[(sn=(sn=this.prevPlacement)==null?void 0:sn.variableOffsets[It.crossTileID])==null?void 0:sn.anchor];const zn=(ci,gi,us)=>{var ho=ci.x2-ci.x1,ui=ci.y2-ci.y1,sl=It.textBoxScale,Qc=pt&&Ge==="never"?gi:null;let Hi={box:[],offscreen:!1},oa=Me==="never"?1:2,Hc="never";Hn&&oa++;for(let wu=0;wu<oa;wu++){for(let ys=yn;ys<Nn;ys++){var zc=E.textAnchorOffsets.get(ys);if((!Hn||zc.textAnchor===Hn)&&(zc=this.attemptAnchorPlacement(zc,ci,ho,ui,sl,ft,Ct,se,R,Te,Hc,It,E,us,Qc,Pt),zc&&(Hi=zc.placedGlyphBoxes)&&Hi.box&&Hi.box.length))return zr=!0,xr=zc.shift,Hi}Hn?Hn=null:Hc=Me}return Hi};mr(()=>zn(Aa,sr.iconBox,a.WritingMode.horizontal),()=>{var ci=sr.verticalTextBox,gi=En&&En.box&&En.box.length;return E.allowVerticalPlacement&&!gi&&0<It.numVerticalGlyphVertices&&ci?zn(ci,sr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),En&&(zr=En.box,bn=En.offscreen);var sn=Tr(En&&En.box);!zr&&this.prevPlacement&&(mr=this.prevPlacement.variableOffsets[It.crossTileID])&&(this.variableOffsets[It.crossTileID]=mr,this.markUsedJustification(E,mr.anchor,It,sn))}}Tr=En,zr=Tr&&Tr.box&&0<Tr.box.length,bn=Tr&&Tr.offscreen,It.useRuntimeCollisionCircles&&(mr=E.text.placedSymbolArray.get(It.centerJustifiedTextSymbolIndex),sn=a.evaluateSizeForFeature(E.textSizeData,Ae,mr),rn=I.get("text-padding"),Cn=It.collisionCircleDiameter,(ti=this.collisionIndex.placeCollisionCircles(Me,mr,E.lineVertexArray,E.glyphOffsetArray,sn,R,j,G,v,Ct,Te.predicate,Cn,rn,Pt)).circles.length&&ti.collisionDetected&&!v&&a.warnOnce("Collisions detected, but collision boxes are not shown"),zr=$e||0<ti.circles.length&&!ti.collisionDetected,bn=bn&&ti.offscreen),sr.iconFeatureIndex&&(Ai=sr.iconFeatureIndex),sr.iconBox&&(mr=yn=>(yn=pt&&xr?gn(yn,xr.x,xr.y,ft,Ct,this.transform.angle):yn,this.collisionIndex.placeCollisionBox(yn,Ge,se,R,Te.predicate,Pt)),Pr=0<(va=Wi&&Wi.box&&Wi.box.length&&sr.verticalIconBox?mr(sr.verticalIconBox):mr(sr.iconBox)).box.length,bn=bn&&va.offscreen);var sn=Ce||It.numHorizontalGlyphVertices===0&&It.numVerticalGlyphVertices===0,Cn=Le||It.numIconVertices===0;if(sn||Cn?Cn?sn||(Pr=Pr&&zr):zr=Pr&&zr:Pr=zr=Pr&&zr,zr&&Tr&&Tr.box&&(Wi&&Wi.box&&Un?this.collisionIndex.insertCollisionBox(Tr.box,Me,I.get("text-ignore-placement"),E.bucketInstanceId,Un,Te.ID):this.collisionIndex.insertCollisionBox(Tr.box,Me,I.get("text-ignore-placement"),E.bucketInstanceId,Vn,Te.ID)),Pr&&va&&this.collisionIndex.insertCollisionBox(va.box,Ge,I.get("icon-ignore-placement"),E.bucketInstanceId,Ai,Te.ID),ti&&(zr&&this.collisionIndex.insertCollisionCircles(ti.circles,Me,I.get("text-ignore-placement"),E.bucketInstanceId,Vn,Te.ID),v)){var rn=E.bucketInstanceId;let yn=this.collisionCircleArrays[rn];yn===void 0&&(yn=this.collisionCircleArrays[rn]=new An);for(let Nn=0;Nn<ti.circles.length;Nn+=4)yn.circles.push(ti.circles[Nn+0]),yn.circles.push(ti.circles[Nn+1]),yn.circles.push(ti.circles[Nn+2]),yn.circles.push(ti.collisionDetected?1:0)}if(It.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(E.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[It.crossTileID]=new kn(zr||Qt,Pr||Ft,bn||E.justReloaded),p[It.crossTileID]=!0}};if(Mt){if(l.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");var hr=E.getSortedSymbolIndexes(this.transform.angle);for(let It=hr.length-1;0<=It;--It){var ir=hr[It];Br(E.symbolInstances.get(ir),E.collisionArrays[ir])}}else for(let It=l.symbolInstanceStart;It<l.symbolInstanceEnd;It++)Br(E.symbolInstances.get(It),E.collisionArrays[It]);v&&E.bucketInstanceId in this.collisionCircleArrays&&(at=this.collisionCircleArrays[E.bucketInstanceId],a.invert(at.invProjMatrix,R),at.viewportMatrix=this.collisionIndex.getViewportMatrix()),E.justReloaded=!1}markUsedJustification(l,p,v,E){var I={left:v.leftJustifiedTextSymbolIndex,center:v.centerJustifiedTextSymbolIndex,right:v.rightJustifiedTextSymbolIndex};let R;R=E===a.WritingMode.vertical?v.verticalPlacedTextSymbolIndex:I[a.getAnchorJustification(p)];for(const j of[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex,v.verticalPlacedTextSymbolIndex])0<=j&&(0<=R&&j!==R?l.text.placedSymbolArray.get(j).crossTileID=0:l.text.placedSymbolArray.get(j).crossTileID=v.crossTileID)}markUsedOrientation(l,I,v){var E=I===a.WritingMode.horizontal||I===a.WritingMode.horizontalOnly?I:0,I=I===a.WritingMode.vertical?I:0;for(const R of[v.leftJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.rightJustifiedTextSymbolIndex])l.text.placedSymbolArray.get(R).placedOrientation=E;v.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(v.verticalPlacedTextSymbolIndex).placedOrientation=I)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;var p=this.prevPlacement;let v=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;var E=p?p.symbolFadeChange(l):1,I=p?p.opacities:{},R=p?p.variableOffsets:{},j=p?p.placedOrientations:{};for(const Ae in this.placements){var G=this.placements[Ae],se=I[Ae];v=se?(this.opacities[Ae]=new Ln(se,E,G.text,G.icon),v||G.text!==se.text.placed||G.icon!==se.icon.placed):(this.opacities[Ae]=new Ln(null,E,G.text,G.icon,G.skipFade),v||G.text||G.icon)}for(const Ae in I){var X,ee=I[Ae];this.opacities[Ae]||(X=new Ln(ee,E,!1,!1)).isHidden()||(this.opacities[Ae]=X,v=v||ee.text.placed||ee.icon.placed)}for(const Ae in R)this.variableOffsets[Ae]||!this.opacities[Ae]||this.opacities[Ae].isHidden()||(this.variableOffsets[Ae]=R[Ae]);for(const Ae in j)this.placedOrientations[Ae]||!this.opacities[Ae]||this.opacities[Ae].isHidden()||(this.placedOrientations[Ae]=j[Ae]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");v?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:l)}updateLayerOpacities(l,p){var v={};for(const I of p){var E=I.getBucket(l);E&&I.latestFeatureIndex&&l.id===E.layerIds[0]&&this.updateBucketOpacities(E,v,I.collisionBoxArray)}}updateBucketOpacities(l,p,v){l.hasTextData()&&(l.text.opacityVertexArray.clear(),l.text.hasVisibleVertices=!1),l.hasIconData()&&(l.icon.opacityVertexArray.clear(),l.icon.hasVisibleVertices=!1),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();var E=l.layers[0],I=E.layout,R=new Ln(null,0,!1,!1,!0),j=I.get("text-allow-overlap"),G=I.get("icon-allow-overlap"),se=E._unevaluatedLayout.hasValue("text-variable-anchor")||E._unevaluatedLayout.hasValue("text-variable-anchor-offset"),X=I.get("text-rotation-alignment")==="map",ee=I.get("text-pitch-alignment")==="map",Ae=I.get("icon-text-fit")!=="none",Te=new Ln(null,0,j&&(G||!l.hasIconData()||I.get("icon-optional")),G&&(j||!l.hasTextData()||I.get("text-optional")),!0),Ce=(!l.collisionArrays&&v&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(v),(Qt,Ft,Lt)=>{for(let Pt=0;Pt<Ft/4;Pt++)Qt.opacityVertexArray.emplaceBack(Lt);Qt.hasVisibleVertices=Qt.hasVisibleVertices||Lt!==Ga});for(let Qt=0;Qt<l.symbolInstances.length;Qt++){var Le=l.symbolInstances.get(Qt),{numHorizontalGlyphVertices:Me,numVerticalGlyphVertices:$e,crossTileID:Ge}=Le,at=p[Ge];let Ft=this.opacities[Ge];at?Ft=R:Ft||(Ft=Te,this.opacities[Ge]=Ft),p[Ge]=!0;var at=0<Le.numIconVertices,ft=this.placedOrientations[Le.crossTileID];const Lt=ft===a.WritingMode.vertical;var Ct=ft===a.WritingMode.horizontal||ft===a.WritingMode.horizontalOnly;if(0<Me||0<$e){var Mt=mi(Ft.text),pt=Lt?Ga:Mt,Me=(Ce(l.text,Me,pt),Ct?Ga:Mt);Ce(l.text,$e,Me);const Br=Ft.text.isHidden();[Le.rightJustifiedTextSymbolIndex,Le.centerJustifiedTextSymbolIndex,Le.leftJustifiedTextSymbolIndex].forEach(hr=>{0<=hr&&(l.text.placedSymbolArray.get(hr).hidden=Br||Lt?1:0)}),0<=Le.verticalPlacedTextSymbolIndex&&(l.text.placedSymbolArray.get(Le.verticalPlacedTextSymbolIndex).hidden=Br||Ct?1:0);var pt=this.variableOffsets[Le.crossTileID],Mt=(pt&&this.markUsedJustification(l,pt.anchor,Le,ft),this.placedOrientations[Le.crossTileID]);Mt&&(this.markUsedJustification(l,"left",Le,Mt),this.markUsedOrientation(l,Mt,Le))}if(at&&($e=mi(Ft.icon),Me=!(Ae&&Le.verticalPlacedIconSymbolIndex&&Lt),0<=Le.placedIconSymbolIndex&&(pt=Me?$e:Ga,Ce(l.icon,Le.numIconVertices,pt),l.icon.placedSymbolArray.get(Le.placedIconSymbolIndex).hidden=Ft.icon.isHidden()),0<=Le.verticalPlacedIconSymbolIndex)&&(ft=Me?Ga:$e,Ce(l.icon,Le.numVerticalIconVertices,ft),l.icon.placedSymbolArray.get(Le.verticalPlacedIconSymbolIndex).hidden=Ft.icon.isHidden()),(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&(Mt=l.collisionArrays[Qt],Mt)){let Pt=new a.Point(0,0);if(Mt.textBox||Mt.verticalTextBox){let Br=!0;se&&((at=this.variableOffsets[Ge])?(Pt=Qr(at.anchor,at.width,at.height,at.textOffset,at.textBoxScale),X&&Pt._rotate(ee?this.transform.angle:-this.transform.angle)):Br=!1),Mt.textBox&&$i(l.textCollisionBox.collisionVertexArray,Ft.text.placed,!Br||Lt,Pt.x,Pt.y),Mt.verticalTextBox&&$i(l.textCollisionBox.collisionVertexArray,Ft.text.placed,!Br||Ct,Pt.x,Pt.y)}Me=!!(!Ct&&Mt.verticalIconBox),Mt.iconBox&&$i(l.iconCollisionBox.collisionVertexArray,Ft.icon.placed,Me,Ae?Pt.x:0,Ae?Pt.y:0),Mt.verticalIconBox&&$i(l.iconCollisionBox.collisionVertexArray,Ft.icon.placed,!Me,Ae?Pt.x:0,Ae?Pt.y:0)}}if(l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.text.opacityVertexArray.length!==l.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${l.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${l.text.layoutVertexArray.length}) / 4`);if(l.icon.opacityVertexArray.length!==l.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${l.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${l.icon.layoutVertexArray.length}) / 4`);l.bucketInstanceId in this.collisionCircleArrays&&(E=this.collisionCircleArrays[l.bucketInstanceId],l.placementInvProjMatrix=E.invProjMatrix,l.placementViewportMatrix=E.viewportMatrix,l.collisionCircleArray=E.circles,delete this.collisionCircleArrays[l.bucketInstanceId])}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,p){var v=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*v>l}setStale(){this.stale=!0}}function $i(_,l,p,v,E){_.emplaceBack(l?1:0,p?1:0,v||0,E||0),_.emplaceBack(l?1:0,p?1:0,v||0,E||0),_.emplaceBack(l?1:0,p?1:0,v||0,E||0),_.emplaceBack(l?1:0,p?1:0,v||0,E||0)}const Va=Math.pow(2,25),Yi=Math.pow(2,24),ba=Math.pow(2,17),Wu=Math.pow(2,16),Zu=Math.pow(2,9),wA=Math.pow(2,8),ip=Math.pow(2,1);function mi(_){var l;return _.opacity!==0||_.placed?_.opacity===1&&_.placed?4294967295:(l=_.placed?1:0,(_=Math.floor(127*_.opacity))*Va+l*Yi+_*ba+l*Wu+_*Zu+l*wA+_*ip+l):0}const Ga=0;class Es{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&!l.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(l,p,v,E,I){for(var R=this._bucketParts;this._currentTileIndex<l.length;){var j=l[this._currentTileIndex];if(p.getBucketParts(R,E,j,this._sortAcrossTiles),this._currentTileIndex++,I())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((se,X)=>se.sortKey-X.sortKey));this._currentPartIndex<R.length;){var G=R[this._currentPartIndex];if(p.placeLayerBucketPart(G,this._seenCrossTileIDs,v),this._currentPartIndex++,I())return!0}return!1}}class Uo{constructor(l,p,v,E,I,R,j,G){this.placement=new Rn(l,p,R,j,G),this._currentPlacementIndex=v.length-1,this._forceFullPlacement=E,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(l,p,v){const E=f.now();for(var I=()=>!this._forceFullPlacement&&2<f.now()-E;0<=this._currentPlacementIndex;){var R=p[l[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=j)&&(!R.maxzoom||R.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new Es(R)),this._inProgressLayer.continuePlacement(v[R.source],this.placement,this._showCollisionBoxes,R,I))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Pa=512/a.EXTENT/2;class Xu{constructor(l,p,v){this.tileID=l,this.bucketInstanceId=v,this._symbolsByKey={};var E,I,R=new Map;for(let Ce=0;Ce<p.length;Ce++){var j=p.get(Ce),G=j.key,se=R.get(G);se?se.push(j):R.set(G,[j])}for([E,I]of R){var X={positions:I.map(Ce=>({x:Math.floor(Ce.anchorX*Pa),y:Math.floor(Ce.anchorY*Pa)})),crossTileIDs:I.map(Ce=>Ce.crossTileID)};if(128<X.positions.length){var ee,Ae,Te=new a.KDBush(X.positions.length,16,Uint16Array);for({x:ee,y:Ae}of X.positions)Te.add(ee,Ae);Te.finish(),delete X.positions,X.index=Te}this._symbolsByKey[E]=X}}getScaledCoordinates(se,j){var{x:v,y:E,z:I}=this.tileID.canonical,{x:j,y:G,z:R}=j.canonical,R=R-I,I=Pa/Math.pow(2,R),R=(j*a.EXTENT+se.anchorX)*I,j=(G*a.EXTENT+se.anchorY)*I,G=v*a.EXTENT*Pa,se=E*a.EXTENT*Pa;return{x:Math.floor(R-G),y:Math.floor(j-se)}}findMatches(l,p,v){var E=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let ee=0;ee<l.length;ee++){var I=l.get(ee);if(!I.crossTileID){var R=this._symbolsByKey[I.key];if(R){var j=this.getScaledCoordinates(I,p);if(R.index)for(const Ae of R.index.range(j.x-E,j.y-E,j.x+E,j.y+E).sort()){var G=R.crossTileIDs[Ae];if(!v[G]){v[G]=!0,I.crossTileID=G;break}}else if(R.positions)for(let Ae=0;Ae<R.positions.length;Ae++){var se=R.positions[Ae],X=R.crossTileIDs[Ae];if(Math.abs(se.x-j.x)<=E&&Math.abs(se.y-j.y)<=E&&!v[X]){v[X]=!0,I.crossTileID=X;break}}}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:l})=>l)}}class rs{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ns{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){var p=Math.round((l-this.lng)/360);if(p!==0)for(const R in this.indexes){var v=this.indexes[R],E={};for(const j in v){var I=v[j];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+p),E[I.tileID.key]=I}this.indexes[R]=E}this.lng=l}addBucket(l,p,v){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let se=0;se<p.symbolInstances.length;se++)p.symbolInstances.get(se).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]={});var E=this.usedCrossTileIDs[l.overscaledZ];for(const se in this.indexes){var I=this.indexes[se];if(Number(se)>l.overscaledZ)for(const X in I){var R=I[X];R.tileID.isChildOf(l)&&R.findMatches(p.symbolInstances,l,E)}else{var j=I[l.scaledTo(Number(se)).key];j&&j.findMatches(p.symbolInstances,l,E)}}for(let se=0;se<p.symbolInstances.length;se++){var G=p.symbolInstances.get(se);G.crossTileID||(G.crossTileID=v.generate(),E[G.crossTileID]=!0)}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Xu(l,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(l,p){for(const v of p.getCrossTileIDsLists())for(const E of v)delete this.usedCrossTileIDs[l][E]}removeStaleBuckets(l){let p=!1;for(const E in this.indexes){var v=this.indexes[E];for(const I in v)l[v[I].bucketInstanceId]||(this.removeBucketCrossTileIDs(E,v[I]),delete v[I],p=!0)}return p}}class Lh{constructor(){this.layerIndexes={},this.crossTileIDs=new rs,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,p,v){let E=this.layerIndexes[l.id],I=!1;var R={};(E=E===void 0?this.layerIndexes[l.id]=new ns:E).handleWrapJump(v);for(const G of p){var j=G.getBucket(l);j&&l.id===j.layerIds[0]&&(j.bucketInstanceId||(j.bucketInstanceId=++this.maxBucketInstanceId),E.addBucket(G.tileID,j,this.crossTileIDs)&&(I=!0),R[j.bucketInstanceId]=!0)}return I=E.removeStaleBuckets(R)?!0:I}pruneUnusedLayers(l){const p={};l.forEach(v=>{p[v]=!0});for(const v in this.layerIndexes)p[v]||delete this.layerIndexes[v]}}const lu=(_,l)=>a.emitValidationErrors(_,l&&l.filter(p=>p.identifier!=="source.canvas")),Tn=a.emptyStyle();class Cc extends a.Evented{constructor(l,p={}){super(),this._rtlPluginLoaded=()=>{for(const E in this.sourceCaches){var v=this.sourceCaches[E].getSource().type;v!=="vector"&&v!=="geojson"||this.sourceCaches[E].reload()}},this.map=l,this.dispatcher=new ve(ae(),l._getMapId()),this.dispatcher.registerMessageHandler("GG",(v,E)=>this.getGlyphs(v,E)),this.dispatcher.registerMessageHandler("GI",(v,E)=>this.getImages(v,E)),this.imageManager=new fe,this.imageManager.setEventedParent(this),this.glyphManager=new de(l._requestManager,p.localIdeographFontFamily),this.lineAtlas=new ke(256,512),this.crossTileSymbolIndex=new Lh,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",a.getReferrer()),Jt().on(rt,this._rtlPluginLoaded),this.on("data",v=>{if(v.dataType==="source"&&v.sourceDataType==="metadata"&&(v=this.sourceCaches[v.sourceId],v)){var E=v.getSource();if(E&&E.vectorLayerIds)for(const R in this._layers){var I=this._layers[R];I.source===E.id&&this._validateLayer(I)}}})}loadURL(l,p={},v){this.fire(new a.Event("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate,l=this.map._requestManager.transformRequest(l,"Style"),this._loadStyleRequest=new AbortController,a.getJSON(l,this._loadStyleRequest).then(E=>{this._loadStyleRequest=null,this._load(E.data,p,v)}).catch(E=>{this._loadStyleRequest=null,E&&this.fire(new a.ErrorEvent(E))})}loadJSON(l,p={},v){this.fire(new a.Event("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,f.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(l,p,v)}).catch(()=>{})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Tn,{validate:!1})}_load(l,p,v){var E=p.transformStyle?p.transformStyle(v,l):l;if(!p.validate||!lu(this,a.validateStyle(E))){this._loaded=!0;for(const I in(this.stylesheet=E).sources)this.addSource(I,E.sources[I],{validate:!1});E.sprite?this._loadSprite(E.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(E.glyphs),this._createLayers(),this.light=new _e(this.stylesheet.light),this.map.setTerrain((v=this.stylesheet.terrain)!=null?v:null),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}}_createLayers(){var l=a.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("SL",l),this._order=l.map(v=>v.id),this._layers={},this._serializedLayers=null;for(const v of l){var p=a.createStyleLayer(v);p.setEventedParent(this,{layer:{id:v.id}}),this._layers[v.id]=p}}_loadSprite(l,p=!1,v=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController;let E;he(l,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(I=>{if(this._spriteRequest=null,I)for(const j in I){this._spritesImagesIds[j]=[];for(const G of this._spritesImagesIds[j]?this._spritesImagesIds[j].filter(se=>!(se in I)):[])this.imageManager.removeImage(G),this._changedImages[G]=!0;for(const G in I[j]){var R=j==="default"?G:j+":"+G;this._spritesImagesIds[j].push(R),R in this.imageManager.images?this.imageManager.updateImage(R,I[j][G],!1):this.imageManager.addImage(R,I[j][G]),p&&(this._changedImages[R]=!0)}}}).catch(I=>{this._spriteRequest=null,E=I,this.fire(new a.ErrorEvent(E))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.Event("data",{dataType:"style"})),v&&v(E)})}_unloadSprite(){for(const l of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(l),this._changedImages[l]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}_validateLayer(l){var p,v=this.sourceCaches[l.source];v&&(p=l.sourceLayer)&&((v=v.getSource()).type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(p)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${p}" does not exist on source "${v.id}" as specified by style layer "${l.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(l){var p=this._serializedAllLayers();if(!l||l.length===0)return Object.values(p);var v=[];for(const E of l)p[E]&&v.push(p[E]);return v}_serializedAllLayers(){var l=this._serializedLayers;if(!l){l=this._serializedLayers={};for(const v of Object.keys(this._layers)){var p=this._layers[v];p.type!=="custom"&&(l[v]=p.serialize())}}return l}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(l){if(this._loaded){var p=this._changed;if(this._changed){var v=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(v.length||E.length)&&this._updateWorkerLayers(v,E);for(const X in this._updatedSources){var I=this._updatedSources[X];if(I==="reload")this._reloadSource(X);else{if(I!=="clear")throw new Error("Invalid action "+I);this._clearSource(X)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const X in this._updatedPaintProps)this._layers[X].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}var R={};for(const X in this.sourceCaches){var j=this.sourceCaches[X];R[X]=j.used,j.used=!1}for(const X of this._order){var G=this._layers[X];G.recalculate(l,this._availableImages),!G.isHidden(l.zoom)&&G.source&&(this.sourceCaches[G.source].used=!0)}for(const X in R){var se=this.sourceCaches[X];R[X]!==se.used&&se.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:X}))}this.light.recalculate(l),this.z=l.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}}_updateTilesForChangedImages(){var l=Object.keys(this._changedImages);if(l.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const l in this.sourceCaches)this.sourceCaches[l].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(l,p){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(l),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(l,E={}){this._checkLoaded();var v=this.serialize(),E=(l=E.transformStyle?E.transformStyle(v,l):l,(E=E.validate)==null||E);if(E&&lu(this,a.validateStyle(l)))return!1;if((l=a.clone$1(l)).layers=a.derefLayers(l.layers),E=a.diffStyles(v,l),v=this._getOperationsToPerform(E),0<v.unimplemented.length)throw new Error(`Unimplemented: ${v.unimplemented.join(", ")}.`);if(v.operations.length===0)return!1;for(const I of v.operations)I();return this.stylesheet=l,!(this._serializedLayers=null)}_getOperationsToPerform(l){var p=[],v=[];for(const E of l)switch(E.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,E.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,E.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,E.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,E.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,E.args));break;case"addSource":p.push(()=>this.addSource.apply(this,E.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,E.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,E.args));break;case"setLight":p.push(()=>this.setLight.apply(this,E.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,E.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,E.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,E.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,E.args));break;case"setTransition":p.push(()=>{});break;default:v.push(E.command)}return{operations:p,unimplemented:v}}addImage(l,p){if(this.getImage(l))return this.fire(new a.ErrorEvent(new Error(`An image named "${l}" already exists.`)));this.imageManager.addImage(l,p),this._afterImageUpdated(l)}updateImage(l,p){this.imageManager.updateImage(l,p)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){if(!this.getImage(l))return this.fire(new a.ErrorEvent(new Error(`An image named "${l}" does not exist.`)));this.imageManager.removeImage(l),this._afterImageUpdated(l)}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(l,p,v={}){if(this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error(`Source "${l}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);var E=0<=["vector","raster","geojson","video","image"].indexOf(p.type);if(!E||!this._validate(a.validateStyle.source,"sources."+l,p,null,v)){this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const I=this.sourceCaches[l]=new Nt(l,p,this.dispatcher);I.style=this,I.setEventedParent(this,()=>({isSourceLoaded:I.loaded(),source:I.serialize(),sourceId:l})),I.onAdd(this.map),this._changed=!0}}removeSource(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===l)return this.fire(new a.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${v}" is using it.`)));var p=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(l,p){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID="+l);if(l=this.sourceCaches[l].getSource(),l.type!=="geojson")throw new Error(`geojsonSource.type is ${l.type}, which is !== 'geojson`);l.setData(p),this._changed=!0}getSource(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()}addLayer(l,p,v={}){this._checkLoaded();var E=l.id;if(this.getLayer(E))this.fire(new a.ErrorEvent(new Error(`Layer "${E}" already exists on this map.`)));else{let I;if(l.type==="custom"){if(lu(this,a.validateCustomStyleLayer(l)))return;I=a.createStyleLayer(l)}else{if("source"in l&&typeof l.source=="object"&&(this.addSource(E,l.source),l=a.clone$1(l),l=a.extend(l,{source:E})),this._validate(a.validateStyle.layer,"layers."+E,l,{arrayIndex:-1},v))return;I=a.createStyleLayer(l),this._validateLayer(I),I.setEventedParent(this,{layer:{id:E}})}v=p?this._order.indexOf(p):this._order.length,p&&v===-1?this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${E}" before non-existing layer "${p}".`))):(this._order.splice(v,0,E),this._layerOrderChanged=!0,this._layers[E]=I,this._removedLayers[E]&&I.source&&I.type!=="custom"&&(l=this._removedLayers[E],delete this._removedLayers[E],l.type!==I.type?this._updatedSources[I.source]="clear":(this._updatedSources[I.source]="reload",this.sourceCaches[I.source].pause())),this._updateLayer(I),I.onAdd&&I.onAdd(this.map))}}moveLayer(l,p){var v;this._checkLoaded(),this._changed=!0,this._layers[l]?l!==p&&(v=this._order.indexOf(l),this._order.splice(v,1),v=p?this._order.indexOf(p):this._order.length,p&&v===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${l}" before non-existing layer "${p}".`))):(this._order.splice(v,0,l),this._layerOrderChanged=!0)):this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)))}removeLayer(l){this._checkLoaded();var p,v=this._layers[l];v?(v.setEventedParent(null),p=this._order.indexOf(l),this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=v,delete this._layers[l],this._serializedLayers&&delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],v.onRemove&&v.onRemove(this.map)):this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${l}".`)))}getLayer(l){return this._layers[l]}getLayersOrder(){return[...this._order]}hasLayer(l){return l in this._layers}setLayerZoomRange(l,p,v){this._checkLoaded();var E=this.getLayer(l);E?E.minzoom===p&&E.maxzoom===v||(p!=null&&(E.minzoom=p),v!=null&&(E.maxzoom=v),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${l}".`)))}setFilter(l,p,v={}){this._checkLoaded();var E=this.getLayer(l);E?a.deepEqual(E.filter,p)||(p==null?(E.filter=void 0,this._updateLayer(E)):this._validate(a.validateStyle.filter,`layers.${E.id}.filter`,p,null,v)||(E.filter=a.clone$1(p),this._updateLayer(E))):this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${l}".`)))}getFilter(l){return a.clone$1(this.getLayer(l).filter)}setLayoutProperty(l,p,v,E={}){this._checkLoaded();var I=this.getLayer(l);I?a.deepEqual(I.getLayoutProperty(p),v)||(I.setLayoutProperty(p,v,E),this._updateLayer(I)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${l}".`)))}getLayoutProperty(l,p){var v=this.getLayer(l);if(v)return v.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${l}".`)))}setPaintProperty(l,p,v,E={}){this._checkLoaded();var I=this.getLayer(l);I?a.deepEqual(I.getPaintProperty(p),v)||(I.setPaintProperty(p,v,E)&&this._updateLayer(I),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${l}".`)))}getPaintProperty(l,p){return this.getLayer(l).getPaintProperty(p)}setFeatureState(l,p){this._checkLoaded();var v=l.source,E=l.sourceLayer,I=this.sourceCaches[v];I===void 0?this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`))):(v=I.getSource().type)==="geojson"&&E?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):v!=="vector"||E?(l.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),I.setFeatureState(E,l.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(l,p){this._checkLoaded();var v,E=l.source,I=this.sourceCaches[E];I===void 0?this.fire(new a.ErrorEvent(new Error(`The source '${E}' does not exist in the map's style.`))):(v=(E=I.getSource().type)==="vector"?l.sourceLayer:void 0,E!=="vector"||v?p&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):I.removeFeatureState(v,l.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))))}getFeatureState(l){this._checkLoaded();var p=l.source,v=l.sourceLayer,E=this.sourceCaches[p];if(E===void 0)this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)));else{if(E.getSource().type!=="vector"||v)return l.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),E.getFeatureState(v,l.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){var l,p,v,E;if(this._loaded)return l=a.mapObject(this.sourceCaches,I=>I.serialize()),p=this._serializeByIds(this._order),v=this.map.getTerrain()||void 0,E=this.stylesheet,a.filterObject({version:E.version,name:E.name,metadata:E.metadata,light:E.light,center:E.center,zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,sprite:E.sprite,glyphs:E.glyphs,transition:E.transition,sources:l,layers:p,terrain:v},I=>I!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(l){var p=ee=>this._layers[ee].type==="fill-extrusion",v={},E=[];for(let ee=this._order.length-1;0<=ee;ee--){var I=this._order[ee];if(p(I)){v[I]=ee;for(const Ae of l){var R=Ae[I];if(R)for(const Te of R)E.push(Te)}}}E.sort((ee,Ae)=>Ae.intersectionZ-ee.intersectionZ);var j=[];for(let ee=this._order.length-1;0<=ee;ee--){var G=this._order[ee];if(p(G))for(let Ae=E.length-1;0<=Ae;Ae--){var se=E[Ae].feature;if(v[se.layer.id]<ee)break;j.push(se),E.pop()}else for(const Ae of l){var X=Ae[G];if(X)for(const Te of X)j.push(Te.feature)}}return j}queryRenderedFeatures(l,p,v){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);var E={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const G of p.layers){var I=this._layers[G];if(!I)return this.fire(new a.ErrorEvent(new Error(`The layer '${G}' does not exist in the map's style and cannot be queried for features.`))),[];E[I.source]=!0}}var R=[],j=(p.availableImages=this._availableImages,this._serializedAllLayers());for(const G in this.sourceCaches)p.layers&&!E[G]||R.push(Ze(this.sourceCaches[G],this._layers,j,l,p,v));return this.placement&&R.push(st(this._layers,j,this.sourceCaches,l,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(R)}querySourceFeatures(l,p){return p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p),l=this.sourceCaches[l],l?ot(l,p):[]}getLight(){return this.light.getLight()}setLight(l,p={}){this._checkLoaded();var v,E=this.light.getLight();let I=!1;for(const R in l)if(!a.deepEqual(l[R],E[R])){I=!0;break}I&&(v={now:f.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)},this.light.setLight(l,p),this.light.updateTransitions(v))}_validate(l,p,v,E,I={}){return(!I||I.validate!==!1)&&lu(this,l.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:v,styleSpec:a.v8Spec},E)))}_remove(l=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Jt().off(rt,this._rtlPluginLoaded);for(const v in this._layers)this._layers[v].setEventedParent(null);for(const v in this.sourceCaches){var p=this.sourceCaches[v];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),l&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(l)}_clearSource(l){this.sourceCaches[l].clearTiles()}_reloadSource(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()}_updateSources(l){for(const p in this.sourceCaches)this.sourceCaches[p].update(l,this.map.terrain)}_generateCollisionBoxes(){for(const l in this.sourceCaches)this._reloadSource(l)}_updatePlacement(l,p,v,E,I=!1){let R=!1,j=!1;var G={};for(const ee of this._order){var se=this._layers[ee];if(se.type==="symbol"){if(!G[se.source]){const Ae=this.sourceCaches[se.source];G[se.source]=Ae.getRenderableIds(!0).map(Te=>Ae.getTileByID(Te)).sort((Te,Ce)=>Ce.tileID.overscaledZ-Te.tileID.overscaledZ||(Te.tileID.isLessThan(Ce.tileID)?-1:1))}se=this.crossTileSymbolIndex.addLayer(se,G[se.source],l.center.lng),R=R||se}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((I=I||this._layerOrderChanged||v===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.now(),l.zoom))&&(this.pauseablePlacement=new Uo(l,this.map.terrain,this._order,I,p,v,E,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,G),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(f.now()),j=!0),R&&this.pauseablePlacement.placement.setStale()),j||R)for(const ee of this._order){var X=this._layers[ee];X.type==="symbol"&&this.placement.updateLayerOpacities(X,G[X.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.now())}_releaseSymbolFadeTiles(){for(const l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,p){return a.__awaiter(this,void 0,void 0,function*(){var v=yield this.imageManager.getImages(p.icons),E=(this._updateTilesForChangedImages(),this.sourceCaches[p.source]);return E&&E.setDependencies(p.tileID.key,p.type,p.icons),v})}getGlyphs(l,p){return a.__awaiter(this,void 0,void 0,function*(){var v=yield this.glyphManager.getGlyphs(p.stacks),E=this.sourceCaches[p.source];return E&&E.setDependencies(p.tileID.key,p.type,[""]),v})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(l,p={}){this._checkLoaded(),l&&this._validate(a.validateStyle.glyphs,"glyphs",l,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=l,this.glyphManager.entries={},this.glyphManager.setURL(l))}addSprite(l,p,v={},E){this._checkLoaded(),l=[{id:l,url:p}],p=[...V(this.stylesheet.sprite),...l],this._validate(a.validateStyle.sprite,"sprite",p,null,v)||(this.stylesheet.sprite=p,this._loadSprite(l,!0,E))}removeSprite(l){this._checkLoaded();var p=V(this.stylesheet.sprite);if(p.find(v=>v.id===l)){if(this._spritesImagesIds[l])for(const v of this._spritesImagesIds[l])this.imageManager.removeImage(v),this._changedImages[v]=!0;p.splice(p.findIndex(v=>v.id===l),1),this.stylesheet.sprite=0<p.length?p:void 0,delete this._spritesImagesIds[l],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}else this.fire(new a.ErrorEvent(new Error(`Sprite "${l}" doesn't exists on this map.`)))}getSprite(){return V(this.stylesheet.sprite)}setSprite(l,p={},v){this._checkLoaded(),l&&this._validate(a.validateStyle.sprite,"sprite",l,null,p)||((this.stylesheet.sprite=l)?this._loadSprite(l,!0,v):(this._unloadSprite(),v&&v(null)))}}var Vl=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Dn="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ss={prelude:_n(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:_n(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:_n(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:_n(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:_n("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:_n(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:_n(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:_n("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:_n("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:_n("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:_n(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:_n(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:_n(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:_n(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:_n(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:_n(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:_n(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:_n(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:_n(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:_n(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:_n(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:_n(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:_n(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:_n(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:_n(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:_n(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:_n("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Dn),terrainDepth:_n("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Dn),terrainCoords:_n("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Dn)};function _n(_,l){var p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=l.match(/attribute ([\w]+) ([\w]+)/g),E=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),I=l.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),I=I?I.concat(E):E;const R={};return{fragmentSource:_=_.replace(p,(j,G,se,X,ee)=>(R[ee]=!0,G==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
varying ${se} ${X} ${ee};
#else
uniform ${se} ${X} u_${ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ee}
    ${se} ${X} ${ee} = u_${ee};
#endif
`)),vertexSource:l=l.replace(p,(j,G,se,X,ee)=>{var Ae=X==="float"?"vec2":"vec4",Te=ee.match(/color/)?"color":Ae;return R[ee]?G==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${se} ${Ae} a_${ee};
varying ${se} ${X} ${ee};
#else
uniform ${se} ${X} u_${ee};
#endif
`:Te=="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${se} ${X} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${Te}(a_${ee}, u_${ee}_t);
#else
    ${se} ${X} ${ee} = u_${ee};
#endif
`:G==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${se} ${Ae} a_${ee};
#else
uniform ${se} ${X} u_${ee};
#endif
`:Te=="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${se} ${X} ${ee} = a_${ee};
#else
    ${se} ${X} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${se} ${X} ${ee} = unpack_mix_${Te}(a_${ee}, u_${ee}_t);
#else
    ${se} ${X} ${ee} = u_${ee};
#endif
`}),staticAttributes:v,staticUniforms:I}}class Rh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(l,p,v,E,I,R,j,G,se){this.context=l;let X=this.boundPaintVertexBuffers.length!==E.length;for(let ee=0;!X&&ee<E.length;ee++)this.boundPaintVertexBuffers[ee]!==E[ee]&&(X=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==v||X||this.boundIndexBuffer!==I||this.boundVertexOffset!==R||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==G||this.boundDynamicVertexBuffer3!==se?this.freshBind(p,v,E,I,R,j,G,se):(l.bindVertexArray.set(this.vao),j&&j.bind(),I&&I.dynamicDraw&&I.bind(),G&&G.bind(),se&&se.bind())}freshBind(l,p,v,E,I,R,j,G){var se=l.numAttributes,X=this.context,ee=X.gl;this.vao&&this.destroy(),this.vao=X.createVertexArray(),X.bindVertexArray.set(this.vao),this.boundProgram=l,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=E,this.boundVertexOffset=I,this.boundDynamicVertexBuffer=R,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=G,p.enableAttributes(ee,l);for(const Ae of v)Ae.enableAttributes(ee,l);R&&R.enableAttributes(ee,l),j&&j.enableAttributes(ee,l),G&&G.enableAttributes(ee,l),p.bind(),p.setVertexAttribPointers(ee,l,I);for(const Ae of v)Ae.bind(),Ae.setVertexAttribPointers(ee,l,I);R&&(R.bind(),R.setVertexAttribPointers(ee,l,I)),E&&E.bind(),j&&(j.bind(),j.setVertexAttribPointers(ee,l,I)),G&&(G.bind(),G.setVertexAttribPointers(ee,l,I)),X.currentNumAttributes=se}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const oi=(_,l)=>({u_depth:new a.Uniform1i(_,l.u_depth),u_terrain:new a.Uniform1i(_,l.u_terrain),u_terrain_dim:new a.Uniform1f(_,l.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(_,l.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(_,l.u_terrain_unpack),u_terrain_exaggeration:new a.Uniform1f(_,l.u_terrain_exaggeration)});function Ju(_){var l,p=[];for(let v=0;v<_.length;v++)_[v]!==null&&(l=_[v].split(" "),p.push(l.pop()));return p}class lf{constructor(l,p,v,E,I,R){var j=l.gl,se=(this.program=j.createProgram(),Ju(p.staticAttributes)),X=v?v.getBinderAttributes():[],G=se.concat(X),se=Ss.prelude.staticUniforms?Ju(Ss.prelude.staticUniforms):[],X=p.staticUniforms?Ju(p.staticUniforms):[],ee=v?v.getBinderUniforms():[],Ae=[];for(const Me of se.concat(X).concat(ee))Ae.indexOf(Me)<0&&Ae.push(Me);if(se=v?v.defines():[],I&&se.push("#define OVERDRAW_INSPECTOR;"),R&&se.push("#define TERRAIN3D;"),X=se.concat(Ss.prelude.fragmentSource,p.fragmentSource).join(`
`),ee=se.concat(Ss.prelude.vertexSource,p.vertexSource).join(`
`),I=j.createShader(j.FRAGMENT_SHADER),j.isContextLost())this.failedToCreate=!0;else{if(j.shaderSource(I,X),j.compileShader(I),!j.getShaderParameter(I,j.COMPILE_STATUS))throw new Error("Could not compile fragment shader: "+j.getShaderInfoLog(I));if(j.attachShader(this.program,I),R=j.createShader(j.VERTEX_SHADER),j.isContextLost())this.failedToCreate=!0;else{if(j.shaderSource(R,ee),j.compileShader(R),!j.getShaderParameter(R,j.COMPILE_STATUS))throw new Error("Could not compile vertex shader: "+j.getShaderInfoLog(R));j.attachShader(this.program,R),this.attributes={};var Te={};this.numAttributes=G.length;for(let Me=0;Me<this.numAttributes;Me++)G[Me]&&(j.bindAttribLocation(this.program,Me,G[Me]),this.attributes[G[Me]]=Me);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error("Program failed to link: "+j.getProgramInfoLog(this.program));j.deleteShader(R),j.deleteShader(I);for(let Me=0;Me<Ae.length;Me++){var Ce,Le=Ae[Me];Le&&!Te[Le]&&(Ce=j.getUniformLocation(this.program,Le))&&(Te[Le]=Ce)}this.fixedUniforms=E(l,Te),this.terrainUniforms=oi(l,Te),this.binderUniforms=v?v.getUniforms(l,Te):[]}}}draw(l,p,v,E,I,R,j,G,se,X,ee,Ae,Te,Ce,Le,Me,$e,Ge){var at=l.gl;if(!this.failedToCreate){if(l.program.set(this.program),l.setDepthMode(v),l.setStencilMode(E),l.setColorMode(I),l.setCullFace(R),G){l.activeTexture.set(at.TEXTURE2),at.bindTexture(at.TEXTURE_2D,G.depthTexture),l.activeTexture.set(at.TEXTURE3),at.bindTexture(at.TEXTURE_2D,G.texture);for(const pt in this.terrainUniforms)this.terrainUniforms[pt].set(G[pt])}for(const pt in this.fixedUniforms)this.fixedUniforms[pt].set(j[pt]);Le&&Le.setUniforms(l,this.binderUniforms,Te,{zoom:Ce});let Ct=0;switch(p){case at.LINES:Ct=2;break;case at.TRIANGLES:Ct=3;break;case at.LINE_STRIP:Ct=1}for(const pt of Ae.get()){var ft=pt.vaos||(pt.vaos={});(ft[se]||(ft[se]=new Rh)).bind(l,this,X,Le?Le.getPaintVertexBuffers():[],ee,pt.vertexOffset,Me,$e,Ge),at.drawElements(p,pt.primitiveLength*Ct,at.UNSIGNED_SHORT,pt.primitiveOffset*Ct*2)}}}}function eh(_,I,p){var v=1/Ir(p,1,I.transform.tileZoom),E=Math.pow(2,p.tileID.overscaledZ),I=p.tileSize*Math.pow(2,I.transform.tileZoom)/E,E=I*(p.tileID.canonical.x+p.tileID.wrap*E),I=I*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[v,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,I>>16],u_pixel_coord_lower:[65535&E,65535&I]}}const Gl=(_,j,p,v)=>{var E=j.style.light,I=E.properties.get("position"),I=[I.x,I.y,I.z],R=a.create$1(),j=(E.properties.get("anchor")==="viewport"&&a.fromRotation(R,-j.transform.angle),a.transformMat3(I,I,R),E.properties.get("color"));return{u_matrix:_,u_lightpos:I,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[j.r,j.g,j.b],u_vertical_gradient:+p,u_opacity:v}},Fo=(_,l,p,v,E,I,R)=>a.extend(Gl(_,l,p,v),eh(I,l,R),{u_height_factor:-Math.pow(2,E.overscaledZ)/R.tileSize/8}),Dh=_=>({u_matrix:_}),wl=(_,l,p,v)=>a.extend(Dh(_),eh(p,l,v)),Uh=(_,l)=>({u_matrix:_,u_world:l}),Fh=(_,l,p,v,E)=>a.extend(wl(_,l,p,v),{u_world:E}),cf=(_,l,I)=>{var v=Ir(I,1,l.zoom),E=Math.pow(2,l.zoom-I.tileID.overscaledZ),I=I.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:l.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[l.pixelsToGLUnits[0]/(v*E),l.pixelsToGLUnits[1]/(v*E)],u_overscale_factor:I}},uf=(_,l,p)=>({u_matrix:_,u_inv_matrix:l,u_camera_to_center_distance:p.cameraToCenterDistance,u_viewport_size:[p.width,p.height]}),hf=(_,l,p=1)=>({u_matrix:_,u_color:l,u_overlay:0,u_overlay_scale:p}),jh=_=>({u_matrix:_}),Ec=(I,l,p,v)=>{var E=a.create(),I=(a.ortho(E,0,I.width,I.height,0,0,1),I.context.gl);return{u_matrix:E,u_world:[I.drawingBufferWidth,I.drawingBufferHeight],u_image:p,u_color_ramp:v,u_opacity:l.paint.get("heatmap-opacity")}},Sc=(_,l,p,v)=>{var E=p.paint.get("hillshade-shadow-color"),I=p.paint.get("hillshade-highlight-color"),R=p.paint.get("hillshade-accent-color");let j=p.paint.get("hillshade-illumination-direction")*(Math.PI/180);p.paint.get("hillshade-illumination-anchor")==="viewport"&&(j-=_.transform.angle);var G=!_.options.moving;return{u_matrix:v?v.posMatrix:_.transform.calculatePosMatrix(l.tileID.toUnwrapped(),G),u_image:0,u_latrange:(v=l.tileID,_=Math.pow(2,v.canonical.z),v=v.canonical.y,[new a.MercatorCoordinate(0,v/_).toLngLat().lat,new a.MercatorCoordinate(0,(v+1)/_).toLngLat().lat]),u_light:[p.paint.get("hillshade-exaggeration"),j],u_shadow:E,u_highlight:I,u_accent:R}},md=(_,l)=>{var p=l.stride,v=a.create();return a.ortho(v,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(v,v,[0,-a.EXTENT,0]),{u_matrix:v,u_image:1,u_dimension:[p,p],u_zoom:_.overscaledZ,u_unpack:l.getUnpackVector()}},Ts=(_,l,p,v)=>{var E=_.transform;return{u_matrix:On(_,l,p,v),u_ratio:1/Ir(l,1,E.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}};function Tc(_,l){return 1/Ir(_,1,l.tileZoom)}function On(_,l,p,v){return _.translatePosMatrix((v||l.tileID).posMatrix,l,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Bc=(_,l,p,v,E)=>({u_matrix:_,u_tl_parent:l,u_scale_parent:p,u_buffer_scale:1,u_fade_t:v.mix,u_opacity:v.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:0<(_=E.paint.get("raster-saturation"))?1-1/(1.001-_):-_,u_contrast_factor:0<(l=E.paint.get("raster-contrast"))?1/(1-l):1+l,u_spin_weights:(p=E.paint.get("raster-hue-rotate"),p*=Math.PI/180,v=Math.sin(p),[(2*(p=Math.cos(p))+1)/3,(-Math.sqrt(3)*v-p+1)/3,(Math.sqrt(3)*v-p+1)/3])}),Qh=(_,l,p,v,E,I,R,j,G,se)=>{var X=E.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:X.cameraToCenterDistance,u_pitch:X.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:X.width/X.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:I,u_label_plane_matrix:R,u_coord_matrix:j,u_is_text:+G,u_pitch_with_map:+v,u_texsize:se,u_texture:0}},Co=(_,l,p,v,E,I,R,j,G,se,X)=>{var ee=E.transform;return a.extend(Qh(_,l,p,v,E,I,R,j,G,se),{u_gamma_scale:v?Math.cos(ee._pitch)*ee.cameraToCenterDistance:1,u_device_pixel_ratio:E.pixelRatio,u_is_halo:1})},Ic=(_,l,p,v,E,I,R,j,G,se)=>a.extend(Co(_,l,p,v,E,I,R,j,!0,G),{u_texsize_icon:se,u_texture_icon:1}),el=(_,l,p,v,E,I)=>a.extend((function(ee,j,G,se){var X=G.imageManager.getPattern(ee.from.toString()),ee=G.imageManager.getPattern(ee.to.toString()),{width:Ae,height:Te}=G.imageManager.getPixelSize(),Ce=Math.pow(2,se.tileID.overscaledZ),Ce=(Le=se.tileSize*Math.pow(2,G.transform.tileZoom)/Ce)*(se.tileID.canonical.x+se.tileID.wrap*Ce),Le=Le*se.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:X.tl,u_pattern_br_a:X.br,u_pattern_tl_b:ee.tl,u_pattern_br_b:ee.br,u_texsize:[Ae,Te],u_mix:j.t,u_pattern_size_a:X.displaySize,u_pattern_size_b:ee.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/Ir(se,1,G.transform.tileZoom),u_pixel_coord_upper:[Ce>>16,Le>>16],u_pixel_coord_lower:[65535&Ce,65535&Le]}})(v,I,p,E),{u_matrix:_,u_opacity:l}),ps={fillExtrusion:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_lightpos:new a.Uniform3f(_,l.u_lightpos),u_lightintensity:new a.Uniform1f(_,l.u_lightintensity),u_lightcolor:new a.Uniform3f(_,l.u_lightcolor),u_vertical_gradient:new a.Uniform1f(_,l.u_vertical_gradient),u_opacity:new a.Uniform1f(_,l.u_opacity)}),fillExtrusionPattern:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_lightpos:new a.Uniform3f(_,l.u_lightpos),u_lightintensity:new a.Uniform1f(_,l.u_lightintensity),u_lightcolor:new a.Uniform3f(_,l.u_lightcolor),u_vertical_gradient:new a.Uniform1f(_,l.u_vertical_gradient),u_height_factor:new a.Uniform1f(_,l.u_height_factor),u_image:new a.Uniform1i(_,l.u_image),u_texsize:new a.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new a.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new a.Uniform3f(_,l.u_scale),u_fade:new a.Uniform1f(_,l.u_fade),u_opacity:new a.Uniform1f(_,l.u_opacity)}),fill:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix)}),fillPattern:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_image:new a.Uniform1i(_,l.u_image),u_texsize:new a.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new a.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new a.Uniform3f(_,l.u_scale),u_fade:new a.Uniform1f(_,l.u_fade)}),fillOutline:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_world:new a.Uniform2f(_,l.u_world)}),fillOutlinePattern:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_world:new a.Uniform2f(_,l.u_world),u_image:new a.Uniform1i(_,l.u_image),u_texsize:new a.Uniform2f(_,l.u_texsize),u_pixel_coord_upper:new a.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(_,l.u_pixel_coord_lower),u_scale:new a.Uniform3f(_,l.u_scale),u_fade:new a.Uniform1f(_,l.u_fade)}),circle:(_,l)=>({u_camera_to_center_distance:new a.Uniform1f(_,l.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(_,l.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(_,l.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(_,l.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(_,l.u_matrix)}),collisionBox:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_camera_to_center_distance:new a.Uniform1f(_,l.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(_,l.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(_,l.u_extrude_scale),u_overscale_factor:new a.Uniform1f(_,l.u_overscale_factor)}),collisionCircle:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_inv_matrix:new a.UniformMatrix4f(_,l.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(_,l.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(_,l.u_viewport_size)}),debug:(_,l)=>({u_color:new a.UniformColor(_,l.u_color),u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_overlay:new a.Uniform1i(_,l.u_overlay),u_overlay_scale:new a.Uniform1f(_,l.u_overlay_scale)}),clippingMask:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix)}),heatmap:(_,l)=>({u_extrude_scale:new a.Uniform1f(_,l.u_extrude_scale),u_intensity:new a.Uniform1f(_,l.u_intensity),u_matrix:new a.UniformMatrix4f(_,l.u_matrix)}),heatmapTexture:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_world:new a.Uniform2f(_,l.u_world),u_image:new a.Uniform1i(_,l.u_image),u_color_ramp:new a.Uniform1i(_,l.u_color_ramp),u_opacity:new a.Uniform1f(_,l.u_opacity)}),hillshade:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_image:new a.Uniform1i(_,l.u_image),u_latrange:new a.Uniform2f(_,l.u_latrange),u_light:new a.Uniform2f(_,l.u_light),u_shadow:new a.UniformColor(_,l.u_shadow),u_highlight:new a.UniformColor(_,l.u_highlight),u_accent:new a.UniformColor(_,l.u_accent)}),hillshadePrepare:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_image:new a.Uniform1i(_,l.u_image),u_dimension:new a.Uniform2f(_,l.u_dimension),u_zoom:new a.Uniform1f(_,l.u_zoom),u_unpack:new a.Uniform4f(_,l.u_unpack)}),line:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_ratio:new a.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(_,l.u_units_to_pixels)}),lineGradient:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_ratio:new a.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(_,l.u_units_to_pixels),u_image:new a.Uniform1i(_,l.u_image),u_image_height:new a.Uniform1f(_,l.u_image_height)}),linePattern:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_texsize:new a.Uniform2f(_,l.u_texsize),u_ratio:new a.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_image:new a.Uniform1i(_,l.u_image),u_units_to_pixels:new a.Uniform2f(_,l.u_units_to_pixels),u_scale:new a.Uniform3f(_,l.u_scale),u_fade:new a.Uniform1f(_,l.u_fade)}),lineSDF:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_ratio:new a.Uniform1f(_,l.u_ratio),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(_,l.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(_,l.u_patternscale_a),u_patternscale_b:new a.Uniform2f(_,l.u_patternscale_b),u_sdfgamma:new a.Uniform1f(_,l.u_sdfgamma),u_image:new a.Uniform1i(_,l.u_image),u_tex_y_a:new a.Uniform1f(_,l.u_tex_y_a),u_tex_y_b:new a.Uniform1f(_,l.u_tex_y_b),u_mix:new a.Uniform1f(_,l.u_mix)}),raster:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_tl_parent:new a.Uniform2f(_,l.u_tl_parent),u_scale_parent:new a.Uniform1f(_,l.u_scale_parent),u_buffer_scale:new a.Uniform1f(_,l.u_buffer_scale),u_fade_t:new a.Uniform1f(_,l.u_fade_t),u_opacity:new a.Uniform1f(_,l.u_opacity),u_image0:new a.Uniform1i(_,l.u_image0),u_image1:new a.Uniform1i(_,l.u_image1),u_brightness_low:new a.Uniform1f(_,l.u_brightness_low),u_brightness_high:new a.Uniform1f(_,l.u_brightness_high),u_saturation_factor:new a.Uniform1f(_,l.u_saturation_factor),u_contrast_factor:new a.Uniform1f(_,l.u_contrast_factor),u_spin_weights:new a.Uniform3f(_,l.u_spin_weights)}),symbolIcon:(_,l)=>({u_is_size_zoom_constant:new a.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new a.Uniform1f(_,l.u_size_t),u_size:new a.Uniform1f(_,l.u_size),u_camera_to_center_distance:new a.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new a.Uniform1f(_,l.u_pitch),u_rotate_symbol:new a.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new a.Uniform1f(_,l.u_fade_change),u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new a.Uniform1i(_,l.u_is_text),u_pitch_with_map:new a.Uniform1i(_,l.u_pitch_with_map),u_texsize:new a.Uniform2f(_,l.u_texsize),u_texture:new a.Uniform1i(_,l.u_texture)}),symbolSDF:(_,l)=>({u_is_size_zoom_constant:new a.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new a.Uniform1f(_,l.u_size_t),u_size:new a.Uniform1f(_,l.u_size),u_camera_to_center_distance:new a.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new a.Uniform1f(_,l.u_pitch),u_rotate_symbol:new a.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new a.Uniform1f(_,l.u_fade_change),u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new a.Uniform1i(_,l.u_is_text),u_pitch_with_map:new a.Uniform1i(_,l.u_pitch_with_map),u_texsize:new a.Uniform2f(_,l.u_texsize),u_texture:new a.Uniform1i(_,l.u_texture),u_gamma_scale:new a.Uniform1f(_,l.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(_,l.u_is_halo)}),symbolTextAndIcon:(_,l)=>({u_is_size_zoom_constant:new a.Uniform1i(_,l.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(_,l.u_is_size_feature_constant),u_size_t:new a.Uniform1f(_,l.u_size_t),u_size:new a.Uniform1f(_,l.u_size),u_camera_to_center_distance:new a.Uniform1f(_,l.u_camera_to_center_distance),u_pitch:new a.Uniform1f(_,l.u_pitch),u_rotate_symbol:new a.Uniform1i(_,l.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(_,l.u_aspect_ratio),u_fade_change:new a.Uniform1f(_,l.u_fade_change),u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(_,l.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(_,l.u_coord_matrix),u_is_text:new a.Uniform1i(_,l.u_is_text),u_pitch_with_map:new a.Uniform1i(_,l.u_pitch_with_map),u_texsize:new a.Uniform2f(_,l.u_texsize),u_texsize_icon:new a.Uniform2f(_,l.u_texsize_icon),u_texture:new a.Uniform1i(_,l.u_texture),u_texture_icon:new a.Uniform1i(_,l.u_texture_icon),u_gamma_scale:new a.Uniform1f(_,l.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(_,l.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(_,l.u_is_halo)}),background:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_opacity:new a.Uniform1f(_,l.u_opacity),u_color:new a.UniformColor(_,l.u_color)}),backgroundPattern:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_opacity:new a.Uniform1f(_,l.u_opacity),u_image:new a.Uniform1i(_,l.u_image),u_pattern_tl_a:new a.Uniform2f(_,l.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(_,l.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(_,l.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(_,l.u_pattern_br_b),u_texsize:new a.Uniform2f(_,l.u_texsize),u_mix:new a.Uniform1f(_,l.u_mix),u_pattern_size_a:new a.Uniform2f(_,l.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(_,l.u_pattern_size_b),u_scale_a:new a.Uniform1f(_,l.u_scale_a),u_scale_b:new a.Uniform1f(_,l.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(_,l.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(_,l.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(_,l.u_tile_units_to_pixels)}),terrain:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_texture:new a.Uniform1i(_,l.u_texture),u_ele_delta:new a.Uniform1f(_,l.u_ele_delta)}),terrainDepth:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_ele_delta:new a.Uniform1f(_,l.u_ele_delta)}),terrainCoords:(_,l)=>({u_matrix:new a.UniformMatrix4f(_,l.u_matrix),u_texture:new a.Uniform1i(_,l.u_texture),u_terrain_coords_id:new a.Uniform1f(_,l.u_terrain_coords_id),u_ele_delta:new a.Uniform1f(_,l.u_ele_delta)})};class tl{constructor(l,p,v){var E=(this.context=l).gl;this.buffer=E.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),E.bufferData(E.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){var p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){var l=this.context.gl;this.buffer&&(l.deleteBuffer(this.buffer),delete this.buffer)}}const Hh={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class $l{constructor(l,p,v,E){this.length=p.length,this.attributes=v,this.itemSize=p.bytesPerElement,this.dynamicDraw=E,v=(this.context=l).gl,this.buffer=v.createBuffer(),l.bindVertexBuffer.set(this.buffer),v.bufferData(v.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){if(l.length!==this.length)throw new Error(`Length of new data is ${l.length}, which doesn't match current length of `+this.length);var p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,p){for(let E=0;E<this.attributes.length;E++){var v=this.attributes[E],v=p.attributes[v.name];v!==void 0&&l.enableVertexAttribArray(v)}}setVertexAttribPointers(l,p,v){for(let R=0;R<this.attributes.length;R++){var E=this.attributes[R],I=p.attributes[E.name];I!==void 0&&l.vertexAttribPointer(I,E.components,l[Hh[E.type]],!1,this.itemSize,E.offset+this.itemSize*(v||0))}}destroy(){var l=this.context.gl;this.buffer&&(l.deleteBuffer(this.buffer),delete this.buffer)}}const Yl=new WeakMap;function xl(_){var l;return Yl.has(_)?Yl.get(_):(l=(l=_.getParameter(_.VERSION))==null?void 0:l.startsWith("WebGL 2.0"),Yl.set(_,l),l)}class Wn{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class xA extends Wn{getDefault(){return a.Color.transparent}set(l){var p=this.current;l.r===p.r&&l.g===p.g&&l.b===p.b&&l.a===p.a&&!this.dirty||(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Oa extends Wn{getDefault(){return 1}set(l){l===this.current&&!this.dirty||(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class rl extends Wn{getDefault(){return 0}set(l){l===this.current&&!this.dirty||(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class oo extends Wn{getDefault(){return[!0,!0,!0,!0]}set(l){var p=this.current;l[0]===p[0]&&l[1]===p[1]&&l[2]===p[2]&&l[3]===p[3]&&!this.dirty||(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Ea extends Wn{getDefault(){return!0}set(l){l===this.current&&!this.dirty||(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class th extends Wn{getDefault(){return 255}set(l){l===this.current&&!this.dirty||(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class kc extends Wn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){var p=this.current;l.func===p.func&&l.ref===p.ref&&l.mask===p.mask&&!this.dirty||(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class Nc extends Wn{getDefault(){var l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){var p=this.current;l[0]===p[0]&&l[1]===p[1]&&l[2]===p[2]&&!this.dirty||(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class cu extends Wn{getDefault(){return!1}set(l){var p;l===this.current&&!this.dirty||(p=this.gl,l?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=l,this.dirty=!1)}}class Pc extends Wn{getDefault(){return[0,1]}set(l){var p=this.current;l[0]===p[0]&&l[1]===p[1]&&!this.dirty||(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Oc extends Wn{getDefault(){return!1}set(l){var p;l===this.current&&!this.dirty||(p=this.gl,l?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=l,this.dirty=!1)}}class rh extends Wn{getDefault(){return this.gl.LESS}set(l){l===this.current&&!this.dirty||(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class is extends Wn{getDefault(){return!1}set(l){var p;l===this.current&&!this.dirty||(p=this.gl,l?p.enable(p.BLEND):p.disable(p.BLEND),this.current=l,this.dirty=!1)}}class jo extends Wn{getDefault(){var l=this.gl;return[l.ONE,l.ZERO]}set(l){var p=this.current;l[0]===p[0]&&l[1]===p[1]&&!this.dirty||(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class Y extends Wn{getDefault(){return a.Color.transparent}set(l){var p=this.current;l.r===p.r&&l.g===p.g&&l.b===p.b&&l.a===p.a&&!this.dirty||(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Be extends Wn{getDefault(){return this.gl.FUNC_ADD}set(l){l===this.current&&!this.dirty||(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class Xe extends Wn{getDefault(){return!1}set(l){var p;l===this.current&&!this.dirty||(p=this.gl,l?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=l,this.dirty=!1)}}class ct extends Wn{getDefault(){return this.gl.BACK}set(l){l===this.current&&!this.dirty||(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class wt extends Wn{getDefault(){return this.gl.CCW}set(l){l===this.current&&!this.dirty||(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}class Zt extends Wn{getDefault(){return null}set(l){l===this.current&&!this.dirty||(this.gl.useProgram(l),this.current=l,this.dirty=!1)}}class nr extends Wn{getDefault(){return this.gl.TEXTURE0}set(l){l===this.current&&!this.dirty||(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class Vr extends Wn{getDefault(){var l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){var p=this.current;l[0]===p[0]&&l[1]===p[1]&&l[2]===p[2]&&l[3]===p[3]&&!this.dirty||(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class nn extends Wn{getDefault(){return null}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).bindFramebuffer(p.FRAMEBUFFER,l),this.current=l,this.dirty=!1)}}class Bn extends Wn{getDefault(){return null}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).bindRenderbuffer(p.RENDERBUFFER,l),this.current=l,this.dirty=!1)}}class Ur extends Wn{getDefault(){return null}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).bindTexture(p.TEXTURE_2D,l),this.current=l,this.dirty=!1)}}class vi extends Wn{getDefault(){return null}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).bindBuffer(p.ARRAY_BUFFER,l),this.current=l,this.dirty=!1)}}class Sa extends Wn{getDefault(){return null}set(l){var p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class $a extends Wn{getDefault(){return null}set(l){var p;l===this.current&&!this.dirty||(xl(p=this.gl)?p.bindVertexArray(l):(p=p.getExtension("OES_vertex_array_object"))!=null&&p.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class Li extends Wn{getDefault(){return 4}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).pixelStorei(p.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1)}}class so extends Wn{getDefault(){return!1}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1)}}class lo extends Wn{getDefault(){return!1}set(l){var p;l===this.current&&!this.dirty||((p=this.gl).pixelStorei(p.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1)}}class co extends Wn{constructor(l,p){super(l),this.context=l,this.parent=p}getDefault(){return null}}class nh extends co{setDirty(){this.dirty=!0}set(l){var p;l===this.current&&!this.dirty||(this.context.bindFramebuffer.set(this.parent),(p=this.gl).framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,l,0),this.current=l,this.dirty=!1)}}class uu extends co{set(l){var p;l===this.current&&!this.dirty||(this.context.bindFramebuffer.set(this.parent),(p=this.gl).framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,l),this.current=l,this.dirty=!1)}}class gd extends co{set(l){var p;l===this.current&&!this.dirty||(this.context.bindFramebuffer.set(this.parent),(p=this.gl).framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,l),this.current=l,this.dirty=!1)}}class CA{constructor(l,p,v,E,I){if(this.context=l,this.width=p,this.height=v,p=l.gl,v=this.framebuffer=p.createFramebuffer(),this.colorAttachment=new nh(l,v),E)this.depthAttachment=new(I?gd:uu)(l,v);else if(I)throw new Error("Stencil cannot be set without depth");if(p.checkFramebufferStatus(p.FRAMEBUFFER)!==p.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){var l=this.context.gl,p=this.colorAttachment.get();p&&l.deleteTexture(p),this.depthAttachment&&(p=this.depthAttachment.get())&&l.deleteRenderbuffer(p),l.deleteFramebuffer(this.framebuffer)}}class Vi{constructor(l,p,v){this.blendFunction=l,this.blendColor=p,this.mask=v}}Vi.Replace=[1,0],Vi.disabled=new Vi(Vi.Replace,a.Color.transparent,[!1,!1,!1,!1]),Vi.unblended=new Vi(Vi.Replace,a.Color.transparent,[!0,!0,!0,!0]),Vi.alphaBlended=new Vi([1,771],a.Color.transparent,[!0,!0,!0,!0]);class nl{constructor(l){var p,v;this.gl=l,this.clearColor=new xA(this),this.clearDepth=new Oa(this),this.clearStencil=new rl(this),this.colorMask=new oo(this),this.depthMask=new Ea(this),this.stencilMask=new th(this),this.stencilFunc=new kc(this),this.stencilOp=new Nc(this),this.stencilTest=new cu(this),this.depthRange=new Pc(this),this.depthTest=new Oc(this),this.depthFunc=new rh(this),this.blend=new is(this),this.blendFunc=new jo(this),this.blendColor=new Y(this),this.blendEquation=new Be(this),this.cullFace=new Xe(this),this.cullFaceSide=new ct(this),this.frontFace=new wt(this),this.program=new Zt(this),this.activeTexture=new nr(this),this.viewport=new Vr(this),this.bindFramebuffer=new nn(this),this.bindRenderbuffer=new Bn(this),this.bindTexture=new Ur(this),this.bindVertexBuffer=new vi(this),this.bindElementBuffer=new Sa(this),this.bindVertexArray=new $a(this),this.pixelStoreUnpack=new Li(this),this.pixelStoreUnpackPremultiplyAlpha=new so(this),this.pixelStoreUnpackFlipY=new lo(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),xl(l)?(this.HALF_FLOAT=l.HALF_FLOAT,p=l.getExtension("EXT_color_buffer_half_float"),this.RGBA16F=(v=l.RGBA16F)!=null?v:p?.RGBA16F_EXT,this.RGB16F=(v=l.RGB16F)!=null?v:p?.RGB16F_EXT,l.getExtension("EXT_color_buffer_float")):(l.getExtension("EXT_color_buffer_half_float"),l.getExtension("OES_texture_half_float_linear"),v=l.getExtension("OES_texture_half_float"),this.HALF_FLOAT=v?.HALF_FLOAT_OES)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,p){return new tl(this,l,p)}createVertexBuffer(l,p,v){return new $l(this,l,p,v)}createRenderbuffer(l,p,v){var E=this.gl,I=E.createRenderbuffer();return this.bindRenderbuffer.set(I),E.renderbufferStorage(E.RENDERBUFFER,l,p,v),this.bindRenderbuffer.set(null),I}createFramebuffer(l,p,v,E){return new CA(this,l,p,v,E)}clear({color:l,depth:p,stencil:v}){var E=this.gl;let I=0;l&&(I|=E.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(I|=E.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),v!==void 0&&(I|=E.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),E.clear(I)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){a.deepEqual(l.blendFunction,Vi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}createVertexArray(){var l;return xl(this.gl)?this.gl.createVertexArray():(l=this.gl.getExtension("OES_vertex_array_object"))==null?void 0:l.createVertexArrayOES()}deleteVertexArray(l){var p;return xl(this.gl)?this.gl.deleteVertexArray(l):(p=this.gl.getExtension("OES_vertex_array_object"))==null?void 0:p.deleteVertexArrayOES(l)}unbindVAO(){this.bindVertexArray.set(null)}}class Zn{constructor(l,p,v){this.func=l,this.mask=p,this.range=v}}Zn.ReadOnly=!1,Zn.ReadWrite=!0,Zn.disabled=new Zn(519,Zn.ReadOnly,[0,1]);class Ri{constructor(l,p,v,E,I,R){this.test=l,this.ref=p,this.mask=v,this.fail=E,this.depthFail=I,this.pass=R}}Ri.disabled=new Ri({func:519,mask:0},0,0,7680,7680,7680);class si{constructor(l,p,v){this.enable=l,this.mode=p,this.frontFace=v}}si.disabled=new si(!1,1029,2305),si.backCCW=new si(!0,1029,2305);let Ya;function Mc(_,l,p,v,E,I,R){var j=_.context,G=j.gl,se=_.useProgram("collisionBox"),X=[];let ee=0,Ae=0;for(let hr=0;hr<v.length;hr++){var Te=v[hr],Ce=l.getTile(Te),Le=Ce.getBucket(p);if(Le){let ir=Te.posMatrix;E[0]===0&&E[1]===0||(ir=_.translatePosMatrix(Te.posMatrix,Ce,E,I));var Me,$e,Ge=R?Le.textCollisionBox:Le.iconCollisionBox,at=Le.collisionCircleArray;0<at.length&&(Me=a.create(),$e=ir,a.mul(Me,Le.placementInvProjMatrix,_.transform.glCoordMatrix),a.mul(Me,Me,Le.placementViewportMatrix),X.push({circleArray:at,circleOffset:Ae,transform:$e,invTransform:Me,coord:Te}),ee+=at.length/4,Ae=ee),Ge&&se.draw(j,G.LINES,Zn.disabled,Ri.disabled,_.colorModeForRenderPass(),si.disabled,cf(ir,_.transform,Ce),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Te),p.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,null,_.transform.zoom,null,null,Ge.collisionVertexBuffer)}}if(R&&X.length){var ft=_.useProgram("collisionCircle"),Ct=new a.CollisionCircleLayoutArray;Ct.resize(4*ee),Ct._trim();let hr=0;for(const ir of X)for(let It=0;It<ir.circleArray.length/4;It++){var Ft=4*It,pt=ir.circleArray[0+Ft],Mt=ir.circleArray[1+Ft],Qt=ir.circleArray[2+Ft],Ft=ir.circleArray[3+Ft];Ct.emplace(hr++,pt,Mt,Qt,Ft,0),Ct.emplace(hr++,pt,Mt,Qt,Ft,1),Ct.emplace(hr++,pt,Mt,Qt,Ft,2),Ct.emplace(hr++,pt,Mt,Qt,Ft,3)}(!Ya||Ya.length<2*ee)&&(Ya=(function(ir){var It=2*ir,sr=new a.QuadTriangleArray;sr.resize(It),sr._trim();for(let mr=0;mr<It;mr++){var Tr=6*mr;sr.uint16[0+Tr]=4*mr+0,sr.uint16[1+Tr]=4*mr+1,sr.uint16[2+Tr]=4*mr+2,sr.uint16[3+Tr]=4*mr+2,sr.uint16[4+Tr]=4*mr+3,sr.uint16[5+Tr]=4*mr+0}return sr})(ee));var Lt=j.createIndexBuffer(Ya,!0),Pt=j.createVertexBuffer(Ct,a.collisionCircleLayout.members,!0);for(const ir of X){var Br=uf(ir.transform,ir.invTransform,_.transform);ft.draw(j,G.TRIANGLES,Zn.disabled,Ri.disabled,_.colorModeForRenderPass(),si.disabled,Br,_.style.map.terrain&&_.style.map.terrain.getTerrainData(ir.coord),p.id,Pt,Lt,a.SegmentVector.simpleSegment(0,2*ir.circleOffset,ir.circleArray.length,ir.circleArray.length/2),null,_.transform.zoom,null,null,null)}Pt.destroy(),Lt.destroy()}}const Wl=a.identity(new Float32Array(16));function EA(_,l,p,v,E){if(_.renderPass==="translucent"){var I=Ri.disabled,R=_.colorModeForRenderPass();if(p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset")){var j=v,G=_,se=p,X=l,ee=p.layout.get("text-rotation-alignment"),Ae=p.layout.get("text-pitch-alignment"),Te=E,Ce=G.transform,Le=ee==="map",Me=Ae==="map";for(const Mt of j){var $e,Ge,at,ft,Ct=X.getTile(Mt),pt=Ct.getBucket(se);pt&&pt.text&&pt.text.segments.get().length&&($e=pt.textSizeData,$e=a.evaluateSizeForZoom($e,Ce.zoom),Ge=Ir(Ct,1,G.transform.zoom),Ge=xn(Mt.posMatrix,Me,Le,G.transform,Ge),at=se.layout.get("icon-text-fit")!=="none"&&pt.hasIconData(),$e)&&(Ct=Math.pow(2,Ce.zoom-Ct.tileID.overscaledZ),ft=G.style.map.terrain?(Qt,Ft)=>G.style.map.terrain.getElevation(Mt,Qt,Ft):null,(function(Qt,Ft,Lt,Pt,Br,hr,ir,It,sr,Tr,mr){var sn=Qt.text.placedSymbolArray,Cn=Qt.text.dynamicLayoutVertexArray,rn=Qt.icon.dynamicLayoutVertexArray,zr={};Cn.clear();for(let Hn=0;Hn<sn.length;Hn++){var Pr=sn.get(Hn),bn=Qt.allowVerticalPlacement&&!Pr.placedOrientation,bn=Pr.hidden||!Pr.crossTileID||bn?null:Pt[Pr.crossTileID];if(bn){var xr=new a.Point(Pr.anchorX,Pr.anchorY),En=ye(xr,Lt?ir:hr,mr),Wi=we(Br.cameraToCenterDistance,En.signedDistanceFromCamera);let zn=a.evaluateSizeForFeature(Qt.textSizeData,sr,Pr)*Wi/a.ONE_EM;Lt&&(zn*=Qt.tilePixelRatio/It);var{width:Wi,height:bn,anchor:Vn,textOffset:ti,textBoxScale:va}=bn,Vn=(function(Hi,oa,us,ho,ui,sl){var{horizontalAlign:Hi,verticalAlign:Qc}=a.getAnchorAlignment(Hi),Hi=-(Hi-.5)*oa,oa=-(Qc-.5)*us;return new a.Point((Hi/ui+ho[0])*sl,(oa/ui+ho[1])*sl)})(Vn,Wi,bn,ti,va,zn),Un=Lt?ye(xr.add(Vn),hr,mr).point:En.point.add(Ft?Vn.rotate(-Br.angle):Vn),Ai=Qt.allowVerticalPlacement&&Pr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let ci=0;ci<Pr.numGlyphs;ci++)a.addDynamicAttributes(Cn,Un,Ai);Tr&&0<=Pr.associatedIconIndex&&(zr[Pr.associatedIconIndex]={shiftedAnchor:Un,angle:Ai})}else qt(Pr.numGlyphs,Cn)}if(Tr){rn.clear();var Aa=Qt.icon.placedSymbolArray;for(let Hn=0;Hn<Aa.length;Hn++){var yn=Aa.get(Hn);if(yn.hidden)qt(yn.numGlyphs,rn);else{var Nn=zr[Hn];if(Nn)for(let zn=0;zn<yn.numGlyphs;zn++)a.addDynamicAttributes(rn,Nn.shiftedAnchor,Nn.angle);else qt(yn.numGlyphs,rn)}}Qt.icon.dynamicLayoutVertexBuffer.updateData(rn)}Qt.text.dynamicLayoutVertexBuffer.updateData(Cn)})(pt,Le,Me,Te,Ce,Ge,Mt.posMatrix,Ct,$e,at,ft))}}p.paint.get("icon-opacity").constantOr(1)!==0&&ih(_,l,p,v,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),I,R),p.paint.get("text-opacity").constantOr(1)!==0&&ih(_,l,p,v,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),I,R),l.map.showCollisionBoxes&&(Mc(_,l,p,v,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),Mc(_,l,p,v,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))}}function ih(_,l,p,v,E,I,R,j,G,se,X,ee){var Ae=_.context,Te=Ae.gl,Ce=_.transform,Le=j==="map",Me=G==="map",$e=j!=="viewport"&&p.layout.get("symbol-placement")!=="point",Ge=Le&&!Me&&!$e,at=!p.layout.get("symbol-sort-key").isConstant();let ft=!1;var Ct=_.depthModeForSublayer(0,Zn.ReadOnly),pt=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Mt=[];for(const oa of v){var Qt=l.getTile(oa),Ft=Qt.getBucket(p);if(Ft){var Lt=E?Ft.text:Ft.icon;if(Lt&&Lt.segments.get().length&&Lt.hasVisibleVertices){var Tr=Lt.programConfigurations.get(p.id),Pt=E||Ft.sdfIcons,Br=E?Ft.textSizeData:Ft.iconSizeData,sr=Me||Ce.pitch!==0,hr=_.useProgram((ir=Pt,hr=E,Ft.iconsInText&&hr?"symbolTextAndIcon":ir?"symbolSDF":"symbolIcon"),Tr),ir=a.evaluateSizeForZoom(Br,Ce.zoom),It=_.style.map.terrain&&_.style.map.terrain.getTerrainData(oa);let Hc,zc=[0,0],wu,ys,pm=null,mm;E?(wu=Qt.glyphAtlasTexture,ys=Te.LINEAR,Hc=Qt.glyphAtlasTexture.size,Ft.iconsInText&&(zc=Qt.imageAtlasTexture.size,pm=Qt.imageAtlasTexture,Tr=Br.kind==="composite"||Br.kind==="camera",mm=sr||_.options.rotating||_.options.zooming||Tr?Te.LINEAR:Te.NEAREST)):(Tr=p.layout.get("icon-size").constantOr(0)!==1||Ft.iconsNeedLinear,wu=Qt.imageAtlasTexture,ys=Pt||_.options.rotating||_.options.zooming||Tr||sr?Te.LINEAR:Te.NEAREST,Hc=Qt.imageAtlasTexture.size);var Tr=Ir(Qt,1,_.transform.zoom),sr=xn(oa.posMatrix,Me,Le,_.transform,Tr),Tr=De(oa.posMatrix,Me,Le,_.transform,Tr),mr=pt&&Ft.hasTextData(),mr=p.layout.get("icon-text-fit")!=="none"&&mr&&Ft.hasIconData();if($e){var sn=_.style.map.terrain?(cc,Yh)=>_.style.map.terrain.getElevation(oa,cc,Yh):null,Cn=p.layout.get("text-rotation-alignment")==="map";{rn=void 0,zr=void 0,Pr=void 0,bn=void 0,xr=void 0,En=void 0,Wi=void 0,ti=void 0,va=void 0,Vn=void 0,Un=void 0,Ai=void 0,Aa=void 0,yn=void 0,Nn=void 0,Hn=void 0,zn=void 0,ui=void 0,ci=void 0,gi=void 0,qn=void 0,us=void 0,ho=void 0;var rn=Ft,zr=oa.posMatrix,Pr=_,bn=E,xr=sr,En=Tr,Wi=Me,ti=se,va=Cn,Vn=sn,Un=bn?rn.textSizeData:rn.iconSizeData,Ai=a.evaluateSizeForZoom(Un,Pr.transform.zoom),Aa=[256/Pr.width*2+1,256/Pr.height*2+1],yn=(bn?rn.text:rn.icon).dynamicLayoutVertexArray,Nn=(yn.clear(),rn.lineVertexArray),Hn=(bn?rn.text:rn.icon).placedSymbolArray,zn=Pr.transform.width/Pr.transform.height;let cc=!1;for(let Yh=0;Yh<Hn.length;Yh++){var qn,ci,gi,us,ho,ui=Hn.get(Yh);if(ui.hidden||ui.writingMode===a.WritingMode.vertical&&!cc)qt(ui.numGlyphs,yn);else{cc=!1;let ll;Vn?(ll=[ui.anchorX,ui.anchorY,Vn(ui.anchorX,ui.anchorY),1],a.transformMat4(ll,ll,zr)):or(ll=[ui.anchorX,ui.anchorY,0,1],ll,zr),gi=ll,ci=Aa,qn=void 0,qn=gi[0]/gi[3],gi=gi[1]/gi[3],(!(qn>=-ci[0]&&qn<=ci[0]&&gi>=-ci[1]&&gi<=ci[1])||(qn=ll[3],gi=we(Pr.transform.cameraToCenterDistance,qn),ci=a.evaluateSizeForFeature(Un,Ai,ui),qn=Wi?ci/gi:ci*gi,gi=ye(ci=new a.Point(ui.anchorX,ui.anchorY),xr,Vn).point,ho=ut(ui,qn,!(us={projections:{},offsets:{}}),ti,zr,xr,En,rn.glyphOffsetArray,Nn,yn,gi,ci,us,zn,va,Vn),cc=ho.useVertical,ho.notEnoughRoom)||cc||ho.needsFlipping&&ut(ui,qn,!0,ti,zr,xr,En,rn.glyphOffsetArray,Nn,yn,gi,ci,us,zn,va,Vn).notEnoughRoom)&&qt(ui.numGlyphs,yn)}}(bn?rn.text:rn.icon).dynamicLayoutVertexBuffer.updateData(yn)}}Cn=_.translatePosMatrix(oa.posMatrix,Qt,I,R),sn=$e||E&&pt||mr?Wl:sr,bn=_.translatePosMatrix(Tr,Qt,I,R,!0),mr=Pt&&p.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0;var sl={program:hr,buffers:Lt,uniformValues:Pt?Ft.iconsInText?Ic(Br.kind,ir,Ge,Me,_,Cn,sn,bn,Hc,zc):Co(Br.kind,ir,Ge,Me,_,Cn,sn,bn,E,Hc):Qh(Br.kind,ir,Ge,Me,_,Cn,sn,bn,E,Hc),atlasTexture:wu,atlasTextureIcon:pm,atlasInterpolation:ys,atlasInterpolationIcon:mm,isSDF:Pt,hasHalo:mr};if(at&&Ft.canOverlap){ft=!0;for(const cc of Lt.segments.get())Mt.push({segments:new a.SegmentVector([cc]),sortKey:cc.sortKey,state:sl,terrainData:It})}else Mt.push({segments:Lt.segments,sortKey:0,state:sl,terrainData:It})}}}ft&&Mt.sort((oa,Hc)=>oa.sortKey-Hc.sortKey);for(const oa of Mt){var Qc,Hi=oa.state;Ae.activeTexture.set(Te.TEXTURE0),Hi.atlasTexture.bind(Hi.atlasInterpolation,Te.CLAMP_TO_EDGE),Hi.atlasTextureIcon&&(Ae.activeTexture.set(Te.TEXTURE1),Hi.atlasTextureIcon)&&Hi.atlasTextureIcon.bind(Hi.atlasInterpolationIcon,Te.CLAMP_TO_EDGE),Hi.isSDF&&(Qc=Hi.uniformValues,Hi.hasHalo&&(Qc.u_is_halo=1,as(Hi.buffers,oa.segments,p,_,Hi.program,Ct,X,ee,Qc,oa.terrainData)),Qc.u_is_halo=0),as(Hi.buffers,oa.segments,p,_,Hi.program,Ct,X,ee,Hi.uniformValues,oa.terrainData)}}function as(_,l,p,v,E,I,R,j,G,se){var X=v.context,ee=X.gl;E.draw(X,ee.TRIANGLES,I,R,j,si.disabled,G,se,p.id,_.layoutVertexBuffer,_.indexBuffer,l,p.paint,v.transform.zoom,_.programConfigurations.get(p.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Zl(_,l,p,v){if(_.renderPass==="translucent"){var E=p.paint.get("circle-opacity"),I=p.paint.get("circle-stroke-width"),R=p.paint.get("circle-stroke-opacity"),j=!p.layout.get("circle-sort-key").isConstant();if(E.constantOr(1)!==0||I.constantOr(1)!==0&&R.constantOr(1)!==0){var G=_.context,se=G.gl,X=_.depthModeForSublayer(0,Zn.ReadOnly),ee=Ri.disabled,Ae=_.colorModeForRenderPass(),Te=[];for(let ir=0;ir<v.length;ir++){var Ce=v[ir],Le=l.getTile(Ce),Me=Le.getBucket(p);if(Me){var $e=Me.programConfigurations.get(p.id),Ge=_.useProgram("circle",$e),at=Me.layoutVertexBuffer,ft=Me.indexBuffer,Ct=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ce),pt={programConfiguration:$e,program:Ge,layoutVertexBuffer:at,indexBuffer:ft,uniformValues:((It,sr,Tr,mr)=>{var sn,Cn=It.transform;let rn,zr;return zr=mr.paint.get("circle-pitch-alignment")==="map"?(sn=Ir(Tr,1,Cn.zoom),rn=!0,[sn,sn]):(rn=!1,Cn.pixelsToGLUnits),{u_camera_to_center_distance:Cn.cameraToCenterDistance,u_scale_with_map:+(mr.paint.get("circle-pitch-scale")==="map"),u_matrix:It.translatePosMatrix(sr.posMatrix,Tr,mr.paint.get("circle-translate"),mr.paint.get("circle-translate-anchor")),u_pitch_with_map:+rn,u_device_pixel_ratio:It.pixelRatio,u_extrude_scale:zr}})(_,Ce,Le,p),terrainData:Ct};if(j)for(const It of Me.segments.get())Te.push({segments:new a.SegmentVector([It]),sortKey:It.sortKey,state:pt});else Te.push({segments:Me.segments,sortKey:0,state:pt})}}j&&Te.sort((ir,It)=>ir.sortKey-It.sortKey);for(const ir of Te){var{programConfiguration:Mt,program:Qt,layoutVertexBuffer:Ft,indexBuffer:Lt,uniformValues:Pt,terrainData:Br}=ir.state,hr=ir.segments;Qt.draw(G,se.TRIANGLES,X,ee,Ae,si.disabled,Pt,Br,p.id,Ft,Lt,hr,p.paint,_.transform.zoom,Mt)}}}}function zh(_,l,p,v){if(p.paint.get("heatmap-opacity")!==0){if(_.renderPass==="offscreen"){var E=_.context,I=E.gl,R=Ri.disabled,j=new Vi([I.ONE,I.ONE],a.Color.transparent,[!0,!0,!0,!0]);{var G=E,se=_,X=p,ee=G.gl;G.activeTexture.set(ee.TEXTURE1),G.viewport.set([0,0,se.width/4,se.height/4]);let at=X.heatmapFbo;at?(ee.bindTexture(ee.TEXTURE_2D,at.colorAttachment.get()),G.bindFramebuffer.set(at.framebuffer)):(Ge=ee.createTexture(),ee.bindTexture(ee.TEXTURE_2D,Ge),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),at=X.heatmapFbo=G.createFramebuffer(se.width/4,se.height/4,!1,!1),(function(Lt,Ct,pt,Mt){var Qt=Lt.gl,Ft=(Ft=Lt.HALF_FLOAT)!=null?Ft:Qt.UNSIGNED_BYTE,Lt=(Lt=Lt.RGBA16F)!=null?Lt:Qt.RGBA;Qt.texImage2D(Qt.TEXTURE_2D,0,Lt,Ct.width/4,Ct.height/4,0,Qt.RGBA,Ft,null),Mt.colorAttachment.set(pt)})(G,se,Ge,at))}E.clear({color:a.Color.transparent});for(let at=0;at<v.length;at++){var Ae,Te,Ce,Le,Me,$e=v[at];l.hasRenderableParent($e)||(Te=(Ae=l.getTile($e)).getBucket(p))&&(Ce=Te.programConfigurations.get(p.id),Le=_.useProgram("heatmap",Ce),Me=_.transform.zoom,Le.draw(E,I.TRIANGLES,Zn.disabled,R,j,si.disabled,(Le=$e.posMatrix,$e=Ae,Ae=Me,Me=p.paint.get("heatmap-intensity"),{u_matrix:Le,u_extrude_scale:Ir($e,1,Ae),u_intensity:Me}),null,p.id,Te.layoutVertexBuffer,Te.indexBuffer,Te.segments,p.paint,_.transform.zoom,Ce))}E.viewport.set([0,0,_.width,_.height])}else if(_.renderPass==="translucent"){_.context.setColorMode(_.colorModeForRenderPass());var ee=_,X=p,G=ee.context,se=G.gl,Ge=X.heatmapFbo;if(Ge){G.activeTexture.set(se.TEXTURE0),se.bindTexture(se.TEXTURE_2D,Ge.colorAttachment.get()),G.activeTexture.set(se.TEXTURE1);let Mt=X.colorRampTexture;(Mt=Mt||(X.colorRampTexture=new le(G,X.colorRamp,se.RGBA))).bind(se.LINEAR,se.CLAMP_TO_EDGE),ee.useProgram("heatmapTexture").draw(G,se.TRIANGLES,Zn.disabled,Ri.disabled,ee.colorModeForRenderPass(),si.disabled,Ec(ee,X,0,1),null,X.id,ee.viewportBuffer,ee.quadTriangleIndexBuffer,ee.viewportSegments,X.paint,ee.transform.zoom)}}}}function Af(_,l,p,v){if(_.renderPass==="translucent"){var E=p.paint.get("line-opacity"),I=p.paint.get("line-width");if(E.constantOr(1)!==0&&I.constantOr(1)!==0){var R,j,G,se,X,ee,Ae,Te,Ce,Le,Me=_.depthModeForSublayer(0,Zn.ReadOnly),$e=_.colorModeForRenderPass(),Ge=p.paint.get("line-dasharray"),at=p.paint.get("line-pattern"),ft=at.constantOr(1),Ct=p.paint.get("line-gradient"),pt=p.getCrossfadeParameters(),Mt=ft?"linePattern":Ge?"lineSDF":Ct?"lineGradient":"line",Qt=_.context,Ft=Qt.gl;let Cn=!0;for(const rn of v){var Lt=l.getTile(rn);if(!ft||Lt.patternsLoaded()){var Pt=Lt.getBucket(p);if(Pt){var Br,hr,ir=Pt.programConfigurations.get(p.id),sr=_.context.program.get(),It=_.useProgram(Mt,ir),sr=Cn||It.program!==sr,Tr=_.style.map.terrain&&_.style.map.terrain.getTerrainData(rn),mr=at.constantOr(null),mr=(mr&&Lt.imageAtlas&&(Br=(hr=Lt.imageAtlas).patternPositions[mr.to.toString()],hr=hr.patternPositions[mr.from.toString()],Br)&&hr&&ir.setConstantPatternPositions(Br,hr),Tr?rn:null),sn=ft?(Br=Lt,hr=p,Ae=pt,Te=mr,Le=Ce=void 0,Ce=(ee=_).transform,Le=Tc(Br,Ce),{u_matrix:On(ee,Br,hr,Te),u_texsize:Br.imageAtlasTexture.size,u_ratio:1/Ir(Br,1,Ce.zoom),u_device_pixel_ratio:ee.pixelRatio,u_image:0,u_scale:[Le,Ae.fromScale,Ae.toScale],u_fade:Ae.t,u_units_to_pixels:[1/Ce.pixelsToGLUnits[0],1/Ce.pixelsToGLUnits[1]]}):Ge?(Te=Lt,ee=p,Le=Ge,Ae=pt,Ce=mr,X=se=sn=se=j=G=j=void 0,j=(R=_).transform,G=R.lineAtlas,j=Tc(Te,j),se=ee.layout.get("line-cap")==="round",sn=G.getDash(Le.from,se),Le=G.getDash(Le.to,se),se=sn.width*Ae.fromScale,X=Le.width*Ae.toScale,a.extend(Ts(R,Te,ee,Ce),{u_patternscale_a:[j/se,-sn.height/2],u_patternscale_b:[j/X,-Le.height/2],u_sdfgamma:G.width/(256*Math.min(se,X)*R.pixelRatio)/2,u_image:0,u_tex_y_a:sn.y,u_tex_y_b:Le.y,u_mix:Ae.t})):Ct?(j=_,G=Lt,se=p,X=Pt.lineClipsArray.length,R=mr,a.extend(Ts(j,G,se,R),{u_image:0,u_image_height:X})):Ts(_,Lt,p,mr);if(ft)Qt.activeTexture.set(Ft.TEXTURE0),Lt.imageAtlasTexture.bind(Ft.LINEAR,Ft.CLAMP_TO_EDGE),ir.updatePaintBuffers(pt);else if(Ge&&(sr||_.lineAtlas.dirty))Qt.activeTexture.set(Ft.TEXTURE0),_.lineAtlas.bind(Qt);else if(Ct){mr=Pt.gradients[p.id];let zr=mr.texture;if(p.gradientVersion!==mr.version){let Pr=256;p.stepInterpolant&&(Lt=l.getSource().maxzoom,sr=rn.canonical.z===Lt?Math.ceil(1<<_.transform.maxZoom-rn.canonical.z):1,Lt=Pt.maxLineLength/a.EXTENT,Pr=a.clamp(a.nextPowerOfTwo(1024*Lt*sr),256,Qt.maxTextureSize)),mr.gradient=a.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:Pr,image:mr.gradient||void 0,clips:Pt.lineClipsArray}),mr.texture?mr.texture.update(mr.gradient):mr.texture=new le(Qt,mr.gradient,Ft.RGBA),mr.version=p.gradientVersion,zr=mr.texture}Qt.activeTexture.set(Ft.TEXTURE0),zr.bind(p.stepInterpolant?Ft.NEAREST:Ft.LINEAR,Ft.CLAMP_TO_EDGE)}It.draw(Qt,Ft.TRIANGLES,Me,_.stencilModeForClipping(rn),$e,si.disabled,sn,Tr,p.id,Pt.layoutVertexBuffer,Pt.indexBuffer,Pt.segments,p.paint,_.transform.zoom,ir,Pt.layoutVertexBuffer2),Cn=!1}}}}}}function Wa(_,l,p,v,E){if(p&&v&&v.imageAtlas){v=v.imageAtlas.patternPositions;let I=v[p.to.toString()],R=v[p.from.toString()];!I&&R&&(I=R),!R&&I&&(R=I),I&&R||(p=E.getPaintProperty(l),I=v[p],R=v[p]),I&&R&&_.setConstantPatternPositions(I,R)}}function ms(_,l,p,v){var E,I,R=p.paint.get("fill-color"),j=p.paint.get("fill-opacity");j.constantOr(1)!==0&&(E=_.colorModeForRenderPass(),I=p.paint.get("fill-pattern"),I=_.opaquePassEnabledForLayer()&&!I.constantOr(1)&&R.constantOr(a.Color.transparent).a===1&&j.constantOr(0)===1?"opaque":"translucent",_.renderPass===I&&(R=_.depthModeForSublayer(1,_.renderPass==="opaque"?Zn.ReadWrite:Zn.ReadOnly),SA(_,l,p,v,R,E,!1)),_.renderPass==="translucent")&&p.paint.get("fill-antialias")&&(j=_.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,Zn.ReadOnly),SA(_,l,p,v,j,E,!0))}function SA(_,l,p,v,E,I,R){var j=_.context.gl,G="fill-pattern",se=p.paint.get(G),X=se&&se.constantOr(1),ee=p.getCrossfadeParameters();let Ae,Te,Ce,Le,Me;Ae=R?(Te=X&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",j.LINES):(Te=X?"fillPattern":"fill",j.TRIANGLES);var $e=se.constantOr(null);for(const Ft of v){var Ge,at,ft,Ct,pt,Mt,Qt=l.getTile(Ft);X&&!Qt.patternsLoaded()||(Ge=Qt.getBucket(p))&&(at=Ge.programConfigurations.get(p.id),ft=_.useProgram(Te,at),Ct=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ft),X&&(_.context.activeTexture.set(j.TEXTURE0),Qt.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),at.updatePaintBuffers(ee)),Wa(at,G,$e,Qt,p),pt=((Ct?Ft:null)||Ft).posMatrix,pt=_.translatePosMatrix(pt,Qt,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor")),Ce=R?(Le=Ge.indexBuffer2,Me=Ge.segments2,Mt=[j.drawingBufferWidth,j.drawingBufferHeight],Te==="fillOutlinePattern"&&X?Fh(pt,_,ee,Qt,Mt):Uh(pt,Mt)):(Le=Ge.indexBuffer,Me=Ge.segments,X?wl(pt,_,ee,Qt):Dh(pt)),ft.draw(_.context,Ae,E,_.stencilModeForClipping(Ft),I,si.disabled,Ce,Ct,p.id,Ge.layoutVertexBuffer,Le,Me,p.paint,_.transform.zoom,at))}}function hu(_,l,p,v){var E,I=p.paint.get("fill-extrusion-opacity");I!==0&&_.renderPass==="translucent"&&(E=new Zn(_.context.gl.LEQUAL,Zn.ReadWrite,_.depthRangeFor3D),I!==1||p.paint.get("fill-extrusion-pattern").constantOr(1)?(bi(_,l,p,v,E,Ri.disabled,Vi.disabled),bi(_,l,p,v,E,_.stencilModeFor3D(),_.colorModeForRenderPass())):(I=_.colorModeForRenderPass(),bi(_,l,p,v,E,Ri.disabled,I)))}function bi(_,l,p,v,E,I,R){var j=_.context,G=j.gl,se="fill-extrusion-pattern",X=p.paint.get(se),ee=X.constantOr(1),Ae=p.getCrossfadeParameters(),Te=p.paint.get("fill-extrusion-opacity"),Ce=X.constantOr(null);for(const pt of v){var Le,Me,$e,Ge,at,ft=l.getTile(pt),Ct=ft.getBucket(p);Ct&&(Le=_.style.map.terrain&&_.style.map.terrain.getTerrainData(pt),Me=Ct.programConfigurations.get(p.id),$e=_.useProgram(ee?"fillExtrusionPattern":"fillExtrusion",Me),ee&&(_.context.activeTexture.set(G.TEXTURE0),ft.imageAtlasTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),Me.updatePaintBuffers(Ae)),Wa(Me,se,Ce,ft,p),Ge=_.translatePosMatrix(pt.posMatrix,ft,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),at=p.paint.get("fill-extrusion-vertical-gradient"),ft=ee?Fo(Ge,_,at,Te,pt,Ae,ft):Gl(Ge,_,at,Te),$e.draw(j,j.gl.TRIANGLES,E,I,R,si.backCCW,ft,Le,p.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,p.paint,_.transform.zoom,Me,_.style.map.terrain&&Ct.centroidVertexBuffer))}}function Xl(_,l,p,v){if(_.renderPass==="offscreen"||_.renderPass==="translucent"){var E=_.context,I=_.depthModeForSublayer(0,Zn.ReadOnly),R=_.colorModeForRenderPass(),[j,v]=_.renderPass==="translucent"?_.stencilConfigForOverlap(v):[{},v];for(const pt of v){var G=l.getTile(pt);if(G.needsHillshadePrepare!==void 0&&G.needsHillshadePrepare&&_.renderPass==="offscreen"){ft=at=Ge=$e=Me=Le=Ce=Te=Ae=ee=X=se=void 0;var se=_,X=G,ee=p,Ae=I,Te=Ri.disabled,Ce=R,Le=se.context,Me=Le.gl,$e=X.dem;if($e&&$e.data){var Ge=$e.dim,at=$e.stride,ft=$e.getPixels();Le.activeTexture.set(Me.TEXTURE1),Le.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||se.getTileTexture(at),(X.demTexture?((at=X.demTexture).update(ft,{premultiply:!1}),at):(X.demTexture=new le(Le,ft,Me.RGBA,{premultiply:!1}),X.demTexture)).bind(Me.NEAREST,Me.CLAMP_TO_EDGE),Le.activeTexture.set(Me.TEXTURE0);let Mt=X.fbo;Mt||((at=new le(Le,{width:Ge,height:Ge,data:null},Me.RGBA)).bind(Me.LINEAR,Me.CLAMP_TO_EDGE),(Mt=X.fbo=Le.createFramebuffer(Ge,Ge,!0,!1)).colorAttachment.set(at.texture)),Le.bindFramebuffer.set(Mt.framebuffer),Le.viewport.set([0,0,Ge,Ge]),se.useProgram("hillshadePrepare").draw(Le,Me.TRIANGLES,Ae,Te,Ce,si.disabled,md(X.tileID,$e),null,ee.id,se.rasterBoundsBuffer,se.quadTriangleIndexBuffer,se.rasterBoundsSegments),X.needsHillshadePrepare=!1}}else _.renderPass==="translucent"&&(ft=_,at=pt,Ge=G,Le=p,Me=I,Ae=j[pt.overscaledZ],Te=R,X=se=ee=$e=Ce=void 0,Ce=ft.context,$e=Ce.gl,ee=Ge.fbo)&&(se=ft.useProgram("hillshade"),X=ft.style.map.terrain&&ft.style.map.terrain.getTerrainData(at),Ce.activeTexture.set($e.TEXTURE0),$e.bindTexture($e.TEXTURE_2D,ee.colorAttachment.get()),ee=X?at:null,se.draw(Ce,$e.TRIANGLES,Me,Ae,Te,si.disabled,Sc(ft,Ge,Le,ee),X,Le.id,ft.rasterBoundsBuffer,ft.quadTriangleIndexBuffer,ft.rasterBoundsSegments))}E.viewport.set([0,0,_.width,_.height])}}function ea(_,l,p,v){if(_.renderPass==="translucent"&&p.paint.get("raster-opacity")!==0&&v.length){var E=_.context,I=E.gl,R=l.getSource(),j=_.useProgram("raster"),G=_.colorModeForRenderPass(),[se,v]=R instanceof Ke?[{},v]:_.stencilConfigForOverlap(v),X=v[v.length-1].overscaledZ,ee=!_.options.moving;for(const Ge of v){var Ae=_.depthModeForSublayer(Ge.overscaledZ-X,p.paint.get("raster-opacity")===1?Zn.ReadWrite:Zn.ReadOnly,I.LESS),Me=l.getTile(Ge),Ce=(Me.registerFadeDuration(p.paint.get("raster-fade-duration")),l.findLoadedParent(Ge,0)),Te=(function(Ct,pt,Mt,Qt,Ft,Lt){Qt=Qt.paint.get("raster-fade-duration");{var Pt;return!Lt&&0<Qt?(Lt=f.now(),Pt=(Lt-Ct.timeAdded)/Qt,Lt=pt?(Lt-pt.timeAdded)/Qt:-1,Qt=Mt.getSource(),Mt=Ft.coveringZoomLevel({tileSize:Qt.tileSize,roundZoom:Qt.roundZoom}),Ft=!pt||Math.abs(pt.tileID.overscaledZ-Mt)>Math.abs(Ct.tileID.overscaledZ-Mt),Qt=Ft&&Ct.refreshedUponExpiration?1:a.clamp(Ft?Pt:1-Lt,0,1),Ct.refreshedUponExpiration&&1<=Pt&&(Ct.refreshedUponExpiration=!1),pt?{opacity:1,mix:1-Qt}:{opacity:Qt,mix:0}):{opacity:1,mix:0}}})(Me,Ce,l,p,_.transform,_.style.map.terrain);let at,ft;var Le=p.paint.get("raster-resampling")==="nearest"?I.NEAREST:I.LINEAR,Ce=(E.activeTexture.set(I.TEXTURE0),Me.texture.bind(Le,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(I.TEXTURE1),Ce?(Ce.texture.bind(Le,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),at=Math.pow(2,Ce.tileID.overscaledZ-Me.tileID.overscaledZ),ft=[Me.tileID.canonical.x*at%1,Me.tileID.canonical.y*at%1]):Me.texture.bind(Le,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ge)),Me=Ce?Ge:null,Le=Me?Me.posMatrix:_.transform.calculatePosMatrix(Ge.toUnwrapped(),ee),Me=Bc(Le,ft||[0,0],at||1,Te,p);R instanceof Ke?j.draw(E,I.TRIANGLES,Ae,Ri.disabled,G,si.disabled,Me,Ce,p.id,R.boundsBuffer,_.quadTriangleIndexBuffer,R.boundsSegments):j.draw(E,I.TRIANGLES,Ae,se[Ge.overscaledZ],G,si.disabled,Me,Ce,p.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}}}function os(_,l,p,v){var E=p.paint.get("background-color"),I=p.paint.get("background-opacity");if(I!==0){var R=_.context,j=R.gl,G=_.transform,se=G.tileSize,X=p.paint.get("background-pattern");if(!_.isPatternMissing(X)){var ee=!X&&E.a===1&&I===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass===ee){var Ae=Ri.disabled,Te=_.depthModeForSublayer(0,ee=="opaque"?Zn.ReadWrite:Zn.ReadOnly),Ce=_.colorModeForRenderPass(),Le=_.useProgram(X?"backgroundPattern":"background"),ee=v||G.coveringTiles({tileSize:se,terrain:_.style.map.terrain}),Me=(X&&(R.activeTexture.set(j.TEXTURE0),_.imageManager.bind(_.context)),p.getCrossfadeParameters());for(const ft of ee){var $e=v?ft.posMatrix:_.transform.calculatePosMatrix(ft.toUnwrapped()),$e=X?el($e,I,_,X,{tileID:ft,tileSize:se},Me):{u_matrix:$e,u_opacity:I,u_color:E},Ge=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ft);Le.draw(R,j.TRIANGLES,Te,Ae,Ce,si.disabled,$e,Ge,p.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}}}}}const Au=new a.Color(1,0,0,1),Cl=new a.Color(0,1,0,1),Bs=new a.Color(0,0,1,1),du=new a.Color(1,0,1,1),Lc=new a.Color(0,1,1,1);function Ta(_){var l,p,v=_.transform.padding,v=(df(_,_.transform.height-(v.top||0),3,Au),df(_,v.bottom||0,3,Cl),Jl(_,v.left||0,3,Bs),Jl(_,_.transform.width-(v.right||0),3,du),_.transform.centerPoint);l=_,p=v.x,_=_.transform.height-v.y,v=Lc,il(l,p-1,_-10,2,20,v),il(l,p-10,_-1,20,2,v)}function df(_,l,p,v){il(_,0,l+p/2,_.transform.width,p,v)}function Jl(_,l,p,v){il(_,l-p/2,0,p,_.transform.height,v)}function il(_,l,p,v,E,I){var R=_.context,j=R.gl;j.enable(j.SCISSOR_TEST),j.scissor(l*_.pixelRatio,p*_.pixelRatio,v*_.pixelRatio,E*_.pixelRatio),R.clear({color:I}),j.disable(j.SCISSOR_TEST)}function ec(_,l,p){for(let Le=0;Le<p.length;Le++){v=void 0,Ce=void 0,E=void 0,I=void 0,R=void 0,j=void 0,G=void 0,se=void 0,X=void 0,ee=void 0,Ae=void 0,Te=void 0;var v=_,Ce=l,E=p[Le],I=v.context,R=I.gl,j=E.posMatrix,G=v.useProgram("debug"),se=Zn.disabled,X=Ri.disabled,ee=v.colorModeForRenderPass(),Ae=v.style.map.terrain&&v.style.map.terrain.getTerrainData(E),Te=(I.activeTexture.set(R.TEXTURE0),Ce.getTileByID(E.key).latestRawTileData),Te=Te&&Te.byteLength||0,Te=Math.floor(Te/1024),Ce=Ce.getTile(E).tileSize,Ce=512/Math.min(Ce,512)*(E.overscaledZ/v.transform.zoom)*.5;let Me=E.canonical.toString();E.overscaledZ!==E.canonical.z&&(Me+=" => "+E.overscaledZ),E=Me+` ${Te}kB`,(function($e,Ge){$e.initDebugOverlayCanvas();var at=$e.debugOverlayCanvas,ft=$e.context.gl,Ct=$e.debugOverlayCanvas.getContext("2d");Ct.clearRect(0,0,at.width,at.height),Ct.shadowColor="white",Ct.shadowBlur=2,Ct.lineWidth=1.5,Ct.strokeStyle="white",Ct.textBaseline="top",Ct.font="bold 36px Open Sans, sans-serif",Ct.fillText(Ge,5,5),Ct.strokeText(Ge,5,5),$e.debugOverlayTexture.update(at),$e.debugOverlayTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE)})(v,E),G.draw(I,R.TRIANGLES,se,X,Vi.alphaBlended,si.disabled,hf(j,a.Color.transparent,Ce),null,"$debug",v.debugBuffer,v.quadTriangleIndexBuffer,v.debugSegments),G.draw(I,R.LINE_STRIP,se,X,ee,si.disabled,hf(j,a.Color.red),Ae,"$debug",v.debugBuffer,v.tileBorderIndexBuffer,v.debugSegments)}}function yd(_,l){let p=null;var E=Object.values(_._layers).flatMap(R=>R.source&&!R.isHidden(l)?[_.sourceCaches[R.source]]:[]),v=E.filter(R=>R.getSource().type==="vector"),E=E.filter(R=>R.getSource().type!=="vector");const I=R=>{(!p||p.getSource().maxzoom<R.getSource().maxzoom)&&(p=R)};return v.forEach(R=>I(R)),p||E.forEach(R=>I(R)),p}function Eo(_,l,I){var v,E=_.context,I=I.implementation;_.renderPass==="offscreen"?(v=I.prerender)&&(_.setCustomLayerDefaults(),E.setColorMode(_.colorModeForRenderPass()),v.call(I,E.gl,_.transform.customLayerMatrix()),E.setDirty(),_.setBaseState()):_.renderPass==="translucent"&&(_.setCustomLayerDefaults(),E.setColorMode(_.colorModeForRenderPass()),E.setStencilMode(Ri.disabled),v=I.renderingMode==="3d"?new Zn(_.context.gl.LEQUAL,Zn.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Zn.ReadOnly),E.setDepthMode(v),I.render(E.gl,_.transform.customLayerMatrix()),E.setDirty(),_.setBaseState(),E.bindFramebuffer.set(null))}function Rc(_,l){var p=_.context,v=p.gl,E=Vi.unblended,I=new Zn(v.LEQUAL,Zn.ReadWrite,[0,1]),R=l.getTerrainMesh(),j=l.sourceCache.getRenderableTiles(),G=_.useProgram("terrainDepth");p.bindFramebuffer.set(l.getFramebuffer("depth").framebuffer),p.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),p.clear({color:a.Color.transparent,depth:1});for(const ee of j){var se=l.getTerrainData(ee.tileID),X={u_matrix:_.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),u_ele_delta:l.getMeshFrameDelta(_.transform.zoom)};G.draw(p,v.TRIANGLES,I,Ri.disabled,E,si.backCCW,X,se,"terrain",R.vertexBuffer,R.indexBuffer,R.segments)}p.bindFramebuffer.set(null),p.viewport.set([0,0,_.width,_.height])}function ah(_,l){var p=_.context,v=p.gl,E=Vi.unblended,I=new Zn(v.LEQUAL,Zn.ReadWrite,[0,1]),R=l.getTerrainMesh(),j=l.getCoordsTexture(),G=l.sourceCache.getRenderableTiles(),se=_.useProgram("terrainCoords");p.bindFramebuffer.set(l.getFramebuffer("coords").framebuffer),p.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),p.clear({color:a.Color.transparent,depth:1}),l.coordsIndex=[];for(const Ae of G){var X=l.getTerrainData(Ae.tileID),ee=(p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,j.texture),_.transform.calculatePosMatrix(Ae.tileID.toUnwrapped())),ee={u_matrix:ee,u_terrain_coords_id:(255-l.coordsIndex.length)/255,u_texture:0,u_ele_delta:l.getMeshFrameDelta(_.transform.zoom)};se.draw(p,v.TRIANGLES,I,Ri.disabled,E,si.backCCW,ee,X,"terrain",R.vertexBuffer,R.indexBuffer,R.segments),l.coordsIndex.push(Ae.tileID.key)}p.bindFramebuffer.set(null),p.viewport.set([0,0,_.width,_.height])}function fu(_,l,p){var v=_.context,E=v.gl,I=_.colorModeForRenderPass(),R=new Zn(E.LEQUAL,Zn.ReadWrite,_.depthRangeFor3D),j=_.useProgram("terrain"),G=l.getTerrainMesh();v.bindFramebuffer.set(null),v.viewport.set([0,0,_.width,_.height]);for(const ee of p){var X=_.renderToTexture.getTexture(ee),se=l.getTerrainData(ee.tileID),X=(v.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,X.texture),_.transform.calculatePosMatrix(ee.tileID.toUnwrapped())),X={u_matrix:X,u_texture:0,u_ele_delta:l.getMeshFrameDelta(_.transform.zoom)};j.draw(v,E.TRIANGLES,R,Ri.disabled,I,si.backCCW,X,se,"terrain",G.vertexBuffer,G.indexBuffer,G.segments)}}class Dc{constructor(l,p){this.context=new nl(l),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.identity(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Nt.maxUnderzooming+Nt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Lh}resize(l,p,v){if(this.width=Math.floor(l*v),this.height=Math.floor(p*v),this.pixelRatio=v,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const E of this.style._order)this.style._layers[E].resize()}setup(){var p=this.context,l=new a.PosArray,l=(l.emplaceBack(0,0),l.emplaceBack(a.EXTENT,0),l.emplaceBack(0,a.EXTENT),l.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=p.createVertexBuffer(l,Vl.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2),new a.PosArray),l=(l.emplaceBack(0,0),l.emplaceBack(a.EXTENT,0),l.emplaceBack(0,a.EXTENT),l.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=p.createVertexBuffer(l,Vl.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5),new a.RasterBoundsArray),l=(l.emplaceBack(0,0,0,0),l.emplaceBack(a.EXTENT,0,a.EXTENT,0),l.emplaceBack(0,a.EXTENT,0,a.EXTENT),l.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=p.createVertexBuffer(l,et.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2),new a.PosArray),l=(l.emplaceBack(0,0),l.emplaceBack(1,0),l.emplaceBack(0,1),l.emplaceBack(1,1),this.viewportBuffer=p.createVertexBuffer(l,Vl.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2),new a.LineStripIndexArray),l=(l.emplaceBack(0),l.emplaceBack(1),l.emplaceBack(3),l.emplaceBack(2),l.emplaceBack(0),this.tileBorderIndexBuffer=p.createIndexBuffer(l),new a.TriangleIndexArray),p=(l.emplaceBack(0,1,2),l.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=p.createIndexBuffer(l),this.context.gl);this.stencilClearMode=new Ri({func:p.ALWAYS,mask:0},0,255,p.ZERO,p.ZERO,p.ZERO)}clearStencil(){var l=this.context,p=l.gl,v=(this.nextStencilID=1,this.currentStencilSource=void 0,a.create());a.ortho(v,0,this.width,this.height,0,0,1),a.scale(v,v,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(l,p.TRIANGLES,Zn.disabled,this.stencilClearMode,Vi.disabled,si.disabled,jh(v),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(l,p){if(this.currentStencilSource!==l.source&&l.isTileClipped()&&p&&p.length){this.currentStencilSource=l.source;var v=this.context,E=v.gl,I=(256<this.nextStencilID+p.length&&this.clearStencil(),v.setColorMode(Vi.disabled),v.setDepthMode(Zn.disabled),this.useProgram("clippingMask"));this._tileClippingMaskIDs={};for(const G of p){var R=this._tileClippingMaskIDs[G.key]=this.nextStencilID++,j=this.style.map.terrain&&this.style.map.terrain.getTerrainData(G);I.draw(v,E.TRIANGLES,Zn.disabled,new Ri({func:E.ALWAYS,mask:0},R,255,E.KEEP,E.KEEP,E.REPLACE),Vi.disabled,si.disabled,jh(G.posMatrix),j,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}}stencilModeFor3D(){this.currentStencilSource=void 0,256<this.nextStencilID+1&&this.clearStencil();var l=this.nextStencilID++,p=this.context.gl;return new Ri({func:p.NOTEQUAL,mask:255},l,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(l){var p=this.context.gl;return new Ri({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(v){var p=this.context.gl,v=v.sort((j,G)=>G.overscaledZ-j.overscaledZ),E=v[v.length-1].overscaledZ,I=v[0].overscaledZ-E+1;if(1<I){this.currentStencilSource=void 0,256<this.nextStencilID+I&&this.clearStencil();var R={};for(let j=0;j<I;j++)R[j+E]=new Ri({func:p.GEQUAL,mask:255},j+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=I,[R,v]}return[{[E]:Ri.disabled},v]}colorModeForRenderPass(){var l=this.context.gl;return this._showOverdrawInspector?new Vi([l.CONSTANT_COLOR,l.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Vi.unblended:Vi.alphaBlended}depthModeForSublayer(l,p,v){return this.opaquePassEnabledForLayer()?(l=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon,new Zn(v||this.context.gl.LEQUAL,p,[l,l])):Zn.disabled}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,p){this.style=l,this.options=p,this.lineAtlas=l.lineAtlas,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(f.now()),this.imageManager.beginFrame();var v=this.style._order,E=this.style.sourceCaches,I={},R={},j={};for(const Ge in E){var G=E[Ge];G.used&&G.prepare(this.context),I[Ge]=G.getVisibleCoordinates(),R[Ge]=I[Ge].slice().reverse(),j[Ge]=G.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Ge=0;Ge<v.length;Ge++){var se=v[Ge];if(this.style._layers[se].is3D()){this.opaquePassCutoff=Ge;break}}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Ge of v){var X,ee=this.style._layers[Ge];ee.hasOffscreenPass()&&!ee.isHidden(this.transform.zoom)&&(X=R[ee.source],ee.type==="custom"||X.length)&&this.renderLayer(this,E[ee.source],ee,X)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(l._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=v.length-1;0<=this.currentLayer;this.currentLayer--){var Ae=this.style._layers[v[this.currentLayer]],Te=E[Ae.source],Ce=I[Ae.source];this._renderTileClippingMasks(Ae,Ce),this.renderLayer(this,Te,Ae,Ce)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){var Le,Me=this.style._layers[v[this.currentLayer]],$e=E[Me.source];this.renderToTexture&&this.renderToTexture.renderLayer(Me)||(Le=(Me.type==="symbol"?j:R)[Me.source],this._renderTileClippingMasks(Me,I[Me.source]),this.renderLayer(this,$e,Me,Le))}this.options.showTileBoundaries&&(p=yd(this.style,this.transform.zoom))&&ec(this,p,p.getVisibleCoordinates()),this.options.showPadding&&Ta(this),this.context.setDefault()}maybeDrawDepthAndCoords(l){if(this.style&&this.style.map&&this.style.map.terrain){var p=this.terrainFacilitator.matrix,v=this.transform.projMatrix;let E=this.terrainFacilitator.dirty;(E=(E=E||(l?!a.exactEquals(p,v):!a.equals(p,v)))||0<this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length)&&(a.copy(p,v),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,Rc(this,this.style.map.terrain),ah(this,this.style.map.terrain))}}renderLayer(l,p,v,E){if(!v.isHidden(this.transform.zoom)&&(v.type==="background"||v.type==="custom"||(E||[]).length))switch(this.id=v.id,v.type){case"symbol":EA(l,p,v,E,this.style.placement.variableOffsets);break;case"circle":Zl(l,p,v,E);break;case"heatmap":zh(l,p,v,E);break;case"line":Af(l,p,v,E);break;case"fill":ms(l,p,v,E);break;case"fill-extrusion":hu(l,p,v,E);break;case"hillshade":Xl(l,p,v,E);break;case"raster":ea(l,p,v,E);break;case"background":os(l,0,v,E);break;case"custom":Eo(l,0,v)}}translatePosMatrix(l,p,v,E,I){var R;return v[0]||v[1]?((E=I?E==="map"?this.transform.angle:0:E==="viewport"?-this.transform.angle:0)&&(R=Math.sin(E),E=Math.cos(E),v=[v[0]*E-v[1]*R,v[0]*R+v[1]*E]),R=[I?v[0]:Ir(p,v[0],this.transform.zoom),I?v[1]:Ir(p,v[1],this.transform.zoom),0],E=new Float32Array(16),a.translate(E,l,R),E):l}saveTileTexture(l){var p=this._tileTextures[l.size[0]];p?p.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){return l=this._tileTextures[l],l&&0<l.length?l.pop():null}isPatternMissing(l){var p;return!(!l||l.from&&l.to&&(p=this.imageManager.getPattern(l.from.toString()),l=this.imageManager.getPattern(l.to.toString()),p)&&l)}useProgram(l,p){this.cache=this.cache||{};var v=l+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[v]||(this.cache[v]=new lf(this.context,Ss[l],p,ps[l],this._showOverdrawInspector,this.style.map.terrain)),this.cache[v]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){var l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){var l;this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,l=this.context.gl,this.debugOverlayTexture=new le(this.context,this.debugOverlayCanvas,l.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){var{drawingBufferWidth:l,drawingBufferHeight:p}=this.context.gl;return this.width!==l||this.height!==p}}class oh{constructor(l,p){this.points=l,this.planes=p}static fromInvProjectionMatrix(l,p,v){const E=Math.pow(2,v),I=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(R=>{var j=1/(R=a.transformMat4([],R,l))[3]/p*E;return a.mul$1(R,R,[j,j,1/R[3],j])});return v=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(R=>{var j=a.sub([],I[R[0]],I[R[1]]),G=a.sub([],I[R[2]],I[R[1]]),j=a.normalize([],a.cross([],j,G)),G=-a.dot(j,I[R[1]]);return j.concat(G)}),new oh(I,v)}}class Ba{constructor(l,p){this.min=l,this.max=p,this.center=a.scale$1([],a.add([],this.min,this.max),.5)}quadrant(l){var p=[l%2==0,l<2],v=a.clone$2(this.min),E=a.clone$2(this.max);for(let I=0;I<p.length;I++)v[I]=(p[I]?this.min:this.center)[I],E[I]=(p[I]?this.center:this.max)[I];return E[2]=this.max[2],new Ba(v,E)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}intersects(l){var p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let v=!0;for(let R=0;R<l.planes.length;R++){var E=l.planes[R];let j=0;for(let G=0;G<p.length;G++)0<=a.dot$1(E,p[G])&&j++;if(j===0)return 0;j!==p.length&&(v=!1)}if(v)return 2;for(let R=0;R<3;R++){let j=Number.MAX_VALUE,G=-Number.MAX_VALUE;for(let se=0;se<l.points.length;se++){var I=l.points[se][R]-this.min[R];j=Math.min(j,I),G=Math.max(G,I)}if(G<0||j>this.max[R]-this.min[R])return 0}return 1}}class al{constructor(l=0,p=0,v=0,E=0){if(isNaN(l)||l<0||isNaN(p)||p<0||isNaN(v)||v<0||isNaN(E)||E<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=p,this.left=v,this.right=E}interpolate(l,p,v){return p.top!=null&&l.top!=null&&(this.top=a.interpolate.number(l.top,p.top,v)),p.bottom!=null&&l.bottom!=null&&(this.bottom=a.interpolate.number(l.bottom,p.bottom,v)),p.left!=null&&l.left!=null&&(this.left=a.interpolate.number(l.left,p.left,v)),p.right!=null&&l.right!=null&&(this.right=a.interpolate.number(l.right,p.right,v)),this}getCenter(l,p){return l=a.clamp((this.left+l-this.right)/2,0,l),p=a.clamp((this.top+p-this.bottom)/2,0,p),new a.Point(l,p)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new al(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Qn=85.051129;class li{constructor(l,p,v,E,I){this.tileSize=512,this._renderWorldCopies=I===void 0||!!I,this._minZoom=l||0,this._maxZoom=p||22,this._minPitch=v??0,this._maxPitch=E??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new al,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){var l=new li(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return l.apply(this),l}apply(l){this.tileSize=l.tileSize,this.latRange=l.latRange,this.width=l.width,this.height=l.height,this._center=l._center,this._elevation=l._elevation,this.minElevationForCurrentTile=l.minElevationForCurrentTile,this.zoom=l.zoom,this.angle=l.angle,this._fov=l._fov,this._pitch=l._pitch,this._unmodified=l._unmodified,this._edgeInsets=l._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(l){l=-a.wrap(l,-180,180)*Math.PI/180,this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){l=a.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI,this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=l/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(l){l=Math.min(Math.max(l,this.minZoom),this.maxZoom),this._zoom!==l&&(this._unmodified=!1,this._zoom=l,this.tileZoom=Math.max(0,Math.floor(l)),this.scale=this.zoomScale(l),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(l){l!==this._elevation&&(this._elevation=l,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,p,v){this._unmodified=!1,this._edgeInsets.interpolate(l,p,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){return l=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize)),Math.max(0,l)}getVisibleUnwrappedCoordinates(l){var p=[new a.UnwrappedTileID(0,l)];if(this._renderWorldCopies){var v=this.pointCoordinate(new a.Point(0,0)),E=this.pointCoordinate(new a.Point(this.width,0)),I=this.pointCoordinate(new a.Point(this.width,this.height)),R=this.pointCoordinate(new a.Point(0,this.height)),j=Math.floor(Math.min(v.x,E.x,I.x,R.x)),G=Math.floor(Math.max(v.x,E.x,I.x,R.x));for(let se=j-1;se<=G+1;se++)se!==0&&p.push(new a.UnwrappedTileID(se,l))}return p}coveringTiles(l){let p=this.coveringZoomLevel(l);var v=p;if(l.minzoom!==void 0&&p<l.minzoom)return[];l.maxzoom!==void 0&&p>l.maxzoom&&(p=l.maxzoom);var E=this.pointCoordinate(this.getCameraPoint()),I=a.MercatorCoordinate.fromLngLat(this.center);const R=Math.pow(2,p);var j=[R*E.x,R*E.y,0],G=[R*I.x,R*I.y,0],se=oh.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,p);let X=l.minzoom||0;!l.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=p);var ee=l.terrain?2/Math.min(this.tileSize,l.tileSize)*this.tileSize:3,Ae=Br=>({aabb:new Ba([Br*R,0,0],[(Br+1)*R,R,0]),zoom:0,x:0,y:0,wrap:Br,fullyVisible:!1}),Te=[],Ce=[],Le=p,Me=l.reparseOverscaled?v:p;if(this._renderWorldCopies)for(let Br=1;Br<=3;Br++)Te.push(Ae(-Br)),Te.push(Ae(Br));for(Te.push(Ae(0));0<Te.length;){var $e=Te.pop(),Ge=$e.x,at=$e.y;let Br=$e.fullyVisible;if(!Br){var ft=$e.aabb.intersects(se);if(ft===0)continue;Br=ft===2}var ft=l.terrain?j:G,Ct=$e.aabb.distanceX(ft),pt=$e.aabb.distanceY(ft),Ct=Math.max(Math.abs(Ct),Math.abs(pt)),pt=ee+(1<<Le-$e.zoom)-2;if($e.zoom===Le||pt<Ct&&$e.zoom>=X)pt=Le-$e.zoom,Ct=j[0]-.5-(Ge<<pt),pt=j[1]-.5-(at<<pt),Ce.push({tileID:new a.OverscaledTileID($e.zoom===Le?Me:$e.zoom,$e.wrap,$e.zoom,Ge,at),distanceSq:a.sqrLen([G[0]-.5-Ge,G[1]-.5-at]),tileDistanceToCamera:Math.sqrt(Ct*Ct+pt*pt)});else for(let hr=0;hr<4;hr++){var Mt,Qt,Ft=(Ge<<1)+hr%2,Lt=(at<<1)+(hr>>1),Pt=$e.zoom+1;let ir=$e.aabb.quadrant(hr);l.terrain&&(Qt=new a.OverscaledTileID(Pt,$e.wrap,Pt,Ft,Lt),Mt=(Mt=(Qt=l.terrain.getMinMaxElevation(Qt)).minElevation)!=null?Mt:this.elevation,Qt=(Qt=Qt.maxElevation)!=null?Qt:this.elevation,ir=new Ba([ir.min[0],ir.min[1],Mt],[ir.max[0],ir.max[1],Qt])),Te.push({aabb:ir,zoom:Pt,x:Ft,y:Lt,wrap:$e.wrap,fullyVisible:Br})}}return Ce.sort((Br,hr)=>Br.distanceSq-hr.distanceSq).map(Br=>Br.tileID)}resize(l,p){this.width=l,this.height=p,this.pixelsToGLUnits=[2/l,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){var p=a.clamp(l.lat,-Qn,Qn);return new a.Point(a.mercatorXfromLng(l.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(l){return new a.MercatorCoordinate(l.x/this.worldSize,l.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(I){var p=this.elevation,v=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,E=this.pointLocation(this.centerPoint,I),I=I.getElevationForLngLatZoom(E,this.tileZoom);this.elevation-I&&(v=v+p-I,p=Math.cos(this._pitch)*this.cameraToCenterDistance/v/a.mercatorZfromAltitude(1,E.lat)/this.tileSize,v=this.scaleZoom(p),this._elevation=I,this._center=E,this.zoom=v)}setLocationAtPoint(I,v){var v=this.pointCoordinate(v),E=this.pointCoordinate(this.centerPoint),I=this.locationCoordinate(I),I=new a.MercatorCoordinate(I.x-(v.x-E.x),I.y-(v.y-E.y));this.center=this.coordinateLocation(I),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(l,p){return p?this.coordinatePoint(this.locationCoordinate(l),p.getElevationForLngLatZoom(l,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(l))}pointLocation(l,p){return this.coordinateLocation(this.pointCoordinate(l,p))}locationCoordinate(l){return a.MercatorCoordinate.fromLngLat(l)}coordinateLocation(l){return l&&l.toLngLat()}pointCoordinate(E,v){if(v&&(v=v.pointCoordinate(E),v!=null))return v;var v=[E.x,E.y,0,1],E=[E.x,E.y,1,1],I=(a.transformMat4(v,v,this.pixelMatrixInverse),a.transformMat4(E,E,this.pixelMatrixInverse),v[3]),R=E[3],j=v[1]/I,G=E[1]/R,se=v[2]/I,X=E[2]/R,X=se==X?0:(0-se)/(X-se);return new a.MercatorCoordinate(a.interpolate.number(v[0]/I,E[0]/R,X)/this.worldSize,a.interpolate.number(j,G,X)/this.worldSize)}coordinatePoint(l,p=0,v=this.pixelMatrix){return l=[l.x*this.worldSize,l.y*this.worldSize,p,1],a.transformMat4(l,l,v),new a.Point(l[0]/l[3],l[1]/l[3])}getBounds(){var l=Math.max(0,this.height/2-this.getHorizon());return new oe().extend(this.pointLocation(new a.Point(0,l))).extend(this.pointLocation(new a.Point(this.width,l))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new oe([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(l){l?(this.lngRange=[l.getWest(),l.getEast()],this.latRange=[l.getSouth(),l.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-Qn,Qn])}calculatePosMatrix(l,p=!1){var v,E,I,R=l.key,j=p?this._alignedPosMatrixCache:this._posMatrixCache;return j[R]||(v=l.canonical,E=this.worldSize/this.zoomScale(v.z),l=v.x+Math.pow(2,v.z)*l.wrap,I=a.identity(new Float64Array(16)),a.translate(I,I,[l*E,v.y*E,0]),a.scale(I,I,[E/a.EXTENT,E/a.EXTENT,1]),a.multiply(I,p?this.alignedProjMatrix:this.projMatrix,I),j[R]=new Float32Array(I)),j[R]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(Ce,p){p=a.clamp(+p,this.minZoom,this.maxZoom),p={center:new a.LngLat(Ce.lng,Ce.lat),zoom:p};let v=this.lngRange;this._renderWorldCopies||v!==null||(v=[-179.9999999999,180-1e-10]);var E=this.tileSize*this.zoomScale(p.zoom);let I=0,R=E,j=0,G=E,se=0,X=0;var{x:ee,y:Ae}=this.size,{x:Te,y:Ce}=(this.latRange&&(Te=this.latRange,I=a.mercatorYfromLat(Te[1])*E,(R=a.mercatorYfromLat(Te[0])*E)-I<Ae)&&(se=Ae/(R-I)),v&&(j=a.wrap(a.mercatorXfromLng(v[0])*E,0,E),(G=a.wrap(a.mercatorXfromLng(v[1])*E,0,E))<j&&(G+=E),G-j<ee)&&(X=ee/(G-j)),this.project.call({worldSize:E},Ce));let Le,Me;var $e,Ge=Math.max(X||0,se||0);if(Ge)$e=new a.Point(X?(G+j)/2:Te,se?(R+I)/2:Ce),p.center=this.unproject.call({worldSize:E},$e).wrap(),p.zoom+=this.scaleZoom(Ge);else{if(this.latRange&&(Ce-($e=Ae/2)<I&&(Me=I+$e),Ce+$e>R)&&(Me=R-$e),v){Ge=(j+G)/2;let at=Te;Ae=ee/2,(at=this._renderWorldCopies?a.wrap(Te,Ge-E/2,Ge+E/2):at)-Ae<j&&(Le=j+Ae),at+Ae>G&&(Le=G-Ae)}Le===void 0&&Me===void 0||($e=new a.Point(Le??Te,Me??Ce),p.center=this.unproject.call({worldSize:E},$e).wrap())}return p}_constrain(){var l,p,v;this.center&&this.width&&this.height&&!this._constraining&&(this._constraining=!0,l=this._unmodified,{center:p,zoom:v}=this.getConstrained(this.center,this.zoom),this.center=p,this.zoom=v,this._unmodified=l,this._constraining=!1)}_calcMatrices(){if(this.height){var E=this._fov/2,I=this.centerOffset,R=this.point.x,j=this.point.y;this.cameraToCenterDistance=.5/Math.tan(E)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let G=a.identity(new Float64Array(16));a.scale(G,G,[this.width/2,-this.height/2,1]),a.translate(G,G,[1,-1,0]),this.labelPlaneMatrix=G,G=a.identity(new Float64Array(16)),a.scale(G,G,[1,-1,1]),a.translate(G,G,[-1,-1,0]),a.scale(G,G,[2/this.width,2/this.height,1]),this.glCoordMatrix=G;var E=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),p=Math.min(this.elevation,this.minElevationForCurrentTile),v=E-p*this._pixelPerMeter/Math.cos(this._pitch),p=p<0?v:E,v=Math.PI/2+this._pitch,E=this._fov*(.5+I.y/this.height),E=Math.sin(E)*p/Math.sin(a.clamp(Math.PI-v-E,.01,Math.PI-.01)),l=this.getHorizon(),l=2*Math.atan(l/this.cameraToCenterDistance)*(.5+I.y/(2*l)),v=Math.sin(l)*p/Math.sin(a.clamp(Math.PI-v-l,.01,Math.PI-.01)),l=Math.min(E,v),E=1.01*(Math.cos(Math.PI/2-this._pitch)*l+p),v=this.height/50,l=(G=new Float64Array(16),a.perspective(G,this._fov,this.width/this.height,v,E),G[8]=2*-I.x/this.width,G[9]=2*I.y/this.height,a.scale(G,G,[1,-1,1]),a.translate(G,G,[0,0,-this.cameraToCenterDistance]),a.rotateX(G,G,this._pitch),a.rotateZ(G,G,this.angle),a.translate(G,G,[-R,-j,0]),this.mercatorMatrix=a.scale([],G,[this.worldSize,this.worldSize,this.worldSize]),a.scale(G,G,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,G),a.translate(G,G,[0,0,-this.elevation]),this.projMatrix=G,this.invProjMatrix=a.invert([],G),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,G),this.width%2/2),p=this.height%2/2,v=Math.cos(this.angle),E=Math.sin(this.angle),I=R-Math.round(R)+v*l+E*p,R=j-Math.round(j)+v*p+E*l,j=new Float64Array(G);if(a.translate(j,j,[.5<I?I-1:I,.5<R?R-1:R,0]),this.alignedProjMatrix=j,!(G=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=G,this._posMatrixCache={},this._alignedPosMatrixCache={}}}maxPitchScaleFactor(){var l;return this.pixelMatrixInverse?(l=[(l=this.pointCoordinate(new a.Point(0,0))).x*this.worldSize,l.y*this.worldSize,0,1],a.transformMat4(l,l,this.pixelMatrix)[3]/this.cameraToCenterDistance):1}getCameraPoint(){var l=this._pitch,l=Math.tan(l)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,l))}getCameraQueryGeometry(l){var p=this.getCameraPoint();if(l.length===1)return[l[0],p];{let v=p.x,E=p.y,I=p.x,R=p.y;for(const j of l)v=Math.min(v,j.x),E=Math.min(E,j.y),I=Math.max(I,j.x),R=Math.max(R,j.y);return[new a.Point(v,E),new a.Point(I,E),new a.Point(I,R),new a.Point(v,R),new a.Point(v,E)]}}lngLatToCameraDepth(l,p){return l=this.locationCoordinate(l),l=[l.x*this.worldSize,l.y*this.worldSize,p,1],a.transformMat4(l,l,this.projMatrix),l[2]/l[3]}}function aa(_,l){let p=!1,v=null,E,I;const R=()=>{v=null,p&&(_.apply(E,I),v=setTimeout(R,l),p=!1)};return(...j)=>(p=!0,E=this,I=j,v||R(),v)}class Ni{constructor(l){this._getCurrentHash=()=>{var p=window.location.hash.replace("#","");if(this._hashName){let v;return p.split("&").map(E=>E.split("=")).forEach(E=>{E[0]===this._hashName&&(v=E)}),(v&&v[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{var p,v=this._getCurrentHash();return 3<=v.length&&!v.some(E=>isNaN(E))&&(p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(v[3]||0):this._map.getBearing(),this._map.jumpTo({center:[+v[2],+v[1]],zoom:+v[0],bearing:p,pitch:+(v[4]||0)}),!0)},this._updateHashUnthrottled=()=>{var p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=aa(this._updateHashUnthrottled,300),this._hashName=l&&encodeURIComponent(l)}addTo(l){return this._map=l,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(l){var E=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,I=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),I=Math.pow(10,I),v=Math.round(E.lng*I)/I,E=Math.round(E.lat*I)/I,I=this._map.getBearing(),R=this._map.getPitch();let j="";if(j+=l?`/${v}/${E}/`+p:p+`/${E}/`+v,(I||R)&&(j+="/"+Math.round(10*I)/10),R&&(j+="/"+Math.round(R)),this._hashName){const G=this._hashName;let se=!1;return l=window.location.hash.slice(1).split("&").map(X=>{var ee=X.split("=")[0];return ee===G?(se=!0,ee+"="+j):X}).filter(X=>X),se||l.push(G+"="+j),"#"+l.join("&")}return"#"+j}}Dn={linearity:.3,easing:a.bezier(0,0,.3,1)};const ol=a.extend({deceleration:2500,maxSpeed:1400},Dn),tc=a.extend({deceleration:20,maxSpeed:1400},Dn),Is=a.extend({deceleration:1e3,maxSpeed:360},Dn),qh=a.extend({deceleration:1e3,maxSpeed:90},Dn);class TA{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:f.now(),settings:l})}_drainInertiaBuffer(){for(var l=this._inertiaBuffer,p=f.now();0<l.length&&160<p-l[0].time;)l.shift()}_onMoveEnd(l){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var p,v={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for({settings:p}of this._inertiaBuffer)v.zoom+=p.zoomDelta||0,v.bearing+=p.bearingDelta||0,v.pitch+=p.pitchDelta||0,p.panDelta&&v.pan._add(p.panDelta),p.around&&(v.around=p.around),p.pinchAround&&(v.pinchAround=p.pinchAround);var E=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,I={};return v.pan.mag()&&(l=Nr(v.pan.mag(),E,a.extend({},ol,l||{})),I.offset=v.pan.mult(l.amount/v.pan.mag()),I.center=this._map.transform.center,Qo(I,l)),v.zoom&&(l=Nr(v.zoom,E,tc),I.zoom=this._map.transform.zoom+l.amount,Qo(I,l)),v.bearing&&(l=Nr(v.bearing,E,Is),I.bearing=this._map.transform.bearing+a.clamp(l.amount,-179,179),Qo(I,l)),v.pitch&&(l=Nr(v.pitch,E,qh),I.pitch=this._map.transform.pitch+l.amount,Qo(I,l)),(I.zoom||I.bearing)&&(I.around=(E=v.pinchAround===void 0?v.around:v.pinchAround)?this._map.unproject(E):this._map.getCenter()),this.clear(),a.extend(I,{noMoveStart:!0})}}}function Qo(_,l){(!_.duration||_.duration<l.duration)&&(_.duration=l.duration,_.easing=l.easing)}function Nr(R,j,p){var{maxSpeed:v,linearity:E,deceleration:I}=p,R=a.clamp(R*E/(j/1e3),-v,v),j=Math.abs(R)/(I*E);return{easing:p.easing,duration:1e3*j,amount:R*(j/2)}}class gs extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,p,v,E={}){var I=y.mousePos(p.getCanvas(),v),R=p.unproject(I);super(l,a.extend({point:I,lngLat:R,originalEvent:v},E)),this._defaultPrevented=!1,this.target=p}}class Uc extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,p,v){var E=l==="touchend"?v.changedTouches:v.touches,E=y.touchPos(p.getCanvasContainer(),E),I=E.map(j=>p.unproject(j)),R=E.reduce((j,G,se,X)=>j.add(G.div(X.length)),new a.Point(0,0));super(l,{points:E,point:R,lngLats:I,lngLat:p.unproject(R),originalEvent:v}),this._defaultPrevented=!1}}class BA extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,p,v){super(l,{originalEvent:v}),this._defaultPrevented=!1}}class dm{constructor(l,p){this._map=l,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(l){return this._firePreventable(new BA(l.type,this._map,l))}mousedown(l,p){return this._mousedownPos=p,this._firePreventable(new gs(l.type,this._map,l))}mouseup(l){this._map.fire(new gs(l.type,this._map,l))}click(l,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new gs(l.type,this._map,l))}dblclick(l){return this._firePreventable(new gs(l.type,this._map,l))}mouseover(l){this._map.fire(new gs(l.type,this._map,l))}mouseout(l){this._map.fire(new gs(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Uc(l.type,this._map,l))}touchmove(l){this._map.fire(new Uc(l.type,this._map,l))}touchend(l){this._map.fire(new Uc(l.type,this._map,l))}touchcancel(l){this._map.fire(new Uc(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class kr{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(l){this._map.fire(new gs(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new gs("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._ignoreContextMenu||this._map.fire(new gs(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class sh{constructor(l){this._map=l}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(l){return this.transform.pointLocation(a.Point.convert(l),this._map.terrain)}}class ap{constructor(l,p){this._map=l,this._tr=new sh(l),this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,p){this.isEnabled()&&l.shiftKey&&l.button===0&&(y.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(l,p){var v,E,I;!this._active||this._lastPos.equals(p=p)||!this._box&&p.dist(this._startPos)<this._clickTolerance||(I=this._startPos,this._lastPos=p,this._box||(this._box=y.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",l)),l=Math.min(I.x,p.x),v=Math.max(I.x,p.x),E=Math.min(I.y,p.y),I=Math.max(I.y,p.y),y.setTransform(this._box,`translate(${l}px,${E}px)`),this._box.style.width=v-l+"px",this._box.style.height=I-E+"px")}mouseupWindow(l,p){if(this._active&&l.button===0){const v=this._startPos,E=p;if(this.reset(),y.suppressClick(),v.x!==E.x||v.y!==E.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:I=>I.fitScreenCoordinates(v,E,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",l)}}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(l,p){return this._map.fire(new a.Event(l,{originalEvent:p}))}}function Kh(_,l){if(_.length!==l.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points `+l.length);var p={};for(let v=0;v<_.length;v++)p[_[v].identifier]=l[v];return p}function El(_){var l=new a.Point(0,0);for(const p of _)l._add(p);return l.div(_.length)}class IA{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(l,p,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=l.timeStamp),v.length===this.numTouches&&(this.centroid=El(p),this.touches=Kh(v,p)))}touchmove(l,p,v){if(!this.aborted&&this.centroid){var E=Kh(v,p);for(const j in this.touches){var I=this.touches[j],R=E[j];(!R||30<R.dist(I))&&(this.aborted=!0)}}}touchend(l,p,v){if((!this.centroid||500<l.timeStamp-this.startTime)&&(this.aborted=!0),v.length===0&&(l=!this.aborted&&this.centroid,this.reset(),l))return l}}class ks{constructor(l){this.singleTap=new IA(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(l,p,v){this.singleTap.touchstart(l,p,v)}touchmove(l,p,v){this.singleTap.touchmove(l,p,v)}touchend(l,p,v){if(p=this.singleTap.touchend(l,p,v),p){var v=l.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(p)<30;if(v&&E||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=p,this.count===this.numTaps)return this.reset(),p}}}class So{constructor(l){this._tr=new sh(l),this._zoomIn=new ks({numTouches:1,numTaps:2}),this._zoomOut=new ks({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,p,v){this._zoomIn.touchstart(l,p,v),this._zoomOut.touchstart(l,p,v)}touchmove(l,p,v){this._zoomIn.touchmove(l,p,v),this._zoomOut.touchmove(l,p,v)}touchend(l,p,v){const E=this._zoomIn.touchend(l,p,v),I=this._zoomOut.touchend(l,p,v),R=this._tr;return E?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom+1,around:R.unproject(E)},{originalEvent:l})}):I?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom-1,around:R.unproject(I)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wi{constructor(l){this._enabled=!!l.enable,this._moveStateManager=l.moveStateManager,this._clickTolerance=l.clickTolerance||1,this._moveFunction=l.move,this._activateOnStart=!!l.activateOnStart,l.assignEvents(this),this.reset()}reset(l){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(l)}_move(...l){if(l=this._moveFunction(...l),l.bearingDelta||l.pitchDelta||l.around||l.panDelta)return this._active=!0,l}dragStart(l,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(l)&&(this._moveStateManager.startMove(l),this._lastPoint=p.length?p[0]:p,this._activateOnStart)&&this._lastPoint&&(this._active=!0)}dragMove(l,p){if(this.isEnabled()){var v=this._lastPoint;if(v)if(l.preventDefault(),this._moveStateManager.isValidMoveEvent(l)){if(p=p.length?p[0]:p,this._moved||!(p.dist(v)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(v,p)}else this.reset(l)}}dragEnd(l){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(l)&&(this._moved&&y.suppressClick(),this.reset(l))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const kA={0:1,2:2};function NA(_,l){return l=kA[l],_.buttons===void 0||(_.buttons&l)!==l}class Vh{constructor(l){this._correctEvent=l.checkCorrectEvent}startMove(l){l=y.mouseButton(l),this._eventButton=l}endMove(l){delete this._eventButton}isValidStartEvent(l){return this._correctEvent(l)}isValidMoveEvent(l){return!NA(l,this._eventButton)}isValidEndEvent(l){return y.mouseButton(l)===this._eventButton}}class vd{constructor(){this._firstTouch=void 0}_isOneFingerTouch(l){return l.targetTouches.length===1}_isSameTouchEvent(l){return l.targetTouches[0].identifier===this._firstTouch}startMove(l){l=l.targetTouches[0].identifier,this._firstTouch=l}endMove(l){delete this._firstTouch}isValidStartEvent(l){return this._isOneFingerTouch(l)}isValidMoveEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}isValidEndEvent(l){return this._isOneFingerTouch(l)&&this._isSameTouchEvent(l)}}const pu=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=function(l){l.preventDefault()}},op=({enable:_,clickTolerance:l})=>{var p=new Vh({checkCorrectEvent:v=>y.mouseButton(v)===0&&!v.ctrlKey});return new wi({clickTolerance:l,move:(v,E)=>({around:E,panDelta:E.sub(v)}),activateOnStart:!0,moveStateManager:p,enable:_,assignEvents:pu})},Ho=({enable:_,clickTolerance:l,bearingDegreesPerPixelMoved:p=.8})=>{var v=new Vh({checkCorrectEvent:E=>y.mouseButton(E)===0&&E.ctrlKey||y.mouseButton(E)===2});return new wi({clickTolerance:l,move:(E,I)=>({bearingDelta:(I.x-E.x)*p}),moveStateManager:v,enable:_,assignEvents:pu})},Ma=({enable:_,clickTolerance:l,pitchDegreesPerPixelMoved:p=-.5})=>{var v=new Vh({checkCorrectEvent:E=>y.mouseButton(E)===0&&E.ctrlKey||y.mouseButton(E)===2});return new wi({clickTolerance:l,move:(E,I)=>({pitchDelta:(I.y-E.y)*p}),moveStateManager:v,enable:_,assignEvents:pu})};class Lr{constructor(l,p){this._clickTolerance=l.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(l,p,v){return this._calculateTransform(l,p,v)}touchmove(l,p,v){if(this._active&&!(v.length<this.minTouchs()))return l.preventDefault(),this._calculateTransform(l,p,v)}touchend(l,p,v){this._calculateTransform(l,p,v),this._active&&v.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,p,v){0<v.length&&(this._active=!0);var E=Kh(v,p),I=new a.Point(0,0),R=new a.Point(0,0);let j=0;for(const X in E){var G=E[X],se=this._touches[X];se&&(I._add(G),R._add(G.sub(se)),j++,E[X]=G)}if(this._touches=E,!(j<this.minTouchs())&&R.mag()&&(v=R.div(j),this._sum._add(v),!(this._sum.mag()<this._clickTolerance)))return{around:I.div(j),panDelta:v}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Hr{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(l,p,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([p[0],p[1]]))}touchmove(l,p,v){if(this._firstTwoTouches){l.preventDefault();var[I,E]=this._firstTwoTouches,I=rc(v,p,I),v=rc(v,p,E);if(I&&v)return p=this._aroundCenter?null:I.add(v).div(2),this._move([I,v],p,l)}}touchend(l,p,v){var E,I;this._firstTwoTouches&&([I,E]=this._firstTwoTouches,I=rc(v,p,I),v=rc(v,p,E),I&&v||(this._active&&y.suppressClick(),this.reset()))}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function rc(_,l,p){for(let v=0;v<_.length;v++)if(_[v].identifier===p)return l[v]}function Sl(_,l){return Math.log(_/l)/Math.LN2}class Gh extends Hr{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,p){var v=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Sl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Sl(this._distance,v),pinchAround:p}}}function Za(_,l){return 180*_.angleWith(l)/Math.PI}class Tl extends Hr{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,p,v){var E=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Za(this._vector,E),pinchAround:p}}_isBelowThreshold(v){this._minDiameter=Math.min(this._minDiameter,v.mag());var p=25/(Math.PI*this._minDiameter)*360,v=Za(v,this._startVector);return Math.abs(v)<p}}function Ns(_){return Math.abs(_.y)>Math.abs(_.x)}class _d extends Hr{constructor(l){super(),this._currentTouchCount=0,this._map=l}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(l,p,v){super.touchstart(l,p,v),this._currentTouchCount=v.length}_start(l){Ns((this._lastPoints=l)[0].sub(l[1]))&&(this._valid=!1)}_move(l,p,v){if(!(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)){var E=l[0].sub(this._lastPoints[0]),I=l[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(E,I,v.timeStamp),this._valid)return this._lastPoints=l,this._active=!0,{pitchDelta:-.5*((E.y+I.y)/2)}}}gestureBeginsVertically(l,p,v){var E,I;return this._valid!==void 0?this._valid:(I=2<=l.mag(),E=2<=p.mag(),I||E?I&&E?(I=0<l.y==0<p.y,Ns(l)&&Ns(p)&&I):(this._firstMove===void 0&&(this._firstMove=v),v-this._firstMove<100&&void 0):void 0)}}const nc={panStep:100,bearingStep:15,pitchStep:10};class Di{constructor(l){this._tr=new sh(l),l=nc,this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){let p=0,v=0,E=0,I=0,R=0;switch(l.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:l.shiftKey?v=-1:(l.preventDefault(),I=-1);break;case 39:l.shiftKey?v=1:(l.preventDefault(),I=1);break;case 38:l.shiftKey?E=1:(l.preventDefault(),R=-1);break;case 40:l.shiftKey?E=-1:(l.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(v=0,E=0),{cameraAnimation:j=>{var G=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:ua,zoom:p?Math.round(G.zoom)+p*(l.shiftKey?2:1):G.zoom,bearing:G.bearing+v*this._bearingStep,pitch:G.pitch+E*this._pitchStep,offset:[-I*this._panStep,-R*this._panStep],center:G.center},{originalEvent:l})}}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ua(_){return _*(2-_)}const bd=4.000244140625;class ss{constructor(l,p){this._onTimeout=v=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(v)},this._map=l,this._tr=new sh(l),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(l){if(this.isEnabled()&&(!this._map.cooperativeGestures.isEnabled()||l[this._map.cooperativeGestures._bypassKey])){let E=l.deltaMode===WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;var p=f.now(),v=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,E!==0&&E%bd==0?this._type="wheel":E!==0&&Math.abs(E)<4?this._type="trackpad":400<v?(this._type=null,this._lastValue=E,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(v*E)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,E+=this._lastValue)),l.shiftKey&&E&&(E/=4),this._type&&(this._lastWheelEvent=l,this._delta-=E,this._active||this._start(l)),l.preventDefault()}}_start(l){var p;this._delta&&(this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout),l=y.mousePos(this._map.getCanvas(),l),p=this._tr,l.y>p.transform.height/2-p.transform.getHorizon()?this._around=a.LngLat.convert(this._aroundCenter?p.center:p.unproject(l)):this._around=a.LngLat.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame()))}renderFrame(){if(this._frameId&&(this._frameId=null,this.isActive())){var l=this._tr.transform;if(this._delta!==0){var v=this._type==="wheel"&&Math.abs(this._delta)>bd?this._wheelZoomRate:this._defaultZoomRate;let se=2/(1+Math.exp(-Math.abs(this._delta*v)));this._delta<0&&se!==0&&(se=1/se),v=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):l.scale,this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(v*se))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var p,v=typeof this._targetZoom=="number"?this._targetZoom:l.zoom,E=this._startZoom,I=this._easing;let R=!1,j;return this._type==="wheel"&&E&&I?(p=I(I=Math.min((f.now()-this._lastWheelEventTime)/200,1)),j=a.interpolate.number(E,v,p),I<1?this._frameId||(this._frameId=!0):R=!0):(j=v,R=!0),this._active=!0,R&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!R,zoomDelta:j-l.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}}_smoothOutEasing(l){let p=a.defaultEasing;var v,E;return this._prevEase&&(E=this._prevEase,v=(f.now()-E.start)/E.duration,E=E.easing(.01+v)-E.easing(v),v=.27/Math.sqrt(E*E+1e-4)*.01,E=Math.sqrt(.0729-v*v),p=a.bezier(v,E,.25,1)),this._prevEase={start:f.now(),duration:l,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ls{constructor(l,p){this._clickZoom=l,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class lh{constructor(l){this._tr=new sh(l),this.reset()}reset(){this._active=!1}dblclick(l,p){return l.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:this._tr.zoom+(l.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fc{constructor(){this._tap=new ks({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(l,p,v){var E,I,R;this._swipePoint||(this._tapTime?(E=p[0],I=l.timeStamp-this._tapTime<500,R=this._tapPoint.dist(E)<30,I&&R?0<v.length&&(this._swipePoint=E,this._swipeTouch=v[0].identifier):this.reset()):this._tap.touchstart(l,p,v))}touchmove(l,p,v){if(this._tapTime){if(this._swipePoint){var E,I;if(v[0].identifier===this._swipeTouch)return I=(E=p[0]).y-this._swipePoint.y,this._swipePoint=E,l.preventDefault(),this._active=!0,{zoomDelta:I/128}}}else this._tap.touchmove(l,p,v)}touchend(l,p,v){this._tapTime?this._swipePoint&&v.length===0&&this.reset():(p=this._tap.touchend(l,p,v))&&(this._tapTime=l.timeStamp,this._tapPoint=p)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ic{constructor(l,p,v){this._el=l,this._mousePan=p,this._touchPan=v}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ac{constructor(l,p,v){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=p,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ff{constructor(l,p,v,E){this._el=l,this._touchZoom=p,this._touchRotate=v,this._tapDragZoom=E,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class $h{constructor(l,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=l,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(!this._container){var l=this._map.getCanvasContainer();l.classList.add("maplibregl-cooperative-gestures"),this._container=y.create("div","maplibregl-cooperative-gesture-screen",l);let v=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(v=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));var l=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),p=document.createElement("div"),p=(p.className="maplibregl-desktop-message",p.textContent=v,this._container.appendChild(p),document.createElement("div"));p.className="maplibregl-mobile-message",p.textContent=l,this._container.appendChild(p),this._container.setAttribute("aria-hidden","true")}}_destoryUI(){this._container&&(y.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(l){this._onCooperativeGesture(l.touches.length===1)}wheel(l){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!l[this._bypassKey])}_onCooperativeGesture(l){this._enabled&&l&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const mu=_=>_.zoom||_.drag||_.pitch||_.rotate;class Xa extends a.Event{}function ha(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Pi{constructor(R,p){this.handleWindowEvent=j=>{this.handleEvent(j,j.type+"Window")},this.handleEvent=(j,G)=>{if(j.type==="blur")this.stop(!0);else{this._updatingCamera=!0;var se,X,ee,Ae=j.type==="renderFrame"?void 0:j,Te={needsRenderFrame:!1},Ce={},Le={},Me=j.touches,$e=Me?this._getMapTouches(Me):void 0,Ge=$e?y.touchPos(this._map.getCanvas(),$e):y.mousePos(this._map.getCanvas(),j);for({handlerName:se,handler:X,allowed:ee}of this._handlers)if(X.isEnabled()){let ft;this._blockedByActive(Le,ee,se)?X.reset():X[G||j.type]&&(ft=X[G||j.type](j,Ge,$e),this.mergeHandlerResult(Te,Ce,ft,se,Ae),ft)&&ft.needsRenderFrame&&this._triggerRenderFrame(),(ft||X.isActive())&&(Le[se]=X)}var at={};for(const ft in this._previousActiveHandlers)Le[ft]||(at[ft]=Ae);this._previousActiveHandlers=Le,(Object.keys(at).length||ha(Te))&&(this._changes.push([Te,Ce,at]),this._triggerRenderFrame()),(Object.keys(Le).length||ha(Te))&&this._map._stop(!0),this._updatingCamera=!1,Me=Te.cameraAnimation,Me&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Me(this._map))}},this._map=R,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new TA(R),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);var v,E,I,R=this._el;this._listeners=[[R,"touchstart",{passive:!0}],[R,"touchmove",{passive:!1}],[R,"touchend",void 0],[R,"touchcancel",void 0],[R,"mousedown",void 0],[R,"mousemove",void 0],[R,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[R,"mouseover",void 0],[R,"mouseout",void 0],[R,"dblclick",void 0],[R,"click",void 0],[R,"keydown",{capture:!1}],[R,"keyup",void 0],[R,"wheel",{passive:!1}],[R,"contextmenu",void 0],[window,"blur",void 0]];for([v,E,I]of this._listeners)y.addEventListener(v,E,v===document?this.handleWindowEvent:this.handleEvent,I)}destroy(){for(var[l,p,v]of this._listeners)y.removeEventListener(l,p,l===document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(l){var p=this._map,I=p.getCanvasContainer(),R=(this._add("mapEvent",new dm(p,l)),p.boxZoom=new ap(p,l)),R=(this._add("boxZoom",R),l.interactive&&l.boxZoom&&R.enable(),p.cooperativeGestures=new $h(p,l.cooperativeGestures)),R=(this._add("cooperativeGestures",R),l.cooperativeGestures&&R.enable(),new So(p)),v=new lh(p),R=(p.doubleClickZoom=new ls(v,R),this._add("tapZoom",R),this._add("clickZoom",v),l.interactive&&l.doubleClickZoom&&p.doubleClickZoom.enable(),new Fc),v=(this._add("tapDragZoom",R),p.touchPitch=new _d(p)),v=(this._add("touchPitch",v),l.interactive&&l.touchPitch&&p.touchPitch.enable(l.touchPitch),Ho(l)),E=Ma(l),v=(p.dragRotate=new ac(l,v,E),this._add("mouseRotate",v,["mousePitch"]),this._add("mousePitch",E,["mouseRotate"]),l.interactive&&l.dragRotate&&p.dragRotate.enable(),op(l)),E=new Lr(l,p),v=(p.dragPan=new ic(I,v,E),this._add("mousePan",v),this._add("touchPan",E,["touchZoom","touchRotate"]),l.interactive&&l.dragPan&&p.dragPan.enable(l.dragPan),new Tl),E=new Gh,I=(p.touchZoomRotate=new ff(I,E,v,R),this._add("touchRotate",v,["touchPan","touchZoom"]),this._add("touchZoom",E,["touchPan","touchRotate"]),l.interactive&&l.touchZoomRotate&&p.touchZoomRotate.enable(l.touchZoomRotate),p.scrollZoom=new ss(p,()=>this._triggerRenderFrame())),R=(this._add("scrollZoom",I,["mousePan"]),l.interactive&&l.scrollZoom&&p.scrollZoom.enable(l.scrollZoom),p.keyboard=new Di(p));this._add("keyboard",R),l.interactive&&l.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new kr(p))}_add(l,p,v){this._handlers.push({handlerName:l,handler:p,allowed:v}),this._handlersById[l]=p}stop(l){if(!this._updatingCamera){for(var{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(var{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!mu(this._eventsInProgress)||this.isZooming()}_blockedByActive(l,p,v){for(const E in l)if(E!==v&&(!p||p.indexOf(E)<0))return!0;return!1}_getMapTouches(l){var p=[];for(const E of l){var v=E.target;this._el.contains(v)&&p.push(E)}return p}mergeHandlerResult(l,p,v,E,I){v&&(a.extend(l,v),l={handlerName:E,originalEvent:v.originalEvent||I},v.zoomDelta!==void 0&&(p.zoom=l),v.panDelta!==void 0&&(p.drag=l),v.pitchDelta!==void 0&&(p.pitch=l),v.bearingDelta!==void 0)&&(p.rotate=l)}_applyChanges(){var l,p,v,E={},I={},R={};for([l,p,v]of this._changes)l.panDelta&&(E.panDelta=(E.panDelta||new a.Point(0,0))._add(l.panDelta)),l.zoomDelta&&(E.zoomDelta=(E.zoomDelta||0)+l.zoomDelta),l.bearingDelta&&(E.bearingDelta=(E.bearingDelta||0)+l.bearingDelta),l.pitchDelta&&(E.pitchDelta=(E.pitchDelta||0)+l.pitchDelta),l.around!==void 0&&(E.around=l.around),l.pinchAround!==void 0&&(E.pinchAround=l.pinchAround),l.noInertia&&(E.noInertia=l.noInertia),a.extend(I,p),a.extend(R,v);this._updateMapTransform(E,I,R),this._changes=[]}_updateMapTransform(l,p,v){const E=this._map,I=E._getTransformForUpdate();var R=E.terrain;if(!(ha(l)||R&&this._terrainMovement))return this._fireEvents(p,v,!0);let{panDelta:j,zoomDelta:G,bearingDelta:se,pitchDelta:X,around:ee,pinchAround:Ae}=l;Ae!==void 0&&(ee=Ae),E._stop(!0),ee=ee||E.transform.centerPoint;var Te=I.pointLocation(j?ee.sub(j):ee);se&&(I.bearing+=se),X&&(I.pitch+=X),G&&(I.zoom+=G),R?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?I.center=I.pointLocation(I.centerPoint.sub(j)):I.setLocationAtPoint(Te,ee):(this._terrainMovement=!0,this._map._elevationFreeze=!0,I.setLocationAtPoint(Te,ee),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,I.recalculateZoom(E.terrain)})):I.setLocationAtPoint(Te,ee),E._applyUpdatedTransform(I),this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(p,v,!0)}_fireEvents(l,p,v){var E=mu(this._eventsInProgress),I=mu(l),R={};for(const Ce in l){var j=l[Ce].originalEvent;this._eventsInProgress[Ce]||(R[Ce+"start"]=j),this._eventsInProgress[Ce]=l[Ce]}!E&&I&&this._fireEvent("movestart",I.originalEvent);for(const Ce in R)this._fireEvent(Ce,R[Ce]);I&&this._fireEvent("move",I.originalEvent);for(const Ce in l){var G=l[Ce].originalEvent;this._fireEvent(Ce,G)}var se={};let X;for(const Ce in this._eventsInProgress){var{handlerName:ee,originalEvent:Ae}=this._eventsInProgress[Ce];this._handlersById[ee].isActive()||(delete this._eventsInProgress[Ce],X=p[ee]||Ae,se[Ce+"end"]=X)}for(const Ce in se)this._fireEvent(Ce,se[Ce]);var Te=mu(this._eventsInProgress);v&&(E||I)&&!Te&&(this._updatingCamera=!0,v=Ce=>Ce!==0&&-this._bearingSnap<Ce&&Ce<this._bearingSnap,!(E=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions))||!E.essential&&f.prefersReducedMotion?(this._map.fire(new a.Event("moveend",{originalEvent:X})),v(this._map.getBearing())&&this._map.resetNorth()):(v(E.bearing||this._map.getBearing())&&(E.bearing=0),E.freezeElevation=!0,this._map.easeTo(E,{originalEvent:X})),this._updatingCamera=!1)}_fireEvent(l,p){this._map.fire(new a.Event(l,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{delete this._frameId,this.handleEvent(new Xa("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class gu extends a.Evented{constructor(l,p){super(),this._renderFrameCallback=()=>{var v=Math.min((f.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,p){return this.jumpTo({center:l},p)}panBy(l,p,v){return l=a.Point.convert(l).mult(-1),this.panTo(this.transform.center,a.extend({offset:l},p),v)}panTo(l,p,v){return this.easeTo(a.extend({center:l},p),v)}getZoom(){return this.transform.zoom}setZoom(l,p){return this.jumpTo({zoom:l},p),this}zoomTo(l,p,v){return this.easeTo(a.extend({zoom:l},p),v)}zoomIn(l,p){return this.zoomTo(this.getZoom()+1,l,p),this}zoomOut(l,p){return this.zoomTo(this.getZoom()-1,l,p),this}getBearing(){return this.transform.bearing}setBearing(l,p){return this.jumpTo({bearing:l},p),this}getPadding(){return this.transform.padding}setPadding(l,p){return this.jumpTo({padding:l},p),this}rotateTo(l,p,v){return this.easeTo(a.extend({bearing:l},p),v)}resetNorth(l,p){return this.rotateTo(0,a.extend({duration:1e3},l),p),this}resetNorthPitch(l,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},l),p),this}snapToNorth(l,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,p):this}getPitch(){return this.transform.pitch}setPitch(l,p){return this.jumpTo({pitch:l},p),this}cameraForBounds(l,p){l=oe.convert(l);var v=p&&p.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),v,p)}_cameraForBoxAndBearing(Ae,j,v,E){var R={top:0,bottom:0,right:0,left:0},I=(typeof(E=a.extend({padding:R,offset:[0,0],maxZoom:this.transform.maxZoom},E)).padding=="number"&&(I=E.padding,E.padding={top:I,bottom:I,right:I,left:I}),E.padding=a.extend(R,E.padding),this.transform),R=I.padding,Ae=new oe(Ae,j),j=I.project(Ae.getNorthWest()),ee=I.project(Ae.getNorthEast()),G=I.project(Ae.getSouthEast()),Ae=I.project(Ae.getSouthWest()),se=a.degreesToRadians(-v),X=j.rotate(se),ee=ee.rotate(se),Te=G.rotate(se),Ae=Ae.rotate(se),se=new a.Point(Math.max(X.x,ee.x,Ae.x,Te.x),Math.max(X.y,ee.y,Ae.y,Te.y)),X=new a.Point(Math.min(X.x,ee.x,Ae.x,Te.x),Math.min(X.y,ee.y,Ae.y,Te.y)),ee=se.sub(X),Ae=(I.width-(R.left+R.right+E.padding.left+E.padding.right))/ee.x,Te=(I.height-(R.top+R.bottom+E.padding.top+E.padding.bottom))/ee.y;if(!(Te<0||Ae<0))return se=Math.min(I.scaleZoom(I.scale*Math.min(Ae,Te)),E.maxZoom),X=a.Point.convert(E.offset),R=(E.padding.left-E.padding.right)/2,ee=(E.padding.top-E.padding.bottom)/2,Ae=new a.Point(R,ee).rotate(a.degreesToRadians(v)),Te=X.add(Ae).mult(I.scale/I.zoomScale(se)),{center:I.unproject(j.add(G).div(2).sub(Te)),zoom:se,bearing:v};a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}fitBounds(l,p,v){return this._fitInternal(this.cameraForBounds(l,p),p,v)}fitScreenCoordinates(l,p,v,E,I){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(l)),this.transform.pointLocation(a.Point.convert(p)),v,E),E,I)}_fitInternal(l,p,v){return l?(delete(p=a.extend(l,p)).padding,p.linear?this.easeTo(p,v):this.flyTo(p,v)):this}jumpTo(l,p){this.stop();var v=this._getTransformForUpdate();let E=!1,I=!1,R=!1;return"zoom"in l&&v.zoom!==+l.zoom&&(E=!0,v.zoom=+l.zoom),l.center!==void 0&&(v.center=a.LngLat.convert(l.center)),"bearing"in l&&v.bearing!==+l.bearing&&(I=!0,v.bearing=+l.bearing),"pitch"in l&&v.pitch!==+l.pitch&&(R=!0,v.pitch=+l.pitch),l.padding==null||v.isPaddingEqual(l.padding)||(v.padding=l.padding),this._applyUpdatedTransform(v),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),E&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),I&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),R&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(R,I,X,ee=0){var R=a.MercatorCoordinate.fromLngLat(R,I),I=a.MercatorCoordinate.fromLngLat(X,ee),X=I.x-R.x,ee=I.y-R.y,R=I.z-R.z,j=Math.hypot(X,ee,R);if(j===0)throw new Error("Can't calculate camera options with same From and To");var G=Math.hypot(X,ee),se=this.transform.scaleZoom(this.transform.cameraToCenterDistance/j/this.transform.tileSize),X=180*Math.atan2(X,-ee)/Math.PI,ee=180*Math.acos(G/j)/Math.PI,ee=R<0?90-ee:90+ee;return{center:I.toLngLat(),zoom:se,pitch:ee,bearing:X}}easeTo(l,p){this._stop(!1,l.easeId),((l=a.extend({offset:[0,0],duration:500,easing:a.defaultEasing},l)).animate===!1||!l.essential&&f.prefersReducedMotion)&&(l.duration=0);const v=this._getTransformForUpdate(),E=this.getZoom(),I=this.getBearing(),R=this.getPitch(),j=this.getPadding(),G="bearing"in l?this._normalizeBearing(l.bearing,I):I,se="pitch"in l?+l.pitch:R,X=("padding"in l?l:v).padding,ee=a.Point.convert(l.offset);let Ae=v.centerPoint.add(ee);var Te=v.pointLocation(Ae);const{center:Ce,zoom:Le}=v.getConstrained(a.LngLat.convert(l.center||Te),(Ct=l.zoom)!=null?Ct:E),Me=(this._normalizeCenter(Ce),v.project(Te)),$e=v.project(Ce).sub(Me),Ge=v.zoomScale(Le-E);let at,ft;l.around&&(at=a.LngLat.convert(l.around),ft=v.locationPoint(at));var Ct={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Le!==E,this._rotating=this._rotating||I!==G,this._pitching=this._pitching||se!==R,this._padding=!v.isPaddingEqual(X),this._easeId=l.easeId,this._prepareEase(p,l.noMoveStart,Ct),this.terrain&&this._prepareElevation(Ce),this._ease(pt=>{var Mt,Qt;this._zooming&&(v.zoom=a.interpolate.number(E,Le,pt)),this._rotating&&(v.bearing=a.interpolate.number(I,G,pt)),this._pitching&&(v.pitch=a.interpolate.number(R,se,pt)),this._padding&&(v.interpolatePadding(j,X,pt),Ae=v.centerPoint.add(ee)),this.terrain&&!l.freezeElevation&&this._updateElevation(pt),at?v.setLocationAtPoint(at,ft):(Mt=v.zoomScale(v.zoom-E),Qt=Le>E?Math.min(2,Ge):Math.max(.5,Ge),Qt=Math.pow(Qt,1-pt),pt=v.unproject(Me.add($e.mult(pt*Qt)).mult(Mt)),v.setLocationAtPoint(v.renderWorldCopies?pt.wrap():pt,Ae)),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},pt=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,pt)},l),this}_prepareEase(l,p,v={}){this._moving=!0,p||v.moving||this.fire(new a.Event("movestart",l)),this._zooming&&!v.zooming&&this.fire(new a.Event("zoomstart",l)),this._rotating&&!v.rotating&&this.fire(new a.Event("rotatestart",l)),this._pitching&&!v.pitching&&this.fire(new a.Event("pitchstart",l))}_prepareElevation(l){this._elevationCenter=l,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(l,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(l){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);var p,v,E=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);l<1&&E!==this._elevationTarget&&(v=(E-((p=this._elevationTarget-this._elevationStart)*l+this._elevationStart))/(1-l),this._elevationStart+=l*(p-v),this._elevationTarget=E),this.transform.elevation=a.interpolate.number(this._elevationStart,this._elevationTarget,l)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(l){var p,v,E,I,R;this.transformCameraUpdate&&(l=l.clone(),{center:p,zoom:v,pitch:E,bearing:I,elevation:R}=this.transformCameraUpdate(l),p&&(l.center=p),v!==void 0&&(l.zoom=v),E!==void 0&&(l.pitch=E),I!==void 0&&(l.bearing=I),R!==void 0&&(l.elevation=R),this.transform.apply(l))}_fireMoveEvents(l){this.fire(new a.Event("move",l)),this._zooming&&this.fire(new a.Event("zoom",l)),this._rotating&&this.fire(new a.Event("rotate",l)),this._pitching&&this.fire(new a.Event("pitch",l))}_afterEase(l,p){var v,E;this._easeId&&p&&this._easeId===p||(delete this._easeId,this.fire(new a.Event("freezeElevation",{freeze:!1})),p=this._zooming,v=this._rotating,E=this._pitching,this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new a.Event("zoomend",l)),v&&this.fire(new a.Event("rotateend",l)),E&&this.fire(new a.Event("pitchend",l)),this.fire(new a.Event("moveend",l)))}flyTo(l,p){if(!l.essential&&f.prefersReducedMotion)return Te=a.pick(l,["center","zoom","bearing","pitch","around"]),this.jumpTo(Te,p);this.stop(),l=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.defaultEasing},l);const v=this._getTransformForUpdate(),E=this.getZoom(),I=this.getBearing(),R=this.getPitch(),j=this.getPadding(),G="bearing"in l?this._normalizeBearing(l.bearing,I):I,se="pitch"in l?+l.pitch:R,X=("padding"in l?l:v).padding,ee=a.Point.convert(l.offset);let Ae=v.centerPoint.add(ee);var Te=v.pointLocation(Ae);const{center:Ce,zoom:Le}=v.getConstrained(a.LngLat.convert(l.center||Te),(Me=l.zoom)!=null?Me:E);this._normalizeCenter(Ce);var Me=v.zoomScale(Le-E);const $e=v.project(Te),Ge=v.project(Ce).sub($e);let at=l.curve;const ft=Math.max(v.width,v.height),Ct=ft/Me,pt=Ge.mag(),Mt=("minZoom"in l&&(Te=a.clamp(Math.min(l.minZoom,E,Le),v.minZoom,v.maxZoom),Me=ft/v.zoomScale(Te-E),at=Math.sqrt(Me/pt*2)),at*at);function Qt(It){return It=(Ct*Ct-ft*ft+(It?-1:1)*Mt*Mt*pt*pt)/(2*(It?Ct:ft)*Mt*pt),Math.log(Math.sqrt(It*It+1)-It)}function Ft(It){return(Math.exp(It)-Math.exp(-It))/2}function Lt(It){return(Math.exp(It)+Math.exp(-It))/2}const Pt=Qt(!1);let Br=function(It){return Lt(Pt)/Lt(Pt+at*It)},hr=function(It){return ft*((Lt(Pt)*(Ft(It=Pt+at*It)/Lt(It))-Ft(Pt))/Mt)/pt},ir=(Qt(!0)-Pt)/at;if(Math.abs(pt)<1e-6||!isFinite(ir)){if(Math.abs(ft-Ct)<1e-6)return this.easeTo(l,p);const It=Ct<ft?-1:1;ir=Math.abs(Math.log(Ct/ft))/at,hr=function(){return 0},Br=function(sr){return Math.exp(It*at*sr)}}return"duration"in l?l.duration=+l.duration:(Te="screenSpeed"in l?+l.screenSpeed/at:+l.speed,l.duration=1e3*ir/Te),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=I!==G,this._pitching=se!==R,this._padding=!v.isPaddingEqual(X),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(Ce),this._ease(mr=>{var sr=mr*ir,Tr=1/Br(sr),mr=(v.zoom=mr===1?Le:E+v.scaleZoom(Tr),this._rotating&&(v.bearing=a.interpolate.number(I,G,mr)),this._pitching&&(v.pitch=a.interpolate.number(R,se,mr)),this._padding&&(v.interpolatePadding(j,X,mr),Ae=v.centerPoint.add(ee)),this.terrain&&!l.freezeElevation&&this._updateElevation(mr),mr===1?Ce:v.unproject($e.add(Ge.mult(hr(sr))).mult(Tr)));v.setLocationAtPoint(v.renderWorldCopies?mr.wrap():mr,Ae),this._applyUpdatedTransform(v),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,p){var v;return this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd&&(v=this._onEaseEnd,delete this._onEaseEnd,v.call(this,p)),l||(v=this.handlers)&&v.stop(!1),this}_ease(l,p,v){v.animate===!1||v.duration===0?(l(1),p()):(this._easeStart=f.now(),this._easeOptions=v,this._onEaseFrame=l,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(l,p){l=a.wrap(l,-180,180);var v=Math.abs(l-p);return Math.abs(l-360-p)<v&&(l-=360),Math.abs(l+360-p)<v&&(l+=360),l}_normalizeCenter(l){var p=this.transform;p.renderWorldCopies&&!p.lngRange&&(p=l.lng-p.center.lng,l.lng+=180<p?-360:p<-180?360:0)}queryTerrainElevation(l){return this.terrain?this.terrain.getElevationForLngLatZoom(a.LngLat.convert(l),this.transform.tileZoom)-this.transform.elevation:null}}const Bl={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class PA{constructor(l=Bl){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=l}getDefaultPosition(){return"bottom-right"}onAdd(l){return this._map=l,this._compact=this.options.compact,this._container=y.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=y.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(l,p){p=this._map._getUIString("AttributionControl."+p),l.title=p,l.setAttribute("aria-label",p)}_updateAttributions(){if(this._map.style){let E=[];this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?E=E.concat(this.options.customAttribution.map(I=>typeof I!="string"?"":I)):typeof this.options.customAttribution=="string"&&E.push(this.options.customAttribution)),this._map.style.stylesheet&&(v=this._map.style.stylesheet,this.styleOwner=v.owner,this.styleId=v.id);var l=this._map.style.sourceCaches;for(const I in l){var p=l[I];(p.used||p.usedForTerrain)&&(p=p.getSource()).attribution&&E.indexOf(p.attribution)<0&&E.push(p.attribution)}(E=E.filter(I=>String(I).trim())).sort((I,R)=>I.length-R.length);var v=(E=E.filter((I,R)=>{for(let j=R+1;j<E.length;j++)if(0<=E[j].indexOf(I))return!1;return!0})).join(" | ");v!==this._attribHTML&&(this._attribHTML=v,E.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}}class yu{constructor(l={}){this._updateCompact=()=>{var p=this._container.children;p.length&&(p=p[0],this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact"))},this.options=l}getDefaultPosition(){return"bottom-left"}onAdd(l){return this._map=l,this._compact=this.options&&this.options.compact,this._container=y.create("div","maplibregl-ctrl"),l=y.create("a","maplibregl-ctrl-logo"),l.target="_blank",l.rel="noopener nofollow",l.href="https://maplibre.org/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){y.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class sp{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){var p=++this._id;return this._queue.push({callback:l,id:p,cancelled:!1}),p}remove(l){var p=this._currentlyRunning;for(const v of p?this._queue.concat(p):this._queue)if(v.id===l)return void(v.cancelled=!0)}run(l=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");var p=this._currentlyRunning=this._queue;this._queue=[];for(const v of p)if(!v.cancelled&&(v.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var oc=a.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class cs extends a.Evented{constructor(l){super(),this.sourceCache=l,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,l.usedForTerrain=!0,l.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(l,p){this.sourceCache.update(l,p),this._renderableTilesKeys=[];var v={};for(const E of l.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))v[E.key]=!0,this._renderableTilesKeys.push(E.key),this._tiles[E.key]||(E.posMatrix=new Float64Array(16),a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[E.key]=new rr(E,this.tileSize));for(const E in this._tiles)v[E]||delete this._tiles[E]}freeRtt(l){for(const v in this._tiles){var p=this._tiles[v];(!l||p.tileID.equals(l)||p.tileID.isChildOf(l)||l.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(l=>this.getTileByID(l))}getTileByID(l){return this._tiles[l]}getTerrainCoords(l){var p={};for(const se of this._renderableTilesKeys){var v,E,I,R,j,G=this._tiles[se].tileID;G.canonical.equals(l.canonical)?((v=l.clone()).posMatrix=new Float64Array(16),a.ortho(v.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[se]=v):G.canonical.isChildOf(l.canonical)?((v=l.clone()).posMatrix=new Float64Array(16),R=G.canonical.z-l.canonical.z,E=G.canonical.x-(G.canonical.x>>R<<R),I=G.canonical.y-(G.canonical.y>>R<<R),R=a.EXTENT>>R,a.ortho(v.posMatrix,0,R,0,R,0,1),a.translate(v.posMatrix,v.posMatrix,[-E*R,-I*R,0]),p[se]=v):l.canonical.isChildOf(G.canonical)&&((E=l.clone()).posMatrix=new Float64Array(16),I=l.canonical.z-G.canonical.z,R=l.canonical.x-(l.canonical.x>>I<<I),G=l.canonical.y-(l.canonical.y>>I<<I),j=a.EXTENT>>I,a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(E.posMatrix,E.posMatrix,[R*j,G*j,0]),a.scale(E.posMatrix,E.posMatrix,[1/2**I,1/2**I,0]),p[se]=E)}return p}getSourceTile(l,p){var v=this.sourceCache._source;let E=l.overscaledZ-this.deltaZoom;if((E=E>v.maxzoom?v.maxzoom:E)<v.minzoom)return null;this._sourceTileCache[l.key]||(this._sourceTileCache[l.key]=l.scaledTo(E).key);let I=this.sourceCache.getTileByID(this._sourceTileCache[l.key]);if((!I||!I.dem)&&p)for(;E>=v.minzoom&&(!I||!I.dem);)I=this.sourceCache.getTileByID(l.scaledTo(E--).key);return I}tilesAfterTime(l=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=l)}}class Ps{constructor(l,p,v){this.painter=l,this.sourceCache=new cs(p),this.options=v,this.exaggeration=typeof v.exaggeration=="number"?v.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(l,p,v,E=a.EXTENT){var I;return 0<=p&&p<E&&0<=v&&v<E&&(I=(I=(l=this.getTerrainData(l)).tile)==null?void 0:I.dem)?(v=[(p=a.transformMat4$1([],[p/E*a.EXTENT,v/E*a.EXTENT],l.u_terrain_matrix))[0]*I.dim,p[1]*I.dim],E=Math.floor(v[0]),l=Math.floor(v[1]),p=v[0]-E,v=v[1]-l,I.get(E,l)*(1-p)*(1-v)+I.get(E+1,l)*p*(1-v)+I.get(E,l+1)*(1-p)*v+I.get(E+1,l+1)*p*v):0}getElevationForLngLatZoom(v,E){var{tileID:v,mercatorX:E,mercatorY:I}=this._getOverscaledTileIDFromLngLatZoom(v,E);return this.getElevation(v,E%a.EXTENT,I%a.EXTENT,a.EXTENT)}getElevation(l,p,v,E=a.EXTENT){return this.getDEMElevation(l,p,v,E)*this.exaggeration}getTerrainData(l){this._emptyDemTexture||(v=this.painter.context,p=new a.RGBAImage({width:1,height:1},new Uint8Array(4)),this._emptyDepthTexture=new le(v,p,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new le(v,new a.RGBAImage({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([]));var p=this.sourceCache.getSourceTile(l,!0),v=(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)&&(v=this.painter.context,p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new le(v,p.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),p.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1),p&&p+p.tileID.key+l.key);if(v&&!this._demMatrixCache[v]){var E=this.sourceCache.sourceCache._source.maxzoom;let j=l.canonical.z-p.tileID.canonical.z;l.overscaledZ>l.canonical.z&&(l.canonical.z>=E?j=l.canonical.z-E:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));var E=l.canonical.x-(l.canonical.x>>j<<j),I=l.canonical.y-(l.canonical.y>>j<<j),R=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<j),1/(a.EXTENT<<j),0]);a.translate(R,R,[E*a.EXTENT,I*a.EXTENT,0]),this._demMatrixCache[l.key]={matrix:R,coord:l}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:v?this._demMatrixCache[l.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(l){var p=this.painter,v=p.width/devicePixelRatio,E=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===v&&this._fbo.height===E||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new le(p.context,{width:v,height:E,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new le(p.context,{width:v,height:E,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(v,E,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,v,E))),this._fbo.colorAttachment.set((l==="coords"?this._fboCoordsTexture:this._fboDepthTexture).texture),this._fbo}getCoordsTexture(){var l=this.painter.context;if(this._coordsTexture)return this._coordsTexture;var p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let E=0,I=0;E<this._coordsTextureSize;E++)for(let R=0;R<this._coordsTextureSize;R++,I+=4)p[I+0]=255&R,p[I+1]=255&E,p[I+2]=R>>8<<4|E>>8,p[I+3]=0;var v=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),v=new le(l,v,l.gl.RGBA,{premultiply:!1});return v.bind(l.gl.NEAREST,l.gl.CLAMP_TO_EDGE),this._coordsTexture=v}pointCoordinate(R){this.painter.maybeDrawDepthAndCoords(!0);var p=new Uint8Array(4),v=this.painter.context,j=v.gl,E=Math.round(R.x*this.painter.pixelRatio/devicePixelRatio),R=Math.round(R.y*this.painter.pixelRatio/devicePixelRatio),I=Math.round(this.painter.height/devicePixelRatio),E=(v.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),j.readPixels(E,I-R-1,1,1,j.RGBA,j.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null),p[0]+(p[2]>>4<<8)),I=p[1]+((15&p[2])<<8),R=this.coordsIndex[255-p[3]],j=R&&this.sourceCache.getTileByID(R);return j?(v=this._coordsTextureSize,p=(1<<j.tileID.canonical.z)*v,new a.MercatorCoordinate((j.tileID.canonical.x*v+E)/p+j.tileID.wrap,(j.tileID.canonical.y*v+I)/p,this.getElevation(j.tileID,E,I,v))):null}depthAtPoint(I){var p=new Uint8Array(4),v=this.painter.context,E=v.gl,I=(v.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),E.readPixels(I.x,this.painter.height/devicePixelRatio-I.y-1,1,1,E.RGBA,E.UNSIGNED_BYTE,p),v.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256);return I}getTerrainMesh(){if(!this._mesh){var l=this.painter.context,p=new a.Pos3dArray,v=new a.TriangleIndexArray,E=this.meshSize,I=a.EXTENT/E,R=E*E;for(let ee=0;ee<=E;ee++)for(let Ae=0;Ae<=E;Ae++)p.emplaceBack(Ae*I,ee*I,0);for(let ee=0;ee<R;ee+=E+1)for(let Ae=0;Ae<E;Ae++)v.emplaceBack(Ae+ee,E+Ae+ee+1,E+Ae+ee+2),v.emplaceBack(Ae+ee,E+Ae+ee+2,Ae+ee+1);var j=p.length,G=j+2*(E+1);for(const ee of[0,1])for(let Ae=0;Ae<=E;Ae++)for(const Te of[0,1])p.emplaceBack(Ae*I,ee*a.EXTENT,Te);for(let ee=0;ee<2*E;ee+=2)v.emplaceBack(G+ee,G+ee+1,G+ee+3),v.emplaceBack(G+ee,G+ee+3,G+ee+2),v.emplaceBack(j+ee,j+ee+3,j+ee+1),v.emplaceBack(j+ee,j+ee+2,j+ee+3);var se=p.length,X=se+2*(E+1);for(const ee of[0,1])for(let Ae=0;Ae<=E;Ae++)for(const Te of[0,1])p.emplaceBack(ee*a.EXTENT,Ae*I,Te);for(let ee=0;ee<2*E;ee+=2)v.emplaceBack(se+ee,se+ee+1,se+ee+3),v.emplaceBack(se+ee,se+ee+3,se+ee+2),v.emplaceBack(X+ee,X+ee+3,X+ee+1),v.emplaceBack(X+ee,X+ee+2,X+ee+3);this._mesh={indexBuffer:l.createIndexBuffer(v),vertexBuffer:l.createVertexBuffer(p,oc.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,v.length)}}return this._mesh}getMeshFrameDelta(l){return 2*Math.PI*a.earthRadius/Math.pow(2,l)/5}getMinTileElevationForLngLatZoom(l,p){return l=this._getOverscaledTileIDFromLngLatZoom(l,p).tileID,(p=this.getMinMaxElevation(l).minElevation)!=null?p:0}getMinMaxElevation(p){var p=this.getTerrainData(p).tile,v={minElevation:null,maxElevation:null};return p&&p.dem&&(v.minElevation=p.dem.min*this.exaggeration,v.maxElevation=p.dem.max*this.exaggeration),v}_getOverscaledTileIDFromLngLatZoom(E,p){var E=a.MercatorCoordinate.fromLngLat(E.wrap()),I=(1<<p)*a.EXTENT,v=E.x*I,E=E.y*I,I=Math.floor(v/a.EXTENT),R=Math.floor(E/a.EXTENT);return{tileID:new a.OverscaledTileID(p,0,p,I,R),mercatorX:v,mercatorY:E}}}class lp{constructor(l,p,v){this._context=l,this._size=p,this._tileSize=v,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const l of this._objects)l.texture.destroy(),l.fbo.destroy()}_createObject(l){var p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),v=new le(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return v.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(v.texture),{id:l,fbo:p,texture:v,stamp:-1,inUse:!1}}getObjectForId(l){return this._objects[l]}useObject(l){l.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>l.id!==p),this._recentlyUsed.push(l.id)}stampObject(l){l.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");var l=this._createObject(this._objects.length);return this._objects.push(l),l}freeObject(l){l.inUse=!1}freeAllObjects(){for(const l of this._objects)this.freeObject(l)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(l=>!l.inUse)===!1}}const Il={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class sc{constructor(l,p){this.painter=l,this.terrain=p,this.pool=new lp(l.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(l){return this.pool.getObjectForId(l.rtt[this._stacks.length-1].id).texture}prepareForRender(l,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=l._order.filter(j=>!l._layers[j].isHidden(p)),this._coordsDescendingInv={};for(const j in l.sourceCaches){this._coordsDescendingInv[j]={};for(const G of l.sourceCaches[j].getVisibleCoordinates()){var v=this.terrain.sourceCache.getTerrainCoords(G);for(const se in v)this._coordsDescendingInv[j][se]||(this._coordsDescendingInv[j][se]=[]),this._coordsDescendingInv[j][se].push(v[se])}}this._coordsDescendingInvStr={};for(const j of l._order){var E=l._layers[j],I=E.source;if(Il[E.type]&&!this._coordsDescendingInvStr[I]){this._coordsDescendingInvStr[I]={};for(const G in this._coordsDescendingInv[I])this._coordsDescendingInvStr[I][G]=this._coordsDescendingInv[I][G].map(se=>se.key).sort().join()}}for(const j of this._renderableTiles)for(const G in this._coordsDescendingInvStr){var R=this._coordsDescendingInvStr[G][j.tileID.key];R&&R!==j.rttCoords[G]&&(j.rtt=[])}}renderLayer(l){if(!l.isHidden(this.painter.transform.zoom)){var p=l.type,v=this.painter,E=this._renderableLayerIds[this._renderableLayerIds.length-1]===l.id;if(Il[p]&&(this._prevType&&Il[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(l.id),!E))return!0;if(Il[this._prevType]||Il[p]&&E){this._prevType=p;var I=this._stacks.length-1,R=this._stacks[I]||[];for(const X of this._renderableTiles){if(this.pool.isFull()&&(fu(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(X),X.rtt[I]){var j=this.pool.getObjectForId(X.rtt[I].id);if(j.stamp===X.rtt[I].stamp){this.pool.useObject(j);continue}}var G=this.pool.getOrCreateFreeObject();this.pool.useObject(G),this.pool.stampObject(G),X.rtt[I]={id:G.id,stamp:G.stamp},v.context.bindFramebuffer.set(G.fbo.framebuffer),v.context.clear({color:a.Color.transparent,stencil:0}),v.currentStencilSource=void 0;for(let ee=0;ee<R.length;ee++){const Ae=v.style._layers[R[ee]];var se=Ae.source?this._coordsDescendingInv[Ae.source][X.tileID.key]:[X.tileID];v.context.viewport.set([0,0,G.fbo.width,G.fbo.height]),v._renderTileClippingMasks(Ae,se),v.renderLayer(v,v.style.sourceCaches[Ae.source],Ae,se),Ae.source&&(X.rttCoords[Ae.source]=this._coordsDescendingInvStr[Ae.source][X.tileID.key])}}return fu(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Il[p]}}return!1}}const To={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},vu=s,ch={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:Bl,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]};Dn=class extends gu{constructor(_){if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(_=a.extend({},ch,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&85<_.maxPitch)throw new Error("maxPitch must be less than or equal to 85");if(super(new li(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._contextLost=p=>{p.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.Event("webglcontextlost",{originalEvent:p}))},this._contextRestored=p=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:p}))},this._onMapScroll=p=>{if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new sp,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},To,_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this._imageQueueHandle=o.addThrottleControl(()=>this.isMoving()),this._requestManager=new H(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let p=!1;const v=aa(E=>{this._trackResize&&!this._removed&&this.resize(E)._update()},50);this._resizeObserver=new ResizeObserver(E=>{p?v(E):p=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Pi(this,_);var l=typeof _.hash=="string"&&_.hash||void 0;this._hash=_.hash&&new Ni(l).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,a.extend({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new PA(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new yu,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",p=>{this._update(p.dataType==="style"),this.fire(new a.Event(p.dataType+"data",p))}),this.on("dataloading",p=>{this.fire(new a.Event(p.dataType+"dataloading",p))}),this.on("dataabort",p=>{this.fire(new a.Event("sourcedataabort",p))})}_getMapId(){return this._mapId}addControl(_,l){var p;return l===void 0&&(l=_.getDefaultPosition?_.getDefaultPosition():"top-right"),_&&_.onAdd?(p=_.onAdd(this),this._controls.push(_),_=this._controlPositions[l],l.indexOf("bottom")!==-1?_.insertBefore(p,_.firstChild):_.appendChild(p),this):this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")))}removeControl(_){var l;return _&&_.onRemove?(-1<(l=this._controls.indexOf(_))&&this._controls.splice(l,1),_.onRemove(this),this):this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")))}hasControl(_){return-1<this._controls.indexOf(_)}calculateCameraOptionsFromTo(_,l,p,v){return v==null&&this.terrain&&(v=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,l,p,v)}resize(_){var p=this._containerDimensions(),l=p[0],p=p[1];const v=this._getClampedPixelRatio(l,p);if(this._resizeCanvas(l,p,v),this.painter.resize(l,p,v),this.painter.overLimit()){var E=this.painter.context.gl;this._maxCanvasSize=[E.drawingBufferWidth,E.drawingBufferHeight];const I=this._getClampedPixelRatio(l,p);this._resizeCanvas(l,p,I),this.painter.resize(l,p,I)}return this.transform.resize(l,p),(E=this._requestedCameraState)!=null&&E.resize(l,p),E=!this._moving,E&&(this.stop(),this.fire(new a.Event("movestart",_)).fire(new a.Event("move",_))),this.fire(new a.Event("resize",_)),E&&this.fire(new a.Event("moveend",_)),this}_getClampedPixelRatio(I,R){var{0:p,1:v}=this._maxCanvasSize,E=this.getPixelRatio(),I=I*E,R=R*E;return Math.min(p<I?p/I:1,v<R?v/R:1)*E}getPixelRatio(){var _;return(_=this._overridePixelRatio)!=null?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(oe.convert(_)),this._update()}setMinZoom(_){if(-2<=(_=_??-2)&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(0<=_&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if(85<(_=_??60))throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}project(_){return this.transform.locationPoint(a.LngLat.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(a.Point.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)==null?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)==null?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)==null?void 0:_.isRotating())}_createDelegatedListener(_,l,p){if(_==="mouseenter"||_==="mouseover"){let v=!1;return{layer:l,listener:p,delegates:{mousemove:E=>{var I=this.getLayer(l)?this.queryRenderedFeatures(E.point,{layers:[l]}):[];I.length?v||(v=!0,p.call(this,new gs(_,this,E.originalEvent,{features:I}))):v=!1},mouseout:()=>{v=!1}}}}if(_!=="mouseleave"&&_!=="mouseout")return{layer:l,listener:p,delegates:{[_]:v=>{var E=this.getLayer(l)?this.queryRenderedFeatures(v.point,{layers:[l]}):[];E.length&&(v.features=E,p.call(this,v),delete v.features)}}};{let v=!1;return{layer:l,listener:p,delegates:{mousemove:E=>{(this.getLayer(l)?this.queryRenderedFeatures(E.point,{layers:[l]}):[]).length?v=!0:v&&(v=!1,p.call(this,new gs(_,this,E.originalEvent)))},mouseout:E=>{v&&(v=!1,p.call(this,new gs(_,this,E.originalEvent)))}}}}}on(_,l,p){if(p===void 0)return super.on(_,l);var v=this._createDelegatedListener(_,l,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(v);for(const E in v.delegates)this.on(E,v.delegates[E]);return this}once(_,l,p){if(p===void 0)return super.once(_,l);var v=this._createDelegatedListener(_,l,p);for(const E in v.delegates)this.once(E,v.delegates[E]);return this}off(_,l,p){return p===void 0?super.off(_,l):(this._delegatedListeners&&this._delegatedListeners[_]&&(v=>{var E=v[_];for(let R=0;R<E.length;R++){var I=E[R];if(I.layer===l&&I.listener===p){for(const j in I.delegates)this.off(j,I.delegates[j]);return E.splice(R,1),this}}})(this._delegatedListeners),this)}queryRenderedFeatures(_,l){if(!this.style)return[];let p;var v=_ instanceof a.Point||Array.isArray(_),E=v?_:[[0,0],[this.transform.width,this.transform.height]];return l=l||(v?{}:_)||{},p=E instanceof a.Point||typeof E[0]=="number"?[a.Point.convert(E)]:(v=a.Point.convert(E[0]),_=a.Point.convert(E[1]),[v,new a.Point(_.x,v.y),_,new a.Point(v.x,_.y),v]),this.style.queryRenderedFeatures(p,l,this.transform)}querySourceFeatures(_,l){return this.style.querySourceFeatures(_,l)}setStyle(_,l){return(l=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._updateStyle(_,l))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){var l=this._locale[_];if(l==null)throw new Error(`Missing UI string '${_}'`);return l}_updateStyle(_,l){var p;if(!l.transformStyle||!this.style||this.style._loaded)return p=this.style&&l.transformStyle?this.style.serialize():void 0,this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new Cc(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,l,p):this.style.loadJSON(_,l,p)):delete this.style,this;this.style.once("style.load",()=>this._updateStyle(_,l))}_lazyInitEmptyStyle(){this.style||(this.style=new Cc(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,l){var p;typeof _=="string"?(p=this._requestManager.transformRequest(_,"Style"),a.getJSON(p,new AbortController).then(v=>{this._updateDiff(v.data,l)}).catch(v=>{v&&this.fire(new a.ErrorEvent(v))})):typeof _=="object"&&this._updateDiff(_,l)}_updateDiff(_,l){try{this.style.setState(_,l)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(_,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(_,l){return this._lazyInitEmptyStyle(),this.style.addSource(_,l),this._update(!0)}isSourceLoaded(_){var l=this.style&&this.style.sourceCaches[_];if(l!==void 0)return l.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){var l=this.style.sourceCaches[_.source];if(!l)throw new Error("cannot load terrain, because there exists no source with ID: "+_.source);this.terrain===null&&l.reload();for(const v in this.style._layers){var p=this.style._layers[v];p.type==="hillshade"&&p.source===_.source&&a.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ps(this.painter,l,_),this.painter.renderToTexture=new sc(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=v=>{v.dataType==="style"?this.terrain.sourceCache.freeRtt():v.dataType==="source"&&v.tile&&(v.sourceId!==_.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(v.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new a.Event("terrain",{terrain:_})),this}getTerrain(){var _;return(_=(_=this.terrain)==null?void 0:_.options)!=null?_:null}areTilesLoaded(){var _=this.style&&this.style.sourceCaches;for(const v in _){var l=_[v]._tiles;for(const E in l){var p=l[E];if(p.state!=="loaded"&&p.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,l,j={}){var v,E,I,R,{pixelRatio:j=1,sdf:G=!1,stretchX:se,stretchY:X,content:ee,contentMatch:Ae}=j;if(this._lazyInitEmptyStyle(),!(l instanceof HTMLImageElement||a.isImageBitmap(l)))return l.width===void 0||l.height===void 0?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):({width:v,height:E,data:I}=l,R=l,this.style.addImage(_,{data:new a.RGBAImage({width:v,height:E},new Uint8Array(I)),pixelRatio:j,stretchX:se,stretchY:X,content:ee,contentMatch:Ae,sdf:G,version:0,userImage:R}),R.onAdd&&R.onAdd(this,_),this);({width:v,height:E,data:I}=f.getImageData(l)),this.style.addImage(_,{data:new a.RGBAImage({width:v,height:E},I),pixelRatio:j,stretchX:se,stretchY:X,content:ee,contentMatch:Ae,sdf:G,version:0})}updateImage(_,l){var p,v,E,I=this.style.getImage(_);return I?({width:E,height:p,data:v}=l instanceof HTMLImageElement||a.isImageBitmap(l)?f.getImageData(l):l,E===void 0||p===void 0?this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):E!==I.data.width||p!==I.data.height?this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(E=!(l instanceof HTMLImageElement||a.isImageBitmap(l)),I.data.replace(v,E),this.style.updateImage(_,I),this)):this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")))}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return o.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,l){return this._lazyInitEmptyStyle(),this.style.addLayer(_,l),this._update(!0)}moveLayer(_,l){return this.style.moveLayer(_,l),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,l,p){return this.style.setLayerZoomRange(_,l,p),this._update(!0)}setFilter(_,l,p={}){return this.style.setFilter(_,l,p),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,l,p,v={}){return this.style.setPaintProperty(_,l,p,v),this._update(!0)}getPaintProperty(_,l){return this.style.getPaintProperty(_,l)}setLayoutProperty(_,l,p,v={}){return this.style.setLayoutProperty(_,l,p,v),this._update(!0)}getLayoutProperty(_,l){return this.style.getLayoutProperty(_,l)}setGlyphs(_,l={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,l),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,l,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,l,p,v=>{v||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,l={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,l,p=>{p||this._update(!0)}),this}setLight(_,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,l),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,l){return this.style.setFeatureState(_,l),this._update()}removeFeatureState(_,l){return this.style.removeFeatureState(_,l),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,l=0;return this._container&&(_=this._container.clientWidth||400,l=this._container.clientHeight||300),[_,l]}_setupContainer(){var _=this._container,l=(_.classList.add("maplibregl-map"),this._canvasContainer=y.create("div","maplibregl-canvas-container",_)),l=(this._interactive&&l.classList.add("maplibregl-interactive"),this._canvas=y.create("canvas","maplibregl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region"),this._containerDimensions()),p=this._getClampedPixelRatio(l[0],l[1]);this._resizeCanvas(l[0],l[1],p);const v=this._controlContainer=y.create("div","maplibregl-control-container",_),E=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(I=>{E[I]=y.create("div",`maplibregl-ctrl-${I} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,l,p){this._canvas.width=Math.floor(p*_),this._canvas.height=Math.floor(p*l),this._canvas.style.width=_+"px",this._canvas.style.height=l+"px"}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let l=null;this._canvas.addEventListener("webglcontextcreationerror",E=>{l={requestedAttributes:_},E&&(l.statusMessage=E.statusMessage,l.type=E.type)},{once:!0});var p,v=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!v)throw p="Failed to initialize WebGL",l?(l.message=p,new Error(JSON.stringify(l))):new Error(p);this.painter=new Dc(v,this.transform),C.testSupport(v)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded&&(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint()),this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){var l=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),!this._removed){let v=!1;this.style&&this._styleDirty&&(this._styleDirty=!1,_=this.transform.zoom,p=f.now(),this.style.zoomHistory.update(_,p),(p=(_=new a.EvaluationParameters(_,{now:p,fadeDuration:l,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()})).crossFadingFactor())===1&&p===this._crossFadingFactor||(v=!0,this._crossFadingFactor=p),this.style.update(_)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,l,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:l,showPadding:this.showPadding}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||v)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();var p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),o.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)!=null&&_.disconnect();var _=this.painter.context.gl.getExtension("WEBGL_lose_context");_&&_.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),y.remove(this._canvasContainer),y.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,f.frameAsync(this._frameRequest).then(_=>{a.PerformanceUtils.frame(_),this._frameRequest=null,this._render(_)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&((this._showCollisionBoxes=_)?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return vu}getCameraTargetElevation(){return this.transform.elevation}};const lc=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},pf=({enable:_,clickTolerance:l,bearingDegreesPerPixelMoved:p=.8})=>{var v=new vd;return new wi({clickTolerance:l,move:(E,I)=>({bearingDelta:(I.x-E.x)*p}),moveStateManager:v,enable:_,assignEvents:lc})},mf=({enable:_,clickTolerance:l,pitchDegreesPerPixelMoved:p=-.5})=>{var v=new vd;return new wi({clickTolerance:l,move:(E,I)=>({pitchDelta:(I.y-E.y)*p}),moveStateManager:v,enable:_,assignEvents:lc})},OA={showCompass:!0,showZoom:!0,visualizePitch:!1};class gf{constructor(l,p,v=!1){this.mousedown=R=>{this.startMouse(a.extend({},R,{ctrlKey:!0,preventDefault:()=>R.preventDefault()}),y.mousePos(this.element,R)),y.addEventListener(window,"mousemove",this.mousemove),y.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=R=>{this.moveMouse(R,y.mousePos(this.element,R))},this.mouseup=R=>{this.mouseRotate.dragEnd(R),this.mousePitch&&this.mousePitch.dragEnd(R),this.offTemp()},this.touchstart=R=>{R.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,R.targetTouches)[0],this.startTouch(R,this._startPos),y.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.addEventListener(window,"touchend",this.touchend))},this.touchmove=R=>{R.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,R.targetTouches)[0],this.moveTouch(R,this._lastPos))},this.touchend=R=>{R.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;var E=l.dragRotate._mouseRotate.getClickTolerance(),I=l.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=Ho({clickTolerance:E,enable:!0}),this.touchRotate=pf({clickTolerance:E,enable:!0}),this.map=l,v&&(this.mousePitch=Ma({clickTolerance:I,enable:!0}),this.touchPitch=mf({clickTolerance:I,enable:!0})),y.addEventListener(p,"mousedown",this.mousedown),y.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(p,"touchcancel",this.reset)}startMouse(l,p){this.mouseRotate.dragStart(l,p),this.mousePitch&&this.mousePitch.dragStart(l,p),y.disableDrag()}startTouch(l,p){this.touchRotate.dragStart(l,p),this.touchPitch&&this.touchPitch.dragStart(l,p),y.disableDrag()}moveMouse(l,p){var v=this.map,E=(this.mouseRotate.dragMove(l,p)||{}).bearingDelta;E&&v.setBearing(v.getBearing()+E),this.mousePitch&&(E=(this.mousePitch.dragMove(l,p)||{}).pitchDelta,E)&&v.setPitch(v.getPitch()+E)}moveTouch(l,p){var v=this.map,E=(this.touchRotate.dragMove(l,p)||{}).bearingDelta;E&&v.setBearing(v.getBearing()+E),this.touchPitch&&(E=(this.touchPitch.dragMove(l,p)||{}).pitchDelta,E)&&v.setPitch(v.getPitch()+E)}off(){var l=this.element;y.removeEventListener(l,"mousedown",this.mousedown),y.removeEventListener(l,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend),y.removeEventListener(l,"touchcancel",this.reset),this.offTemp()}offTemp(){y.enableDrag(),y.removeEventListener(window,"mousemove",this.mousemove),y.removeEventListener(window,"mouseup",this.mouseup),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend)}}let Os;function uo(){return a.__awaiter(this,arguments,void 0,function*(_=!1){if(Os===void 0||_){if(window.navigator.permissions===void 0)return Os=!!window.navigator.geolocation;try{var l=yield window.navigator.permissions.query({name:"geolocation"});Os=l.state!=="denied"}catch{Os=!!window.navigator.geolocation}}return Os})}function _u(_,l,p){var v,E,I,R=new a.LngLat(_.lng,_.lat);for(_=new a.LngLat(_.lng,_.lat),l&&(v=new a.LngLat(_.lng-360,_.lat),E=new a.LngLat(_.lng+360,_.lat),I=p.locationPoint(_).distSqr(l),p.locationPoint(v).distSqr(l)<I?_=v:p.locationPoint(E).distSqr(l)<I&&(_=E));180<Math.abs(_.lng-p.center.lng);){var j=p.locationPoint(_);if(0<=j.x&&0<=j.y&&j.x<=p.width&&j.y<=p.height)break;_.lng>p.center.lng?_.lng-=360:_.lng+=360}return _.lng!==R.lng&&p.locationPoint(_).y>p.height/2-p.getHorizon()?_:R}const MA={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function fm(_,l,p){var v=_.classList;for(const E in MA)v.remove(`maplibregl-${p}-anchor-`+E);v.add(`maplibregl-${p}-anchor-`+l)}class cp extends a.Evented{constructor(l){if(super(),this._onKeyPress=Ce=>{var Te=Ce.code,Ce=Ce.charCode||Ce.keyCode;Te!=="Space"&&Te!=="Enter"&&Ce!==32&&Ce!==13||this.togglePopup()},this._onMapClick=Te=>{var Te=Te.originalEvent.target,Ce=this._element;this._popup&&(Te===Ce||Ce.contains(Te))&&this.togglePopup()},this._update=Ae=>{if(this._map){var Te=this._map.loaded()&&!this._map.isMoving();Ae?.type!=="terrain"&&(Ae?.type!=="render"||Te)||this._map.once("render",this._update),this._map.transform.renderWorldCopies?this._lngLat=_u(this._lngLat,this._flatPos,this._map.transform):this._lngLat=(Te=this._lngLat)==null?void 0:Te.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let Ce="",Le=(this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?Ce=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(Ce=`rotateZ(${this._rotation-this._map.getBearing()}deg)`),"");this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Le="rotateX(0deg)":this._pitchAlignment==="map"&&(Le=`rotateX(${this._map.getPitch()}deg)`),Ae&&Ae.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,`${MA[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${Le} `+Ce),f.frameAsync(new AbortController).then(()=>{this._updateOpacity(Ae&&Ae.type==="moveend")}).catch(()=>{})}},this._onMove=Ae=>{var Te;this._isDragging||(Te=this._clickTolerance||this._map._clickTolerance,this._isDragging=Ae.point.dist(this._pointerdownPos)>=Te),this._isDragging&&(this._pos=Ae.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},this._addDragHandler=Ae=>{this._element.contains(Ae.originalEvent.target)&&(Ae.preventDefault(),this._positionDelta=Ae.point.sub(this._pos).add(this._offset),this._pointerdownPos=Ae.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(l?.opacity,l?.opacityWhenCovered),l&&l.element)this._element=l.element,this._offset=a.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");var p=y.createNS("http://www.w3.org/2000/svg","svg"),v=(p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height","41px"),p.setAttributeNS(null,"width","27px"),p.setAttributeNS(null,"viewBox","0 0 27 41"),y.createNS("http://www.w3.org/2000/svg","g")),v=(v.setAttributeNS(null,"stroke","none"),v.setAttributeNS(null,"stroke-width","1"),v.setAttributeNS(null,"fill","none"),v.setAttributeNS(null,"fill-rule","evenodd"),y.createNS("http://www.w3.org/2000/svg","g")),E=(v.setAttributeNS(null,"fill-rule","nonzero"),y.createNS("http://www.w3.org/2000/svg","g")),R=(E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000"),[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}]);for(const Ae of R){var I=y.createNS("http://www.w3.org/2000/svg","ellipse");I.setAttributeNS(null,"opacity","0.04"),I.setAttributeNS(null,"cx","10.5"),I.setAttributeNS(null,"cy","5.80029008"),I.setAttributeNS(null,"rx",Ae.rx),I.setAttributeNS(null,"ry",Ae.ry),E.appendChild(I)}var R=y.createNS("http://www.w3.org/2000/svg","g"),j=(R.setAttributeNS(null,"fill",this._color),y.createNS("http://www.w3.org/2000/svg","path")),j=(j.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),R.appendChild(j),y.createNS("http://www.w3.org/2000/svg","g")),G=(j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000"),y.createNS("http://www.w3.org/2000/svg","path")),G=(G.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(G),y.createNS("http://www.w3.org/2000/svg","g")),se=(G.setAttributeNS(null,"transform","translate(6.0, 7.0)"),G.setAttributeNS(null,"fill","#FFFFFF"),y.createNS("http://www.w3.org/2000/svg","g")),X=(se.setAttributeNS(null,"transform","translate(8.0, 8.0)"),y.createNS("http://www.w3.org/2000/svg","circle")),ee=(X.setAttributeNS(null,"fill","#000000"),X.setAttributeNS(null,"opacity","0.25"),X.setAttributeNS(null,"cx","5.5"),X.setAttributeNS(null,"cy","5.5"),X.setAttributeNS(null,"r","5.4999962"),y.createNS("http://www.w3.org/2000/svg","circle"));ee.setAttributeNS(null,"fill","#FFFFFF"),ee.setAttributeNS(null,"cx","5.5"),ee.setAttributeNS(null,"cy","5.5"),ee.setAttributeNS(null,"r","5.4999962"),se.appendChild(X),se.appendChild(ee),v.appendChild(E),v.appendChild(R),v.appendChild(j),v.appendChild(G),v.appendChild(se),p.appendChild(v),p.setAttributeNS(null,"height",41*this._scale+"px"),p.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(p),this._offset=a.Point.convert(l&&l.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",Ae=>{Ae.preventDefault()}),this._element.addEventListener("mousedown",Ae=>{Ae.preventDefault()}),fm(this._element,this._anchor,"marker"),l&&l.className)for(const Ae of l.className.split(" "))this._element.classList.add(Ae);this._popup=null}addTo(l){return this.remove(),(this._map=l).getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),l.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(l){var p;return this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l&&("offset"in l.options||(p=Math.abs(13.5)/Math.SQRT2,l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[p,-1*(24.6+p)],"bottom-right":[-p,-1*(24.6+p)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset),this._popup=l,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)),this}getPopup(){return this._popup}togglePopup(){var l=this._popup;return this._element.style.opacity!==this._opacityWhenCovered&&l&&(l.isOpen()?l.remove():(l.setLngLat(this._lngLat),l.addTo(this._map))),this}_updateOpacity(l=!1){if((v=this._map)!=null&&v.terrain){if(l)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}var p,v=this._map,l=v.terrain.depthAtPoint(this._pos),E=v.terrain.getElevationForLngLatZoom(this._lngLat,v.transform.tileZoom);v.transform.lngLatToCameraDepth(this._lngLat,E)-l<.006?this._element.style.opacity=this._opacity:(l=-this._offset.y/v.transform._pixelPerMeter,l=Math.sin(v.getPitch()*Math.PI/180)*l,p=v.terrain.depthAtPoint(new a.Point(this._pos.x,this._pos.y-this._offset.y)),v=.006<v.transform.lngLatToCameraDepth(this._lngLat,E+l)-p,(E=this._popup)!=null&&E.isOpen()&&v&&this._popup.remove(),this._element.style.opacity=v?this._opacityWhenCovered:this._opacity)}else this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity)}getOffset(){return this._offset}setOffset(l){return this._offset=a.Point.convert(l),this._update(),this}addClassName(l){this._element.classList.add(l)}removeClassName(l){this._element.classList.remove(l)}toggleClassName(l){return this._element.classList.toggle(l)}setDraggable(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(l,p){return l===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),l!==void 0&&(this._opacity=l),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}const Mv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let La=0,wd=!1;class yf extends a.Evented{constructor(l){super(),this._onSuccess=p=>{if(this._map){if(this._isOutOfMapMaxBounds(p))this._setErrorState(),this.fire(new a.Event("outofmaxbounds",p)),this._updateMarker();else{if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState "+this._watchState)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(p),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(p),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.Event("geolocate",p))}this._finish()}},this._updateCamera=v=>{var I=new a.LngLat(v.coords.longitude,v.coords.latitude),v=v.coords.accuracy,E=this._map.getBearing(),E=a.extend({bearing:E},this.options.fitBoundsOptions),I=oe.fromLngLat(I,v);this._map.fitBounds(I,E,{geolocateSource:!0})},this._updateMarker=p=>{var v;p?(v=new a.LngLat(p.coords.longitude,p.coords.latitude),this._accuracyCircleMarker.setLngLat(v).addTo(this._map),this._userLocationDotMarker.setLngLat(v).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()):(this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove())},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=p=>{if(this._map){if(this.options.trackUserLocation)if(p.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var v=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=v,this._geolocateButton.setAttribute("aria-label",v),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(p.code===3&&wd)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.Event("error",p)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=p=>{this._map&&(this._container.addEventListener("contextmenu",v=>v.preventDefault()),this._geolocateButton=y.create("button","maplibregl-ctrl-geolocate",this._container),y.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),!(this._geolocateButton.type="button")===p?(a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled."),p=this._map._getUIString("GeolocateControl.LocationNotAvailable"),this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)):(p=this._map._getUIString("GeolocateControl.FindMyLocation"),this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new cp({element:this._dotElement}),this._circleElement=y.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cp({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation)&&this._map.on("movestart",v=>{var E=v.originalEvent&&v.originalEvent.type==="resize";v.geolocateSource||this._watchState!=="ACTIVE_LOCK"||E||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})},this.options=a.extend({},Mv,l)}onAdd(l){return this._map=l,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),uo().then(p=>this._setupUI(p)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,La=0,wd=!1}_isOutOfMapMaxBounds(v){var p=this._map.getMaxBounds(),v=v.coords;return p&&(v.longitude<p.getWest()||v.longitude>p.getEast()||v.latitude<p.getSouth()||v.latitude>p.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState "+this._watchState)}}_updateCircleRadius(){var l=this._map.getBounds(),p=l.getSouthEast(),l=l.getNorthEast(),p=p.distanceTo(l),l=this._map._container.clientHeight,p=Math.ceil(this._accuracy/(p/l)*2);this._circleElement.style.width=p+"px",this._circleElement.style.height=p+"px"}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":La--,wd=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error("Unexpected watchState "+this._watchState)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState "+this._watchState)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),La++;let l;wd=1<La?(l={maximumAge:6e5,timeout:0},!0):(l=this.options.positionOptions,!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,l)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}const bu={maxWidth:100,unit:"metric"};function up(_,l,p){var v=p&&p.maxWidth||100,E=_._container.clientHeight/2,I=_.unproject([0,E]),E=_.unproject([v,E]),I=I.distanceTo(E);p&&p.unit==="imperial"?5280<(E=3.2808*I)?jc(l,v,E/5280,_._getUIString("ScaleControl.Miles")):jc(l,v,E,_._getUIString("ScaleControl.Feet")):p&&p.unit==="nautical"?jc(l,v,I/1852,_._getUIString("ScaleControl.NauticalMiles")):1e3<=I?jc(l,v,I/1e3,_._getUIString("ScaleControl.Kilometers")):jc(l,v,I,_._getUIString("ScaleControl.Meters"))}function jc(_,l,p,v){var E=(function(I){var R=Math.pow(10,(""+Math.floor(I)).length-1);return I/=R,I=10<=I?10:5<=I?5:3<=I?3:2<=I?2:1<=I?1:(function(j){var G=Math.pow(10,Math.ceil(-Math.log(j)/Math.LN10));return Math.round(j*G)/G})(I),R*I})(p);_.style.width=l*(E/p)+"px",_.innerHTML=E+"&nbsp;"+v}class uh extends a.Evented{constructor(l={}){super(),this._onFullscreenChange=()=>{var p;let v=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;(p=v?.shadowRoot)!=null&&p.fullscreenElement;)v=v.shadowRoot.fullscreenElement;v===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,l&&l.container&&(l.container instanceof HTMLElement?this._container=l.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(l){return this._map=l,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){y.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){var l=this._fullscreenButton=y.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);y.create("span","maplibregl-ctrl-icon",l).setAttribute("aria-hidden","true"),l.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){var l=this._getTitle();this._fullscreenButton.setAttribute("aria-label",l),this._fullscreenButton.title=l}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.Event("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.Event("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}}const Vg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Gg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");class LA extends a.Evented{constructor(l){super(),this.remove=()=>(this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.Event("close"))),this),this._onMouseUp=p=>{this._update(p.point)},this._onMouseMove=p=>{this._update(p.point)},this._onDrag=p=>{this._update(p.point)},this._update=p=>{var v=this._lngLat||this._trackPointer;if(this._map&&v&&this._content){if(!this._container){if(this._container=y.create("div","maplibregl-popup",this._map.getContainer()),this._tip=y.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const R of this.options.className.split(" "))this._container.classList.add(R);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer?this._lngLat=_u(this._lngLat,this._flatPos,this._map.transform):this._lngLat=(v=this._lngLat)==null?void 0:v.wrap(),!this._trackPointer||p){v=this._flatPos=this._pos=this._trackPointer&&p?p:this._map.project(this._lngLat),this._map.terrain&&(this._flatPos=this._trackPointer&&p?p:this._map.transform.locationPoint(this._lngLat));let R=this.options.anchor;if(p=O(this.options.offset),!R){var E=this._container.offsetWidth,I=this._container.offsetHeight;let G;G=v.y+p.bottom.y<I?["top"]:v.y>this._map.transform.height-I?["bottom"]:[],v.x<E/2?G.push("left"):v.x>this._map.transform.width-E/2&&G.push("right"),R=G.length===0?"bottom":G.join("-")}let j=v.add(p[R]);this.options.subpixelPositioning||(j=j.round()),y.setTransform(this._container,`${MA[R]} translate(${j.x}px,${j.y}px)`),fm(this._container,R,"popup")}}},this._onClose=()=>{this.remove()},this.options=a.extend(Object.create(Vg),l)}addTo(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.LngLat.convert(l),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(l){return this.setDOMContent(document.createTextNode(l))}setHTML(l){var p,v=document.createDocumentFragment(),E=document.createElement("body");for(E.innerHTML=l;p=E.firstChild;)v.appendChild(p);return this.setDOMContent(v)}getMaxWidth(){var l;return(l=this._container)==null?void 0:l.style.maxWidth}setMaxWidth(l){return this.options.maxWidth=l,this._update(),this}setDOMContent(l){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=y.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(l),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(l){this._container&&this._container.classList.add(l)}removeClassName(l){this._container&&this._container.classList.remove(l)}setOffset(l){return this.options.offset=l,this._update(),this}toggleClassName(l){if(this._container)return this._container.classList.toggle(l)}setSubpixelPositioning(l){this.options.subpixelPositioning=l}_createCloseButton(){this.options.closeButton&&(this._closeButton=y.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){var l;this.options.focusAfterOpen&&this._container&&(l=this._container.querySelector(Gg))&&l.focus()}}function O(_){var l;return _?typeof _=="number"?(l=Math.round(Math.abs(_)/Math.SQRT2),{center:new a.Point(0,0),top:new a.Point(0,_),"top-left":new a.Point(l,l),"top-right":new a.Point(-l,l),bottom:new a.Point(0,-_),"bottom-left":new a.Point(l,-l),"bottom-right":new a.Point(-l,-l),left:new a.Point(_,0),right:new a.Point(-_,0)}):_ instanceof a.Point||Array.isArray(_)?{center:l=a.Point.convert(_),top:l,"top-left":l,"top-right":l,bottom:l,"bottom-left":l,"bottom-right":l,left:l,right:l}:{center:a.Point.convert(_.center||[0,0]),top:a.Point.convert(_.top||[0,0]),"top-left":a.Point.convert(_["top-left"]||[0,0]),"top-right":a.Point.convert(_["top-right"]||[0,0]),bottom:a.Point.convert(_.bottom||[0,0]),"bottom-left":a.Point.convert(_["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(_["bottom-right"]||[0,0]),left:a.Point.convert(_.left||[0,0]),right:a.Point.convert(_.right||[0,0])}:O(new a.Point(0,0))}const F=s;i.AJAXError=a.AJAXError,i.Evented=a.Evented,i.LngLat=a.LngLat,i.MercatorCoordinate=a.MercatorCoordinate,i.Point=a.Point,i.addProtocol=a.addProtocol,i.config=a.config,i.removeProtocol=a.removeProtocol,i.AttributionControl=PA,i.BoxZoomHandler=ap,i.CanvasSource=Kt,i.CooperativeGesturesHandler=$h,i.DoubleClickZoomHandler=ls,i.DragPanHandler=ic,i.DragRotateHandler=ac,i.EdgeInsets=al,i.FullscreenControl=uh,i.GeoJSONSource=be,i.GeolocateControl=yf,i.Hash=Ni,i.ImageSource=Ke,i.KeyboardHandler=Di,i.LngLatBounds=oe,i.LogoControl=yu,i.Map=Dn,i.MapMouseEvent=gs,i.MapTouchEvent=Uc,i.MapWheelEvent=BA,i.Marker=cp,i.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{var p=this._map.getZoom(),l=p===this._map.getMaxZoom(),p=p===this._map.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{var l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=l},this._setButtonTitle=(l,p)=>{p=this._map._getUIString("NavigationControl."+p),l.title=p,l.setAttribute("aria-label",p)},this.options=a.extend({},OA,_),this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",l=>this._map.zoomIn({},{originalEvent:l})),y.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",l=>this._map.zoomOut({},{originalEvent:l})),y.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",l=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:l}):this._map.resetNorth({},{originalEvent:l})}),this._compassIcon=y.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gf(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,l){return _=y.create("button",_,this._container),_.type="button",_.addEventListener("click",l),_}},i.Popup=LA,i.RasterDEMTileSource=Ue,i.RasterTileSource=re,i.ScaleControl=class{constructor(_){this._onMove=()=>{up(this._map,this._container,this.options)},this.setUnit=l=>{this.options.unit=l,up(this._map,this._container,this.options)},this.options=a.extend({},bu,_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},i.ScrollZoomHandler=ss,i.Style=Cc,i.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=y.create("button","maplibregl-ctrl-terrain",this._container),y.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){y.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},i.TwoFingersTouchPitchHandler=_d,i.TwoFingersTouchRotateHandler=Tl,i.TwoFingersTouchZoomHandler=Gh,i.TwoFingersTouchZoomRotateHandler=ff,i.VectorTileSource=J,i.VideoSource=_t,i.addSourceType=(_,l)=>a.__awaiter(void 0,void 0,void 0,function*(){if(ur(_))throw new Error(`A source type called "${_}" already exists.`);var p,v;p=_,v=l,Gt[p]=v}),i.clearPrewarmedResources=function(){var _=ne;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Oe),ne=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i.getMaxParallelImageRequests=function(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},i.getRTLTextPluginStatus=function(){return Jt().getRTLTextPluginStatus()},i.getVersion=function(){return F},i.getWorkerCount=function(){return ze.workerCount},i.getWorkerUrl=function(){return a.config.WORKER_URL},i.importScriptInWorkers=function(_){return qe().broadcast("IS",_)},i.prewarm=function(){ae().acquire(Oe)},i.setMaxParallelImageRequests=function(_){a.config.MAX_PARALLEL_IMAGE_REQUESTS=_},i.setRTLTextPlugin=function(_,l){return Jt().setRTLTextPlugin(_,l)},i.setWorkerCount=function(_){ze.workerCount=_},i.setWorkerUrl=function(_){a.config.WORKER_URL=_}}),e},iV.exports=r()})(),iV.exports),Oh=Bv(O4e);function M4e(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var no,aV={exports:{}},L4e={},R4e=Object.freeze({__proto__:null,default:L4e}),D4e=P4e(R4e),U4e=((function(r){for(var e,t,n=0,i=[],a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1);function o(){c=16,(!e||s.BUFFER_SIZE<n+c)&&(n=0,e=s.randomBytes(s.BUFFER_SIZE));var c=e.slice(n,n+=c);return c[6]=15&c[6]|64,c[8]=63&c[8]|128,c}function s(){var c=o();return i[c[0]]+i[c[1]]+i[c[2]]+i[c[3]]+"-"+i[c[4]]+i[c[5]]+"-"+i[c[6]]+i[c[7]]+"-"+i[c[8]]+i[c[9]]+"-"+i[c[10]]+i[c[11]]+i[c[12]]+i[c[13]]+i[c[14]]+i[c[15]]}s.BUFFER_SIZE=4096,s.bin=o,s.clearBuffer=function(){e=null,n=0},s.test=function(c){return typeof c=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(c)},typeof crypto<"u"?t=crypto:typeof window<"u"&&window.msCrypto!==void 0&&(t=window.msCrypto),typeof M4e=="function"?(t=t||D4e,r.exports=s):typeof window<"u"&&(window.uuid=s),s.randomBytes=(function(){if(t){if(t.randomBytes)return t.randomBytes;if(t.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(c){return c=new Uint8Array(c),t.getRandomValues(c),Array.from(c)}:function(c){return c=new Uint8Array(c),t.getRandomValues(c),c}}return function(c){for(var A=[],f=0;f<c;f++)A.push(Math.floor(256*Math.random()));return A}})()})(aV),aV.exports),k_=Bv(U4e),Gf={domain:"atlas.microsoft.com",staticAssetsDomain:"atlas.microsoft.com",stylePath:"styling",styleDefinitionsVersion:"2023-01-01",appInsightsKey:"e96cb745-c6f5-409c-a775-c4313e468c1d",aadInstance:"https://login.microsoftonline.com/"},Yn={apiVersionQueryParameter:"api-version",authorizationHeaderName:"Authorization",authorizationTokenPrefix:"Bearer ",jwtSasPrefix:"jwt-sas ",domainPlaceHolder:"{{azMapsDomain}}",legacyDomainPlaceHolder:"{azMapsDomain}",viewPlaceHolder:"{{azMapsView}}",viewParameter:"view",languagePlaceHolder:"{{azMapsLanguage}}",stylePathHolder:"{{azMapsStylingPath}}",styleResourcePlaceholder:"{{azMapsStylePath}}",stylePath:"styling",styleResourcePath:"styles",styleApiVersion:"2.0",mapAgentHeaderName:"Map-Agent",msClientIdHeaderName:"x-ms-client-id",msOriginHeaderName:"Ms-Am-Request-Origin",msOriginHeaderValue:"MapControl",aadResourceId:"https://atlas.microsoft.com/.default",sessionIdHeaderName:"Session-Id"},F4e=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ao=(function(){function r(){}return r.prototype.merge=function(){for(var e,t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];try{for(var o=F4e(i),s=o.next();!s.done;s=o.next()){var c=s.value;if(c)for(var A in c)c.hasOwnProperty(A)&&this.hasOwnProperty(A)&&(c[A]!==void 0&&c[A]!=null?this[A]instanceof r?this[A].merge(c[A]):this[A]=c[A]:(n=n||new(Object.getPrototypeOf(this)).constructor,this[A]=n[A]))}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return this},r})(),j4e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Q4e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},H4e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.domain=void 0,t.headers={},t.path="",t.protocol="https",t.queryParams={},t.subdomain="",t}return j4e(e,r),e})(ao),Kp=(function(){function r(e){this.options=new H4e().merge(e)}return r.prototype.get=function(){return fetch(this.toString(),{method:"GET",mode:"cors",headers:new Headers(this.options.headers)}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText))})},r.prototype.toString=function(){var e=Object.entries(this.options.queryParams).map(function(o){var o=Q4e(o,2),a=o[0],o=o[1];return"".concat(a,"=").concat(o)}).join("&"),t=[],n=this.options.path||"";return r.protoRegEx.test(n)?t.push(n):(this.options.domain&&(r.protoRegEx.test(this.options.domain)||(t.push("".concat(this.options.protocol,"://")),t.push(this.options.subdomain?"".concat(this.options.subdomain,"."):"")),t.push(this.options.domain)),t.push(this.options.path?"/".concat(n):"")),t.push(e?"?".concat(e):""),t.join("")},r.protoRegEx=new RegExp(/^(((file|http|https):\/\/)|blob:)/i),r})(),oV=(function(){function r(){}return r.parse=function(e){var t=(e=e.toLowerCase()).lastIndexOf("-");return t!==-1?{code:e,language:e.substring(0,t),region:e.substring(t+1)}:{code:e,language:e}},r})(),yy={localizationsPath:"locs/mapcontrol/2019-3-12",sensitiveUserRegions:["il","kr","pk","in","cn","ar","bh","eg","jo","sa","kw","om","qa","ma","ae"],locales:{defaultLanguage:{defaultRegion:{code:"NGT",strings:"en/resource.json"},latn:{code:"NGT-Latn",strings:"en/resource.json"}},ar:{defaultRegion:{code:"ar",strings:"ar-sa/resource.json"}},bg:{defaultRegion:{code:"bg-BG",strings:"bg-bg/resource.json"}},cs:{defaultRegion:{code:"cs-CZ",strings:"cs-cz/resource.json"}},da:{defaultRegion:{code:"da-DK",strings:"da-dk/resource.json"}},de:{defaultRegion:{code:"de-DE",strings:"de-de/resource.json"}},el:{defaultRegion:{code:"el-GR",strings:"el-gr/resource.json"}},en:{defaultRegion:{code:"en",strings:"en/resource.json"},us:{code:"en-US",strings:"en/resource.json"},au:{code:"en-AU",strings:"en/resource.json"},gb:{code:"en-GB",strings:"en/resource.json"},nz:{code:"en-NZ",strings:"en/resource.json"}},es:{defaultRegion:{code:"es-ES",strings:"es-es/resource.json"},mx:{code:"es-MX",strings:"es-mx/resource.json"}},fi:{defaultRegion:{code:"fi-FI",strings:"fi-fi/resource.json"}},fr:{defaultRegion:{code:"fr-FR",strings:"fr-fr/resource.json"}},hu:{defaultRegion:{code:"hu-HU",strings:"hu-hu/resource.json"}},id:{defaultRegion:{code:"id-ID",strings:"id-id/resource.json"}},it:{defaultRegion:{code:"it-IT",strings:"it-it/resource.json"}},ko:{defaultRegion:{code:"ko-KR",strings:"ko-kr/resource.json"}},lt:{defaultRegion:{code:"lt-LT",strings:"lt-lt/resource.json"}},ms:{defaultRegion:{code:"ms-MY",strings:"ms-my/resource.json"}},nb:{defaultRegion:{code:"nb-NO",strings:"nb-no/resource.json"}},nl:{defaultRegion:{code:"nl-NL",strings:"nl-nl/resource.json"}},pl:{defaultRegion:{code:"pl-PL",strings:"pl-pl/resource.json"}},pt:{defaultRegion:{code:"pt-PT",strings:"pt-pt/resource.json"},br:{code:"pt-BR",strings:"pt-br/resource.json"}},ru:{defaultRegion:{code:"ru-RU",strings:"ru-ru/resource.json"}},sk:{defaultRegion:{code:"sk-SK",strings:"sk-sk/resource.json"}},sl:{defaultRegion:{code:"sl-SL",strings:"sl-sl/resource.json"}},sv:{defaultRegion:{code:"sv-SE",strings:"sv-se/resource.json"}},th:{defaultRegion:{code:"th-TH",strings:"th-th/resource.json"}},tr:{defaultRegion:{code:"tr-TR",strings:"tr-tr/resource.json"}},zh:{defaultRegion:{code:"zh",strings:"en/resource.json"}},"zh-hans":{defaultRegion:{code:"zh-Hans",strings:"zh-cn/resource.json"},cn:{code:"zh-Hans-CN",strings:"zh-cn/resource.json"}},"zh-hant":{defaultRegion:{code:"zh-Hant",strings:"en/resource.json"},tw:{code:"zh-Hant-TW",strings:"zh-tw/resource.json"}}}},sV=function(){this.Unknown="Unknown",this.Accident="Accident",this.Fog="Fog",this.Danger="Danger",this.Rain="Rain",this.Ice="Ice",this.Jam="Jam",this.LaneClosed="Lane Closed",this.RoadClosed="Road Closed",this.RoadWorks="Road Works",this.Wind="Wind",this.Flood="Flood",this.Detour="Detour"},DN=(function(){function r(){}return r.getCode=function(e){e.localeCompare("auto",void 0,{sensitivity:"base"})===0&&(e=navigator.language);var t=oV.parse(e);return yy.sensitiveUserRegions.indexOf(t.region)===-1?this.getLocaleData(t).code:e},r.getStrings=function(e){return e=this.getLocaleData(e),yy.locales.defaultLanguage.defaultRegion.code===e.code?new Promise(function(t){t(new sV)}):new Kp({domain:Gf.staticAssetsDomain,path:"".concat(yy.localizationsPath,"/").concat(e.strings)}).get().then(function(t){return t},function(){return new sV})},r.getLocaleData=function(e){if(typeof e=="string"&&(e=oV.parse(e)),yy.locales[e.code])return yy.locales[e.code].defaultRegion;var t;if(yy.locales[e.language])t=yy.locales[e.language];else{if(e.language.indexOf("-")!==-1)return this.getLocaleData(e.language);t=yy.locales.defaultLanguage}return e.region&&t[e.region]?t[e.region]:t.defaultRegion},r})(),z4e=(function(){function r(){}return r.getEdgeOrIEVersion=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return 0<t?parseInt(e.substring(t+5,e.indexOf(".",t)),10):0<e.indexOf("Trident/")?(t=e.indexOf("rv:"),parseInt(e.substring(t+3,e.indexOf(".",t)),10)):0<(t=e.indexOf("Edge/"))?parseInt(e.substring(t+5,e.indexOf(".",t)),10):-1},r.isEdgeOrIE=function(){return this.getEdgeOrIEVersion()!==-1},r.isIE=function(){var e=this.getEdgeOrIEVersion();return e!==-1&&e<=11},r})(),Qy="3.6.1",JO=(function(){function r(){}return r.getFullVersion=function(){return Qy},r.getEndpointVersion=function(){var e=Qy.indexOf(".");return(e=Qy.indexOf(".",e+1))===-1?Qy:Qy.substring(0,e)},r})(),q4e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),K4e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},V4e=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},yre=((function(r){r.subscriptionKey="subscriptionKey",r.aad="aad",r.anonymous="anonymous",r.sas="sas"})(no=no||{}),(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.authType=void 0,t.subscriptionKey=void 0,t.clientId=void 0,t.aadAppId=void 0,t.aadTenant=void 0,t.aadInstance=void 0,t.getToken=void 0,t.sasToken=void 0,t.authContext=void 0,t}return q4e(e,r),e.prototype.setSubscriptionKey=function(t){this.authType=no.subscriptionKey,this.subscriptionKey=t},e.prototype.setAadProperties=function(t,n,i,a,o){this.authType=no.aad,this.authContext=o||this.authContext,this.aadInstance=a||this.aadInstance,this.clientId=t,this.aadAppId=n,this.aadTenant=i},e.prototype.setTokenCallbackFunction=function(t){this.authType=no.anonymous,this.getToken=t},e.prototype.setSasCallbackFunction=function(t){this.authType=no.sas,this.getToken=t},e.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=r.prototype.merge.apply(this,V4e([],K4e(t),!1));return i.authType===no.subscriptionKey?i.authContext=i.aadAppId=i.getToken=void 0:i.authType===no.aad?i.subscriptionKey=i.getToken=void 0:i.authType===no.anonymous?i.subscriptionKey=i.authContext=i.aadAppId=void 0:i.authType===no.sas&&(i.authContext=i.subscriptionKey=i.aadAppId=void 0),i},e})(ao)),jU=Qj;function Qj(r){return!G4e(r)}function G4e(r){return $4e()?Y4e()?W4e()?Z4e()?X4e()?J4e()?eLe()?tLe()?rLe()?nLe(r&&r.failIfMajorPerformanceCaveat)?oLe()?void 0:"insufficient ECMAScript 6 support":"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser"}function $4e(){return typeof window<"u"&&typeof document<"u"}function Y4e(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function W4e(){return Function.prototype&&Function.prototype.bind}function Z4e(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function X4e(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function J4e(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var r,e,t=new Blob([""],{type:"text/javascript"}),t=URL.createObjectURL(t);try{e=new Worker(t),r=!0}catch{r=!1}return e&&e.terminate(),URL.revokeObjectURL(t),r}function eLe(){return"Uint8ClampedArray"in window}function tLe(){return ArrayBuffer.isView}function rLe(){var r=document.createElement("canvas"),e=(r.width=r.height=1,r.getContext("2d"));return!!e&&(e=e.getImageData(0,0,1,1))&&e.width===r.width}var eM,gR={};function nLe(r){return gR[r]===void 0&&(gR[r]=aLe(r)),gR[r]}function iLe(r){var e=document.createElement("canvas"),t=Object.create(Qj.webGLContextAttributes);return t.failIfMajorPerformanceCaveat=r,e.getContext("webgl",t)||e.getContext("experimental-webgl",t)}function aLe(t){var e,t=iLe(t);if(!t)return!1;try{e=t.createShader(t.VERTEX_SHADER)}catch{return!1}return!(!e||t.isContextLost())&&(t.shaderSource(e,"void main() {}"),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)===!0)}function oLe(){return!document.documentMode}Qj.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var vre="NGT",_re=k_(),bre=Gf.domain,sLe=Gf.staticAssetsDomain,wre=Gf.stylePath,xre=Gf.styleDefinitionsVersion,Cre=Yn.styleApiVersion,Sw=new yre,Hj=!1,Ere=!1,Sre=!1,Tre=!1,Bre=!1,Ire=!1,kre=!1,Nre=!1,zj=!1;function Pre(){return Object.assign({},Sw)}function Ore(){return sLe}function qj(){return bre}function Mre(){return wre}function Lre(){return xre}function Rre(){return Cre}function Dre(){return Oh.getWorkerCount()}function Ure(){return Oh.getMaxParallelImageRequests()}function Fre(){return vre}function jre(){return _re}function Qre(){return Sw.authType===no.subscriptionKey?Sw.subscriptionKey:void 0}function lLe(){return eM}function Hre(){return eM}function cLe(){return JO.getFullVersion()}function uLe(r){var e=!z4e.isIE();return e=e&&jU({failIfMajorPerformanceCaveat:r})&&document.createElement("canvas").getContext("webgl2")!==null}function zre(r){Sw=new yre().merge(Sw,r),zj=!0}function qre(r){bre=r,Ere=!0}function Kre(r){wre=r,Sre=!0}function hLe(r){xre=r,Tre=!0}function ALe(r){Cre=r}function Vre(r){0<r&&(Oh.setWorkerCount(r),Bre=!0)}function Gre(r){0<r&&(Oh.setMaxParallelImageRequests(r),Ire=!0)}function $re(r){vre=DN.getCode(r),kre=!0}function Yre(r){_re=r,Nre=!0}function Wre(r){Sw.setSubscriptionKey(r),zj=!0}function Zre(r){eM=r,Hj=!0}function dLe(r){eM=r,Hj=!0}function fLe(r,e,t){!t&&iS[r.toLowerCase()]||(iS[r.toLowerCase()]=e)}function Xre(r,e){if(e=Math.abs(e||1),typeof r=="string"&&iS[r.toLowerCase()]){for(var t=iS[r.toLowerCase()],n=/calc\(([0-9.]+)[px]*\s*\*\s*\{scale\}\)/gi,i=t,a=n.exec(t);a;)i=i.replace(a[0],parseFloat(a[1])*e+""),a=n.exec(t);return i=i.replace("{scale}",e+"")}throw new Error("Invalid templateName.")}function pLe(){return Object.keys(iS)}function mLe(){Oh.prewarm()}function gLe(){Oh.clearPrewarmedResources()}function yLe(r,e){Oh.addProtocol(r,e)}function vLe(r){Oh.removeProtocol(r)}function QU(){return zj}function Jre(){return Ere}function ene(){return Sre}function _Le(){return Tre}function tne(){return Bre}function rne(){return Ire}function nne(){return kre}function ine(){return Nre}function ane(){return Hj}function bLe(){return Gf.domain}function wLe(){return qj()}function lV(){var r=new Kp({domain:Gf.staticAssetsDomain,path:"sdk/javascript/mapcontrol/".concat(JO.getEndpointVersion(),"/mapbox-gl-rtl-text.min.js")});Oh.setRTLTextPlugin(r.toString(),!0).catch(function(e){e&&console.warn(e)})}var kh,vc,iS={marker:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 26 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:1"/><text x="12.5" y="17.5" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 27 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:2"/><text x="12.5" y="18.5" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-circle":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(39 * {scale})" viewBox="-1 -1 27 38"><path d="M12.25.25a12.254 12.254 0 0 0-12 12.494c0 6.444 6.488 12.109 11.059 22.564.549 1.256 1.333 1.256 1.882 0C17.762 24.853 24.25 19.186 24.25 12.744A12.254 12.254 0 0 0 12.25.25Z" style="fill:{color};stroke:{secondaryColor};stroke-width:1"/><circle cx="12.5" cy="12.5" r="9" fill="{secondaryColor}"/><text x="12" y="17.5" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',pin:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(24 * {scale})" height="calc(28 * {scale})" viewBox="0 0 24 28"><path d="m11.988 16.615a5.15 5.15 0 0 1-2.268-.525 4.909 4.909 0 0 1-2.805-4.442 5.019 5.019 0 0 1 5.072-4.936h.012a5.03 5.03 0 0 1 5.085 4.961 4.907 4.907 0 0 1-.549 2.224 5.114 5.114 0 0 1-4.548 2.718zm0-8.06a3.173 3.173 0 0 0-3.226 3.099 3.081 3.081 0 0 0 1.77 2.782 3.299 3.299 0 0 0 4.365-1.386 3.049 3.049 0 0 0 .342-1.381 3.184 3.184 0 0 0-3.239-3.114h-.012z" fill="{secondaryColor}"/><path d="m11.999.922a10.908 10.908 0 0 0-11.076 10.732 10.639 10.639 0 0 0 4.418 8.598l6.658 6.464 6.658-6.463a10.537 10.537 0 0 0 2.198-15.041 11.182 11.182 0 0 0-8.856-4.289zm1.873 14.341a4.221 4.221 0 0 1-5.589-1.789 3.945 3.945 0 0 1-.445-1.8 4.164 4.164 0 0 1 8.323-.037 4.028 4.028 0 0 1-2.289 3.626Z" fill="{color}"/><path d="m11.999 28-7.256-7.044a11.611 11.611 0 0 1-4.743-9.303 11.844 11.844 0 0 1 11.988-11.652.102 .102 0 0 1 .02 0 12.164 12.164 0 0 1 9.577 4.647 11.357 11.357 0 0 1 2.299 8.614 11.521 11.521 0 0 1-4.63 7.695zm-.01-26.157a9.997 9.997 0 0 0-10.143 9.812 9.769 9.769 0 0 0 4.04 7.853l.099.083 6.014 5.838 6.113-5.922a9.7 9.7 0 0 0 3.945-6.505 9.533 9.533 0 0 0-1.933-7.229 10.305 10.305 0 0 0-8.116-3.931h-.021zm.021 14.772a5.11 5.11 0 0 1-4.547-2.718 4.868 4.868 0 0 1 .932-5.743 5.118 5.118 0 0 1 3.58-1.46h.024a5.031 5.031 0 0 1 5.084 4.938 4.92 4.92 0 0 1-2.805 4.457h0a5.152 5.152 0 0 1-2.269.525zm-.011-8.079h-.015a3.277 3.277 0 0 0-2.295.933 3.029 3.029 0 0 0-.587 3.58 3.297 3.297 0 0 0 4.364 1.386h0a3.092 3.092 0 0 0 1.772-2.795 3.185 3.185 0 0 0-3.239-3.105z" fill="{secondaryColor}"/><text x="12" y="17" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',"pin-round":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(25 * {scale})" height="calc(25 * {scale})" viewBox="0 0 25 25"><g transform="translate(0 1)"><circle cx="12.25" cy="11.5833" r="11" fill="{color}"/><path d="m12.25 23.583a12 12 0 1 1 12-12 12 12 0 0 1-12 12zm0-22a10 10 0 1 0 10 10 10 10 0 0 0-10-10z" fill="{secondaryColor}"/><circle cx="12.25" cy="11.5833" r="4.2386" fill="{secondaryColor}"/></g><text x="12.5" y="17" style="font-size:14px;fill:#000;text-anchor:middle">{text}</text></svg>',"marker-flat":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(42.8 * {scale})"  viewBox="0 0 1600 2570"><g fill="{color}"><path d="M691 2419c-409-575-641-1086-683-1504-10-106-10-136 5-224 31-188 105-330 241-458 129-124 270-190 453-214 69-9 113-10 182-1 373 46 655 326 703 698 40 308-120 801-424 1309-134 224-348 535-369 535-4 0-53-63-108-141z"/></g><g fill="rgba(0,0,0,0.15)" style="transform:scale(-1,1);transform-origin:center"><path d="M691 2419c-407-571-639-1083-682-1498-14-139-3-249 37-371 69-208 254-402 459-481 68-27 217-59 271-59h24v160 180 940 635c0 349-2 635-5 635-2 0-49-63-104-141z"/></g><circle cx="800" cy="800" r="600" fill="{secondaryColor}"/><text x="800" y="1100" style="font-size:800px;fill:#000;text-anchor:middle">{text}</text></svg>',"marker-arrow":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(25.47 * {scale})" height="calc(35.18 * {scale})" viewBox="0 0 4330 5980"><g fill="{color}"><path d="m2080 5969c-49-20-93-63-115-113-25-55-1928-5486-1953-5573-40-138 67-282 210-283 36 0 246 73 987 345 518 190 947 345 955 345 8 0 438-155 955-345 615-226 954-345 979-345 87 0 165 47 204 123 46 91 107-95-957 2942-537 1535-986 2805-997 2823-11 18-43 46-72 62-41 24-62 30-111 29-33 0-71-5-85-10z"/></g><g fill="{secondaryColor}"><path d="m2200 1600c-36 10-83 2-484-84-243-53-451-94-461-91-11 4-22 18-25 31-5 19 114 371 436 1292 244 697 448 1273 454 1281 19 24 50 30 71 12z"/><path d="m2200 1600c-36 10-83 2-484-84-243-53-451-94-461-91-11 4-22 18-25 31-5 19 114 371 436 1292 244 697 448 1273 454 1281 19 24 50 30 71 12z" style="transform:scale(-1,1);transform-origin:center"/></g><g fill="rgba(0,0,0,0.2)" ><path d="m2165 685c8 0 438-155 955-345 615-226 954-345 979-345 87 0 165 47 204 123 46 91 107-95-957 2942-537 1535-986 2805-997 2823-11 18-43 46-72 62-41 24-62 30-111 29z"/></g><text x="2165" y="3300" style="font-size:2500px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-ball-pin":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15.67 * {scale})" height="calc(33.33 * {scale})" viewBox="0 0 235 452"><g transform="translate(-135 10)"><path fill="{secondaryColor}" d="m256 442 0 0c-13 0-18-11-18-24l-6-323c0-13 11-24 24-24h0c13 0 24 11 24 24l-6 323c0 13-5 24-18 24z"/><circle style="fill:{color};stroke-width:10;stroke:{secondaryColor}" cx="256" cy="112" r="111"/><ellipse transform="matrix(0.834 0.5518 -0.5518 0.834 65.7916 -97.18)" fill="rgba(255,255,255,0.3)" cx="194.399" cy="60.749" rx="19.076" ry="32.428"/></g><text x="117.5" y="160" style="font-size:160px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(26.67 * {scale})" height="calc(32.27 * {scale})" viewBox="0 0 2000 2420"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="M845 2152c-22-37-58-95-80-129-22-35-62-99-90-143l-50-80-312 0-313 0 0-900 0-900 900 0 900 0 0 900 0 900-313 0-313 0-34 58c-19 31-38 59-42 60-5 2-8 8-8 12 0 9-69 123-88 145-5 6-11 15-13 21-16 39-77 123-89 124-8 0-33-31-55-68z"/></g><text x="1000" y="1300" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-cluster":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(33.33 * {scale})" height="calc(38.8 * {scale})" viewBox="0 0 2500 2910"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="m866 2652c-17-31-37-68-46-82-9-14-32-54-51-90-19-36-50-92-70-125l-36-60-332-3-331-2 0-905 0-905 660 0 660 0 0-38c0-71 50-196 102-258 71-85 189-164 244-164 12 0 26-4 29-10 8-13 222-13 230 0 3 6 17 10 30 10 25 0 117 45 154 76 130 107 191 232 191 392 0 155-63 284-190 386-36 29-129 76-150 76-11 0-22 5-25 10-3 6-31 10-61 10l-54 0 0 660 0 660-332 2-332 3-29 50c-17 28-48 84-70 125-22 41-47 86-56 100-9 14-30 51-46 83-17 32-36 57-45 57-8 0-28-25-44-58z"/></g><text x="1650" y="900" style="font-size:1000px;fill:#fff">+</text><text x="1000" y="1800" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-rounded":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(26.8 * {scale})" height="calc(32.27 * {scale})" viewBox="0 0 2010 2410"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="M856 2155c-20-30-36-59-36-65 0-5-4-10-10-10-5 0-10-5-10-11 0-5-18-37-40-69-22-32-40-64-40-69 0-6-4-11-10-11-5 0-10-5-10-10 0-6-15-33-32-60l-33-50-127 0c-74 0-129-4-133-10-3-5-17-10-30-10-25 0-116-45-155-76-87-69-142-151-178-265-15-46-17-1075-2-1084 5-3 10-17 10-30 0-13 5-27 10-30 6-3 10-13 10-22 0-22 83-135 122-168 57-46 62-50 112-75l50-25 585 0 586 0 63 34c84 46 169 133 212 218l35 68 0 565 0 565-28 59c-32 69-100 157-139 180-15 9-33 22-40 29-23 22-99 57-123 57-13 0-27 5-30 10-4 6-60 10-135 10l-128 0-128 205c-84 136-133 205-144 205-10 0-33-24-54-55z"/></g><text x="1000" y="1300" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',"marker-square-rounded-cluster":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(33.33 * {scale})" height="calc(32.13 * {scale})" viewBox="0 0 2500 2900"><g transform="translate(100 100)" style="stroke:{secondaryColor};stroke-width:100;fill:{color}"><path d="m874 2669c-9-18-26-49-37-68-11-20-30-55-43-78-13-24-36-64-51-90-14-27-38-69-52-95l-26-48-142 0c-84 0-144-4-148-10-3-5-17-10-30-10-25 0-118-46-154-76-91-76-136-142-175-254-13-38-16-119-16-554 0-358 3-520 12-545 40-125 106-219 195-278 127-84 116-83 646-83l467 0 0-42c0-46 11-87 45-163 54-121 169-220 306-264 46-14 232-14 278 0 165 53 284 175 340 350 19 61 14 204-10 273-32 91-94 178-169 240-38 31-130 76-155 76-13 0-27 5-30 10-3 6-28 10-56 10l-49 0 0 462c0 446-1 464-21 522-32 91-94 178-169 240-38 31-130 76-155 76-13 0-27 5-30 10-4 6-65 10-149 10-138 0-143 1-154 23-12 23-62 114-112 202-16 28-44 79-63 115-42 77-67 88-93 39z"/></g><text x="1650" y="900" style="font-size:1000px;fill:#fff">+</text><text x="1000" y="1800" style="font-size:1000px;fill:#fff;text-anchor:middle">{text}</text></svg>',flag:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(23.5 * {scale})" height="calc(40 * {scale})" viewBox="34 28 198 308"><path style="stroke:{secondaryColor};stroke-width:15;stroke-linecap:round;" d="M42 327l0 -291"/><path style="fill:{color};stroke:{secondaryColor};stroke-width:10;stroke-linejoin:round;" d="M49 50c70 30 104 28 178 2-21 42-21 74 0 116-72 25-101 25-178 0l0-118z"/><text x="130" y="165" style="font-size:100px;fill:#fff;text-anchor:middle">{text}</text></svg>',"flag-triangle":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(27 * {scale})" height="calc(35.33 * {scale})" viewBox="0 0 40.5 53"><g transform="translate(-31 -20)"><path fill="{secondaryColor}" d="M34.7,73.3V48.4l34.6-10.1c0.7-0.2,1.2-0.8,1.2-1.5s-0.4-1.4-1-1.7L33.7,20.5c-0.5-0.2-1.1-0.2-1.6,0.2 c-0.5,0.3-0.7,0.8-0.7,1.4v51.2H34.7z"/><polygon points="34.7,24.5 66,36.5 34.7,45 34.7,10" fill="{color}"/></g><text x="11" y="21" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"rounded-square":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(34 * {scale})" height="calc(34 * {scale})" viewBox="0 0 34 34"><g transform="translate(2 2)"><rect x="0" y="0" rx="8" ry="8" width="30" height="30" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17" y="22" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"rounded-square-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(38 * {scale})" height="calc(38 * {scale})" viewBox="0 0 38 38"><g transform="translate(4 4)"><rect x="0" y="0" rx="8" ry="8" width="30" height="30" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19" y="24" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',triangle:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(36 * {scale})" height="calc(36 * {scale})" viewBox="0 0 36 36"><g transform="translate(2 2)"><polygon points="16,0 32,32 0,32 16,0" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17.5" y="30" style="font-size:12px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 40 40"><g transform="translate(4 4)"><polygon points="16,0 32,32 0,32 16,0" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19.5" y="32" style="font-size:12px;fill:#fff;text-anchor:middle">{text}</text></svg>',hexagon:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(35 * {scale})" height="calc(40 * {scale})" viewBox="0 0 35 40"><g transform="translate(2 2)"><path d="M31 9 15.5 0 0 9 0 27 15.5 36 31 27 31 9Z" style="stroke:{secondaryColor};stroke-width:2;fill:{color}"/></g><text x="17.5" y="25" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(39 * {scale})" height="calc(44 * {scale})" viewBox="0 0 39 44"><g transform="translate(4 4)"><path d="M31 9 15.5 0 0 9 0 27 15.5 36 31 27 31 9Z" style="stroke:{secondaryColor};stroke-width:4;fill:{color}"/></g><text x="19.5" y="27" style="font-size:14px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-rounded":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 1100 1100"><g transform="translate(50 50)"><path style="stroke:{secondaryColor};stroke-width:50;fill:{color}" d="M881 210 561 25c-33-19-88-19-121 0L119 210c-33 19-61 67-61 105v370c0 39 27 86 61 105l321 185c33 19 88 19 122 0l321-185c33-19 61-67 61-105V315C942 276 915 229 881 210z"/></g><text x="550" y="700" style="font-size:400px;fill:#fff;text-anchor:middle">{text}</text></svg>',"hexagon-rounded-thick":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 1200 1200"><g transform="translate(100 100)"><path style="stroke:{secondaryColor};stroke-width:100;fill:{color}" d="M881 210 561 25c-33-19-88-19-121 0L119 210c-33 19-61 67-61 105v370c0 39 27 86 61 105l321 185c33 19 88 19 122 0l321-185c33-19 61-67 61-105V315C942 276 915 229 881 210z"/></g><text x="600" y="750" style="font-size:400px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(28 * {scale})" viewBox="0 0 28 28"><g transform="translate(2 2)"><polygon points="12,0 0,24 12,17 24,24" stroke-width="2" stroke="{secondaryColor}" fill="{color}"/></g><text x="14" y="17" style="font-size:8px;fill:#fff;text-anchor:middle">{text}</text></svg>',"triangle-arrow-left":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(28 * {scale})" height="calc(28 * {scale})" viewBox="0 0 28 28"><g transform="translate(2 2)"><polygon points="24,12 0,0 7,12 0,24" stroke-width="2" stroke="{secondaryColor}" fill="{color}"/></g><text x="14" y="16.5" style="font-size:8px;fill:#fff;text-anchor:middle">{text}</text></svg>',"arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(12.16 * {scale})" height="calc(30.1 * {scale})" viewBox="0 0 902 364"><g fill="{color}" transform="matrix(0,2.4,-2.4,0,897,-930)"><polygon points="902,222 233,222 233,364 0,182 233,0 233,141 902,141 902,222"/></g><text x="450" y="700" style="font-size:900px;fill:#000;text-anchor:middle">{text}</text></svg>',"arrow-up-thin":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(33.33 * {scale})" viewBox="0 0 12 25"><g transform="translate(-136.91823 -751.91998)"><path fill="{color}" d="m148.271 760.71c-1.641-.547-3.186-1.47-4.633-2.769l0 18.07-1.675 0 0-18.07c-1.447 1.299-2.986 2.222-4.616 2.769l0-1.231c2.325-1.596 4.006-3.812 5.043-6.65l.838 0c1.037 2.838 2.718 5.055 5.043 6.65l0 1.231z"/></g><text x="6" y="20" style="font-size:10px;fill:#000;text-anchor:middle">{text}</text></svg>',car:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(21.93 * {scale})" height="calc(40.9 * {scale})" viewBox="0 0 6580 12270"><g transform="translate(0 12270) rotate(-90)"><path fill="{secondaryColor}" d="M7045 6566c-42-13-105-44-105-51 0-2 23-105 50-228 28-123 50-230 50-236 0-8-241-11-907-11-855 0-1145 6-1513 30-85 6-189 13-230 15-41 3-133 10-205 15-286 21-430 32-705 50-953 63-1459 18-2335-205-304-77-746-209-799-238-131-72-221-408-285-1062-34-345-42-532-48-1130-16-1557 108-2532 336-2649 32-17 469-149 676-205 409-110 819-191 1205-238 116-14 224-18 540-18 395 1 494 5 1140 50 1124 79 1224 82 2496 78l641-3-53-237c-29-131-52-238-51-239 1-1 31-14 66-29 56-23 76-26 142-23 67 3 83 7 120 33 23 17 50 41 61 55 10 14 51 117 91 230l73 205 674 3 675 2 90-39c98-43 198-72 315-93 122-21 829-18 990 5 321 45 626 143 849 270 293 168 516 378 704 662 266 402 416 893 467 1527 15 174 8 882-9 998-6 41-18 127-27 190-69 502-253 969-523 1325-79 105-262 284-381 374-189 142-355 229-574 300-336 110-526 139-952 148-457 9-685-23-887-124l-47-24-678-6-678-6-64 179c-79 224-92 253-121 284-67 70-177 97-274 66zm-2752-5073c-23-2-64-2-90 0-26 2-7 3 42 3 50 0 71-1 48-3zm395 0c-21-2-55-2-75 0-21 2-4 4 37 4 41 0 58-2 38-4z"/><path fill="{color}" d="M7043 6498c-13-6-23-19-23-28 0-9 23-117 50-240 28-123 50-230 50-237 0-22-2126-13-2465 10-132 10-400 28-595 42-661 47-824 55-1160 62-435 7-656-8-1040-73-415-70-865-183-1447-365-168-53-272-556-325-1569-16-319-16-1311 0-1630 45-872 129-1366 257-1518 22-26 51-39 172-77 557-177 1122-310 1563-369 271-36 351-40 690-40 361 1 463 6 1165 54 1122 78 1288 83 2337 79 460-2 840-7 843-11 4-4-17-117-47-252l-55-245 39-16c76-30 180-8 224 47 10 13 54 124 98 246l79 222 709 0 709 0 47-24c74-37 219-83 322-101 122-22 606-32 802-16 374 29 658 102 933 238 124 62 271 155 361 230l61 51 6 100c19 278 103 497 247 643 88 89 173 136 278 152l70 11 41 131c116 369 159 673 168 1170 10 584-38 984-167 1397l-40 126-70 12c-193 33-348 175-441 405-56 139-89 302-89 445 0 43-3 47-58 91-290 235-644 384-1068 450-191 29-796 39-974 16-135-18-263-54-368-102l-75-35-701 0-701 0-79 223c-82 232-102 267-163 293-38 16-138 17-170 2zm-2023-820c332-15 1155-12 1835 6 308 8 563 12 566 8 4-4 10-21 13-38 7-30 6-31-92-77-518-244-1197-396-2112-474-295-25-1282-25-1579 0-231 20-473 46-479 51-6 7 49 110 93 171 160 226 416 335 855 365 142 10 539 5 900-12zm3304-263c525-111 899-887 934-1935 19-557-37-1023-172-1435-186-563-521-900-896-899-81 0-158 14-525 92-426 91-431 92-540 146-195 96-287 207-306 368-12 104-11 2985 1 3078 22 170 135 291 365 389 49 21 191 55 480 115 226 47 419 87 430 89 45 10 164 6 229-8zm-5570-485c112-43 197-156 216-291 12-83 13-2623 1-2706-23-158-125-273-270-304-44-9-100-1-542 75-272 47-514 91-539 98-266 68-487 424-594 958-56 280-70 548-40 800 56 484 207 878 414 1081 115 114 122 116 702 218 277 49 524 90 550 90 26 1 72-8 102-19zm2111-3440c1023-44 1884-213 2462-486l113-53-7-33c-3-18-8-35-10-37-2-3-236 1-521 7-993 24-1271 26-1708 11-541-18-1128-18-1249-1-377 56-588 181-734 437-32 55-41 79-32 84 12 8 246 32 491 51 356 28 815 36 1195 20z"/></g><text x="3250" y="8250" style="font-size:3000px;fill:#fff;text-anchor:middle">{text}</text></svg>',checker:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(16 * {scale})" viewBox="0 0 16 16"><pattern id="p" x="0" y="0" width="16" height="16" patternUnits="userSpaceOnUse"><rect fill="{color}" x="0" width="8" height="8" y="0"/><rect fill="{color}" x="8" width="8" height="8" y="8"/></pattern><rect x="0" y="0" width="16" height="16" fill="{secondaryColor}"/><rect x="0" y="0" width="16" height="16" fill="url(#p)"/></svg>',"checker-rotated":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(16 * {scale})" height="calc(16 * {scale})" viewBox="0 0 60 60"><rect width="60" height="60" fill="{secondaryColor}"/><rect width="42.42" height="42.42" transform="translate(30 0) rotate(45)" fill="{color}"/></svg>',"zig-zag":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15 * {scale})" height="calc(15 * {scale})" viewBox="0 0 120 120"><rect x="0" y="0" width="120" height="120" fill="{secondaryColor}"/><polygon fill="{color}" points="120 120 60 120 90 90 120 60 120 0 120 0 60 60 0 0 0 60 30 90 60 120 120 120"/></svg>',"zig-zag-vertical":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(15 * {scale})" height="calc(15 * {scale})" viewBox="0 0 120 120"><rect x="0" y="0" width="120" height="120" fill="{secondaryColor}"/><polygon fill="{color}" points="120 0 120 60 90 30 60 0 0 0 0 0 60 60 0 120 60 120 90 90 120 60 120 0"/></svg>',"circles-spaced":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 20 20"><defs><pattern id="p" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="2" stroke="none" fill="{color}"/></pattern></defs><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><rect x="0" y="0" width="100" height="100" fill="url(#p)"/></svg>',circles:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(7 * {scale})" height="calc(7 * {scale})" viewBox="0 0 20 20"><defs><pattern id="p" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="6" stroke="none" fill="{color}"/></pattern></defs><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><rect x="0" y="0" width="100" height="100" fill="url(#p)"/></svg>',"diagonal-lines-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"diagonal-lines-down":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(90 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"diagonal-stripes-up":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"diagonal-stripes-down":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g transform="rotate(90 20 20)" fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"grid-lines":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(14 * {scale})" height="calc(14 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(45 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g><g fill="{color}" transform="rotate(-45 3 3)"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"rotated-grid-lines":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(18 * {scale})" height="calc(18 * {scale})" viewBox="0 0 6 6"><rect x="0" y="0" width="6" height="6" fill="{secondaryColor}"/><g transform="rotate(90 3 3)" fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g><g fill="{color}"><path d="M5 0h1L0 6V5zM6 5v1H5z"/></g></svg>',"rotated-grid-stripes":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(20 * {scale})" height="calc(20 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="40" height="40" fill="{secondaryColor}"/><g transform="rotate(90 20 20)" fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g><g fill="{color}"><path d="M0 40L40 0H20L0 20M40 40V20L20 40"/></g></svg>',"x-fill":'<svg xmlns="http://www.w3.org/2000/svg" width="calc(40 * {scale})" height="calc(40 * {scale})" viewBox="0 0 40 40"><rect x="0" y="0" width="45.3" height="45.3" fill="{secondaryColor}"/><g fill="{color}"><path d="M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 1.4l2.83 2.83 1.41-1.41L1.41 0H0v1.41zM38.59 40l-2.83-2.83 1.41-1.41L40 38.59V40h-1.41zM40 1.41l-2.83 2.83-1.41-1.41L38.59 0H40v1.41zM20 18.6l2.83-2.83 1.41 1.41L21.41 20l2.83 2.83-1.41 1.41L20 21.41l-2.83 2.83-1.41-1.41L18.59 20l-2.83-2.83 1.41-1.41L20 18.59z"/></g></svg>',dots:'<svg xmlns="http://www.w3.org/2000/svg" width="calc(13 * {scale})" height="calc(13 * {scale})" viewBox="0 0 20 20"><rect x="0" y="0" width="20" height="20" fill="{secondaryColor}"/><g fill="{color}"><circle cx="3" cy="3" r="3"/><circle cx="13" cy="13" r="3"/></g></svg>'},yR=4,_c=function(r){var e=document.createElement("span");return e.innerText=r,e.classList.add("tooltiptext"),navigator.userAgent.indexOf("Edg")!=-1?e.classList.add("edge"):navigator.userAgent.indexOf("Chrome")!=-1?e.classList.add("chrome"):navigator.userAgent.indexOf("Safari")!=-1?e.classList.add("safari"):navigator.userAgent.indexOf("Firefox")!=-1&&e.classList.add("firefox"),navigator.userAgent.indexOf("Windows")!=-1?e.classList.add("win"):navigator.userAgent.indexOf("Macintosh")!=-1&&e.classList.add("mac"),e},Mo=function(r,e,t){t===void 0&&(t=!1);function n(i){var a=e.getBoundingClientRect(),s=r.getBoundingClientRect(),o=a.x+s.width>window.innerWidth?window.innerWidth-s.width:a.x,s=a.y+a.height+s.height+yR>window.innerHeight?a.y-s.height-yR:a.y+a.height+yR;t&&e.parentElement&&(a=e.parentElement?e.parentElement.getBoundingClientRect():null,r.style.position="absolute",o-=a.x,s-=a.y),r.style.transform="translate(".concat(o,"px, ").concat(s,"px)"),r.style.display="block"}e.addEventListener("mouseover",n),e.addEventListener("focusin",n),e.addEventListener("keydown",function(i){i.key!=="Escape"&&i.key!=="Esc"||r.style.display!=="block"||(i.stopPropagation(),r.style.display="none")})},xLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),CLe=((function(r){r.TopLeft="top-left",r.TopRight="top-right",r.BottomLeft="bottom-left",r.BottomRight="bottom-right",r.NonFixed="non-fixed"})(kh=kh||{}),(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.position=kh.NonFixed,t}return xLe(e,r),e})(ao)),ELe=(function(){function r(e){var t;e&&(t=void 0,3<=(t=typeof e=="string"?this.getRBGA(e):e).length)&&(this.r=t[0],this.g=t[1],this.b=t[2],3<t.length)&&(this.a=t[3])}return r.prototype.getLuminosity=function(){for(var e=[this.r,this.g,this.b],t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((.055+i)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},r.prototype.getRBGA=function(n){var t=document.createElement("canvas").getContext("2d"),n=(t.globalAlpha=1,t.fillStyle=n,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data);return[n[0],n[1],n[2],n[3]]},r})(),cd=((function(r){r.light="light",r.dark="dark",r.auto="auto"})(vc=vc||{}),Map),Hg=(function(){function r(){this.listeners=new cd}return r.prototype._addEventListener=function(e,t,n){this.listeners.has(e)||this.listeners.set(e,new cd),this.listeners.get(e).set(t,n)},r.prototype._removeEventListener=function(e,t){this.listeners.has(e)&&this.listeners.get(e).delete(t)},r.prototype._invokeEvent=function(e,t){var n=this;this.listeners.has(e)&&this.listeners.get(e).forEach(function(i,a){i&&n._removeEventListener(e,a);try{a(t)}catch(o){console.error(o)}})},r})(),SLe=Object.freeze({__proto__:null,EventEmitter:Hg}),TLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),fd=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._onStyleChange=function(){t._map.getStyle().style.toLowerCase().startsWith("blank")?t._observer||(t._onBackgroundChange(),t._observer=new MutationObserver(t._onBackgroundChange),t._observer.observe(t._map.getMapContainer(),{attributes:!0,attributeFilter:["style"]})):(t._observer&&(t._observer.disconnect(),delete t._observer),t._map.styles.getThemeAsync(t._map.getStyle()).then(function(n){t._setTheme(n)}))},t._onBackgroundChange=function(){var n=new ELe(t._map.getMapContainer().style.backgroundColor).getLuminosity(),n=isNaN(n)||.5<n?vc.light:vc.dark;t._setTheme(n)},t}return TLe(e,r),e.prototype.onRemove=function(){this._container&&(this._container.remove(),delete this._container),this._map&&(this._map.events.remove("stylechanged",this._onStyleChange),delete this._map),this._observer&&(this._observer.disconnect(),delete this._observer),delete this._theme},e.prototype.buildContainer=function(t,n,i,a){return this._map=t,this._container=document.createElement(a||"div"),this._container.classList.add("azure-maps-control-container"),typeof i=="string"&&this._container.setAttribute("aria-label",i),n.toLowerCase()===vc.auto?this._map&&this._map.events.add("stylechanged",this._onStyleChange):this._container.classList.add(n),this._container},e.prototype._setTheme=function(t){this._theme!==t&&(this._container.classList.remove(this._theme),this._container.classList.add(t),this._theme=t)},e.activateClickDelay=100,e})(Hg),BLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ILe=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rotationDegreesDelta=15,t.style=vc.light,t.inverted=!1,t}return BLe(e,r),e})(ao),kLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),one=(function(r){function e(t){var n=r.call(this)||this;return n.hasMouse=!1,n.hasFocus=!1,n.options=new ILe().merge(t),n}return kLe(e,r),e.prototype.onAdd=function(t,n){function i(f){f?(o.classList.add("in-use"),c.classList.remove("hidden-accessible-element")):(o.classList.remove("in-use"),c.classList.add("hidden-accessible-element"))}var a=this,o=this.buildContainer(t,this.options.style,"Rotation Control"),s=this.constructRotationButton(t),c=this.constructRotationGrid(t,n),A=_c("Reset to Default Rotation");return o.addEventListener("mouseover",function(f){a.lastActiveTime=a.lastActiveTime||f.timeStamp,a.hasMouse=!0,i(!0)}),o.addEventListener("focusin",function(f){a.lastActiveTime=a.lastActiveTime||f.timeStamp,a.hasFocus=!0,i(!0)}),o.addEventListener("mouseleave",function(){a.hasMouse=!1,a.hasFocus||(delete a.lastActiveTime,i(!1))}),o.addEventListener("focusout",function(f){f.relatedTarget instanceof Node&&o.contains(f.relatedTarget)||(a.hasFocus=!1,a.hasMouse)||(delete a.lastActiveTime,i(!1))}),c.addEventListener("keydown",function(f){f.key!=="Escape"&&f.key!=="Esc"||(f.stopPropagation(),s.focus(),i(!1))}),s.addEventListener("keydown",function(f){f.key!=="Escape"&&f.key!=="Esc"||o==null||!o.classList.contains("in-use")||A?.style.display!=="none"||(f.stopPropagation(),i(!1))}),n&&e.InvertOrderPositions.includes(n.position)?(o.appendChild(c),o.appendChild(s),o.appendChild(A),Mo(A,s)):(o.appendChild(s),o.appendChild(A),Mo(A,s),o.appendChild(c)),o},e.prototype.constructRotationGrid=function(o,n){var i=document.createElement("div"),a=(i.classList.add("sub-container"),i.classList.add("hidden-accessible-element"),this.constructRightRotationButton(o)),o=this.constructLeftRotationButton(o),s=_c("Rotate Left"),c=_c("Rotate Right");return n&&e.InvertOrderPositions.includes(n.position)?(i.appendChild(a),i.appendChild(c),Mo(c,a),i.appendChild(o),i.appendChild(s),Mo(s,o)):(i.appendChild(o),i.appendChild(s),Mo(s,o),i.appendChild(a),i.appendChild(c),Mo(c,a)),i},e.prototype.constructRotationButton=function(t){var n=this,i=document.createElement("button"),a=(i.classList.add("azure-maps-control-button"),i.classList.add("rotation"),i.setAttribute("aria-label","Reset to Default Rotation"),i.setAttribute("alt","Reset to Default Rotation"),i.setAttribute("type","button"),document.createElement("div"));return i.appendChild(a),i.addEventListener("click",function(o){o.timeStamp-n.lastActiveTime>fd.activateClickDelay&&t.setCamera({bearing:e.DefaultRotation},!0)}),t.events.add("rotate",function(o){a.style.transform="rotate(".concat(-o.map.getCamera().bearing,"deg)")}),i},e.prototype.constructRightRotationButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("rotation-right"),i.setAttribute("aria-label","Rotate Right"),i.setAttribute("alt","Rotate Right"),i.setAttribute("type","button"),i.addEventListener("click",function(){t.setCamera({bearing:t.getCamera().bearing-(n.options.inverted?-1:1)*n.options.rotationDegreesDelta,duration:e.RotationDuration,type:"ease"},!0)}),i},e.prototype.constructLeftRotationButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("rotation-left"),i.setAttribute("aria-label","Rotate Left"),i.setAttribute("alt","Rotate Left"),i.setAttribute("type","button"),i.addEventListener("click",function(){t.setCamera({bearing:t.getCamera().bearing+(n.options.inverted?-1:1)*n.options.rotationDegreesDelta,duration:e.RotationDuration,type:"ease"},!0)}),i},e.DefaultRotation=0,e.RotationDuration=100,e.InvertOrderPositions=[kh.BottomRight,kh.TopRight],e})(fd),NLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),PLe=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pitchDegreesDelta=10,t.style=vc.light,t.inverted=!1,t}return NLe(e,r),e})(ao),OLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),MLe=(function(r){function e(t){var n=r.call(this)||this;return n.container=null,n.map=null,n.pitchButton=null,n.pitchIncrementButton=null,n.pitchDecrementButton=null,n.hasMouse=!1,n.hasFocus=!1,n.pitchChanged=function(i){return n.updatePitchButtonsState()},n.updatePitchButtonsState=function(){var i=n.map.getCamera().pitch<=0,a=60<=n.map.getCamera().pitch;n.hasFocus&&n.pitchButton&&(i||a)&&n.pitchButton.focus(),n.options.inverted?(n.pitchIncrementButton&&n.pitchIncrementButton.disabled!=i&&(n.pitchIncrementButton.disabled=i),n.pitchDecrementButton&&n.pitchDecrementButton.disabled!=a&&(n.pitchDecrementButton.disabled=a)):(n.pitchIncrementButton&&n.pitchIncrementButton.disabled!=a&&(n.pitchIncrementButton.disabled=a),n.pitchDecrementButton&&n.pitchDecrementButton.disabled!=i&&(n.pitchDecrementButton.disabled=i))},n.options=new PLe().merge(t),n}return OLe(e,r),e.prototype.onAdd=function(t,n){function i(f){f?(o.classList.add("in-use"),c.classList.remove("hidden-accessible-element")):(o.classList.remove("in-use"),c.classList.add("hidden-accessible-element"))}var a=this,o=this.buildContainer(t,this.options.style,"Pitch Control"),s=this.constructPitchButton(t),c=this.constructPitchGrid(t,n),A=_c("Reset to Default Pitch");return o.addEventListener("mouseover",function(f){a.lastActiveTime=a.lastActiveTime||f.timeStamp,a.hasMouse=!0,i(!0)}),o.addEventListener("focusin",function(f){a.lastActiveTime=a.lastActiveTime||f.timeStamp,a.hasFocus=!0,i(!0)}),o.addEventListener("mouseleave",function(){a.hasMouse=!1,a.hasFocus||(delete a.lastActiveTime,i(!1))}),o.addEventListener("focusout",function(f){f.relatedTarget instanceof Node&&o.contains(f.relatedTarget)||(a.hasFocus=!1,a.hasMouse)||(delete a.lastActiveTime,i(!1))}),c.addEventListener("keydown",function(f){f.key!=="Escape"&&f.key!=="Esc"||(f.stopPropagation(),s.focus(),i(!1))}),s.addEventListener("keydown",function(f){f.key!=="Escape"&&f.key!=="Esc"||o==null||!o.classList.contains("in-use")||A?.style.display!=="none"||(f.stopPropagation(),i(!1))}),n&&e.INVERT_ORDER_POSITIONS.includes(n.position)?(o.appendChild(c),o.appendChild(s),o.appendChild(A),Mo(A,o)):(o.appendChild(s),o.appendChild(A),Mo(A,o),o.appendChild(c)),this.map=t,this.container=o,this.pitchButton=s,t.events.add("pitch",this.pitchChanged),this.updatePitchButtonsState(),o},e.prototype.onRemove=function(){this.container&&(this.container.remove(),this.container=null,this.pitchButton=null,this.pitchIncrementButton=null,this.pitchDecrementButton=null),this.map&&(this.map.events.remove("pitch",this.pitchChanged),this.map=null)},e.prototype.constructPitchGrid=function(a,n){var i=document.createElement("div"),a=(i.classList.add("sub-container"),i.classList.add("hidden-accessible-element"),this.pitchIncrementButton=this.constructPitchIncrementButton(a),this.pitchDecrementButton=this.constructPitchDecrementButton(a),_c("Increase Pitch")),o=_c("Decrease Pitch");return n&&e.INVERT_ORDER_POSITIONS.includes(n.position)?(i.appendChild(this.pitchDecrementButton),i.appendChild(o),Mo(o,this.pitchDecrementButton),i.appendChild(this.pitchIncrementButton),i.appendChild(a),Mo(a,this.pitchIncrementButton)):(i.appendChild(this.pitchIncrementButton),i.appendChild(a),Mo(a,this.pitchIncrementButton),i.appendChild(this.pitchDecrementButton),i.appendChild(o),Mo(o,this.pitchDecrementButton)),i},e.prototype.constructPitchButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("pitch"),i.setAttribute("aria-label","Reset to Default Pitch"),i.setAttribute("alt","Reset to Default Pitch"),i.setAttribute("type","button"),i.addEventListener("click",function(){event.timeStamp-n.lastActiveTime>fd.activateClickDelay&&t.setCamera({pitch:e.DEFAULT_PITCH},!0)}),i},e.prototype.constructPitchDecrementButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("pitch-down"),i.setAttribute("aria-label","Decrease Pitch"),i.setAttribute("alt","Decrease Pitch"),i.setAttribute("type","button"),i.addEventListener("click",function(){t.setCamera({pitch:t.getCamera().pitch-(n.options.inverted?-1:1)*n.options.pitchDegreesDelta,duration:e.PITCH_DURATION_MS,type:"ease"},!0)}),i},e.prototype.constructPitchIncrementButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("pitch-up"),i.setAttribute("aria-label","Increase Pitch"),i.setAttribute("alt","Increase Pitch"),i.setAttribute("type","button"),i.addEventListener("click",function(){t.setCamera({pitch:t.getCamera().pitch+(n.options.inverted?-1:1)*n.options.pitchDegreesDelta,duration:e.PITCH_DURATION_MS,type:"ease"},!0)}),i},e.PITCH_DURATION_MS=100,e.DEFAULT_PITCH=0,e.INVERT_ORDER_POSITIONS=[kh.BottomRight,kh.TopRight],e})(fd),LLe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),RLe=(function(r){function e(t){var n=r.call(this)||this;return n.map=null,n.control=new Oh.ScaleControl({maxWidth:t?.maxWidth,unit:t?.unit}),n}return LLe(e,r),e.prototype.onAdd=function(t,n){this.map=t,(i=(i=this.map)==null?void 0:i._getMap())!=null&&i.addControl(this.control);var i=this.buildContainer(t,vc.auto,"Scale Bar");return i.appendChild((t=this.control)==null?void 0:t._container),i},e.prototype.onRemove=function(){var t;r.prototype.onRemove.call(this),(t=(t=this.map)==null?void 0:t._getMap())!=null&&t.removeControl(this.control),this.map=null},e.prototype.setUnit=function(t){var n;(n=this.control)!=null&&n.setUnit(t)},e})(fd);function DLe(){this.__data__=[],this.size=0}var ULe=DLe;function FLe(r,e){return r===e||r!=r&&e!=e}var tT=FLe,jLe=tT;function QLe(r,e){for(var t=r.length;t--;)if(jLe(r[t][0],e))return t;return-1}var tM=QLe,HLe=tM,zLe=Array.prototype,qLe=zLe.splice;function KLe(t){var e=this.__data__,t=HLe(e,t);return!(t<0||(t==e.length-1?e.pop():qLe.call(e,t,1),--this.size,0))}var VLe=tM;function GLe(t){var e=this.__data__,t=VLe(e,t);return t<0?void 0:e[t][1]}var $Le=tM;function YLe(r){return-1<$Le(this.__data__,r)}var WLe=tM;function ZLe(r,e){var t=this.__data__,n=WLe(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}var XLe=ULe,JLe=KLe,eRe=GLe,tRe=YLe,rRe=ZLe;function pb(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}pb.prototype.clear=XLe,pb.prototype.delete=JLe,pb.prototype.get=eRe,pb.prototype.has=tRe,pb.prototype.set=rRe;var rM=pb,nRe=rM;function iRe(){this.__data__=new nRe,this.size=0}var aRe=iRe;function oRe(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}var sRe=oRe;function lRe(r){return this.__data__.get(r)}var cRe=lRe;function uRe(r){return this.__data__.has(r)}var hRe=uRe,ARe=typeof aI=="object"&&aI&&aI.Object===Object&&aI,sne=ARe,dRe=sne,fRe=typeof self=="object"&&self&&self.Object===Object&&self,pRe=dRe||fRe||Function("return this")(),cm=pRe,mRe=cm.Symbol,N_=mRe,cV=N_,lne=Object.prototype,gRe=lne.hasOwnProperty,yRe=lne.toString,eC=cV?cV.toStringTag:void 0;function vRe(r){var e=gRe.call(r,eC),t=r[eC];try{var n=!(r[eC]=void 0)}catch{}var i=yRe.call(r);return n&&(e?r[eC]=t:delete r[eC]),i}var _Re=vRe,bRe=Object.prototype,wRe=bRe.toString;function xRe(r){return wRe.call(r)}var CRe=_Re,ERe=xRe,SRe="[object Null]",TRe="[object Undefined]",uV=N_?N_.toStringTag:void 0;function BRe(r){return r==null?r===void 0?TRe:SRe:(uV&&uV in Object(r)?CRe:ERe)(r)}var rT=BRe;function IRe(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var Iv=IRe,kRe=rT,NRe=Iv,PRe="[object AsyncFunction]",ORe="[object Function]",MRe="[object GeneratorFunction]",LRe="[object Proxy]";function RRe(r){return!!NRe(r)&&((r=kRe(r))==ORe||r==MRe||r==PRe||r==LRe)}var Kj=RRe,DRe=cm["__core-js_shared__"],vR=DRe,hV=(function(){var r=/[^.]+$/.exec(vR&&vR.keys&&vR.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function URe(r){return!!hV&&hV in r}var FRe=URe,jRe=Function.prototype,QRe=jRe.toString;function HRe(r){if(r!=null){try{return QRe.call(r)}catch{}try{return r+""}catch{}}return""}var cne=HRe,zRe=Kj,qRe=FRe,KRe=Iv,VRe=cne,GRe=/[\\^$.*+?()[\]{}|]/g,$Re=/^\[object .+?Constructor\]$/,YRe=Function.prototype,WRe=Object.prototype,ZRe=YRe.toString,XRe=WRe.hasOwnProperty,JRe=RegExp("^"+ZRe.call(XRe).replace(GRe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eDe(r){return!(!KRe(r)||qRe(r))&&(zRe(r)?JRe:$Re).test(VRe(r))}function tDe(r,e){return r?.[e]}var rDe=eDe,nDe=tDe;function iDe(r,e){return r=nDe(r,e),rDe(r)?r:void 0}var z_=iDe,aDe=z_(cm,"Map"),Vj=aDe,oDe=z_(Object,"create"),nM=oDe,AV=nM;function sDe(){this.__data__=AV?AV(null):{},this.size=0}var lDe=sDe;function cDe(r){return r=this.has(r)&&delete this.__data__[r],this.size-=r?1:0,r}var uDe=cDe,hDe=nM,ADe="__lodash_hash_undefined__",dDe=Object.prototype,fDe=dDe.hasOwnProperty;function pDe(r){var e,t=this.__data__;return hDe?(e=t[r])===ADe?void 0:e:fDe.call(t,r)?t[r]:void 0}var mDe=pDe,gDe=nM,yDe=Object.prototype,vDe=yDe.hasOwnProperty;function _De(r){var e=this.__data__;return gDe?e[r]!==void 0:vDe.call(e,r)}var bDe=nM,wDe="__lodash_hash_undefined__";function xDe(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=bDe&&e===void 0?wDe:e,this}var CDe=lDe,EDe=uDe,SDe=mDe,TDe=_De,BDe=xDe;function mb(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}mb.prototype.clear=CDe,mb.prototype.delete=EDe,mb.prototype.get=SDe,mb.prototype.has=TDe,mb.prototype.set=BDe;var dV=mb,IDe=rM,kDe=Vj;function NDe(){this.size=0,this.__data__={hash:new dV,map:new(kDe||IDe),string:new dV}}function PDe(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var ODe=PDe;function iM(r,e){return r=r.__data__,ODe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var MDe=iM;function LDe(r){return r=MDe(this,r).delete(r),this.size-=r?1:0,r}var RDe=iM;function DDe(r){return RDe(this,r).get(r)}var UDe=iM;function FDe(r){return UDe(this,r).has(r)}var jDe=iM;function QDe(r,e){var t=jDe(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}var HDe=NDe,zDe=LDe,qDe=DDe,KDe=FDe,VDe=QDe;function gb(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}gb.prototype.clear=HDe,gb.prototype.delete=zDe,gb.prototype.get=qDe,gb.prototype.has=KDe,gb.prototype.set=VDe;var une=gb,GDe=rM,$De=Vj,YDe=une,WDe=200;function ZDe(r,e){var t=this.__data__;if(t instanceof GDe){var n=t.__data__;if(!$De||n.length<WDe-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new YDe(n)}return t.set(r,e),this.size=t.size,this}var XDe=rM,JDe=aRe,e2e=sRe,t2e=cRe,r2e=hRe,n2e=ZDe;function yb(r){r=this.__data__=new XDe(r),this.size=r.size}yb.prototype.clear=JDe,yb.prototype.delete=e2e,yb.prototype.get=t2e,yb.prototype.has=r2e,yb.prototype.set=n2e;var Gj=yb;function i2e(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}var a2e=i2e,o2e=z_,s2e=(function(){try{var r=o2e(Object,"defineProperty");return r({},"",{}),r}catch{}})(),hne=s2e,fV=hne;function l2e(r,e,t){e=="__proto__"&&fV?fV(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var $j=l2e,c2e=$j,u2e=tT,h2e=Object.prototype,A2e=h2e.hasOwnProperty;function d2e(r,e,t){var n=r[e];A2e.call(r,e)&&u2e(n,t)&&(t!==void 0||e in r)||c2e(r,e,t)}var Ane=d2e,f2e=Ane,p2e=$j;function m2e(r,e,t,n){for(var i=!t,a=(t=t||{},-1),o=e.length;++a<o;){var s=e[a],c=n?n(t[s],r[s],s,t,r):void 0;c===void 0&&(c=r[s]),(i?p2e:f2e)(t,s,c)}return t}var nT=m2e;function g2e(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var y2e=g2e;function v2e(r){return r!=null&&typeof r=="object"}var zg=v2e,_2e=rT,b2e=zg,w2e="[object Arguments]";function x2e(r){return b2e(r)&&_2e(r)==w2e}var pV=x2e,C2e=zg,dne=Object.prototype,E2e=dne.hasOwnProperty,S2e=dne.propertyIsEnumerable,T2e=pV((function(){return arguments})())?pV:function(r){return C2e(r)&&E2e.call(r,"callee")&&!S2e.call(r,"callee")},fne=T2e,B2e=Array.isArray,iT=B2e,oI={exports:{}};function I2e(){return!1}var k2e=I2e,aM=(oI.exports,(function(r,n){var n=n&&!n.nodeType&&n,t=n&&r&&!r.nodeType&&r,t=t&&t.exports===n?cm.Buffer:void 0,n=t?t.isBuffer:void 0;r.exports=n||k2e})(oI,oI.exports),oI.exports),N2e=9007199254740991,P2e=/^(?:0|[1-9]\d*)$/;function O2e(r,e){var t=typeof r;return!!(e=e??N2e)&&(t=="number"||t!="symbol"&&P2e.test(r))&&-1<r&&r%1==0&&r<e}var pne=O2e,M2e=9007199254740991;function L2e(r){return typeof r=="number"&&-1<r&&r%1==0&&r<=M2e}var mne=L2e,R2e=rT,D2e=mne,U2e=zg,F2e="[object Arguments]",j2e="[object Array]",Q2e="[object Boolean]",H2e="[object Date]",z2e="[object Error]",q2e="[object Function]",K2e="[object Map]",V2e="[object Number]",G2e="[object Object]",$2e="[object RegExp]",Y2e="[object Set]",W2e="[object String]",Z2e="[object WeakMap]",X2e="[object ArrayBuffer]",J2e="[object DataView]",eUe="[object Float32Array]",tUe="[object Float64Array]",rUe="[object Int8Array]",nUe="[object Int16Array]",iUe="[object Int32Array]",aUe="[object Uint8Array]",oUe="[object Uint8ClampedArray]",sUe="[object Uint16Array]",lUe="[object Uint32Array]",Io={};function cUe(r){return U2e(r)&&D2e(r.length)&&!!Io[R2e(r)]}Io[eUe]=Io[tUe]=Io[rUe]=Io[nUe]=Io[iUe]=Io[aUe]=Io[oUe]=Io[sUe]=Io[lUe]=!0,Io[F2e]=Io[j2e]=Io[X2e]=Io[Q2e]=Io[J2e]=Io[H2e]=Io[z2e]=Io[q2e]=Io[K2e]=Io[V2e]=Io[G2e]=Io[$2e]=Io[Y2e]=Io[W2e]=Io[Z2e]=!1;var uUe=cUe;function hUe(r){return function(e){return r(e)}}var Yj=hUe,sI={exports:{}},Tw=(sI.exports,(function(r,i){var i=i&&!i.nodeType&&i,t=i&&r&&!r.nodeType&&r,n=t&&t.exports===i&&sne.process,i=(function(){try{var a=t&&t.require&&t.require("util").types;return a||n&&n.binding&&n.binding("util")}catch{}})();r.exports=i})(sI,sI.exports),sI.exports),AUe=uUe,dUe=Yj,mV=Tw&&Tw.isTypedArray,fUe=mV?dUe(mV):AUe,Wj=fUe,pUe=y2e,mUe=fne,gUe=iT,yUe=aM,vUe=pne,_Ue=Wj,bUe=Object.prototype,wUe=bUe.hasOwnProperty;function xUe(r,e){var t,n=gUe(r),i=!n&&mUe(r),a=!n&&!i&&yUe(r),o=!n&&!i&&!a&&_Ue(r),s=n||i||a||o,c=s?pUe(r.length,String):[],A=c.length;for(t in r)!e&&!wUe.call(r,t)||s&&(t=="length"||a&&(t=="offset"||t=="parent")||o&&(t=="buffer"||t=="byteLength"||t=="byteOffset")||vUe(t,A))||c.push(t);return c}var gne=xUe,CUe=Object.prototype;function EUe(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||CUe)}var Zj=EUe;function SUe(r,e){return function(t){return r(e(t))}}var yne=SUe,TUe=yne(Object.keys,Object),BUe=Zj,IUe=TUe,kUe=Object.prototype,NUe=kUe.hasOwnProperty;function PUe(r){if(!BUe(r))return IUe(r);var e,t=[];for(e in Object(r))NUe.call(r,e)&&e!="constructor"&&t.push(e);return t}var OUe=Kj,MUe=mne;function LUe(r){return r!=null&&MUe(r.length)&&!OUe(r)}var oM=LUe,RUe=gne,DUe=PUe,UUe=oM;function FUe(r){return(UUe(r)?RUe:DUe)(r)}var Xj=FUe,jUe=nT,QUe=Xj;function HUe(r,e){return r&&jUe(e,QUe(e),r)}var zUe=HUe;function qUe(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var KUe=Iv,VUe=Zj,GUe=qUe,$Ue=Object.prototype,YUe=$Ue.hasOwnProperty;function WUe(r){if(!KUe(r))return GUe(r);var e,t=VUe(r),n=[];for(e in r)(e!="constructor"||!t&&YUe.call(r,e))&&n.push(e);return n}var ZUe=gne,XUe=WUe,JUe=oM;function eFe(r){return JUe(r)?ZUe(r,!0):XUe(r)}var aT=eFe,tFe=nT,rFe=aT;function nFe(r,e){return r&&tFe(e,rFe(e),r)}var iFe=nFe,lI={exports:{}},vne=(lI.exports,(function(r,t){var t=t&&!t.nodeType&&t,n=t&&r&&!r.nodeType&&r,n=n&&n.exports===t?cm.Buffer:void 0,i=n?n.allocUnsafe:void 0;r.exports=function(a,o){return o?a.slice():(o=a.length,o=i?i(o):new a.constructor(o),a.copy(o),o)}})(lI,lI.exports),lI.exports);function aFe(r,e){var t=-1,n=r.length;for(e=e||Array(n);++t<n;)e[t]=r[t];return e}var _ne=aFe;function oFe(r,e){for(var t=-1,n=r==null?0:r.length,i=0,a=[];++t<n;){var o=r[t];e(o,t,r)&&(a[i++]=o)}return a}function sFe(){return[]}var bne=sFe,lFe=oFe,cFe=bne,uFe=Object.prototype,hFe=uFe.propertyIsEnumerable,gV=Object.getOwnPropertySymbols,AFe=gV?function(r){return r==null?[]:(r=Object(r),lFe(gV(r),function(e){return hFe.call(r,e)}))}:cFe,Jj=AFe,dFe=nT,fFe=Jj;function pFe(r,e){return dFe(r,fFe(r),e)}var mFe=pFe;function gFe(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r}var wne=gFe,yFe=yne(Object.getPrototypeOf,Object),e8=yFe,vFe=wne,_Fe=e8,bFe=Jj,wFe=bne,xFe=Object.getOwnPropertySymbols,xne=xFe?function(r){for(var e=[];r;)vFe(e,bFe(r)),r=_Fe(r);return e}:wFe,CFe=nT,EFe=xne;function SFe(r,e){return CFe(r,EFe(r),e)}var TFe=SFe,BFe=wne,IFe=iT;function Cne(r,e,t){return e=e(r),IFe(r)?e:BFe(e,t(r))}var kFe=Cne,NFe=Jj,PFe=Xj;function OFe(r){return kFe(r,PFe,NFe)}var Ene=OFe,MFe=Cne,LFe=xne,RFe=aT;function DFe(r){return MFe(r,RFe,LFe)}var UFe=DFe,FFe=z_(cm,"DataView"),jFe=FFe,QFe=z_(cm,"Promise"),HFe=QFe,zFe=z_(cm,"Set"),qFe=zFe,KFe=z_(cm,"WeakMap"),HU=jFe,zU=Vj,qU=HFe,KU=qFe,VU=KFe,Sne=rT,rx=cne,yV="[object Map]",VFe="[object Object]",vV="[object Promise]",_V="[object Set]",bV="[object WeakMap]",wV="[object DataView]",GFe=rx(HU),$Fe=rx(zU),YFe=rx(qU),WFe=rx(KU),ZFe=rx(VU),A0=Sne,sM=A0=HU&&A0(new HU(new ArrayBuffer(1)))!=wV||zU&&A0(new zU)!=yV||qU&&A0(qU.resolve())!=vV||KU&&A0(new KU)!=_V||VU&&A0(new VU)!=bV?function(t){var e=Sne(t),t=e==VFe?t.constructor:void 0,t=t?rx(t):"";if(t)switch(t){case GFe:return wV;case $Fe:return yV;case YFe:return vV;case WFe:return _V;case ZFe:return bV}return e}:A0,XFe=Object.prototype,JFe=XFe.hasOwnProperty;function e6e(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&JFe.call(r,"index")&&(t.index=r.index,t.input=r.input),t}var t6e=e6e,r6e=cm.Uint8Array,Tne=r6e,xV=Tne;function n6e(r){var e=new r.constructor(r.byteLength);return new xV(e).set(new xV(r)),e}var t8=n6e,i6e=t8;function a6e(r,e){return e=e?i6e(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength)}var o6e=a6e,s6e=/\w*$/;function l6e(r){var e=new r.constructor(r.source,s6e.exec(r));return e.lastIndex=r.lastIndex,e}var c6e=l6e,CV=N_?N_.prototype:void 0,EV=CV?CV.valueOf:void 0;function u6e(r){return EV?Object(EV.call(r)):{}}var h6e=t8;function A6e(r,e){return e=e?h6e(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.length)}var Bne=A6e,d6e=t8,f6e=o6e,p6e=c6e,m6e=u6e,g6e=Bne,y6e="[object Boolean]",v6e="[object Date]",_6e="[object Map]",b6e="[object Number]",w6e="[object RegExp]",x6e="[object Set]",C6e="[object String]",E6e="[object Symbol]",S6e="[object ArrayBuffer]",T6e="[object DataView]",B6e="[object Float32Array]",I6e="[object Float64Array]",k6e="[object Int8Array]",N6e="[object Int16Array]",P6e="[object Int32Array]",O6e="[object Uint8Array]",M6e="[object Uint8ClampedArray]",L6e="[object Uint16Array]",R6e="[object Uint32Array]";function D6e(r,e,t){var n=r.constructor;switch(e){case S6e:return d6e(r);case y6e:case v6e:return new n(+r);case T6e:return f6e(r,t);case B6e:case I6e:case k6e:case N6e:case P6e:case O6e:case M6e:case L6e:case R6e:return g6e(r,t);case _6e:return new n;case b6e:case C6e:return new n(r);case w6e:return p6e(r);case x6e:return new n;case E6e:return m6e(r)}}var U6e=D6e,F6e=Iv,SV=Object.create,j6e=(function(){function r(){}return function(e){return F6e(e)?SV?SV(e):(r.prototype=e,e=new r,r.prototype=void 0,e):{}}})(),Q6e=j6e,H6e=e8,z6e=Zj;function q6e(r){return typeof r.constructor!="function"||z6e(r)?{}:Q6e(H6e(r))}var Ine=q6e,K6e=sM,V6e=zg,G6e="[object Map]";function $6e(r){return V6e(r)&&K6e(r)==G6e}var Y6e=$6e,W6e=Yj,TV=Tw&&Tw.isMap,Z6e=TV?W6e(TV):Y6e,X6e=Z6e,J6e=sM,e5e=zg,t5e="[object Set]";function r5e(r){return e5e(r)&&J6e(r)==t5e}var n5e=r5e,i5e=Yj,BV=Tw&&Tw.isSet,a5e=BV?i5e(BV):n5e,o5e=Gj,s5e=a2e,l5e=Ane,c5e=zUe,u5e=iFe,h5e=vne,A5e=_ne,d5e=mFe,f5e=TFe,p5e=Ene,m5e=UFe,g5e=sM,y5e=t6e,v5e=U6e,_5e=Ine,b5e=iT,w5e=aM,x5e=X6e,C5e=Iv,E5e=a5e,S5e=Xj,T5e=aT,B5e=1,I5e=2,k5e=4,kne="[object Arguments]",N5e="[object Array]",P5e="[object Boolean]",O5e="[object Date]",M5e="[object Error]",Nne="[object Function]",L5e="[object GeneratorFunction]",R5e="[object Map]",D5e="[object Number]",Pne="[object Object]",U5e="[object RegExp]",F5e="[object Set]",j5e="[object String]",Q5e="[object Symbol]",H5e="[object WeakMap]",z5e="[object ArrayBuffer]",q5e="[object DataView]",K5e="[object Float32Array]",V5e="[object Float64Array]",G5e="[object Int8Array]",$5e="[object Int16Array]",Y5e="[object Int32Array]",W5e="[object Uint8Array]",Z5e="[object Uint8ClampedArray]",X5e="[object Uint16Array]",J5e="[object Uint32Array]",po={};function sk(r,e,t,n,i,a){var o,s=e&B5e,c=e&I5e,A=e&k5e;if((o=t?i?t(r,n,i,a):t(r):o)===void 0){if(!C5e(r))return r;if(n=b5e(r),n){if(o=y5e(r),!s)return A5e(r,o)}else{var f=g5e(r),y=f==Nne||f==L5e;if(w5e(r))return h5e(r,s);if(f==Pne||f==kne||y&&!i){if(o=c||y?{}:_5e(r),!s)return c?f5e(r,u5e(o,r)):d5e(r,c5e(o,r))}else{if(!po[f])return i?r:{};o=v5e(r,f,s)}}if(y=(a=a||new o5e).get(r),y)return y;a.set(r,o),E5e(r)?r.forEach(function(x){o.add(sk(x,e,t,x,r,a))}):x5e(r)&&r.forEach(function(x,k){o.set(k,sk(x,e,t,k,r,a))});var C=n?void 0:(A?c?m5e:p5e:c?T5e:S5e)(r);s5e(C||r,function(x,k){C&&(x=r[k=x]),l5e(o,k,sk(x,e,t,k,r,a))})}return o}po[kne]=po[N5e]=po[z5e]=po[q5e]=po[P5e]=po[O5e]=po[K5e]=po[V5e]=po[G5e]=po[$5e]=po[Y5e]=po[R5e]=po[D5e]=po[Pne]=po[U5e]=po[F5e]=po[j5e]=po[Q5e]=po[W5e]=po[Z5e]=po[X5e]=po[J5e]=!0,po[M5e]=po[Nne]=po[H5e]=!1;var One=sk,eje=One,tje=1,rje=4;function nje(r){return eje(r,tje|rje)}var Vs=Bv(nje),ije=$j,aje=tT;function oje(r,e,t){(t===void 0||aje(r[e],t))&&(t!==void 0||e in r)||ije(r,e,t)}var Mne=oje;function sje(r){return function(e,t,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var c=o[r?s:++i];if(t(a[c],c,a)===!1)break}return e}}var lje=sje(),cje=lje,uje=oM,hje=zg;function Aje(r){return hje(r)&&uje(r)}var dje=Aje,fje=rT,pje=e8,mje=zg,gje="[object Object]",yje=Function.prototype,vje=Object.prototype,Lne=yje.toString,_je=vje.hasOwnProperty,bje=Lne.call(Object);function wje(r){return!(!mje(r)||fje(r)!=gje)&&((r=pje(r))===null||typeof(r=_je.call(r,"constructor")&&r.constructor)=="function"&&r instanceof r&&Lne.call(r)==bje)}var Rne=wje;function Dne(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]}var xje=nT,Cje=aT;function Eje(r){return xje(r,Cje(r))}var Sje=Mne,Tje=vne,Bje=Bne,Ije=_ne,kje=Ine,IV=fne,kV=iT,Nje=dje,Pje=aM,Oje=Kj,Mje=Iv,Lje=Rne,Rje=Wj,NV=Dne,Dje=Eje;function Uje(r,e,t,n,i,a,o){var s,c,A,f=NV(r,t),y=NV(e,t),C=o.get(y);C||((e=(C=a?a(f,y,t+"",r,e,o):void 0)===void 0)&&(c=!(s=kV(y))&&Pje(y),A=!s&&!c&&Rje(y),C=y,s||c||A?C=kV(f)?f:Nje(f)?Ije(f):c?Tje(y,!(e=!1)):A?Bje(y,!(e=!1)):[]:Lje(y)||IV(y)?IV(C=f)?C=Dje(f):Mje(f)&&!Oje(f)||(C=kje(y)):e=!1),e&&(o.set(y,C),i(C,y,n,a,o),o.delete(y))),Sje(r,t,C)}var Fje=Gj,jje=Mne,Qje=cje,Hje=Uje,zje=Iv,qje=aT,Kje=Dne;function Une(r,e,t,n,i){r!==e&&Qje(e,function(a,o){var s;i=i||new Fje,zje(a)?Hje(r,e,o,t,Une,n,i):(s=n?n(Kje(r,o),a,o+"",r,e,i):void 0,jje(r,o,s=s===void 0?a:s))},qje)}var Vje=Une;function Gje(r){return r}var Fne=Gje;function $je(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}var Yje=$je,PV=Math.max;function Wje(r,e,t){return e=PV(e===void 0?r.length-1:e,0),function(){for(var n=arguments,i=-1,a=PV(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];for(var i=-1,s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=t(o),Yje(r,this,s)}}var Zje=Wje;function Xje(r){return function(){return r}}var Jje=Xje,OV=hne,e8e=OV?function(r,e){return OV(r,"toString",{configurable:!0,enumerable:!1,value:Jje(e),writable:!0})}:Fne,t8e=e8e,r8e=800,n8e=16,i8e=Date.now;function a8e(r){var e=0,t=0;return function(){var n=i8e(),i=n8e-(n-t);if(t=n,0<i){if(++e>=r8e)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var o8e=a8e(t8e),s8e=Fne,l8e=Zje,c8e=o8e;function u8e(r,e){return c8e(l8e(r,e,s8e),r+"")}var h8e=tT,A8e=oM,d8e=pne,f8e=Iv;function p8e(r,e,t){var n;return!!f8e(t)&&!!((n=typeof e)=="number"?A8e(t)&&d8e(e,t.length):n=="string"&&e in t)&&h8e(t[e],r)}var m8e=u8e,g8e=p8e;function y8e(r){return m8e(function(e,t){var n=-1,i=t.length,o=1<i?t[i-1]:void 0,a=2<i?t[2]:void 0,o=3<r.length&&typeof o=="function"?(i--,o):void 0;for(a&&g8e(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var s=t[n];s&&r(e,s,n,o)}return e})}var v8e=Vje,_8e=y8e(function(r,e,t){v8e(r,e,t)}),jne=Bv(_8e),b8e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),w8e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.layout="icons",t.mapStyles=["road","grayscale_light","grayscale_dark","night","road_shaded_relief"],t.style=vc.light,t.autoSelectionMode=!0,t}return b8e(e,r),e})(ao),x8e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),C8e=window&&window.__awaiter||function(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,e||[])).next())})},E8e=window&&window.__generator||function(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a=o&&f[o=0]?0:a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},_R=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},S8e=(function(r){function e(t){var n=r.call(this)||this;return n.styleOpsGrid=null,n.hasMouse=!1,n.hasFocus=!1,n.styleButtons=new cd,n.styleIcons=new cd,n.thumbnailCache={assumedConfiguration:void 0,response:new cd,blob:new cd},n.onStyleChange=function(){var i;n.options.autoSelectionMode&&(i=n.map.getStyle().style,n.setSelectedStyle(i))},n.onMapConfigurationChange=function(i){!n.styleOpsGrid||0<n.styleOpsGrid.children.length&&n.thumbnailCache.assumedConfiguration===i||(n.thumbnailCache.assumedConfiguration=i,Array.from(n.styleOpsGrid.children).forEach(function(a){return a.remove()}),n.styleButtons.clear(),n.populateOpsGridFromDefinitions(i))},n.mapToFriendlyStyleName=function(i,a){return a=a.configurations.find(function(o){return o.name===i}),a?.displayName||i},n.options=new w8e().merge(Vs(t)),n}return x8e(e,r),e.prototype.onAdd=function(A,n){function i(f){f?(o.classList.add(e.Css.inUse),s.classList.remove("hidden-accessible-element")):(o.classList.remove(e.Css.inUse),s.classList.add("hidden-accessible-element"))}var a=this,o=(this.map=A,this.buildContainer(A,this.options.style,"Map Style Control")),s=this.buildStyleOpsGrid(),c=(this.styleOpsGrid=s,this.buildCurrStyleBtn()),A=_c("Select Style");return s.classList.add(n&&n.position||"top-right"),o.addEventListener("mouseover",function(){a.hasMouse=!0,i(!0)}),o.addEventListener("focusin",function(){a.hasFocus=!0,i(!0)}),o.addEventListener("mouseleave",function(){a.hasMouse=!1,a.hasFocus||i(!1)}),o.addEventListener("focusout",function(f){f.target===c&&Array.from(s.children).forEach(function(y){return y.removeAttribute("tabIndex")}),f.relatedTarget instanceof Node&&o.contains(f.relatedTarget)||(a.hasFocus=!1,a.hasMouse)||i(!1)}),s.addEventListener("keydown",function(f){f.keyCode===27&&(f.stopPropagation(),c.focus(),Array.from(s.children).forEach(function(y){return y.setAttribute("tabIndex","-1")}),o.classList.contains(e.Css.inUse))&&i(!1)}),c.addEventListener("click",function(f){o.classList.contains(e.Css.inUse)?i(!1):(i(!0),s.firstElementChild&&s.firstElementChild.focus())}),n&&e.InvertOrderPositions.includes(n.position)?(o.appendChild(s),o.appendChild(c),o.appendChild(A),Mo(A,c)):(o.appendChild(c),o.appendChild(A),Mo(A,c),o.appendChild(s)),o},e.prototype.onRemove=function(){r.prototype.onRemove.call(this),this.styleOpsGrid=null,this.styleButtons.clear(),this.thumbnailCache.response.clear(),this.thumbnailCache.blob.clear(),this.thumbnailCache.assumedConfiguration=void 0,this.map.events.remove("stylechanged",this.onStyleChange),this.map.events.remove("mapconfigurationchanged",this.onMapConfigurationChange)},e.prototype.setSelectedStyle=function(t){var n,i,a=this;this.styleIcons.has(t)&&(n=this.currStyleImage,i=this.styleIcons.get(t),n.src!==i&&(n.src=i),Object.entries(this.styleButtons).forEach(function(s){var s=_R(s,2),c=s[0];return s[1].setAttribute("aria-current",c===t?"true":"false")}),this.map.styles.definitions().then(function(o){o=a.mapToFriendlyStyleName(t,o),n.alt!==o&&(n.alt=o),n.parentElement.lastChild instanceof Text&&(n.parentElement.lastChild.textContent=o)}))},e.prototype.disableStyle=function(t){t=this.styleButtons[t],t&&t.setAttribute("disabled","true")},e.prototype.enableStyle=function(t){t=this.styleButtons[t],t&&t.removeAttribute("disabled")},e.prototype.buildSelectStyleBtn=function(t,A,i){var a=this,o=document.createElement("button"),s=this.mapToFriendlyStyleName(t,A),c=(o.setAttribute("aria-label",s),o.setAttribute("type","button"),new Image),A=(i.then(function(f){var y;return a.thumbnailCache.blob.has(f.url)?a.thumbnailCache.blob.get(f.url):(y=f.clone().blob(),a.thumbnailCache.blob.set(f.url,y),y)}).then(function(f){f=URL.createObjectURL(f),c.src=f,t===a.map.getStyle().style&&(a.currStyleImage.src=f,a.currStyleImage.alt=s,a.currStyleImage.parentElement.lastChild.nodeType==Node.TEXT_NODE?a.currStyleImage.parentElement.lastChild.textContent=s:a.currStyleImage.parentElement.appendChild(document.createTextNode(s))),a.styleIcons.set(t,f)}),c.setAttribute("aria-hidden","true"),o.appendChild(c),this.options.layout==="icons"?o.classList.add(e.Css.button):(o.classList.add(e.Css.listButton),o.classList.add(e.Css.expanded),o.appendChild(document.createTextNode(s))),o.addEventListener("click",function(){a.hasMouse=!1,a.hasFocus=!1;var f=a.styleButtons[t];f&&!f.hasAttribute("disabled")&&(a._invokeEvent("styleselected",t),a.options.autoSelectionMode&&a.map.setStyle({style:t}),Object.entries(a.styleButtons).forEach(function(C){var C=_R(C,2),x=C[0];return C[1].setAttribute("aria-current",x===t?"true":"false")}))}),document.createElement("div"));return A.classList.add("selected-icon"),o.appendChild(A),o},e.prototype.buildCurrStyleBtn=function(){var t=document.createElement("button"),n=(this.options.layout=="icons"?t.classList.add(e.Css.button):t.classList.add(e.Css.listButton),t.classList.add(e.Css.currentStyle),t.setAttribute("aria-label","Select Style"),t.setAttribute("tabindex","-1"),this.currStyleImage=new Image,t.appendChild(this.currStyleImage),document.createElement("div"));return n.classList.add("icon"),t.appendChild(n),t},e.prototype.buildStyleOpsGrid=function(){var t=this,n=document.createElement("div");return n.classList.add(e.Css.styleOptions),this.options.layout==="icons"?n.classList.add(this.options.layout):n.classList.add(e.Css.dropdown),n.setAttribute("aria-label","Style Options"),n.classList.add("hidden-accessible-element"),this.map.styles.definitions().then(function(i){return C8e(t,void 0,void 0,function(){return E8e(this,function(a){return this.onMapConfigurationChange(i),this.map.events.add("stylechanged",this.onStyleChange),[2]})})}),this.map.events.add("mapconfigurationchanged",this.onMapConfigurationChange),n},e.prototype.populateOpsGridFromDefinitions=function(t){var n,i,a=this;this.styleOpsGrid&&(n=t.configurations,(n=Array.isArray(this.options.mapStyles)?n.filter(function(o){return a.options.mapStyles.includes(o.name.split("_indoor")[0])}):n).forEach(function(o){var s,c={url:o.thumbnail},A=(o.thumbnail&&a.map.styles._transformStyleRequest(o.thumbnail,c),a.map.getServiceOptions()),A=(A.transformRequest&&jne(c,A.transformRequest(c.url,"Thumbnail")),a.thumbnailCache.response.has(c.url)?s=Promise.resolve(a.thumbnailCache.response.get(c.url)):(s=fetch(c.url,{headers:c.headers}),a.thumbnailCache.response.set(c.url,s)),a.buildSelectStyleBtn(o.name,t,s));a.styleOpsGrid.appendChild(A),a.styleButtons[o.name]=A,a.options.layout==="icons"&&(c=_c(a.mapToFriendlyStyleName(o.name,t)),a.styleOpsGrid.appendChild(c),Mo(c,A))}),i=this.map.getStyle().style,Object.entries(this.styleButtons).forEach(function(s){var s=_R(s,2),c=s[0];return s[1].setAttribute("aria-current",c===i?"true":"false")}))},e.InvertOrderPositions=[kh.TopRight,kh.BottomRight],e.Css={button:"azure-maps-control-button",listButton:"azure-maps-control-list-button",expanded:"expanded",currentStyle:"curr-style",inUse:"in-use",styleOptions:"style-options",dropdown:"azure-maps-control-dropdown"},e})(fd),T8e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),UN=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.flow="none",t.incidents=!1,t}return T8e(e,r),e})(ao),B8e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),I8e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isActive=!1,t.style=vc.light,t}return B8e(e,r),e})(UN),k8e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Qne=(function(r){function e(t){var n,i=this;return(i=r.call(this)||this).hasMouse=!1,i.hasFocus=!1,i.options=new UN().merge({flow:"relative",incidents:!0}),i.style=vc.light,i.container=null,i.trafficButton=null,i.map=null,t&&(i.initIsActive=(n=t.isActive)!=null&&n,i.options.flow=t.flow||"relative",i.options.incidents=(n=t.incidents)==null||n,i.style=t.style||vc.light),i}return k8e(e,r),Object.defineProperty(e.prototype,"isActive",{get:function(){var t;return!!this.map&&((t=this.map.getTraffic()).flow!=="none"||t.incidents)},set:function(t){this.map&&this.map.setTraffic({flow:t?this.options.flow:"none",incidents:!!t&&this.options.incidents})},enumerable:!1,configurable:!0}),e.prototype.onAdd=function(n){(this.map=n).getTraffic(),this.initIsActive!==void 0&&(this.isActive=this.initIsActive),this.container=this.buildContainer(n,this.style,"Traffic Control"),this.container.style.flexDirection="column";var n=this.constructTrafficButton(n),i=(this.container.appendChild(n),_c("Toggle Traffic Display"));return this.container.appendChild(i),Mo(i,n),this.container},e.prototype.onRemove=function(){r.prototype.onRemove.call(this),this.map=null},e.prototype.getOptions=function(){return new I8e().merge({isActive:this.isActive,flow:this.options.flow,incidents:this.options.incidents,style:this.style})},e.prototype.updateButtonState=function(){this.trafficButton&&(this.isActive?(this.container.classList.add("in-use"),this.trafficButton.setAttribute("aria-description","Traffic is displayed")):(this.container.classList.remove("in-use"),this.trafficButton.removeAttribute("aria-description")),this.trafficButton.setAttribute("aria-pressed",this.isActive?"true":"false"))},e.prototype.constructTrafficButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("traffic"),i.setAttribute("aria-label","Toggle Traffic Display"),i.setAttribute("alt","Toggle Traffic Display"),i.setAttribute("type","button"),this.trafficButton=i,this.updateButtonState(),i.addEventListener("click",function(){n.isActive=!n.isActive}),i},e})(fd),N8e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),MV=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P8e=(function(r){function e(){var t=r.call(this)||this;return t.table=["Fast",["green","yellow","red","dark-red"],"Slow"],t.map=null,t.syncHiddenState=null,t}return N8e(e,r),e.prototype.onAdd=function(i){this.map=i;var n=this.buildContainer(i,vc.auto,"Traffic Legend"),i=this.buildTrafficLegendDiv(i);return n.setAttribute("role","definition"),n.appendChild(i),n},e.prototype.onRemove=function(){r.prototype.onRemove.call(this),this.syncHiddenState&&(this.map.events.remove("styledata",this.syncHiddenState),this.syncHiddenState=null),this.map=null},e.prototype.buildTrafficLegendDiv=function(t){var n,i,a,o,s=document.createElement("div"),c=(s.classList.add("traffic-legend","hidden"),s.setAttribute("alt","Traffic Legend"),document.createElement("table")),A=document.createElement("tr"),f=document.createElement("td"),y=(f.setAttribute("alt","Traffic"),f.appendChild(document.createTextNode("Traffic")),_c("Traffic")),C=(f.classList.add("traffic-legend-title"),f.colSpan=6,A.appendChild(f),A.appendChild(y),Mo(y,f),c.appendChild(A),document.createElement("tr"));try{for(var x=MV(this.table),k=x.next();!k.done;k=x.next()){var N=k.value,M=document.createElement("td");if(N==="Fast"||N==="Slow")M.setAttribute("alt",N),M.appendChild(document.createTextNode(N)),M.classList.add("traffic-legend-text");else{M.classList.add("traffic-legend-colors"),M.setAttribute("aria-label","Traffic Legend"),M.setAttribute("role","img");try{a=void 0;for(var D=MV(N),H=D.next();!H.done;H=D.next()){var q=H.value,$=document.createElement("div");$.classList.add(q),M.appendChild($)}}catch(V){a={error:V}}finally{try{H&&!H.done&&(o=D.return)&&o.call(D)}finally{if(a)throw a.error}}}C.appendChild(M);var ce=_c(N instanceof Array?"Traffic Legend":N);C.appendChild(ce),Mo(ce,M)}}catch(V){n={error:V}}finally{try{k&&!k.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}return c.appendChild(C),s.appendChild(c),this.syncHiddenState=function(V){V.dataType==="style"&&((V=t.getTraffic()).flow&&V.flow!=="none"?s.classList.remove("hidden"):s.classList.add("hidden"))},this.syncHiddenState({dataType:"style"}),t.events.add("styledata",this.syncHiddenState),s},e})(fd),O8e="__lodash_hash_undefined__";function M8e(r){return this.__data__.set(r,O8e),this}function L8e(r){return this.__data__.has(r)}var R8e=une,D8e=M8e,U8e=L8e;function lk(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new R8e;++e<t;)this.add(r[e])}lk.prototype.add=lk.prototype.push=D8e,lk.prototype.has=U8e;function F8e(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}function j8e(r,e){return r.has(e)}var Q8e=lk,H8e=F8e,z8e=j8e,q8e=1,K8e=2;function V8e(r,e,t,n,i,a){var o=t&q8e,s=r.length,c=e.length;if(s!=c&&!(o&&s<c))return!1;var c=a.get(r),A=a.get(e);if(c&&A)return c==e&&A==r;var f=-1,y=!0,C=t&K8e?new Q8e:void 0;for(a.set(r,e),a.set(e,r);++f<s;){var x,k=r[f],N=e[f];if((x=n?o?n(N,k,f,e,r,a):n(k,N,f,r,e,a):x)!==void 0){if(x)continue;y=!1;break}if(C){if(!H8e(e,function(M,D){if(!z8e(C,D)&&(k===M||i(k,M,t,n,a)))return C.push(D)})){y=!1;break}}else if(k!==N&&!i(k,N,t,n,a)){y=!1;break}}return a.delete(r),a.delete(e),y}var Hne=V8e;function G8e(r){var e=-1,t=Array(r.size);return r.forEach(function(n,i){t[++e]=[i,n]}),t}function $8e(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}var LV=Tne,Y8e=tT,W8e=Hne,Z8e=G8e,X8e=$8e,J8e=1,eQe=2,tQe="[object Boolean]",rQe="[object Date]",nQe="[object Error]",iQe="[object Map]",aQe="[object Number]",oQe="[object RegExp]",sQe="[object Set]",lQe="[object String]",cQe="[object Symbol]",uQe="[object ArrayBuffer]",hQe="[object DataView]",RV=N_?N_.prototype:void 0,bR=RV?RV.valueOf:void 0;function AQe(r,e,t,n,i,a,o){switch(t){case hQe:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case uQe:return!!(r.byteLength==e.byteLength&&a(new LV(r),new LV(e)));case tQe:case rQe:case aQe:return Y8e(+r,+e);case nQe:return r.name==e.name&&r.message==e.message;case oQe:case lQe:return r==e+"";case iQe:var s=Z8e;case sQe:if(s=s||X8e,r.size!=e.size&&!(n&J8e))return!1;var c=o.get(r);return c?c==e:(n|=eQe,o.set(r,e),c=W8e(s(r),s(e),n,i,a,o),o.delete(r),c);case cQe:if(bR)return bR.call(r)==bR.call(e)}return!1}var dQe=AQe,DV=Ene,fQe=1,pQe=Object.prototype,mQe=pQe.hasOwnProperty;function gQe(r,e,t,n,i,a){var o=t&fQe,s=DV(r),c=s.length;if(c!=DV(e).length&&!o)return!1;for(var A=c;A--;){var f=s[A];if(!(o?f in e:mQe.call(e,f)))return!1}var y=a.get(r),C=a.get(e);if(y&&C)return y==e&&C==r;for(var x=!0,k=(a.set(r,e),a.set(e,r),o);++A<c;){var N,M=r[f=s[A]],D=e[f];if(!((N=n?o?n(D,M,f,e,r,a):n(M,D,f,r,e,a):N)===void 0?M===D||i(M,D,t,n,a):N)){x=!1;break}k=k||f=="constructor"}return x&&!k&&(y=r.constructor)!=(C=e.constructor)&&"constructor"in r&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof C=="function"&&C instanceof C)&&(x=!1),a.delete(r),a.delete(e),x}var wR=Gj,yQe=Hne,vQe=dQe,_Qe=gQe,UV=sM,FV=iT,jV=aM,bQe=Wj,wQe=1,QV="[object Arguments]",HV="[object Array]",cI="[object Object]",xQe=Object.prototype,zV=xQe.hasOwnProperty;function CQe(r,e,t,n,i,a){var o=FV(r),f=FV(e),s=o?HV:UV(r),f=f?HV:UV(e),c=(s=s==QV?cI:s)==cI,A=(f=f==QV?cI:f)==cI,f=s==f;if(f&&jV(r)){if(!jV(e))return!1;c=!(o=!0)}return f&&!c?(a=a||new wR,o||bQe(r)?yQe(r,e,t,n,i,a):vQe(r,e,s,t,n,i,a)):!(t&wQe)&&(o=c&&zV.call(r,"__wrapped__"),s=A&&zV.call(e,"__wrapped__"),o||s)?i(o?r.value():r,s?e.value():e,t,n,a=a||new wR):f&&(a=a||new wR,_Qe(r,e,t,n,i,a))}var EQe=CQe,qV=zg;function zne(r,e,t,n,i){return r===e||(r==null||e==null||!qV(r)&&!qV(e)?r!=r&&e!=e:EQe(r,e,t,n,zne,i))}var SQe=zne;function TQe(r,e){return SQe(r,e)}var mo,ra,Ha,Qa,ta,Nh=Bv(TQe),zf=(function(){function r(e,t,n,i){this.type="Feature",this.type=r.TYPE,this.properties=t||{},this.id=n,this.geometry=e,this.bbox=i}return r.TYPE="Feature",r})(),BQe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),iu=(function(r){function e(t,n){return r.call(this,t,n)||this}return BQe(e,r),e.fromData=function(t){var n=NaN,i=NaN,a=new Set(["y"]),o=new Set(["x"]);return Object.keys(t).forEach(function(s){var c=s.toLowerCase();isNaN(n)&&a.has(c)&&typeof t[s]=="number"?n=t[s]:isNaN(i)&&o.has(c)&&typeof t[s]=="number"&&(i=t[s])}),isNaN(n)||isNaN(i)?null:new e(n,i)},e.getX=function(t){return 0<t.length?t[0]:NaN},e.getY=function(t){return 1<t.length?t[1]:NaN},e.getDestination=function(t,n,i){return new e(e.getX(t)+i*Math.cos((n+270)*Math.PI/180),e.getY(t)+i*Math.sin((n+270)*Math.PI/180))},e.getDistance=function(a,n){var i=e.getX(a)-e.getX(n),a=e.getY(a)-e.getY(n);return Math.sqrt(i*i+a*a)},e.getHeading=function(a,n){var i=e.getX(n)-e.getX(a),a=e.getY(a)-e.getY(n);return 180*(2.5*Math.PI-Math.atan2(a,i))/Math.PI%360},e})(Array),qf=(function(){function r(e){this.type="Point",this.type=r.TYPE,this.coordinates=e}return r.TYPE="Point",r})(),aS=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},IQe=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FN=6378137,kQe=Math.PI/180,qne=180/Math.PI,KV=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],oS=85.0511;function tu(r){return r*kQe}function sS(r){return r*qne}function r8(r,e,t){return Math.min(Math.max(r,e),t)}function Kne(i,e){var n=tu(e[1]-i[1]),t=tu(e[0]-i[0]),n=Math.pow(Math.sin(n/2),2)+Math.cos(tu(i[1]))*Math.cos(tu(e[1]))*Math.pow(Math.sin(t/2),2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n));return Math.round(FN*i*100)/100}function GU(r){if(r)switch(r.toLowerCase()){case"feet":case"foot":case"ft":return ra.feet;case"kilometers":case"kilometer":case"kilometres":case"kilometre":case"km":case"kms":return ra.kilometers;case"miles":case"mile":case"mi":return ra.miles;case"nauticalmiles":case"nauticalmile":case"nms":case"nm":return ra.nauticalMiles;case"yards":case"yard":case"yds":case"yrd":case"yrds":return ra.yards;default:return ra.meters}return ra.meters}function VV(r){if(r)switch(r.toLowerCase()){case"milespersecondsquared":case"milepersecondsquared":case"mi/s^2":case"mi/s2":return ta.milesPerSecondSquared;case"kilometerspersecondsquared":case"kilometrespersecondsquared":case"kilometerpersecondsquared":case"kilometrepersecondsquared":case"km/s^2":case"km/s2":return ta.kilometersPerSecondSquared;case"knotspersecond":case"knotpersecond":case"knts/s":case"kn/s":case"kt/s":return ta.knotsPerSecond;case"standardgravity":case"g":return ta.standardGravity;case"feetpersecondsquared":case"footpersecondsquared":case"ft/s^2":case"ft/s2":return ta.feetPerSecondSquared;case"yardspersecondsquared":case"yardpersecondsquared":case"yds/s^2":case"yds/s2":case"yd/s^2":case"yd/s2":return ta.yardsPerSecondSquared;case"milesperhoursecond":case"mileperhoursecond":case"milesperhourseconds":case"mileperhourseconds":case"mi/h/s":return ta.milesPerHourSecond;case"kilometersperhoursecond":case"kilometrespersoursecond":case"kilometerperhoursecond":case"kilometrepersoursecond":case"kilometersperhourssecond":case"kilometrespersourssecond":case"kilometerperhourssecond":case"kilometrepersourssecond":case"kmhs":case"km/h/s":return ta.kilometersPerHourSecond;default:return ta.metersPerSecondSquared}return ta.metersPerSecondSquared}function GV(r){if(r)switch(r){case"acres":case"ac":return mo.acres;case"hectares":case"ha":return mo.hectares;case"squareFeet":case"ft^2":case"ft2":return mo.squareFeet;case"squareYards":case"squareYard":case"yds^2":case"yds2":case"yd^2":case"yd2":return mo.squareYards;case"squareKilometers":case"squareKilometres":case"squareKilometer":case"squareKilometre":case"km^2":case"km2":return mo.squareKilometers;case"squareMiles":case"squareMile":case"mi^2":case"mi2":return mo.squareMiles;default:return mo.squareMeters}return mo.squareMeters}function $V(r){if(r)switch(r.toLowerCase()){case"feetpersecond":case"footsecond":case"ftps":case"ft/s":return Qa.feetPerSecond;case"milesperhour":case"mileperhour":case"mph":case"mi/hr":case"mi/h":return Qa.milesPerHour;case"knots":case"knot":case"knts":case"knt":case"kn":case"kt":return Qa.knots;case"mach":case"m":return Qa.mach;case"kilometersperhour":case"kilometresperhour":case"kmperhour":case"kmph":case"km/hr":case"km/h":return Qa.kilometersPerHour;default:return Qa.metersPerSecond}return Qa.metersPerSecond}function YV(r){if(r)switch(r.toLowerCase()){case"milliseconds":case"ms":return Ha.ms;case"minutes":case"minute":case"mins":case"min":return Ha.minutes;case"hours":case"hour":case"hr":case"h":return Ha.hours;case"days":case"day":case"d":return Ha.days;default:return Ha.seconds}return Ha.seconds}function WV(r){var e=0;if(r&&0<r.length)for(var e=Math.abs(ZV(r[0])),t=1,n=r.length;t<n;t++)e-=Math.abs(ZV(r[t]));return e}function ZV(r){var e=0;if(3<=r.length){for(var t=void 0,n=void 0,i=0,a=r.length;i<a;i++)e+=(tu(r[i===a-2?(t=a-2,n=a-1,0):i===a-1?(t=a-1,n=0,1):(n=(t=i)+1,i+2)][0])-tu(r[t][0]))*Math.sin(tu(r[n][1]));e=e*FN*FN/2}return e}function XV(r,e,t){return(r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0])}function NQe(r,e,t){if(2<=t.length){for(var n,i,a,o=1/0,s=null,c=oT(t,22),A=0,f=c.length-1;A<f;A++)i=PQe(e,c[A],c[A+1]),(n=iu.getDistance(e,i))<o&&(o=n,s=i);if(s)return a=o8([s],22)[0],new zf(new qf(a),{distance:gA(r,a)})}else if(t.length===1)return new zf(new qf(t[0]),{distance:gA(r,t[0])});return null}function PQe(r,e,t){var n,i;return e[0]===t[0]&&e[1]===t[1]||(i=r[0]-e[0],r=r[1]-e[1],(r=((n=t[0]-e[0])*i+(i=t[1]-e[1])*r)/(n*n+i*i))<0)?e:1<r?t:[e[0]+n*r,e[1]+i*r]}function uA(r,e){var t;return!isNaN(r)&&typeof e=="number"&&0<=e&&(t=void 0,t=e<KV.length?KV[e]:Math.pow(10,e),r=Math.round(r*t)/t),r}function OQe(i){var e=bs(Ii.getWest(i)),t=bs(Ii.getEast(i)),n=dl(Ii.getNorth(i)),a=dl(Ii.getSouth(i)),i=Ii.getCenter(i),a=[[e,n],[e,a],[i[0],a],[t,a],[t,n],[i[0],n],[e,n]];return new cM([a])}function Cg(r,e,t,n){switch(GU(e)){case ra.meters:r/=1e3;break;case ra.feet:r/=3280.8399;break;case ra.miles:r/=.62137119;break;case ra.yards:r/=1093.6133;break;case ra.nauticalMiles:r/=.5399568;break;case ra.kilometers:}switch(GU(t)){case ra.meters:r*=1e3;break;case ra.feet:r*=3280.8399;break;case ra.miles:r*=.62137119;break;case ra.yards:r*=1093.6133;break;case ra.nauticalMiles:r*=.5399568;break;case ra.kilometers:}return typeof n=="number"&&0<=n&&(e=Math.pow(10,n),r=Math.round(r*e)/e),r}function MQe(r,e,t,n){if(!r||r.length<=2)return c;typeof e!="number"&&(e=.5),(typeof t!="number"||t<=0)&&(t=15);var i,a,o,s=r.length,c=r.slice(0),A=(n?(ru.areEqual(c[0],c[s-1])&&(c.pop(),s--),c.unshift(r[s-1]),c.push(r[0]),c.push(r[1]),s++):(c.unshift(r[0]),c.push(r[s-1])),[]);A.push([1,0,0,0]);for(var f=1;f<t-1;f++)A.push([2*(o=(i=f/t)*(a=i*i))-3*a+1,-2*o+3*a,o-2*a+i,o-a]);A.push([0,1,0,0]);for(var y,C,x,k,N,M,D=[],f=1;f<s;f++)for(y=e*(c[f+1][0]-c[f-1][0]),C=e*(c[f+1][1]-c[f-1][1]),x=e*(c[f+2][0]-c[f][0]),k=e*(c[f+2][1]-c[f][1]),i=0;i<t;i++)M=(N=A[i])[0]*c[f][0]+N[1]*c[f+1][0]+N[2]*y+N[3]*x,N=r8(N[0]*c[f][1]+N[1]*c[f+1][1]+N[2]*C+N[3]*k,-85,85),D.push([M,N]);return D}function nx(s,c,a,o){o=o||"meters",s=Mh(s);var o=n8(o),i=tu(s[1]),s=tu(s[0]),c=tu(c),a=a/o,o=Math.asin(Math.sin(i)*Math.cos(a)+Math.cos(i)*Math.sin(a)*Math.cos(c)),s=s+Math.atan2(Math.sin(c)*Math.sin(a)*Math.cos(i),Math.cos(a)-Math.sin(i)*Math.sin(o)),c=r8(dl(sS(o)),-85,85);return[bs(sS(s)),c]}function gA(r,e,t){return r=Kne(r=Mh(r),e=Mh(e)),t==="meters"?r:Cg(r,"meters",t||"meters")}function n8(r){return r=GU(r),Cg(FN,ra.meters,r)}function Vne(r,e,t){for(var n=[],i=tu(r[1]),a=tu(r[0]),o=tu(e[1]),s=tu(e[0]),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin((i-o)/2),2)+Math.cos(i)*Math.cos(o)*Math.pow(Math.sin((a-s)/2),2))),A=0;A<=t;A++){var C=A/t,x=Math.sin((1-C)*c)/Math.sin(c),C=Math.sin(C*c)/Math.sin(c),f=x*Math.cos(i)*Math.cos(a)+C*Math.cos(o)*Math.cos(s),y=x*Math.cos(i)*Math.sin(a)+C*Math.cos(o)*Math.sin(s),x=x*Math.sin(i)+C*Math.sin(o),C=Math.atan2(x,Math.sqrt(Math.pow(f,2)+Math.pow(y,2))),x=Math.atan2(y,f),C=r8(sS(C),-85,85),x=sS(x);n.push([x,C])}return n}function i8(r){return(Array.isArray(r)?r:r.coordinates).reduce(function(e,t){var n=0<e.length?e[e.length-1]:null;return n&&180<Math.abs(t[0]-n[0])?(n=n[0]<0?t[0]-360:t[0]+360,e.push([n,t[1]])):e.push(t),e},[])}function Gne(r){for(var e,t,n,i,a,o=Array.isArray(r)?r:r.coordinates,s=[],c=[],A=0;A<o.length;A++)s.push(o[A]),A+1>=o.length||(e=(t=aS(o[A],2))[0],t=t[1],i=(a=aS(o[A+1],2))[0],a=a[1],180<Math.abs(i-e)&&(n=0<e?180:-180,i=Math.abs((0<e?i+360:i-360)-e),a=t+(a-t)*(Math.abs(n-e)/i),s.push([n,a]),c.push(s),s=[[-n,a]]));return c.push(s),c}function LQe(r,e){(!e||e<=0)&&(e=15),Array.isArray(r)?t=r:r.type&&r.type==="LineString"&&(t=r.coordinates);for(var t,n=t.length-1,i=[],a=0;a<n;a++)i=i.concat(Vne(t[a],t[a+1],e));return i8(i)}function RQe(r,e){(!e||e<=0)&&(e=15),Array.isArray(r)?t=r:r.type&&r.type==="LineString"&&(t=r.coordinates);for(var t,n=t.length-1,i=[],a=[],o=0;o<n;o++)for(var s,c,A,f,y,C=Vne(t[o],t[o+1],e),x=0;x<C.length;x++)i.push(C[x]),x+1>=C.length||(s=(c=aS(C[x],2))[0],c=c[1],f=(y=aS(C[x+1],2))[0],y=y[1],180<Math.abs(f-s)&&(A=0<s?180:-180,f=Math.abs((0<s?f+360:f-360)-s),y=c+(y-c)*(Math.abs(A-s)/f),i.push([A,y]),a.push(i),i=[[-A,y]]));return a.push(i),a}function iv(r,e){var t,n;return r=Mh(r),e=Mh(e),r&&2<=r.length&&e&&2<=e.length?(n=tu(r[1]),t=tu(e[1]),e=tu(e[0]-r[0]),r=Math.sin(e)*Math.cos(t),n=Math.cos(n)*Math.sin(t)-Math.sin(n)*Math.cos(t)*Math.cos(e),(sS(Math.atan2(r,n))+360)%360):NaN}function a8(r,e){var t,n=0;Array.isArray(r)?t=r:r.type&&r.type==="LineString"&&(t=r.coordinates);for(var i=0,a=t.length-1;i<a;i++)n+=Kne(t[i],t[i+1]);return Cg(n,"meters",e||"meters")}function $ne(r,e,t){t=t||"meters";var n,i=0;if(Array.isArray(r)?n=r:r.type&&r.type==="LineString"&&(n=r.coordinates),2<=n.length){for(var a,o,s=n.length,c=1;c<s;c++){if(e<=i+(o=gA(n[c-1],n[c],t)))return a=iv(n[c-1],n[c]),nx(n[c-1],a,e-i,t);i+=o}return i<=e?n[s-1]:n[0]}return null}function Yne(r,e,t,n,i){n=n||"meters",i=i||0,r=Mh(r);for(var a=[],o=360/t,s=0;s<=t;s++)a.push(nx(r,(s*o+i)%360,e,n));return a}function Wne(r,e,t,n,i){return i8(Yne(r,e,t,n,i))}function DQe(r,e,t,n,i){return Gne(Yne(r,e,t,n,i))}function $U(r,e,t){t=t===void 0?.5:t;var n=gA(r=Mh(r),e=Mh(e),"kilometers");return nx(r,iv(r,e),n*t,"kilometers")}function dl(r){return 90<r?180<(r=(r+90)%360)?90-(r-180):r-90:r<-90?(r=(r-90)%360)<-180?-90-(r+180):r+90:r}function bs(r){return 180<r?(r+180)%360-180:r<-180?(r-180)%360+180:r}function Zne(r,e,t){if(t===0)return Object.assign({},r);e=Mh(e);for(var n,i,a=[],o=0,s=r.length;o<s;o++)n=gA(e,r[o]),i=iv(e,r[o]),a.push(nx(e,i+t,n));return a}function UQe(t,i){t=Mh(t),i=Mh(i);var t=aS(oT([t,i],21),2),i=t[0],t=t[1],n=t[0]-i[0],i=i[1]-t[1];return(2.5*Math.PI-Math.atan2(i,n))*qne%360}function o8(r,e){for(var t,n,i=512*Math.pow(2,e),a=[],o=0,s=r.length;o<s;o++)t=r[o][0]/i-.5,n=.5-r[o][1]/i,a.push([360*t,90-360*Math.atan(Math.exp(2*-n*Math.PI))/Math.PI]);return a}function oT(r,e){for(var t,n,i=512*Math.pow(2,e),a=[],o=0,s=r.length;o<s;o++)n=Math.sin(r[o][1]*Math.PI/180),t=(r[o][0]+180)/360,n=.5-Math.log((1+n)/(1-n))/(4*Math.PI),a.push([Math.round(t*i),Math.round(n*i)]);return a}function lM(r,e,t,n){switch(VV(e)){case ta.kilometersPerHourSecond:r/=3.6;break;case ta.milesPerHourSecond:r/=2.236936292054;break;case ta.knotsPerSecond:r/=1.943844492441;break;case ta.standardGravity:r/=.1019716212978;break;case ta.kilometersPerSecondSquared:r/=.001;break;case ta.milesPerSecondSquared:r/=.000621371192;break;case ta.feetPerSecondSquared:r/=3.280839895012;break;case ta.yardsPerSecondSquared:r/=1.093613298338;break;case ta.metersPerSecondSquared:}switch(VV(t)){case ta.kilometersPerHourSecond:r*=3.6;break;case ta.milesPerHourSecond:r*=2.236936292054;break;case ta.knotsPerSecond:r*=1.943844492441;break;case ta.standardGravity:r*=.1019716212978;break;case ta.kilometersPerSecondSquared:r*=.001;break;case ta.milesPerSecondSquared:r*=.000621371192;break;case ta.feetPerSecondSquared:r*=3.280839895012;break;case ta.yardsPerSecondSquared:r*=1.093613298338;break;case ta.metersPerSecondSquared:}return uA(r,n)}function Xne(r,e,t,n){switch(GV(e)){case mo.acres:r*=4046.8564224;break;case mo.hectares:r*=1e4;break;case mo.squareFeet:r*=.09290304;break;case mo.squareKilometers:r*=1e6;break;case mo.squareMiles:r*=259e4;break;case mo.squareYards:r*=.83612736;break;case mo.squareMeters:}switch(GV(t)){case mo.acres:r/=4046.8564224;break;case mo.hectares:r/=1e4;break;case mo.squareFeet:r/=.09290304;break;case mo.squareKilometers:r/=1e6;break;case mo.squareMiles:r/=259e4;break;case mo.squareYards:r/=.83612736;break;case mo.squareMeters:}return uA(r,n)}function P_(r,e,t,n){switch($V(e)){case Qa.feetPerSecond:r*=1.09728;break;case Qa.milesPerHour:r*=1.6093;break;case Qa.knots:r*=1.852;break;case Qa.metersPerSecond:r*=3.6;break;case Qa.mach:r*=1234.8;break;case Qa.kilometersPerHour:}switch($V(t)){case Qa.feetPerSecond:r/=1.09728;break;case Qa.milesPerHour:r/=1.6093;break;case Qa.knots:r/=1.852;break;case Qa.metersPerSecond:r/=3.6;break;case Qa.mach:r/=1234.8;break;case Qa.kilometersPerHour:}return uA(r,n)}function ix(r,e,t,n){switch(YV(e)){case Ha.ms:r/=1e3;break;case Ha.hours:r*=3600;break;case Ha.minutes:r*=60;break;case Ha.days:r*=86400;break;case Ha.seconds:}switch(YV(t)){case Ha.ms:r*=1e3;break;case Ha.hours:r/=3600;break;case Ha.minutes:r/=60;break;case Ha.days:r/=86400;break;case Ha.seconds:}return uA(r,n)}function Jne(r,e,t,n,i,a,o,s){return e=Cg(e,i,ra.meters),i=ix(t,a,Ha.seconds),lM(2*(e-P_(r,n,Qa.metersPerSecond)*i)/(i*i),ta.metersPerSecondSquared,o,s)}function eie(r,e,t,n,i,a,o){return r=P_(r,n,Qa.metersPerSecond),lM((P_(e,n,Qa.metersPerSecond)-r)/ix(t,i,Ha.seconds),ta.metersPerSecondSquared,a,o)}function FQe(r,e,t,n,i,a,o){if(typeof t=="string"&&r.type==="Feature"&&r.geometry.type==="Point"&&e.type==="Feature"&&e.geometry.type==="Point"&&(t=s8(r.properties[t],e.properties[t],Ha.seconds),!isNaN(t))){var s=0;if(n&&typeof n=="string"){var c=r.properties[n],n=e.properties[n];if(typeof c=="number"&&(s=c,typeof n=="number"))return eie(c,n,t,i,Ha.seconds,a,o)}return Jne(s,gA(r.geometry.coordinates,e.geometry.coordinates,ra.meters),t,i,ra.meters,Ha.seconds,a,o)}return NaN}function tie(r,e,t){if(r){var n=0;switch((r=r instanceof Oo?r.toJson():r).type){case"Feature":var i=r;if(i.geometry)return tie(i.geometry,e,t);break;case"Polygon":i=r,i.coordinates&&(n=WV(i.coordinates));break;case"MultiPolygon":var a=r;if(a.coordinates)for(var o=0,s=a.coordinates.length;o<s;o++)n+=WV(a.coordinates[o])}return Xne(n,mo.squareMeters,e,t)}return 0}function jQe(r,e,t,n,i,a){return r=Mh(r),e=Mh(e),r&&e?(t=ix(t,n,Ha.seconds),P_(gA(r,e,ra.meters)/t,Qa.metersPerSecond,i,a)):0}function QQe(r,e,t,n,i){return typeof t=="string"&&r.type==="Feature"&&r.geometry.type==="Point"&&e.type==="Feature"&&e.geometry.type==="Point"&&(t=s8(r.properties[t],e.properties[t],Ha.seconds),!isNaN(t))?P_(gA(r.geometry.coordinates,e.geometry.coordinates,ra.meters)/t,Qa.metersPerSecond,n,i):NaN}function s8(r,e,t,n){return r=YU(r),e=YU(e),r!=null&&e!=null?ix(e.getTime()-r.getTime(),Ha.ms,t,n):NaN}function HQe(r,e,t,n,i,a,o,s){return e=ix(e,i,Ha.seconds),i=(t=P_(t,a,Qa.metersPerSecond))*e,typeof n=="number"&&(i+=.5*lM(n,o,ta.metersPerSecondSquared)*e*e),Cg(i,ra.meters,r,s)}function YU(r){if(Object.prototype.toString.call(r)==="[object Date]")return r;if(typeof r=="string"){var e=Date.parse(r);if(!isNaN(e))return new Date(e);if(0<=r.indexOf("Date("))return e=(e=0)<(r=r.replace("/Date(","").replace(")/","")).indexOf("+")?parseInt(r.substr(0,r.indexOf("+")),10):0<r.indexOf("-")?parseInt(r.substr(0,r.indexOf("-")),10):parseInt(r,10),new Date(e)}else if(typeof r=="number")return new Date(r);return null}function zQe(r){var e,t,n=M0(r).map(function(f){return[bs(f[0]),dl(f[1])]}),i=(n.sort(function(f,y){return f[0]===y[0]?f[1]-y[1]:f[0]-y[0]}),[]);try{for(var a=IQe(n),o=a.next();!o.done;o=a.next()){for(var s=o.value;2<=i.length&&XV(i[i.length-2],i[i.length-1],s)<=0;)i.pop();i.push(s)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}for(var c=[],A=n.length-1;0<=A;A--){for(;2<=c.length&&XV(c[c.length-2],c[c.length-1],n[A])<=0;)c.pop();c.push(n[A])}return new cM([i.concat(c)])}function M0(r){var e=[],t=null,n=null;if(Array.isArray(r)&&0<r.length)if(Array.isArray(r[0])&&typeof r[0][0]=="number")e=r;else for(var i=r.length,a=0;a<i;a++)e=e.concat(M0(r[a]));else if(r.type)switch(r.type){case"Point":e=[r.coordinates];break;case"LineString":e=r.coordinates;break;case"Polygon":t=r.coordinates;break;case"MultiPoint":e=r.coordinates;break;case"MultiLineString":t=r.coordinates;break;case"MultiPolygon":n=r.coordinates;break;case"Feature":var o=r,e=Oo._isCircle(o)?Oo._getCirclePositions(o):M0(o.geometry);break;case"FeatureCollection":e=M0(r.features);break;case"GeometryCollection":e=M0(r.geometries)}else if(r instanceof Oo)return M0(r.toJson());if(t)for(i=t.length,a=0;a<i;a++)e=e.concat(t[a]);else if(n)for(var s=n.length,a=0;a<s;a++)for(var c=n[a].length,A=0;A<c;A++)e=e.concat(n[a][A]);return e}function Mh(r){if(Array.isArray(r)&&typeof r[0]=="number")return r;if(r.type){if(r.type==="Point")return r.coordinates;if(r.type==="Feature"&&r.geometry.type==="Point")return r.geometry.coordinates}else if(r instanceof Oo&&r.getType()==="Point")return r.getCoordinates();return null}function qQe(r,e){if(e<2)return[];for(var t=[],n=a8(r,ra.meters)/(e-1),i=0;i<e;i++){var a=$ne(r,n*i,ra.meters);a!=null&&t.push(a)}return t}function rie(r,e,t){t=t||"meters";var n,i=0;if(Array.isArray(r)?n=r:r.type&&r.type==="LineString"&&(n=r.coordinates),2<=n.length){for(var a,o,s,c=n.length,A=1;A<c;A++){if(e<=i+(s=gA(n[A-1],n[A],t)))return a=iv(n[A-1],n[A]),o=nx(n[A-1],a,e-i,t),new zf(new qf(o),{heading:a});i+=s}return i<=e?new zf(new qf(n[c-1]),{heading:iv(n[c-2],n[c-1])}):new zf(new qf(n[0]),{heading:iv(n[0],n[1])})}return null}function KQe(r,e){if(e<=0)return[];for(var t=[],n=a8(r,ra.meters)/(e-1),i=0;i<e;i++){var a=rie(r,n*i,ra.meters);a!=null&&t.push(a)}return t}function jN(r,e,t,n){var i=Mh(r),a=oT([i],22)[0],o=null,s=1/0;switch((e=e instanceof Oo?e.toJson():e).type){case"Feature":return jN(r,e.geometry,t);case"Point":x=[[e.coordinates]];break;case"MultiPoint":for(var c,A=e.coordinates,f=0,y=A.length;f<y;f++)(c=gA(i,A[f]))<s&&(s=c,o=new zf(new qf(A[f]),{distance:c}));break;case"LineString":x=[e.coordinates];break;case"Polygon":case"MultiLineString":x=e.coordinates;break;case"MultiPolygon":var C=e.coordinates;if(0<C.length)for(var x=C[0],f=1,y=C.length;f<y;f++)x=x.concat(C[f])}if(x)for(var k,f=0,y=x.length;f<y;f++)(k=NQe(i,a,x[f]))&&k.properties.distance<s&&(s=k.properties.distance,o=k);return o&&(o.properties.distance=Cg(o.properties.distance,"meters",t,n)),o}(function(r){r.squareMeters="squareMeters",r.acres="acres",r.hectares="hectares",r.squareFeet="squareFeet",r.squareKilometers="squareKilometers",r.squareMiles="squareMiles",r.squareYards="squareYards"})(mo=mo||{}),(function(r){r.meters="meters",r.kilometers="kilometers",r.feet="feet",r.miles="miles",r.nauticalMiles="nauticalMiles",r.yards="yards"})(ra=ra||{}),(function(r){r.seconds="seconds",r.hours="hours",r.ms="ms",r.minutes="minutes",r.days="days"})(Ha=Ha||{}),(function(r){r.metersPerSecond="metersPerSecond",r.kilometersPerHour="kilometersPerHour",r.feetPerSecond="feetPerSecond",r.milesPerHour="milesPerHour",r.knots="knots",r.mach="mach"})(Qa=Qa||{}),(function(r){r.milesPerSecondSquared="milesPerSecondSquared",r.kilometersPerSecondSquared="kilometersPerSecondSquared",r.knotsPerSecond="knotsPerSecond",r.standardGravity="standardGravity",r.feetPerSecondSquared="feetPerSecondSquared",r.yardsPerSecondSquared="yardsPerSecondSquared",r.milesPerHourSecond="milesPerHourSecond",r.kilometersPerHourSecond="kilometersPerHourSecond",r.metersPerSecondSquared="metersPerSecondSquared"})(ta=ta||{});var VQe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),ru=(function(r){function e(t,n,i){return i?r.call(this,t,n,i)||this:r.call(this,t,n)||this}return VQe(e,r),e.fromPosition=function(t){return t.length===2?new e(t[0],t[1]):2<t.length?new e(t[0],t[1],t[2]):null},e.areEqual=function(t,n,i){var a,o;return i===void 0&&(i=6),!!(t&&2<=t.length&&n&&2<=n.length)&&(i=Math.pow(10,i),o=dl(t[1]),a=dl(n[1]),t=bs(t[0]),n=bs(n[0]),Math.round((o-a)*i)/i==0)&&((o=Math.round((t-n)*i)/i)==0||o==360)},e.fromLatLng=function(t,n,i){var a,o,s,c,A,f,y=[];return typeof t=="number"?(typeof n=="number"&&y.push(n),y.push(t),typeof i=="number"&&y.push(i)):Array.isArray(t)?2<=t.length&&typeof t[0]=="number"&&typeof t[1]=="number"&&(3<=t.length&&typeof t[2]=="number"?y.push(t[1],t[0],t[2]):y.push(t[1],t[0])):typeof t=="object"&&(a=["lat","latitude","y"],o=["lng","longitude","lon","x"],s=["elv","elevation","alt","altitude","z"],f=A=c=NaN,Object.keys(t).forEach(function(C,x,k){var N=C.toLowerCase();isNaN(c)&&0<=a.indexOf(N)&&typeof t[C]=="number"?c=t[C]:isNaN(A)&&0<=o.indexOf(N)&&typeof t[C]=="number"?A=t[C]:isNaN(f)&&0<=s.indexOf(N)&&typeof t[C]=="number"&&(f=t[C])}),isNaN(c)||isNaN(A)||(y.push(A,c),isNaN(f))||y.push(f)),2<=y.length?y:null},e.fromLatLngs=function(t){var n=[];if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++){var o=e.fromLatLng(t[i]);o&&n.push(o)}return n},e._getDimensions=function(t){for(var n=0;Array.isArray(t);)t=t[0],n++;return typeof t=="number"&&n--,n},e})(Array),cM=(function(){function r(e,t){this.type="Polygon",this.type=r.TYPE,ru._getDimensions(e)===1?this.coordinates=[e]:this.coordinates=e,this.bbox=t}return r.TYPE="Polygon",r})(),GQe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),JV=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oo=(function(r){function e(t,n,i){var a,o,s=r.call(this)||this;return t.type==="Feature"?(o=Vs((a=t).geometry),i=a.properties?Vs(a.properties):{},n=a.id==null||a.id===""?k_():a.id):(o=Vs(t),n=n==null||n===""?k_():n,i=i?Vs(i):{}),i[e._shapeIdPropName]=n,s.data=new zf(o,i,n),s._handleCircle(),s}return GQe(e,r),e.prototype.addProperty=function(t,n){Nh(this.data.properties[t],n)||(this.data.properties[t]=Vs(n),t!=="subType"&&t!=="radius"||this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},e.prototype.getBounds=function(){var t,n,i,a,o,s=this.getCoordinates(),c=this.getType();if(c==="Point")o=this.circlePolygon?(A=this.circlePolygon.geometry.coordinates,Ii.fromPositions(A[0])):new Ii(A=s,A);else if(c==="MultiPoint"||c==="LineString"){var A=s;o=Ii.fromPositions(A)}else if(c==="Polygon")A=s,o=Ii.fromPositions(A[0]);else if(c==="MultiLineString"){A=s;try{for(var f=JV(A),y=f.next();!y.done;y=f.next()){var C=y.value;o=Ii.merge(o,Ii.fromPositions(C))}}catch(M){t={error:M}}finally{try{y&&!y.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}}else if(c==="MultiPolygon"){A=s;try{for(var x=JV(A),k=x.next();!k.done;k=x.next()){var N=k.value;o=Ii.merge(o,Ii.fromPositions(N[0]))}}catch(M){i={error:M}}finally{try{k&&!k.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}}return o},e.prototype.getCoordinates=function(){return Vs(this.data.geometry.coordinates)},e.prototype.getCircleCoordinates=function(){return this.circlePolygon?Vs(this.circlePolygon.geometry.coordinates[0]):null},e.prototype.getId=function(){return this.data.id},e.prototype.getProperties=function(){return Vs(this.data.properties)},e.prototype.getType=function(){return this.data.geometry.type},e.prototype.isCircle=function(){return e._isCircle(this.data)},e.prototype.isRectangle=function(){return e._isRectangle(this.data)},e.prototype.setCoordinates=function(t){t=this.getType()==="Polygon"&&ru._getDimensions(t)===1?[t]:t,Nh(this.data.geometry.coordinates,t)||(this.data.geometry.coordinates=Vs(t),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},e.prototype.setProperties=function(t){t[e._shapeIdPropName]=this.data.id,Nh(this.data.properties,t)||(this.data.properties=Vs(t),this._handleCircle(),this.dataSource&&this.dataSource._updateSource(),this._invokeEvent("shapechanged",this))},e.prototype.toJson=function(){return JSON.parse(JSON.stringify(this.data))},e.prototype._toJson=function(){return this.circlePolygon||this.data},e.prototype._setDataSource=function(t){t===void 0||t==null?delete this.dataSource:this.dataSource=t},e.prototype._handleCircle=function(){var t;this.isCircle()?(t=e._getCirclePositions(this.data),this.circlePolygon=new zf(new cM([t]),this.data.properties,this.data.id),this.data.properties.subType="Circle"):delete this.circlePolygon},e._isCircle=function(t){return t&&t.geometry&&t.geometry.type==="Point"&&t.geometry.coordinates&&t.properties&&typeof t.properties.subType=="string"&&t.properties.subType.toLowerCase()==="circle"&&typeof t.properties.radius=="number"},e._isRectangle=function(t){if(t.geometry.type==="Polygon"&&t.geometry.coordinates&&typeof t.properties.subType=="string"&&t.properties.subType.toLowerCase()==="rectangle"&&(t=t.geometry.coordinates,t.length===1)){if(t=t[0],t.length===5)return t[0][0]===t[4][0]&&t[0][1]===t[4][1];if(t.length===4)return!0}return!1},e._getCirclePositions=function(t){return Wne(t.geometry.coordinates,t.properties.radius,72,"meters")},e._shapeIdPropName="_azureMapsShapeId",e})(Hg),$Qe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),YQe=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ii=(function(r){function e(t,n){var i,a=this;return t&&n?a=(i=t)[2]&&n[2]?r.call(this,i[0],i[1],i[2]||0,n[0],n[1],n[2]||0)||this:r.call(this,i[0],i[1],n[0],n[1])||this:t&&(i=t)&&(i.length===4?a=r.call(this,i[0],i[1],i[2],i[3])||this:6<=i.length&&(a=r.call(this,i[0],i[1],i[2],i[3],i[4],i[5])||this)),a}return $Qe(e,r),e.fromBoundingBox=function(o){var n=e.getWest(o),i=e.getSouth(o),a=e.getEast(o),o=e.getNorth(o);return new e([n,i,a,o])},e.fromDimensions=function(s,n,c){var a=s[0],s=s[1],o=Math.min(Math.max(s+c/2,-85.5),85.5),s=Math.min(Math.max(s-c/2,-85.5),85.5),c=bs(a+n/2);return new e([bs(a-n/2),s,c,o])},e.fromEdges=function(t,n,i,a){return new e([t,n,i,a])},e.containsPosition=function(s,o){var a=e.getCenter(s),i=Math.abs(a[1]-o[1]),a=Math.abs(a[0]-o[0]),o=(180<a&&(a=360-a),e.getHeight(s)),s=e.getWidth(s);return i<=o/2+1e-8&&a<=s/2+1e-8},e.containsBoundingBox=function(t,n){var i=t&&t.length===4,a=n&&n.length===4;return!(!i||!a)&&e.getWest(t)<e.getWest(n)&&e.getWest(n)<e.getEast(t)&&e.getWest(t)<e.getEast(n)&&e.getEast(n)<e.getEast(t)&&e.getSouth(t)<e.getSouth(n)&&e.getSouth(n)<e.getNorth(t)&&e.getSouth(t)<e.getNorth(n)&&e.getNorth(n)<e.getNorth(t)},e.crossesAntimeridian=function(t){return bs(e.getEast(t))-bs(e.getWest(t))<0||e.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe(t)||e.isBoundingBoxWithLessThanSixElementsLargerThanGlobe(t)},e.getCenter=function(a){var i=bs(e.getEast(a)),n=bs(e.getWest(a)),n=(i<n&&(i+=360),bs((n+i)/2)),i=dl(e.getSouth(a)),a=dl(e.getNorth(a));return[n,dl((i+a)/2)]},e.getHeight=function(t){return t=dl(e.getNorth(t))-dl(e.getSouth(t)),isNaN(t)?0:t},e.getWidth=function(t){return t=bs(e.getEast(t))-bs(e.getWest(t)),isNaN(t)?0:t<0?t+360:t},e.getSouthWest=function(i){var n=this.getSouth(i),i=this.getWest(i);return isNaN(n)||isNaN(i)?null:[i,n]},e.getNorthEast=function(i){var n=this.getNorth(i),i=this.getEast(i);return isNaN(n)||isNaN(i)?null:[i,n]},e.getNorthWest=function(i){var n=this.getNorth(i),i=this.getWest(i);return isNaN(n)||isNaN(i)?null:[i,n]},e.getSouthEast=function(i){var n=this.getSouth(i),i=this.getEast(i);return isNaN(n)||isNaN(i)?null:[i,n]},e.getSouth=function(t){return t&&4<=t.length?Number(t[1]):NaN},e.getWest=function(t){return t&&4<=t.length?Number(t[0]):NaN},e.getNorth=function(t){if(t){if(t.length===4)return Number(t[3]);if(t.length===6)return Number(t[4])}return NaN},e.getEast=function(t){if(t){if(t.length===4)return Number(t[2]);if(t.length===6)return Number(t[3])}return NaN},e.intersect=function(s,A){var a=e.getCenter(s),o=e.getCenter(A),i=Math.abs(a[1]-o[1]),a=Math.abs(a[0]-o[0]),o=(180<a&&(a=360-a),e.getHeight(s)),s=e.getWidth(s),c=e.getHeight(A),A=e.getWidth(A);return i<=o/2+c/2&&a<=s/2+A/2},e.merge=function(t,n){var i=t&&t.length===4,a=n&&n.length===4;if(i&&!a)return t;if(a&&!i)return n;if(!i&&!a)return null;for(var i=Math.max(dl(e.getNorth(t)),dl(e.getNorth(n))),a=Math.min(dl(e.getSouth(t)),dl(e.getSouth(n))),o=[t,n],s=[],c=0,c=0;c<o.length;c++){var A=o[c],f=bs(e.getWest(A)),y=bs(e.getEast(A));e.crossesAntimeridian(A)?(s.push([f,180]),s.push([-180,y])):s.push([f,y])}s.sort(function(q,$){return q[0]===$[0]?q[1]-$[1]:q[0]-$[0]});var C=[],x=s[0];for(c=1;c<s.length;){var k=s[c];x[1]>=k[0]?x[1]=Math.max(x[1],k[1]):(C.push(x),x=k),c++}C.push(x);var N=C.length,M=C[0][0]+360-C[N-1][1],D=[C[N-1][1],C[0][0]];for(c=1;c<N;c++){var H=C[c][0]-C[c-1][1];M<H&&(M=H,D=[C[c-1][1],C[c][0]])}return new e([D[1],a],[D[0],i])},e.fromPositions=function(t){for(var n,i,a=NaN,o=NaN,s=NaN,c=NaN,A=t.length,f=new Array(A),y=0;A--;)(i=t[A])&&2<=i.length&&(n=dl(i[1]),a=isNaN(a)?n:Math.max(a,n),o=isNaN(o)?n:Math.min(o,n),f[y++]=bs(i[0]));if(y){f.length=y,f.sort(function(N,M){return N-M});for(var C=f[0]+360-f[y-1],x=0,A=1;A<y;A++){var k=f[A]-f[A-1];C<k&&(C=k,x=A)}s=f[x],c=f[(x||y)-1]}return isNaN(s)||isNaN(o)||isNaN(c)||isNaN(a)?null:new e([s,o,c,a])},e.fromLatLngs=function(t){return e.fromPositions(ru.fromLatLngs(t))},e.fromData=function(t){var n,i,a=null;if(Array.isArray(t)&&0<t.length){try{for(var o=YQe(t),s=o.next();!s.done;s=o.next()){var c,A=s.value;(c=e.fromData(A))!=null&&(a=a===null?c:e.merge(a,c))}}catch(H){n={error:H}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}if(t instanceof Oo)return t.getBounds();if(t&&t.type){var f=t;if(f.bbox&&f.bbox.length===4)return f.bbox;switch(f.type){case"FeatureCollection":return e.fromData(f.features);case"Feature":return Oo._isCircle(f)?e.fromPositions(Oo._getCirclePositions(f)):e.fromData(f.geometry);case"GeometryCollection":return e.fromData(f.geometries);case"Point":var y=f.coordinates;if(y&&2<=y.length)return[y[0],y[1],y[0],y[1]];break;case"LineString":case"MultiPoint":return e.fromPositions(f.coordinates);case"Polygon":case"MultiLineString":var C=f.coordinates;if(C&&0<C.length){for(var x=0,k=C.length;x<k;x++)(c=e.fromPositions(C[x]))!=null&&(a=a===null?c:e.merge(a,c));if(a!=null)return a}break;case"MultiPolygon":var N=f.coordinates;if(N&&0<N.length){for(x=0,k=N.length;x<k;x++)for(var M=0,D=N[x].length;M<D;M++)(c=e.fromPositions(N[x][M]))!=null&&(a=a===null?c:e.merge(a,c));return a}}}return null},e.splitOnAntimeridian=function(t){var n,i,a,o,s,c,A=[];return e.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe(t)?[[-180,t[1],t[2],180,t[4],t[5]]]:e.isBoundingBoxWithLessThanSixElementsLargerThanGlobe(t)?[[-180,t[1],180,t[3]]]:(e.crossesAntimeridian(t)?(c=n=void 0,i=bs(e.getWest(t)),a=bs(e.getEast(t)),o=dl(e.getNorth(t)),s=dl(e.getSouth(t)),c=6<=t.length?(n=[i,s,t[2],180,o,t[5]],[-180,s,t[2],a,o,t[5]]):(n=[i,s,180,o],[-180,s,a,o]),A.push(n,c)):A.push(t),A)},e.isBoundingBoxWithSixOrMoreElementsLargerThanGlobe=function(t){return 6<=t.length&&360<t[3]-t[0]},e.isBoundingBoxWithLessThanSixElementsLargerThanGlobe=function(t){return t.length<6&&360<t[2]-t[0]},e})(Array),V0=(function(){function r(e,t){this.type="FeatureCollection",this.type=r.TYPE,this.features=e,this.bbox=t}return r.TYPE="FeatureCollection",r})(),WQe=(function(){function r(e){this.type="GeometryCollection",this.type=r.TYPE,this.geometries=e}return r.TYPE="GeometryCollection",r})(),ZQe=(function(){function r(e,t){this.type="LineString",this.type=r.TYPE,this.coordinates=e,this.bbox=t}return r.TYPE="LineString",r})(),XQe=(function(){function r(e,t){this.type="MultiLineString",this.type=r.TYPE,this.coordinates=e,this.bbox=t}return r.TYPE="MultiLineString",r})(),JQe=(function(){function r(e,t){this.type="MultiPoint",this.type=r.TYPE,this.coordinates=e,this.bbox=t}return r.TYPE="MultiPoint",r})(),eHe=(function(){function r(e,t){this.type="MultiPolygon",this.type=r.TYPE,this.coordinates=e,this.bbox=t}return r.TYPE="MultiPolygon",r})(),tHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rHe=(function(r){function e(t,n,i){return r.call(this,t,n,i||0)||this}return tHe(e,r),e.fromPosition=function(t){return 2<=t.length?new e((180+t[0])/360,e._latToMercatorY(t[1]),3<=t.length?e._altitudeToMercatorZ(t[2],t[1]):0):[0,0,0]},e.fromPositions=function(t){for(var n=[],i=0,a=t.length;i<a;i++)n.push(this.fromPosition(t[i]));return n},e.toFloat32Array=function(t){for(var n=new Float32Array(3*t.length),i=0,a=t.length;i<a;i++){var o=3*i,s=t[i];n[o]=(180+s[0])/360,n[1+o]=e._latToMercatorY(s[1]),n[2+o]=3<=s.length?e._altitudeToMercatorZ(s[2],s[1]):0}return n},e.toPosition=function(t){var n;return 2<=t.length?(n=360/Math.PI*Math.atan(Math.exp((180-360*t[1])*Math.PI/180))-90,new ru(360*t[0]-180,n,3<=t.length?e._mercatorZToAltitude(t[2],t[1]):0)):[0,0,0]},e.toPositions=function(t){for(var n=[],i=0,a=t.length;i<a;i++)n.push(this.toPosition(t[i]));return n},e.mercatorScale=function(t){return 1/Math.cos(t*Math.PI/180)},e.meterInMercatorUnits=function(t){return 1/e.earthCircumference*e.mercatorScale(e._latToMercatorY(t))},e._circumferenceAtLatitude=function(t){return e.earthCircumference*Math.cos(t*Math.PI/180)},e._altitudeToMercatorZ=function(t,n){return t/e._circumferenceAtLatitude(n)},e._mercatorZToAltitude=function(t,n){return t*e._circumferenceAtLatitude(e._latToMercatorY(n))},e._latToMercatorY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360},e.earthCircumference=2*Math.PI*n8(),e})(Array),YC=Object.freeze({__proto__:null,BoundingBox:Ii,Feature:zf,FeatureCollection:V0,GeometryCollection:WQe,LineString:ZQe,MercatorPoint:rHe,MultiLineString:XQe,MultiPoint:JQe,MultiPolygon:eHe,Point:qf,Polygon:cM,Position:ru});function WU(r,e){return r*r+e*e}function nHe(r,e){return WU(r[0]-e[0],r[1]-e[1])}function iHe(r,a,t){var n,i=a[0],a=a[1],o=t[0]-i,s=t[1]-a;return o==0&&s==0||(1<(n=((r[0]-i)*o+(r[1]-a)*s)/WU(o,s))?(i=t[0],a=t[1]):0<n&&(i+=o*n,a+=s*n)),WU(r[0]-i,r[1]-a)}function aHe(r,e){for(var t,n=r[0],i=[n],a=1,o=r.length;a<o;a++)nHe(t=r[a],n)>e&&(i.push(t),n=t);return n!==t&&i.push(t),i}function ZU(r,e,t,n,i){for(var a,o=n,s=e+1;s<t;s++){var c=iHe(r[s],r[e],r[t]);o<c&&(a=s,o=c)}n<o&&(1<a-e&&ZU(r,e,a,n,i),i.push(r[a]),1<t-a)&&ZU(r,a,t,n,i)}function oHe(r,e){var t=r.length-1,n=[r[0]];return ZU(r,0,t,e,n),n.push(r[t]),n}function sHe(r,e,t){return e===void 0&&(e=1),t===void 0&&(t=!1),r.length<=2||(e=e*e,r=oHe(r=t?r:aHe(r,e),e)),r}var lHe=sHe;function cHe(r,e){return lHe(r,e,!0)}var uHe=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ck=(function(){function r(e,t){this.M=r._calculateAffineTransform(e,t),this.inverseM=r._calculateAffineTransform(t,e)}return r.prototype.toTarget=function(e,t){return this.transformArray(e,this.M,t)},r.prototype.toSource=function(e,t){return this.transformArray(e,this.inverseM,t)},r.prototype.transformArray=function(e,t,n){var i,a;if(e&&Array.isArray(e)&&Array.isArray(e[0])){var o=[];try{for(var s=uHe(e),c=s.next();!c.done;c=s.next()){var A=c.value;o.push(this.transform(A,t,n))}}catch(f){i={error:f}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return o}return null},r.prototype.transform=function(a,t,n){var i=a[0]*t[0][3]+a[1]*t[1][3]+t[2][3],a=a[0]*t[0][4]+a[1]*t[1][4]+t[2][4];return typeof n=="number"&&0<=n?[uA(i,n),uA(a,n)]:[uA(i,6),uA(a,6)]},r._calculateAffineTransform=function(e,t){if(e.length!==t.length||e.length<1)throw new Error("Error: source and target arrays must have the same length.");var n=Math.min(e[0].length,t[0].length),i=n+1;if(e.length<n)throw new Error("Erorr: At least "+n+" reference points required.");for(var a=[],o=[],s=0;s<i;s++){o[s]=[];for(var c=0;c<i;c++){c<n&&(a[c]=0);for(var A=o[s][c]=0;A<e.length;A++)c<n&&(a[c]+=s<n?e[A][s]*t[A][c]:t[A][c]),o[s][c]+=n<=s&&n<=c?1:n<=s?e[A][c]:n<=c?e[A][s]:e[A][s]*e[A][c]}o[s]=o[s].concat(a)}if(this._gaussJordanElimination(o))return o;throw new Error("Error: Singular matrix. Points are likely coplanar.")},r._gaussJordanElimination=function(e){for(var t,n=e.length,i=2*n-1,a=0;a<n;a++){for(var o=a,s=a+1;s<n;s++)Math.abs(e[s][a])>Math.abs(e[o][a])&&(o=s);if(t=e[o],e[o]=e[a],e[a]=t,Math.abs(e[a][a])<=1e-12)return!1;for(var c=a+1;c<n;c++)for(var A=e[c][a]/e[a][a],f=a;f<i;f++)e[c][f]-=e[a][f]*A}for(a=n-1;-1<a;a--){for(A=e[a][a],s=0;s<a;s++)for(var y=i-1;a-1<y;y--)e[s][y]-=e[a][y]*e[s][a]/A;e[a][a]/=A;for(var C=n;C<i;C++)e[a][C]/=A}return!0},r})(),hHe=Object.freeze({__proto__:null,get AccelerationUnits(){return ta},AffineTransform:ck,get AreaUnits(){return mo},get DistanceUnits(){return ra},get SpeedUnits(){return Qa},get TimeUnits(){return Ha},WEBMERCATOR_MAXLAT:oS,_precision:uA,boundingBoxToPolygon:OQe,convertAcceleration:lM,convertArea:Xne,convertDistance:Cg,convertSpeed:P_,convertTimespan:ix,getAcceleration:Jne,getAccelerationFromFeatures:FQe,getAccelerationFromSpeeds:eie,getArea:tie,getCardinalSpline:MQe,getClosestPointOnGeometry:jN,getConvexHull:zQe,getDestination:nx,getDistanceTo:gA,getEarthRadius:n8,getGeodesicPath:LQe,getGeodesicPaths:RQe,getHeading:iv,getLengthOfPath:a8,getPathDenormalizedAtAntimerian:i8,getPathSplitByAntimeridian:Gne,getPixelHeading:UQe,getPointWithHeadingAlongPath:rie,getPointsWithHeadingsAlongPath:KQe,getPosition:Mh,getPositionAlongPath:$ne,getPositions:M0,getPositionsAlongPath:qQe,getRegularPolygonPath:Wne,getRegularPolygonPaths:DQe,getSpeed:jQe,getSpeedFromFeatures:QQe,getTimespan:s8,getTravelDistance:HQe,interpolate:$U,mercatorPixelsToPositions:o8,mercatorPositionsToPixels:oT,normalizeLatitude:dl,normalizeLongitude:bs,parseTimestamp:YU,rotatePositions:Zne,simplify:cHe}),AHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),dHe=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoomDelta=1,t.style=vc.light,t}return AHe(e,r),e})(ao),fHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),pHe=(function(r){function e(t){var n=r.call(this)||this;return n.container=null,n.zoomInButton=null,n.zoomOutButton=null,n.zoomChanged=function(i){return n.updateZoomButtonsState()},n.minZoomChanged=function(i){return n.updateZoomButtonsState()},n.maxZoomChanged=function(i){return n.updateZoomButtonsState()},n.options=new dHe().merge(t),n}return fHe(e,r),e.prototype.onAdd=function(t){this.container=this.buildContainer(t,this.options.style,"Zoom Control"),this.container.style.flexDirection="column",this.zoomInButton=this.constructZoomInButton(t),this.zoomOutButton=this.constructZoomOutButton(t);var n=_c("Zoom In"),i=_c("Zoom Out");return this.container.appendChild(this.zoomInButton),this.container.appendChild(n),this.container.appendChild(this.zoomOutButton),this.container.appendChild(i),Mo(n,this.zoomInButton),Mo(i,this.zoomOutButton),t.events.add("zoom",this.zoomChanged),t.events.add("minzoomchanged",this.minZoomChanged),t.events.add("maxzoomchanged",this.maxZoomChanged),this.map=t,this.container},e.prototype.onRemove=function(){r.prototype.onRemove.call(this),this.map&&(this.map.events.remove("zoom",this.zoomChanged),this.map.events.remove("minzoomchanged",this.minZoomChanged),this.map.events.remove("maxzoomchanged",this.maxZoomChanged),this.map=null),this.container&&(this.container.remove(),this.container=null,this.zoomInButton=null,this.zoomOutButton=null)},e.prototype.updateZoomButtonsState=function(){var t=this.map.getCamera().zoom>=this.map._getMap().getMaxZoom(),n=Ii.getSouth(this.map.getCamera().bounds)<=-oS&&Ii.getNorth(this.map.getCamera().bounds)>=oS,n=this.map.getCamera().zoom<=this.map._getMap().getMinZoom()||n;this.zoomInButton&&this.zoomInButton.disabled!=t&&(this.zoomInButton.disabled=t,this.zoomInButton.setAttribute("aria-label",t?"Zoom In disabled":"Zoom In")),this.zoomOutButton&&this.zoomOutButton.disabled!=n&&(this.zoomOutButton.disabled=n,this.zoomOutButton.setAttribute("aria-label",t?"Zoom Out disabled":"Zoom Out"))},e.prototype.constructZoomInButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("zoom-in"),i.setAttribute("aria-label","Zoom In"),i.setAttribute("alt","Zoom In"),i.setAttribute("type","button"),i.addEventListener("click",function(){t.setCamera({zoom:t.getCamera().zoom+n.options.zoomDelta,duration:e.ZOOM_DURATION_MS,type:"ease"},!0)}),i},e.prototype.constructZoomOutButton=function(t){var n=this,i=document.createElement("button");return i.classList.add("azure-maps-control-button"),i.classList.add("zoom-out"),i.setAttribute("aria-label","Zoom Out"),i.setAttribute("alt","Zoom Out"),i.setAttribute("type","button"),i.addEventListener("click",function(){t.setCamera({zoom:t.getCamera().zoom-n.options.zoomDelta,duration:e.ZOOM_DURATION_MS,type:"ease"},!0)}),i},e.ZOOM_DURATION_MS=200,e})(fd),mHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),gHe=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.style=vc.light,t.hideIfUnsupported=!1,t.container=void 0,t}return mHe(e,r),e})(ao),yHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),vHe=(function(r){function e(t){var n=r.call(this)||this;return n.map=null,n.isFullscreenState=!1,n.options=new gHe().merge(t),n.control=new Oh.FullscreenControl({container:n.options.container}),n}return yHe(e,r),e.prototype.onAdd=function(t){var n,i,a=this,o=(this.map=t,(o=(o=this.map)==null?void 0:o._getMap())!=null&&o.addControl(this.control),this.buildContainer(t,this.options.style,"Fullscreen Control")),s=this.control._fullscreenButton;return s&&(n=s.querySelector("span"))&&(i=_c("Enter Fullscreen"),o.appendChild(s),s.classList.add("azure-maps-control-button","fullscreen"),n.classList.add("fullscreen-icon","fullscreen-end"),s.removeAttribute("title"),o.appendChild(i),Mo(i,s),this.control.on("fullscreenstart",function(){s.removeAttribute("title"),n.classList.remove("fullscreen-end"),n.classList.add("fullscreen-start"),i.innerText="Exit Fullscreen",a.isFullscreenState=!0}),this.control.on("fullscreenend",function(){s.removeAttribute("title"),n.classList.remove("fullscreen-start"),n.classList.add("fullscreen-end"),i.innerText="Enter Fullscreen",a.isFullscreenState=!1})),this.options.hideIfUnsupported&&!e.isSupported()&&(o.style.display="none"),o},e.prototype.onRemove=function(){var t;r.prototype.onRemove.call(this),(t=(t=this.map)==null?void 0:t._getMap())!=null&&t.removeControl(this.control),this.map=null},e.prototype.isFullscreen=function(){return this.isFullscreenState},e.isSupported=function(){var t=document;return t.fullscreenEnabled||t.msFullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled},e})(fd),XU=Object.freeze({__proto__:null,CompassControl:one,ControlBase:fd,FullscreenControl:vHe,PitchControl:MLe,ScaleControl:RLe,StyleControl:S8e,TrafficControl:Qne,TrafficLegendControl:P8e,ZoomControl:pHe}),_He=One,bHe=1,wHe=4;function xHe(r,e){return _He(r,bHe|wHe,e=typeof e=="function"?e:void 0)}var ia=Bv(xHe),CHe=(function(){function r(e){var t=this;this.attach=function(n){t.map!==n&&(t.map&&t.detachFromCurrentMap(),t.map=n,t.map.indicators._getCollectionDiv().appendChild(t.element),t.map.indicators.add(t))},this.remove=function(){t.detachFromCurrentMap(),t.element.remove()},this.getElement=function(){return t.element},this.detachFromCurrentMap=function(){t.map&&(t.map.indicators.remove(t),delete t.map)},this.element=document.createElement("div"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("role","option"),e!=null&&e.setSize&&this.element.setAttribute("aria-setsize",e.setSize.toString()),e!=null&&e.positionInSet&&this.element.setAttribute("aria-posinset",e.positionInSet.toString()),this.element.setAttribute("aria-label","data point"),this.element.classList.add(r.Css.hidden)}return r.Css={hidden:"hidden-accessible-element"},r})(),EHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),eG=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buffer=128,t.maxZoom=18,t.cluster=!1,t.clusterRadius=50,t.clusterMaxZoom=void 0,t.clusterProperties=void 0,t.lineMetrics=!1,t.tolerance=.375,t.clusterMinPoints=2,t.generateId=!1,t.promoteId=void 0,t.filter=void 0,t}return EHe(e,r),e})(ao),SHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),wo=(function(r){function e(t){var n=r.call(this)||this;return n.id=t||k_(),n}return SHe(e,r),e.prototype.getId=function(){return this.id},e.prototype._setMap=function(t,n){var i;n===void 0&&(n=!0),t==null||t===void 0?(i=this.map,delete this.map,n&&(this._invokeEvent("sourceremoved",this),i)&&i.events.invoke("sourceremoved",this)):(this.map=t,n&&(this._invokeEvent("sourceadded",this),this.map.events.invoke("sourceadded",this)))},e})(Hg),THe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uI=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nd=(function(r){function e(t,n){return t=r.call(this,t)||this,t.requestId=void 0,t.options=new eG().merge(Vs(n)),t.shapes=[],t.shapesMap=new cd,t}return THe(e,r),e.prototype.add=function(t,n){this._addNoUpdate(t,n),this._updateSource()},e.prototype.clear=function(){this._clearNoUpdate(),this._updateSource()},e.prototype.dispose=function(){this.options=null,this.shapes=null,this.shapesMap=null,this.map=null},e.prototype.getClusterExpansionZoom=function(t){var n=this;return new Promise(function(i,a){var o;n.map?(o=n.map._getMap().getSource(n.getId()))&&o.type==="geojson"&&o.getClusterExpansionZoom(t).then(function(s){typeof s=="number"&&i(s)}).catch(function(s){s&&a(s)}):a("The DataSource hasn't been added to a map.")})},e.prototype.getClusterChildren=function(t){var n=this;return new Promise(function(i,a){var o;n.map?(o=n.map._getMap().getSource(n.getId()))&&o.type==="geojson"&&o.getClusterChildren(t).then(function(s){s&&i(n.map.sources._mapFeaturesToShapes(s,!1,n))}).catch(function(s){s&&a(s)}):a("The DataSource hasn't been added to a map.")})},e.prototype.getClusterLeaves=function(t,n,i){var a=this;return new Promise(function(o,s){var c;a.map?(c=a.map._getMap().getSource(a.getId()))&&c.type==="geojson"&&c.getClusterLeaves(t,n,i).then(function(A){A&&o(a.map.sources._mapFeaturesToShapes(A,!1,a))}).catch(function(A){A&&s(A)}):s("The DataSource hasn't been added to a map.")})},e.prototype.getOptions=function(){return Vs(this.options)},e.prototype.getShapes=function(){return Array.from(this.shapes)},e.prototype.importDataFromUrl=function(t){var n=this;return fetch(t,{method:"GET",mode:"cors"}).then(function(i){if(i.ok)return i.json();throw new Error("HTTP ".concat(i.status,": ").concat(i.statusText))}).then(function(i){n.add(i)})},e.prototype.getShapeById=function(t){return this.shapes[this.shapesMap.get(t)]||null},e.prototype.remove=function(a){var n,i,a=Array.isArray(a)?a:[a];try{for(var o=uI(a),s=o.next();!s.done;s=o.next()){var c=s.value;typeof c=="number"?this._removeByIndex(c):this._removeById(c)}}catch(A){n={error:A}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this._updateSource()},e.prototype.removeById=function(a){var n,i,a=Array.isArray(a)?a:[a];try{for(var o=uI(a),s=o.next();!s.done;s=o.next()){var c=s.value;this._removeById(c)}}catch(A){n={error:A}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this._updateSource()},e.prototype.setOptions=function(t){t=new eG().merge(this.options,Vs(t)),Nh(this.options,t)||(this._invokeEvent("datasourceupdated",this),this.options=t,this.map&&this.map._rebuildStyle())},e.prototype.setShapes=function(t){this._clearNoUpdate(),this.add(t)},e.prototype.toJson=function(){return new V0(this.shapes.map(function(t){return t.toJson()}))},e.prototype._toJson=function(){return new V0(this.shapes.map(function(t){return t._toJson()}))},e.prototype._buildSource=function(){var t={type:"geojson",data:this._toJson(),maxzoom:this.options.maxZoom,cluster:this.options.cluster,clusterRadius:this.options.clusterRadius,tolerance:this.options.tolerance,lineMetrics:this.options.lineMetrics,clusterProperties:this.options.clusterProperties,buffer:this.options.buffer,clusterMinPoints:this.options.clusterMinPoints,generateId:this.options.generateId,promoteId:this.options.promoteId,filter:this.options.filter};return typeof this.options.clusterMaxZoom=="number"&&(t.clusterMaxZoom=this.options.clusterMaxZoom),t},e.prototype._isDeepEqual=function(t){var n;return this.constructor===t.constructor&&(n=this._buildSource(),t=t._buildSource(),n.type===t.type)&&n.maxzoom===t.maxzoom&&n.cluster===t.cluster&&n.clusterRadius===t.clusterRadius&&n.tolerance===t.tolerance&&n.lineMetrics===t.lineMetrics&&JSON.stringify(n.clusterProperties)===JSON.stringify(t.clusterProperties)&&n.buffer===t.buffer&&n.clusterMinPoints===t.clusterMinPoints&&n.generateId===t.generateId&&n.promoteId===t.promoteId&&n.filter===t.filter},e.prototype._addNoUpdate=function(t,n){var i;t instanceof Oo?(this._addToSources(t,n),i=[t]):Array.isArray(t)?(i=t.map(function(a){return a instanceof Oo?a:new Oo(a)}),this._addToSources(i,n)):t.type==="FeatureCollection"?(i=t.features.map(function(a){return new Oo(a)}),this._addToSources(i,n)):t.type==="GeometryCollection"?(i=t.geometries.map(function(a){return new Oo(a)}),this._addToSources(i,n)):(t=new Oo(t),this._addToSources(t,n),i=[t]),this._invokeEvent("dataadded",i)},e.prototype._clearNoUpdate=function(){var t=this.shapes;this.shapes=[],this.shapesMap=new cd,t&&0<t.length&&this._invokeEvent("dataremoved",t)},e.prototype._updateSource=function(){var t=this;this.requestId===void 0&&(this.requestId=requestAnimationFrame(function(){t._updateMboxSource(),t.requestId=void 0}))},e.prototype._addToSources=function(t,n){var i,a,o,s;if(t=Array.isArray(t)?t:[t],typeof n!="number")try{for(var c=uI(t),A=c.next();!A.done;A=c.next()){var f=A.value;this.shapes.push(f),this.shapesMap.set(f.getId(),this.shapes.length-1)}}catch(k){i={error:k}}finally{try{A&&!A.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}else for(var y=t.length-1;0<=y;y--)this.shapes.splice(n,0,t[y]),this._updateShapesMap(n);try{for(var C=uI(t),x=C.next();!x.done;x=C.next())(f=x.value)._setDataSource(this)}catch(k){o={error:k}}finally{try{x&&!x.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}},e.prototype._removeById=function(n){var n=n instanceof Oo?n.getId():typeof n=="string"||typeof n=="number"?n:n.id,i=this.shapes[this.shapesMap.get(n)];i&&(i._setDataSource(null),this.shapes.splice(this.shapesMap.get(n),1),this._updateShapesMap(this.shapesMap.get(n)),this.shapesMap.delete(n),this._invokeEvent("dataremoved",[i]))},e.prototype._removeByIndex=function(t){var n;if(t>=this.shapes.length)throw new Error("The specified remove index '".concat(t,"' ")+"is greater than the maximum possible index '".concat(this.shapes.length-1,"'"));n=this.shapes[t],this.shapesMap.delete(n.getId()),n._setDataSource(null),this.shapes.splice(t,1),this._updateShapesMap(t),this._invokeEvent("dataremoved",[n])},e.prototype._updateShapesMap=function(t){for(var n=t;n<this.shapes.length;n++)this.shapesMap.set(this.shapes[n].getId(),n)},e.prototype._updateMboxSource=function(){var t;this.map&&this.map._getMap()&&(t=this.map._getMap().getSource(this.getId()))&&t.type==="geojson"&&t.setData(this._toJson())},e})(wo),BHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nie=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.bounds=void 0,t.minZoom=0,t.maxZoom=22,t.isTMS=!1,t.tiles=void 0,t.url=void 0,t}return BHe(e,r),e})(ao),IHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),iie=(function(r){function e(t,n){return t=r.call(this,t)||this,t.options=new nie().merge(Vs(n)),t}return IHe(e,r),e.prototype.getOptions=function(){return Vs(this.options)},e.prototype.getShape=function(t,n){return this.map._getMap().querySourceFeatures(this.getId(),{sourceLayer:t,filter:n})},e.prototype._buildSource=function(){var t={type:"vector"};return this.options.bounds&&(t.bounds=this.options.bounds),this.options.tiles?(t.tiles=this.options.tiles,t.minzoom=this.options.minZoom,t.maxzoom=this.options.maxZoom):this.options.url&&(t.url=this.options.url),this.options.isTMS&&(t.scheme="tms"),t},e.prototype._isDeepEqual=function(t){var n,i;return this.constructor===t.constructor&&(n=this._buildSource(),i=t._buildSource(),n.type===i.type)&&n.url===i.url&&(n.tiles===void 0&&i.tiles===void 0||n.tiles&&i.tiles&&n.tiles.length===i.tiles.length&&n.tiles.every(function(a,o){return a===i.tiles[o]}))&&n.minzoom===i.minzoom&&n.maxzoom===i.maxzoom&&n.bounds===i.bounds&&n.attribution===i.attribution&&n.promoteId===i.promoteId&&n.scheme===i.scheme},e})(wo),kHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),aie=(function(r){function e(t,n,i){return t=r.call(this,t)||this,t.source=n,t}return kHe(e,r),e.prototype._isDeepEqual=function(t){var n;return this.constructor===t.constructor&&(n=this.source,t=t.source,n.type===t.type)&&n.canvas===t.canvas&&JSON.stringify(n.coordinates)===JSON.stringify(t.coordinates)&&n.animate===t.animate},e.prototype._buildSource=function(){return this.source},e})(wo),NHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),oie=(function(r){function e(t,n,i){return t=r.call(this,t)||this,t.source=n,t}return NHe(e,r),e.prototype._isDeepEqual=function(t){var n;return this.constructor===t.constructor&&(n=this.source,t=t.source,n.type===t.type)},e.prototype._buildSource=function(){return this.source},e})(wo),PHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),l8=(function(r){function e(t,n,i){return t=r.call(this,t)||this,t.source=n,t}return PHe(e,r),e.prototype._isDeepEqual=function(t){var n;return this.constructor===t.constructor&&(n=this.source,t=t.source,n.type===t.type)&&JSON.stringify(n.coordinates)===JSON.stringify(t.coordinates)&&n.url===t.url},e.prototype._buildSource=function(){return this.source},e})(wo),OHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),sie=(function(r){function e(t,n,i){return t=r.call(this,t)||this,t.source=n,t}return OHe(e,r),e.prototype._isDeepEqual=function(t){var n;return this.constructor===t.constructor&&(n=this.source,t=t.source,n.type===t.type)&&JSON.stringify(n.coordinates)===JSON.stringify(t.coordinates)&&n.urls===t.urls},e.prototype._buildSource=function(){return this.source},e})(wo),MHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),LHe=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tileSize=512,t}return MHe(e,r),e})(nie),RHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),DHe=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.encoding=void 0,t}return RHe(e,r),e})(LHe),UHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),lie=window&&window.__assign||function(){return(lie=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},FHe=(function(r){function e(t,n){return t=r.call(this,t)||this,t.options=new DHe().merge(Vs(n)),t}return UHe(e,r),e.prototype.getOptions=function(){return Vs(this.options)},e.prototype._buildSource=function(){return lie({type:"raster-dem",bounds:this.options.bounds,minzoom:this.options.minZoom,maxzoom:this.options.maxZoom,tileSize:this.options.tileSize,encoding:this.options.encoding},this.options.tiles?{tiles:this.options.tiles}:{url:this.options.url})},e.prototype._isDeepEqual=function(t){return this.constructor===t.constructor&&(t=t.getOptions(),this.options.url===t.url)&&this.options.tiles===t.tiles&&this.options.bounds===t.bounds&&this.options.minZoom===t.minZoom&&this.options.maxZoom===t.maxZoom&&this.options.tileSize===t.tileSize&&this.options.encoding===t.encoding},e})(wo),JU=Object.freeze({__proto__:null,CanvasSource:aie,DataSource:nd,ElevationTileSource:FHe,ImageSource:l8,Source:wo,UnknownSource:oie,VectorTileSource:iie,VideoSource:sie}),jHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),No=(function(r){function e(t){var n=r.call(this)||this;return n.id=t||k_(),n}return jHe(e,r),e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.map||null},e.prototype.onAdd=function(t){this.map=t,this._invokeEvent("layeradded",this),this.map.events.invoke("layeradded",this)},e.prototype.onRemove=function(){var t=this.map;delete this.map,this._invokeEvent("layerremoved",this),t&&t.events.invoke("layerremoved",this)},e._isMBoxEvent=function(t){return!this.LayerEvents.hasOwnProperty(t)},e.prototype._updateBaseProperties=function(t,n){this._updateFilter(t.filter,n.filter),this._updateZoomRange(t.minZoom,n.minZoom,t.maxZoom,n.maxZoom),this._updateLayoutProperty("visibility",t.visible,n.visible,t.visible?"visible":"none")},e.prototype._updateFilter=function(t,n){Nh(t,n)||this.map._getMap().setFilter(this.id,t)},e.prototype._updatePaintProperty=function(t,n,i,a){Nh(n,i)||this.map._getMap().setPaintProperty(this.id,t,a||n)},e.prototype._updateLayoutProperty=function(t,n,i,a){Nh(n,i)||this.map._getMap().setLayoutProperty(this.id,t,a||n)},e.prototype._updateZoomRange=function(t,n,i,a){t===n&&a===i||this.map._getMap().setLayerZoomRange(this.id,t,i)},e.LayerEvents={layeradded:void 0,layerremoved:void 0,focusin:void 0,focusout:void 0},e})(Hg),QHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),kv=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.filter=void 0,t.minZoom=0,t.maxZoom=24,t.visible=!0,t}return QHe(e,r),e._cloneCustomizer=function(t){if(t instanceof wo)return t},e})(ao),HHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),tC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.color="#1A73AA",t.blur=0,t.opacity=1,t.strokeColor="#FFFFFF",t.strokeOpacity=1,t.strokeWidth=2,t.pitchAlignment="viewport",t.radius=8,t.createIndicators=!1,t.accessibilityIdKey=void 0,t}return HHe(e,r),e})(kv),zHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),qHe=window&&window.__awaiter||function(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,e||[])).next())})},KHe=window&&window.__generator||function(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a=o&&f[o=0]?0:a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},tG=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},rG=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},eF=(function(r){function e(t,n,i){var a=r.call(this,n)||this;return a.accessibleIndicator=[],a._setAccessibleIndicator=function(){return qHe(a,void 0,void 0,function(){var o,s,c,A,f,y,C=this;return KHe(this,function(x){return this.accessibleIndicator.forEach(function(k){return k.remove()}),this.accessibleIndicator=[],o=this.map.layers.getRenderedShapes(this.map.getCamera().bounds,this),s=this.options.accessibilityIdKey||(this._getDataSource()?Oo._shapeIdPropName:void 0),c=function(k,N){var M=k[N],D=M instanceof Oo?M.toJson():M,H=new CHe({positionInSet:N+1,setSize:k.length}),q=H.getElement(),$=tG(C.map.positionsToPixels([C.getFirstCoordinate(D.geometry.coordinates)]),1)[0];return q.addEventListener("focusin",function(ce){C.accessibleIndicator.filter(function(V){return V!==H}).forEach(function(V){return V.remove()}),0<=N-1&&A(H,c(k,N-1)),N+1<k.length&&y(c(k,N+1)),2<=N&&N==k.length-1&&f(c(k,0)),N==0&&2<=k.length&&y(c(k,k.length-1)),s!==void 0&&C.map._getMap().setPaintProperty(C.id,"circle-stroke-color",["case",["==",["get",s],D.properties[s]],"#000000",C.options.strokeColor]),ce={target:q,type:"focusin",map:C.map,shape:M,originalEvent:ce,pixel:$},C._invokeEvent("focusin",ce)}),q.addEventListener("focusout",function(ce){s!==void 0&&C.map._getMap().setPaintProperty(C.id,"circle-stroke-color",["case",["==",["get",s],D.properties[s]],C.options.strokeColor,C.options.strokeColor]),ce={target:q,type:"focusout",map:C.map,shape:M,originalEvent:ce,pixel:$},C._invokeEvent("focusout",ce)}),C.accessibleIndicator.push(H),H},A=function(k,N){N.attach(C.map),N=N.getElement(),k=k.getElement(),k.parentElement.insertBefore(N,k)},f=function(N){N.attach(C.map);var N=N.getElement(),M=N.parentElement;M.insertBefore(N,M.firstElementChild)},y=function(k){k.attach(C.map)},0<o.length&&y(c(o,0)),1<o.length&&y(c(o,o.length-1)),[2]})})},a.options=new tC().merge(ia(i,tC._cloneCustomizer)),a.options.source=t||a.options.source,a}return zHe(e,r),e.prototype.getOptions=function(){return ia(this.options,tC._cloneCustomizer)},e.prototype.getSource=function(){return this.options.source},e.prototype.setOptions=function(t){if(t=new tC().merge(this.options,ia(t,tC._cloneCustomizer)),this.map){if(t.source!==this.options.source||t.sourceLayer!==this.options.sourceLayer)return this.options=t,void this.map.layers.add(this);this._updateBaseProperties(t,this.options),this._updatePaintProperty("circle-blur",t.blur,this.options.blur),this._updatePaintProperty("circle-color",t.color,this.options.color),this._updatePaintProperty("circle-opacity",t.opacity,this.options.opacity),this._updatePaintProperty("circle-radius",t.radius,this.options.radius),this._updatePaintProperty("circle-stroke-color",t.strokeColor,this.options.strokeColor),this._updatePaintProperty("circle-stroke-opacity",t.strokeOpacity,this.options.strokeOpacity),this._updatePaintProperty("circle-stroke-width",t.strokeWidth,this.options.strokeWidth),this._updatePaintProperty("circle-pitch-alignment",t.pitchAlignment,this.options.pitchAlignment)}this.options=t},e.prototype.onAdd=function(t){var n,i,a=this;r.prototype.onAdd.call(this,t),this.options.createIndicators&&(t.events.addOnce("idle",this._setAccessibleIndicator),t.events.add("moveend",this._setAccessibleIndicator),(n=this._getDataSource())?t.events.add("dataadded",n,function(){t.events.addOnce("idle",a._setAccessibleIndicator)}):(i=typeof this.options.source=="string"?this.options.source:this.options.source.getId(),t.events.add("sourcedata",function(o){((o=o.source)==null?void 0:o.getId())===i&&t._getMap().isSourceLoaded(i)&&(o=a._getSourceDataEventCacheKey())!==a.sourceDataEventCacheKey&&(a._setAccessibleIndicator(),a.sourceDataEventCacheKey=o)})))},e.prototype.onRemove=function(){var t;this.options.createIndicators&&(this.map.events.remove("idle",this._setAccessibleIndicator),this.map.events.remove("moveend",this._setAccessibleIndicator),(t=this._getDataSource())?this.map.events.remove("dataadded",t,this._setAccessibleIndicator):this.map.events.remove("sourcedata",this._setAccessibleIndicator)),r.prototype.onRemove.call(this)},e.prototype._getSourceDataEventCacheKey=function(){var t;if(this.map)return t=this.map.getServiceOptions().mapConfiguration,rG(rG([],tG(this.map.getCamera().bounds),!1),[this.map.getCamera().zoom,this.map.getCamera().pitch,this.map.getStyle().style,t instanceof Object?t.id:t],!1).join(",")},e.prototype._getDataSource=function(){var t=typeof this.options.source=="string"?this.map.sources.getById(this.options.source):this.options.source;if(t instanceof nd)return t},e.prototype._buildLayers=function(){var t={id:this.id,type:"circle",source:this.options.source instanceof wo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"circle-color":this.options.color,"circle-blur":this.options.blur,"circle-opacity":this.options.opacity,"circle-stroke-color":this.options.strokeColor,"circle-stroke-opacity":this.options.strokeOpacity,"circle-stroke-width":this.options.strokeWidth,"circle-pitch-alignment":this.options.pitchAlignment,"circle-radius":this.options.radius},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),this.options.sourceLayer&&(t["source-layer"]=this.options.sourceLayer),[t]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof wo?t.add(this.options.source.getId()):t.add(this.options.source),t},e.prototype.getFirstCoordinate=function(t){return Array.isArray(t[0])?this.getFirstCoordinate(t[0]):t},e})(No),VHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.color=["interpolate",["linear"],["heatmap-density"],0,"rgba(0,0, 255,0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],t.intensity=1,t.opacity=1,t.radius=30,t.weight=1,t}return VHe(e,r),e._cloneCustomizer=function(t){if(t instanceof wo)return t},e})(kv),GHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),$He=(function(r){function e(t,n,i){return n=r.call(this,n)||this,n.options=new rC().merge(ia(i,rC._cloneCustomizer)),n.options.source=t||n.options.source,n}return GHe(e,r),e.prototype.getOptions=function(){return ia(this.options,rC._cloneCustomizer)},e.prototype.getSource=function(){return this.options.source},e.prototype.setOptions=function(t){if(t=new rC().merge(this.options,ia(t,rC._cloneCustomizer)),this.map){if(t.source!==this.options.source||t.sourceLayer!==this.options.sourceLayer)return this.options=t,void this.map.layers.add(this);this._updateBaseProperties(t,this.options),this._updatePaintProperty("heatmap-color",t.color,this.options.color),this._updatePaintProperty("heatmap-intensity",t.intensity,this.options.intensity),this._updatePaintProperty("heatmap-opacity",t.opacity,this.options.opacity),this._updatePaintProperty("heatmap-radius",t.radius,this.options.radius),this._updatePaintProperty("heatmap-weight",t.weight,this.options.weight)}this.options=t},e.prototype._buildLayers=function(){var t={id:this.id,type:"heatmap",source:this.options.source instanceof wo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"heatmap-color":this.options.color,"heatmap-intensity":this.options.intensity,"heatmap-opacity":this.options.opacity,"heatmap-radius":this.options.radius,"heatmap-weight":this.options.weight},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),this.options.sourceLayer&&(t["source-layer"]=this.options.sourceLayer),[t]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof wo?t.add(this.options.source.getId()):t.add(this.options.source),t},e})(No),YHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),cie=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.contrast=0,t.fadeDuration=300,t.hueRotation=0,t.maxBrightness=1,t.minBrightness=0,t.opacity=1,t.saturation=0,t}return YHe(e,r),e})(kv),WHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),nC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.url=void 0,t.coordinates=void 0,t}return WHe(e,r),e._cloneCustomizer=function(t){if(t instanceof wo)return t},e})(cie),ZHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),yE=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ZHe(e,r),e.prototype._getSourceIds=function(){var t=new Set;return t.add(this._getSourceId()),t},e.prototype.onAdd=function(t){r.prototype.onAdd.call(this,t)},e})(No),XHe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),JHe=(function(r){function e(t,n){return n=r.call(this,n)||this,n.isLoading=!1,n.options=new nC().merge(ia(t,nC._cloneCustomizer)),n.img=new Image,n.reloadImage(),n}return XHe(e,r),e.prototype.getOptions=function(){return ia(this.options,nC._cloneCustomizer)},e.prototype.setOptions=function(o){var n,i=new nC().merge(this.options,ia(o,nC._cloneCustomizer)),a=typeof o.url=="string"&&o.url!==this.getOptions().url,o=o.coordinates!==void 0&&o.coordinates!==this.getOptions().coordinates;this.map&&(this._updateBaseProperties(i,this.options),this._updatePaintProperty("raster-contrast",i.contrast,this.options.contrast),this._updatePaintProperty("raster-fade-duration",i.fadeDuration,this.options.fadeDuration),this._updatePaintProperty("raster-hue-rotate",i.hueRotation,this.options.hueRotation),this._updatePaintProperty("raster-brightness-max",i.maxBrightness,this.options.maxBrightness),this._updatePaintProperty("raster-opacity",i.opacity,this.options.opacity),this._updatePaintProperty("raster-saturation",i.saturation,this.options.saturation),n=this.map._getMap().getSource(this._getSourceId()))&&(a||o)&&n.updateImage(i),this.options=i,a?this.reloadImage():o&&this.updateTransform()},e.prototype.getPositions=function(t){return this.transform.then(function(n){return n.toTarget(t)})},e.prototype.getPixels=function(t){return this.transform.then(function(n){return n.toSource(t)})},e.getCoordinatesFromRefPoints=function(t,n,i,a){return new ck(i,a).toTarget([[0,0],[t,0],[t,n],[0,n]])},e.getCoordinatesFromEdges=function(t,n,i,a,o){return typeof o!="number"&&(o=0),n=[Math.min(a,i),n,Math.max(a,i),t],a=Ii.getCenter(n),Zne([Ii.getNorthWest(n),Ii.getNorthEast(n),Ii.getSouthEast(n),Ii.getSouthWest(n)],a,o)},e.prototype._buildLayers=function(){var t={id:this.id,type:"raster",source:this._getSourceId(),layout:{visibility:this.options.visible?"visible":"none"},paint:{"raster-opacity":this.options.opacity,"raster-hue-rotate":this.options.hueRotation,"raster-brightness-min":this.options.minBrightness,"raster-brightness-max":this.options.maxBrightness,"raster-saturation":this.options.saturation,"raster-contrast":this.options.contrast,"raster-fade-duration":this.options.fadeDuration},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),[t]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._buildSource=function(){return{type:"image",url:this.options.url,coordinates:this.options.coordinates}},e.prototype._getSourceId=function(){return"".concat(this.getId(),"-ImageSource")},e.prototype.reloadImage=function(){var t=this;this.options.url&&(this.transform=new Promise(function(n,i){t.img.onload=function(){var a=[[0,0],[t.img.width,0],[t.img.width,t.img.height],[0,t.img.height]];n(new ck(a,t.options.coordinates)),t.isLoading=!1},t.img.onerror=t.img.onabort=function(){i("Failed to load image")},t.isLoading=!0,t.img.src=t.options.url}))},e.prototype.updateTransform=function(){var t;this.isLoading||(t=[[0,0],[this.img.width,0],[this.img.width,this.img.height],[0,this.img.height]],this.transform=Promise.resolve(new ck(t,this.options.coordinates)))},e.prototype._getSourceWrapper=function(){var t=this._getSourceId(),n=this._buildSource();return new l8(t,n)},e})(yE),eze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),iC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.lineCap="round",t.lineJoin="round",t.blur=0,t.strokeColor="#1E90FF",t.strokeDashArray=void 0,t.strokeGradient=void 0,t.offset=0,t.strokeOpacity=1,t.translate=new iu(0,0),t.translateAnchor="map",t.strokeWidth=2,t}return eze(e,r),e})(kv),tze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),Iy=window&&window.__assign||function(){return(Iy=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},tF=(function(r){function e(t,n,i){return n=r.call(this,n)||this,n.options=new iC().merge(ia(i,iC._cloneCustomizer)),n.options.source=t||n.options.source,n}return tze(e,r),e.prototype.getOptions=function(){return ia(this.options,iC._cloneCustomizer)},e.prototype.getSource=function(){return this.options.source},e.prototype.setOptions=function(t){if(t=new iC().merge(this.options,ia(t,iC._cloneCustomizer)),this.map){if(t.source!==this.options.source||t.sourceLayer!==this.options.sourceLayer)return this.options=t,void this.map.layers.add(this);this._updateBaseProperties(t,this.options),this._updatePaintProperty("line-blur",t.blur,this.options.blur),this._updateLayoutProperty("line-cap",t.lineCap,this.options.lineCap),this._updateLayoutProperty("line-join",t.lineJoin,this.options.lineJoin),this._updatePaintProperty("line-offset",t.offset,this.options.offset),this._updatePaintProperty("line-color",t.strokeColor,this.options.strokeColor),this._updatePaintProperty("line-dasharray",t.strokeDashArray,this.options.strokeDashArray),this._updatePaintProperty("line-gradient",t.strokeGradient,this.options.strokeGradient),this._updatePaintProperty("line-opacity",t.strokeOpacity,this.options.strokeOpacity),this._updatePaintProperty("line-width",t.strokeWidth,this.options.strokeWidth),this._updatePaintProperty("line-translate",t.translate,this.options.translate),this._updatePaintProperty("line-translate-anchor",t.translateAnchor,this.options.translateAnchor)}this.options=t},e.prototype._buildLayers=function(){return[Iy(Iy(Iy(Iy({id:this.id,type:"line"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof wo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none","line-cap":this.options.lineCap,"line-join":this.options.lineJoin},paint:Iy(Iy(Iy({"line-blur":this.options.blur,"line-color":this.options.strokeColor},this.options.strokeDashArray?{"line-dasharray":this.options.strokeDashArray}:{}),this.options.strokeGradient?{"line-gradient":this.options.strokeGradient}:{}),{"line-offset":this.options.offset,"line-opacity":this.options.strokeOpacity,"line-translate":this.options.translate,"line-translate-anchor":this.options.translateAnchor,"line-width":this.options.strokeWidth})}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof wo?t.add(this.options.source.getId()):t.add(this.options.source),t},e})(No),rze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),aC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.base=0,t.fillColor="#1E90FF",t.height=0,t.fillOpacity=1,t.fillPattern=void 0,t.translate=new iu(0,0),t.translateAnchor="map",t.verticalGradient=!0,t}return rze(e,r),e})(kv),nze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),T0=window&&window.__assign||function(){return(T0=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},ize=(function(r){function e(t,n,i){return n=r.call(this,n)||this,n.options=new aC().merge(ia(i,aC._cloneCustomizer)),n.options.source=t||n.options.source,n}return nze(e,r),e.prototype.getOptions=function(){return ia(this.options,aC._cloneCustomizer)},e.prototype.getSource=function(){return this.options.source},e.prototype.setOptions=function(t){if(t=new aC().merge(this.options,ia(t,aC._cloneCustomizer)),this.map){if(t.source!==this.options.source||t.sourceLayer!==this.options.sourceLayer)return this.options=t,void this.map.layers.add(this);this._updateBaseProperties(t,this.options),this._updatePaintProperty("fill-extrusion-base",t.base,this.options.base),this._updatePaintProperty("fill-extrusion-color",t.fillColor,this.options.fillColor),this._updatePaintProperty("fill-extrusion-height",t.height,this.options.height),this._updatePaintProperty("fill-extrusion-opacity",t.fillOpacity,this.options.fillOpacity),this._updatePaintProperty("fill-extrusion-pattern",t.fillPattern,this.options.fillPattern),this._updatePaintProperty("fill-extrusion-translate",t.translate,this.options.translate),this._updatePaintProperty("fill-extrusion-translate-anchor",t.translateAnchor,this.options.translateAnchor),this._updatePaintProperty("fill-extrusion-vertical-gradient",t.verticalGradient,this.options.verticalGradient)}this.options=t},e.prototype._buildLayers=function(){return[T0(T0(T0(T0({id:this.id,type:"fill-extrusion"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof wo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:T0(T0({"fill-extrusion-base":this.options.base,"fill-extrusion-height":this.options.height,"fill-extrusion-opacity":this.options.fillOpacity},this.options.fillPattern?{"fill-extrusion-pattern":this.options.fillPattern}:{"fill-extrusion-color":this.options.fillColor}),{"fill-extrusion-translate":this.options.translate,"fill-extrusion-translate-anchor":this.options.translateAnchor,"fill-extrusion-vertical-gradient":this.options.verticalGradient})}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof wo?t.add(this.options.source.getId()):t.add(this.options.source),t},e})(No),aze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),oC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.fillColor="#1E90FF",t.fillOpacity=.5,t.fillPattern=void 0,t.fillAntialias=!0,t}return aze(e,r),e})(kv),oze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),rF=(function(r){function e(t,n,i){return n=r.call(this,n)||this,n.options=new oC().merge(ia(i,oC._cloneCustomizer)),n.options.source=t||n.options.source,n}return oze(e,r),e.prototype.getOptions=function(){return ia(this.options,oC._cloneCustomizer)},e.prototype.getSource=function(){return this.options.source},e.prototype.setOptions=function(t){if(t=new oC().merge(this.options,ia(t,oC._cloneCustomizer)),this.map){if(t.source!==this.options.source||t.sourceLayer!==this.options.sourceLayer)return this.options=t,void this.map.layers.add(this);this._updateBaseProperties(t,this.options),this._updatePaintProperty("fill-color",t.fillColor,this.options.fillColor),this._updatePaintProperty("fill-opacity",t.fillOpacity,this.options.fillOpacity),this._updatePaintProperty("fill-pattern",t.fillPattern,this.options.fillPattern),this._updatePaintProperty("fill-antialias",t.fillAntialias,this.options.fillAntialias)}this.options=t},e.prototype._buildLayers=function(){var t={id:this.id,type:"fill",source:this.options.source instanceof wo?this.options.source.getId():this.options.source,layout:{visibility:this.options.visible?"visible":"none"},paint:{"fill-opacity":this.options.fillOpacity,"fill-antialias":this.options.fillAntialias},minzoom:this.options.minZoom,maxzoom:this.options.maxZoom};return this.options.filter&&(t.filter=this.options.filter),this.options.sourceLayer&&(t["source-layer"]=this.options.sourceLayer),this.options.fillPattern?t.paint["fill-pattern"]=this.options.fillPattern:t.paint["fill-color"]=this.options.fillColor,[t]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof wo?t.add(this.options.source.getId()):t.add(this.options.source),t},e})(No),sze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),lze=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.allowOverlap=!1,t.anchor="bottom",t.ignorePlacement=!1,t.image="marker-blue",t.offset=new iu(0,0),t.optional=!1,t.padding=2,t.pitchAlignment="auto",t.rotation=0,t.rotationAlignment="auto",t.size=1,t.opacity=1,t}return sze(e,r),e})(ao),cze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uze=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.allowOverlap=!1,t.anchor="center",t.textField=void 0,t.font=["StandardFont-Regular"],t.ignorePlacement=!1,t.justify="center",t.offset=new iu(0,0),t.optional=!1,t.padding=2,t.pitchAlignment="auto",t.radialOffset=void 0,t.rotation=0,t.rotationAlignment="auto",t.variableAnchor=void 0,t.size=16,t.color="#000000",t.haloBlur=0,t.haloColor="rgba(0,0,0,0)",t.haloWidth=0,t.opacity=1,t}return cze(e,r),e})(ao),hze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),sC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.source=void 0,t.sourceLayer=void 0,t.iconOptions=new lze,t.textOptions=new uze,t.placement="point",t.sortKey=void 0,t.zOrder="auto",t.lineSpacing=250,t}return hze(e,r),e})(kv),Aze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),B0=window&&window.__assign||function(){return(B0=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},QN=(function(r){function e(t,n,i){return n=r.call(this,n)||this,n.options=new sC().merge(ia(i,sC._cloneCustomizer)),n.options.source=t||n.options.source,n}return Aze(e,r),e.prototype.getOptions=function(){return ia(this.options,sC._cloneCustomizer)},e.prototype.getSource=function(){return this.options.source},e.prototype.setOptions=function(t){if(t=new sC().merge(this.options,ia(t,sC._cloneCustomizer)),this.map){if(t.source!==this.options.source||t.sourceLayer!==this.options.sourceLayer)return this.options=t,void this.map.layers.add(this);var n=this.options,i=t.iconOptions,a=n.iconOptions,o=t.textOptions,s=n.textOptions;this._updateBaseProperties(t,n),this._updateLayoutProperty("symbol-spacing",t.lineSpacing,n.lineSpacing),this._updateLayoutProperty("symbol-placement",t.placement,n.placement),this._updateLayoutProperty("symbol-sort-key",t.sortKey,n.sortKey),this._updateLayoutProperty("symbol-z-order",t.zOrder,n.zOrder),this._updateLayoutProperty("icon-allow-overlap",i.allowOverlap,a.allowOverlap),this._updateLayoutProperty("icon-anchor",i.anchor,a.anchor),this._updateLayoutProperty("icon-ignore-placement",i.ignorePlacement,a.ignorePlacement),this._updateLayoutProperty("icon-image",i.image,a.image),this._updateLayoutProperty("icon-offset",i.offset,a.offset),this._updatePaintProperty("icon-opacity",i.opacity,a.opacity),this._updateLayoutProperty("icon-optional",i.optional,a.optional),this._updateLayoutProperty("icon-padding",i.padding,a.padding),this._updateLayoutProperty("icon-pitch-alignment",i.pitchAlignment,a.pitchAlignment),this._updateLayoutProperty("icon-rotate",i.rotation,a.rotation),this._updateLayoutProperty("icon-rotation-alignment",i.rotationAlignment,a.rotationAlignment),this._updateLayoutProperty("icon-size",i.size,a.size),this._updateLayoutProperty("text-allow-overlap",o.allowOverlap,s.allowOverlap),this._updateLayoutProperty("text-anchor",o.anchor,s.anchor),this._updatePaintProperty("text-color",o.color,s.color),this._updateLayoutProperty("text-font",o.font,s.font),this._updateLayoutProperty("text-ignore-placement",o.ignorePlacement,s.ignorePlacement),this._updateLayoutProperty("text-justify",o.justify,s.justify),this._updatePaintProperty("text-halo-blur",o.haloBlur,s.haloBlur),this._updatePaintProperty("text-halo-color",o.haloColor,s.haloColor),this._updatePaintProperty("text-halo-width",o.haloWidth,s.haloWidth),this._updateLayoutProperty("text-offset",o.offset,s.offset),this._updatePaintProperty("text-opacity",o.opacity,s.opacity),this._updateLayoutProperty("text-optional",o.optional,s.optional),this._updateLayoutProperty("text-padding",o.padding,s.padding),this._updateLayoutProperty("text-pitch-alignment",o.pitchAlignment,s.pitchAlignment),this._updateLayoutProperty("text-radial-offset",o.radialOffset,s.radialOffset),this._updateLayoutProperty("text-rotate",o.rotation,s.rotation),this._updateLayoutProperty("text-rotation-alignment",o.rotationAlignment,s.rotationAlignment),this._updateLayoutProperty("text-size",o.size,s.size),this._updateLayoutProperty("text-variable-anchor",o.variableAnchor,s.variableAnchor),this._updateLayoutProperty("text-field",o.textField,s.textField)}this.options=t},e.prototype._buildLayers=function(){var t=B0(B0(B0(B0({id:this.id,type:"symbol"},this.options.sourceLayer&&{"source-layer":this.options.sourceLayer}),{source:this.options.source instanceof wo?this.options.source.getId():this.options.source,layout:B0(B0({visibility:this.options.visible?"visible":"none","symbol-placement":this.options.placement,"symbol-spacing":this.options.lineSpacing,"symbol-z-order":this.options.zOrder,"text-allow-overlap":this.options.textOptions.allowOverlap,"text-anchor":this.options.textOptions.anchor},this.options.textOptions.textField&&{"text-field":this.options.textOptions.textField}),{"text-font":this.options.textOptions.font,"text-ignore-placement":this.options.textOptions.ignorePlacement,"text-justify":this.options.textOptions.justify,"text-offset":this.options.textOptions.offset,"text-optional":this.options.textOptions.optional,"text-padding":this.options.textOptions.padding,"text-pitch-alignment":this.options.textOptions.pitchAlignment,"text-rotate":this.options.textOptions.rotation,"text-rotation-alignment":this.options.textOptions.rotationAlignment,"text-size":this.options.textOptions.size,"icon-allow-overlap":this.options.iconOptions.allowOverlap,"icon-anchor":this.options.iconOptions.anchor,"icon-ignore-placement":this.options.iconOptions.ignorePlacement,"icon-image":this.options.iconOptions.image,"icon-offset":this.options.iconOptions.offset,"icon-optional":this.options.iconOptions.optional,"icon-padding":this.options.iconOptions.padding,"icon-pitch-alignment":this.options.iconOptions.pitchAlignment,"icon-rotate":this.options.iconOptions.rotation,"icon-rotation-alignment":this.options.iconOptions.rotationAlignment,"icon-size":this.options.iconOptions.size}),paint:{"text-color":this.options.textOptions.color,"text-halo-blur":this.options.textOptions.haloBlur,"text-halo-color":this.options.textOptions.haloColor,"text-halo-width":this.options.textOptions.haloWidth,"text-opacity":this.options.textOptions.opacity,"icon-opacity":this.options.iconOptions.opacity}}),this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom});return this.options.sortKey!==void 0&&(t.layout["symbol-sort-key"]=this.options.sortKey),this.options.textOptions.radialOffset!==void 0&&(t.layout["text-radial-offset"]=this.options.textOptions.radialOffset),this.options.textOptions.variableAnchor!==void 0&&(t.layout["text-variable-anchor"]=this.options.textOptions.variableAnchor),[t]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){var t=new Set;return this.options.source instanceof wo?t.add(this.options.source.getId()):t.add(this.options.source),t},e})(No),dze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),WC=window&&window.__assign||function(){return(WC=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},uie=(function(r){function e(t,n,i){return t=r.call(this,t)||this,t.source=t._modifySource(n,i),t}return dze(e,r),e.prototype._buildSource=function(){return this.source},e.prototype._isDeepEqual=function(t){var n,i,a,o;return this.constructor===t.constructor&&(o=this.source,n=t.source,t=o.type===n.type&&o.url===n.url&&(o.tiles===void 0&&n.tiles===void 0||o.tiles&&n.tiles&&o.tiles.length===n.tiles.length&&o.tiles.every(function(s,c){return s===n.tiles[c]}))&&o.minzoom===n.minzoom&&o.maxzoom===n.maxzoom&&o.bounds===n.bounds&&o.attribution===n.attribution,i=o.type!=="raster"||o.type==="raster"&&o.type===n.type&&o.tileSize===n.tileSize&&o.scheme===n.scheme,a=o.type!=="raster-dem"||o.type==="raster-dem"&&o.type===n.type&&o.tileSize===n.tileSize&&o.encoding===n.encoding,o=o.type!=="vector"||o.type==="vector"&&o.type===n.type&&o.promoteId===n.promoteId&&o.scheme===n.scheme,t)&&i&&a&&o},e.prototype._modifySource=function(t,n){if(t.type!=="raster"&&t.type!=="raster-dem"&&t.type!=="vector"||!t.tiles){if(t.type!=="raster"&&t.type!=="raster-dem"&&t.type!=="vector"||!t.url)throw new Error("Source definition must define a TileJSON 'url' or a 'tiles' array.");t.url=typeof t.url=="string"?t.url:new Kp({domain:Yn.domainPlaceHolder,path:t.url.path,queryParams:WC(WC({},n),t.url.queryParams)}).toString()}else{var i=t.tiles.map(function(a){return typeof a=="string"?a:new Kp({domain:Yn.domainPlaceHolder,path:a.path,queryParams:WC(WC({},n),a.queryParams)}).toString()});t.tiles=i}return t},e})(wo),fze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),lC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.bounds=[-180,-85.0511,180,85.0511],t.minSourceZoom=0,t.maxSourceZoom=22,t.tileSize=512,t.isTMS=!1,t.subdomains=void 0,t.tileUrl=void 0,t}return fze(e,r),e})(cie),pze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uk=window&&window.__assign||function(){return(uk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},mze=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HN=(function(r){function e(t,n){return n=r.call(this,n)||this,t&&n.setOptions(t),n}return pze(e,r),e.prototype.getOptions=function(){return ia(this.options,lC._cloneCustomizer)},e.prototype.setOptions=function(t){if(t=new lC().merge(this.options,ia(t,lC._cloneCustomizer)),this.map){if(!Nh(t.bounds,this.options.bounds)||t.isTMS!==this.options.isTMS||t.maxSourceZoom!==this.options.maxSourceZoom||t.minSourceZoom!==this.options.minSourceZoom||!Nh(t.subdomains,this.options.subdomains)||t.tileSize!==this.options.tileSize||t.tileUrl!==this.options.tileUrl)return this.options=t,void this.map.layers.add(this);this._updateBaseProperties(t,this.options),this._updatePaintProperty("raster-contrast",t.contrast,this.options.contrast),this._updatePaintProperty("raster-fade-duration",t.fadeDuration,this.options.fadeDuration),this._updatePaintProperty("raster-hue-rotate",t.hueRotation,this.options.hueRotation),this._updatePaintProperty("raster-brightness-max",t.maxBrightness,this.options.maxBrightness),this._updatePaintProperty("raster-opacity",t.opacity,this.options.opacity),this._updatePaintProperty("raster-saturation",t.saturation,this.options.saturation)}this.options=t},e.prototype._setOptionsNoUpdate=function(t){this.options=new lC().merge(this.options,ia(t,lC._cloneCustomizer))},e.prototype._buildLayers=function(){return[uk(uk({id:this.id,type:"raster",source:this._getSourceId(),layout:{visibility:this.options.visible?"visible":"none"},paint:{"raster-contrast":this.options.contrast,"raster-fade-duration":this.options.fadeDuration,"raster-hue-rotate":this.options.hueRotation,"raster-brightness-max":this.options.maxBrightness,"raster-brightness-min":this.options.minBrightness,"raster-opacity":this.options.opacity,"raster-saturation":this.options.saturation}},this.options.filter&&{filter:this.options.filter}),{minzoom:this.options.minZoom,maxzoom:this.options.maxZoom})]},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._buildSource=function(){var t,n;if(this.options.tileUrl){if(this.options.tileUrl.indexOf("{")===-1)return{type:"raster",url:this.options.tileUrl};if(this.options.tileUrl.indexOf("{subdomain}")!==-1){if(!(this.options.subdomains&&0<this.options.subdomains.length))throw new Error("The {subdomain} placeholder was included in the tileUrl but no subdomains were specified");var i=[];try{for(var a=mze(this.options.subdomains),o=a.next();!o.done;o=a.next()){var s=o.value;i.push(this.options.tileUrl.replace(/{subdomain}/g,s))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}n=i}else n=[this.options.tileUrl]}return uk({type:"raster",bounds:this.options.bounds,maxzoom:this.options.maxSourceZoom,minzoom:this.options.minSourceZoom,scheme:this.options.isTMS?"tms":"xyz",tileSize:this.options.tileSize},n&&{tiles:n})},e.prototype._getSourceId=function(){return"".concat(this.getId(),"-RasterSource")},e.prototype._getSourceWrapper=function(){var t=this._getSourceId(),n=this._buildSource();return new uie(t,{name:t,tiles:n.tiles,type:n.type,url:n.url})},e})(yE),gze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),cC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.renderer=void 0,t}return gze(e,r),e})(kv),yze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hie=(function(r){function e(t,n){var i=r.call(this,t)||this;return i._onStyleChange=function(){var a,o;i.map._getMap().getLayer(i.id)||(a=i.map,o=(o=i.map.layers._getUserLayers().find(function(s){return s.layer.getId()==i.id}))==null?void 0:o.before,a.layers.remove(i),a.layers.add(i,o))},i.options=new cC().merge(ia(n,cC._cloneCustomizer)),i.source=new nd,i}return yze(e,r),e.prototype.getOptions=function(){return ia(this.options,cC._cloneCustomizer)},e.prototype.setOptions=function(t){t=new cC().merge(this.options,ia(t,cC._cloneCustomizer)),this.map&&this.map.triggerRepaint(),this.options=t},e.prototype.onAdd=function(t){var n,i;r.prototype.onAdd.call(this,t),this.map.events.add("stylechanged",this._onStyleChange),this.options.renderer&&this.glContext&&(i=(n=this.options.renderer).onAdd)!=null&&i.call(n,t,this.glContext)},e.prototype.onRemove=function(){var t,n;this.options.renderer&&this.glContext&&(n=(t=this.options.renderer).onRemove)!=null&&n.call(t,this.map,this.glContext),this.map.events.remove("stylechanged",this._onStyleChange),this.glContext=null,r.prototype.onRemove.call(this)},e.prototype._buildLayers=function(){var t=this;if(this.options.renderer)return[{id:this.id,type:"custom",renderingMode:this.options.renderer.renderingMode,onAdd:function(n,i){t.glContext=i},onRemove:function(n,i){},prerender:function(n,i){var a,o;t._shouldRender()&&(o=(a=t.options.renderer).prerender)!=null&&o.call(a,n,i)},render:function(n,i){t._shouldRender()&&t.options.renderer.render(n,i)}}];throw new Error("Cannot build the WebGL layer because renderer was not set.")},e.prototype._getLayerIds=function(){return[this.id]},e.prototype._getSourceIds=function(){return new Set().add(this.source.getId())},e.prototype._shouldRender=function(){var t;return!!this.map&&(t=this.map.getCamera().zoom,this.options.visible)&&this.options.minZoom<=t&&this.options.maxZoom>t},e})(No),ZC=Object.freeze({__proto__:null,BubbleLayer:eF,HeatMapLayer:$He,ImageLayer:JHe,Layer:No,LineLayer:tF,PolygonExtrusionLayer:ize,PolygonLayer:rF,SymbolLayer:QN,TileLayer:HN,WebGLLayer:hie}),uM=(function(){function r(){}return r.convertHtmlString=function(e){var t;return typeof e=="string"?((t=document.createElement("div")).innerHTML=e,t):e},r.parseWithFilter=function(e,t,n,i){var a=this;if(t===void 0&&(t=function(c){return!0}),n===void 0&&(n=function(c){return c}),i===void 0&&(i=function(){return document.createElement("div")}),typeof e=="string"){var s=new DOMParser().parseFromString(e,"text/html").body;if(s.children.length==0)return n(s.innerHTML);var o,s=s.children.length==1&&s.childNodes.length==1?s.children[0]:(o=i(),Array.from(s.childNodes).map(function(c){return o.append(c)}),o)}else s=e;return Array.from(s.children).forEach(function(c){return a.parseWithFilter(c,t,n)}),t(s)?n(s):(s.parentNode&&s.parentNode.removeChild(s),null)},r})(),vze=zg,_ze=Rne;function bze(r){return vze(r)&&r.nodeType===1&&!_ze(r)}var Aie=Bv(bze),wze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.anchor="none",t.draggable=!1,t.closeButton=!0,t.content=document.createElement("span"),t.fillColor="#FFFFFF",t.pixelOffset=new iu(0,0),t.position=new ru(0,0),t.showPointer=!0,t}return wze(e,r),e._cloneCustomizer=function(t){if(Aie(t))return t},e})(ao),xze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hI=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},Bw=(function(r){function e(t){var n=r.call(this)||this;return n.attach=function(i){n.map!==i&&(n.map&&n.remove(),n.map=i,n.marker=n._createMarker(n.options),n.marker.addTo(n.map._getMap()),n.map.popups._getCollectionDiv().appendChild(n.containerDiv),n.map.popups.add(n))},n.open=function(i){if(!i&&!n.map)throw new Error("Must specify a map to open on or attach to a map in advance");n.attach(i||n.map),n.containerDiv.classList.remove(e.Css.hidden),n.map.events.add("move",n._onMove),n._onMove(),n._invokeEvent("open",{target:n,type:"open"})},n.close=function(){n.map&&n.map.events.remove("move",n._onMove),n.containerDiv.classList.add(e.Css.hidden),n._invokeEvent("close",{target:n,type:"close"})},n.remove=function(){n.map&&(n.marker.remove(),n.containerDiv.classList.remove(n.autoAnchor||n.options.anchor),n.map.events.remove("move",n._onMove),n.map.popups.remove(n),delete n.map,delete n.marker,delete n.autoAnchor)},n.isOpen=function(){return n.map&&!n.containerDiv.classList.contains(e.Css.hidden)},n._onMove=function(){var i=n._getAutoAnchor(n.map,n.options);i!==n.autoAnchor&&(n._replaceMarker(n.map,n.options,i),n.map.events.add("move",n._onMove))},n._onDown=function(i){n.map.popups._addDraggedPopup(n);var a=hI(n.map.positionsToPixels([n.options.position]),1)[0];i.type==="mousedown"?n.dragOffset=[a[0]-i.clientX,a[1]-i.clientY]:i.type==="touchstart"&&(n.dragOffset=[a[0]-i.touches[0].clientX,a[1]-i.touches[0].clientY])},n._onDragStart=function(i){i.preventDefault()},n.options=new uC().merge(ia(t,uC._cloneCustomizer)),n.containerDiv=n._createContainerDiv(n.options),n.contentDiv=n._createContentDiv(n.options),n.containerDiv.appendChild(n.contentDiv),n.options.showPointer&&(n.arrowDiv=n._createArrowDiv(),n.containerDiv.appendChild(n.arrowDiv)),n.options.closeButton&&(n.closeBtn=n._createCloseButton(),n.contentDiv.appendChild(n.closeBtn),t=_c("close"),n.contentDiv.appendChild(t),Mo(t,n.closeBtn,!0)),n}return xze(e,r),e.prototype.setPopupOptions=function(t){this.setOptions(t)},e.prototype.setOptions=function(i){var n,i=new uC().merge(this.options,ia(i,uC._cloneCustomizer));i.content!==this.options.content?(this.htmlContent.remove(),this.htmlContent=this._createHtmlContent(i),this.contentDiv.prepend(this.htmlContent)):i.draggable!==this.options.draggable&&this._setDraggable(this.htmlContent,i.draggable),i.closeButton&&!this.closeBtn?(this.closeBtn=this._createCloseButton(),this.contentDiv.appendChild(this.closeBtn),n=_c("close"),this.contentDiv.appendChild(n),Mo(n,this.closeBtn,!0)):!i.closeButton&&this.closeBtn&&(this.contentDiv.removeChild(this.closeBtn),delete this.closeBtn),i.showPointer&&!this.arrowDiv?(this.arrowDiv=this._createArrowDiv(),this.containerDiv.appendChild(this.arrowDiv)):!i.showPointer&&this.arrowDiv&&(this.containerDiv.removeChild(this.arrowDiv),delete this.arrowDiv),i.fillColor!==this.options.fillColor&&(this.containerDiv.style.borderColor=i.fillColor,this.contentDiv.style.backgroundColor=i.fillColor),this.marker&&(i.anchor!==this.options.anchor?this.options.anchor==="none"?(this.autoAnchor!==i.anchor&&this._replaceMarker(this.map,i),this.map.events.remove("move",this._onMove),delete this.autoAnchor):(this._replaceMarker(this.map,i),i.anchor==="none"&&this.map.events.add("move",this._onMove)):(Nh(i.position,this.options.position)||this.marker.setLngLat(i.position),Nh(i.pixelOffset,this.options.pixelOffset)||this.marker.setOffset(i.pixelOffset))),this.options=i},e.prototype.getPopupOptions=function(){return this.getOptions()},e.prototype.getOptions=function(){return ia(this.options,uC._cloneCustomizer)},e.prototype.getPopupContainer=function(){return this.containerDiv},e.prototype._dragToPixel=function(t){this.dragging||(this.dragging=!0,this.contentDiv.style.pointerEvents="none",this._invokeEvent("dragstart",{type:"dragstart",target:this})),t=[t[0]+this.dragOffset[0],t[1]+this.dragOffset[1]],t=hI(this.map.pixelsToPositions([t]),1)[0],this.options.position=t,this.marker.setLngLat(this.options.position),this._invokeEvent("drag",{type:"drag",target:this})},e.prototype._onUp=function(){this.dragging&&(this.contentDiv.style.pointerEvents="",this._invokeEvent("dragend",{type:"dragend",target:this}),this.options.anchor==="none")&&this._onMove(),delete this.dragOffset,delete this.dragging},e.prototype._createContainerDiv=function(t){var n=this,i=document.createElement("div"),a=(i.classList.add(e.Css.container),i.classList.add(e.Css.hidden),i.style.borderColor=t.fillColor,i.setAttribute("role","dialog"),i.setAttribute("aria-label","Map Information Window"),!1);return i.addEventListener("keydown",function(o){o.key!=="Tab"&&o.key!=="Escape"&&o.key!=="Esc"||(a=!0)}),i.addEventListener("keyup",function(o){o.key!=="Tab"&&o.key!=="Escape"&&o.key!=="Esc"||(a=!1)}),i.addEventListener("focusin",function(o){n.map&&!n.isOpen()&&(n.open(n.map),o.target instanceof HTMLElement)&&o.target.focus()}),i.addEventListener("focusout",function(o){a&&o.relatedTarget instanceof Node&&!i.contains(o.relatedTarget)&&(a=!1,n.isOpen())&&n.close()}),i},e.prototype._createContentDiv=function(t){var n=document.createElement("div");return n.classList.add(e.Css.content),n.style.backgroundColor=t.fillColor,n.setAttribute("tabindex","0"),this.htmlContent=this._createHtmlContent(t),n.appendChild(this.htmlContent),n},e.prototype._createArrowDiv=function(){var t=document.createElement("div");return t.classList.add(e.Css.arrow),t},e.prototype._createCloseButton=function(){var t=document.createElement("button");return t.addEventListener("click",this.close),t.classList.add(e.Css.close),t.setAttribute("aria-label","close"),t.setAttribute("type","button"),t.setAttribute("tabindex","0"),t.innerHTML="&times;",t},e.prototype._createHtmlContent=function(t){var n=uM.convertHtmlString(t.content);return t.draggable&&this._setDraggable(n,t.draggable),n},e.prototype._createMarker=function(t,a){var i=this.marker?this.marker.getLngLat():t.position,a=(t.anchor==="none"?(this.autoAnchor=a||"bottom",this.containerDiv.classList.add(this.autoAnchor),new Oh.Marker({anchor:this.autoAnchor,element:this.containerDiv,offset:t.pixelOffset})):(this.containerDiv.classList.add(t.anchor),new Oh.Marker({anchor:t.anchor,element:this.containerDiv,offset:t.pixelOffset}))).setLngLat(i);return a},e.prototype._getAutoAnchor=function(t,n){var i,a,o=this.containerDiv.offsetWidth,s=this.containerDiv.offsetHeight,c=[];return(a=this.marker?(i=(a=t._getMap().project(this.marker.getLngLat())).x,a.y):(a=hI(t.positionsToPixels([n.position]),1),i=(n=hI(a[0],2))[0],n[1]))<s?c.push("top"):a>t.getCanvas().offsetHeight-s&&c.push("bottom"),i<o/2?c.push("left"):i>t.getCanvas().offsetWidth-o/2&&c.push("right"),0<c.length?c.join("-"):"bottom"},e.prototype._replaceMarker=function(t,n,i){var a=this.containerDiv.nextElementSibling;this.marker.remove(),this.containerDiv.classList.remove(this.autoAnchor||this.options.anchor),this.marker=this._createMarker(n,i),this.marker.addTo(t._getMap()),t.popups._getCollectionDiv().insertBefore(this.containerDiv,a||null)},e.prototype._setDraggable=function(t,n){n?(t.addEventListener("mousedown",this._onDown),t.addEventListener("touchstart",this._onDown),t.addEventListener("dragstart",this._onDragStart)):(t.removeEventListener("mousedown",this._onDown),t.removeEventListener("touchstart",this._onDown),t.removeEventListener("dragstart",this._onDragStart))},e.Css={arrow:"popup-arrow",close:"popup-close",container:"popup-container",content:"popup-content-container",hidden:"hidden-accessible-element"},e})(Hg),Cze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),hC=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.anchor="bottom",t.color="#1A73AA",t.draggable=!1,t.htmlContent='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.5 36.5" id="marker_'.concat(k_(),'" width="24.5" height="36.5" display="block"><path d="M12.25.25a12.2543,12.2543,0,0,0-12,12.4937c0,6.4436,6.4879,12.1093,11.059,22.5641.5493,1.2563,1.3327,1.2563,1.882,0C17.7621,24.8529,24.25,19.1857,24.25,12.7437A12.2543,12.2543,0,0,0,12.25.25Z"   fill="{color}" stroke="{secondaryColor}" stroke-width="0.5"/><text style="font-family: Arial, Helvetica, sans-serif; font-size: 14px; fill: white;" text-anchor="middle" x="12" y="18">{text}</text></svg>'),t.pixelOffset=new iu(0,0),t.position=new ru(0,0),t.popup=void 0,t.secondaryColor="white",t.text=void 0,t.visible=!0,t}return Cze(e,r),e._cloneCustomizer=function(t){if(t instanceof Bw||Aie(t))return t},e})(ao),Eze=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),c8=(function(r){function e(t){var n=r.call(this)||this;return n._onDrag=function(){var i=n.marker.getLngLat().wrap();n.options.position=new ru(i.lng,i.lat),n._invokeEvent("drag",{type:"drag",target:n})},n._onDragStart=function(){n._invokeEvent("dragstart",{type:"dragstart",target:n})},n._onDragEnd=function(){n._invokeEvent("dragend",{type:"dragend",target:n})},n._bubbleElementEvent=function(i){n._invokeEvent(i.type,{type:i.type,target:n})},n._onEleDragStart=function(i){i.preventDefault()},n.options=new hC().merge(ia(t,hC._cloneCustomizer)),n._buildMarker(n.options),n}return Eze(e,r),e.prototype.getOptions=function(){return ia(this.options,hC._cloneCustomizer)},e.prototype.getElement=function(){return this.marker.getElement()},e.prototype.setOptions=function(t){t=new hC().merge(this.options,ia(t,hC._cloneCustomizer)),Nh(t.htmlContent,this.options.htmlContent)&&t.anchor===this.options.anchor?(typeof t.htmlContent!="string"||t.color===this.options.color&&t.text===this.options.text&&t.secondaryColor===this.options.secondaryColor||(this.element.innerHTML=this._getSubbedHtmlString(t)||""),t.draggable!==this.options.draggable&&(this._setDraggable(t.draggable),this.marker.setDraggable(t.draggable)),Nh(t.pixelOffset,this.options.pixelOffset)||this.marker.setOffset(t.pixelOffset),Nh(t.position,this.options.position)||this.marker.setLngLat(t.position),t.visible!==this.options.visible&&(t.visible?this.element.classList.remove(e.hiddenClass):this.element.classList.add(e.hiddenClass))):(this.marker.remove(),this._buildMarker(t),this.map&&(this.marker.addTo(this.map._getMap()),this._getCollectionContainer().appendChild(this.element))),this.options=t},e.prototype.togglePopup=function(){if(this.options.popup)if(this.options.popup.isOpen())this.options.popup.close();else{if(!this.map)throw new Error("The marker must be added to a map before calling togglePopup().");this.options.popup.setOptions({position:this.options.position}),this.options.popup.open(this.map)}},e.prototype._addToMap=function(t,n){this.map&&this.map!==t&&this._removeFromMap(),n&&(this.options.position=Vs(n),this.marker.setLngLat(this.options.position)),this.map!==t&&(this.map=t,this.marker.addTo(t._getMap()),this._getCollectionContainer().appendChild(this.element))},e.prototype._removeFromMap=function(){this.map&&(this.marker.remove(),delete this.map)},e.prototype._getId=function(){if(this.element)return(typeof this.options.htmlContent=="string"?this.element.firstChild:this.element).id},e.prototype._buildMarker=function(t){var n;typeof t.htmlContent=="string"?(n=this._getSubbedHtmlString(t)||"",this.element=uM.convertHtmlString(n)):this.element=t.htmlContent,this.element.classList.add(e.containerClass),t.draggable&&this._setDraggable(!0),t.visible||this.element.classList.add(e.hiddenClass),this.marker=new Oh.Marker({element:this.element,offset:t.pixelOffset,draggable:t.draggable,anchor:t.anchor}).setLngLat(t.position),this.marker.on("drag",this._onDrag),this.marker.on("dragstart",this._onDragStart),this.marker.on("dragend",this._onDragEnd),this.element.addEventListener("click",this._bubbleElementEvent),this.element.addEventListener("dblclick",this._bubbleElementEvent),this.element.addEventListener("contextmenu",this._bubbleElementEvent),this.element.addEventListener("keydown",this._bubbleElementEvent),this.element.addEventListener("keypress",this._bubbleElementEvent),this.element.addEventListener("keyup",this._bubbleElementEvent),this.element.addEventListener("mousedown",this._bubbleElementEvent),this.element.addEventListener("mouseenter",this._bubbleElementEvent),this.element.addEventListener("mouseleave",this._bubbleElementEvent),this.element.addEventListener("mousemove",this._bubbleElementEvent),this.element.addEventListener("mouseout",this._bubbleElementEvent),this.element.addEventListener("mouseover",this._bubbleElementEvent),this.element.addEventListener("mouseup",this._bubbleElementEvent)},e.prototype._getSubbedHtmlString=function(t){return typeof t.htmlContent=="string"?t.htmlContent.replace(/{color}/gi,t.color||"").replace(/{secondaryColor}/gi,t.secondaryColor||"").replace(/{text}/gi,t.text||""):null},e.prototype._getCollectionContainer=function(){var t=this.map.getCanvasContainer().querySelector(".".concat(e.collectionContainerClass));return t||((t=document.createElement("div")).classList.add(e.collectionContainerClass),this.map.getCanvasContainer().appendChild(t)),t},e.prototype._setDraggable=function(t){t?this.element.addEventListener("dragstart",this._onEleDragStart):this.element.removeEventListener("dragstart",this._onEleDragStart)},e.collectionContainerClass="marker-collection-container",e.hiddenClass="hidden-accessible-element",e.containerClass="marker-container",e})(Hg),Sze=(function(){function r(){}return r.getHighContrastMode=function(){return matchMedia("(-ms-high-contrast: white-on-black)").matches?"dark":matchMedia("(-ms-high-contrast: black-on-white)").matches?"light":matchMedia("(-ms-high-contrast: active)").matches?"dark":matchMedia("(inverted-colors: inverted)").matches?"invert":null},r})();function qg(r,e){return r||e}function _A(r,e){return r[e]}var xR,od=void 0,AA=null,u8="",hM="function",sT="object",lg="prototype",nF="__proto__",G0="undefined",zN="constructor",h8="Symbol",Tze="_polyfill",tw="length",qN="name",ou="call",AM="toString",rp=qg(Object),A8=_A(rp,lg),die=qg(String),q_=_A(die,lg),Bze=qg(Math),fie=qg(Array),dM=_A(fie,lg),Eg=_A(dM,"slice");function bc(r,e){try{return{v:r.apply(this,e)}}catch(t){return{e:t}}}function Ize(r,e){return r=bc(r),r.e?e:r.v}function fM(r){return function(e){return typeof e===r}}function pie(r){var e="[object "+r+"]";return function(t){return!(!t||kze(t)!==e)}}function kze(r){return A8[AM].call(r)}function Zo(r){return typeof r===G0||r===G0}function vr(r){return r===AA||Zo(r)}function Nze(r){return r===AA||!mie(r)}function mie(r){return!!r||r!==od}function Pze(r){return xR=xR||["string","number","boolean",G0,"symbol","bigint"],r!==sT&&xR.indexOf(r)!==-1}var jn=fM("string"),hi=fM(hM);function yA(r){return!(!r&&vr(r)||!r||typeof r!==sT)}var ji=_A(fie,"isArray"),Oze=pie("Date"),lT=fM("number"),gie=fM("boolean"),d8=pie("Error");function Iw(r){return!!(r&&r.then&&hi(r.then))}function KN(r){return!(!r||Ize(function(){return!(r&&0+r)},!r))}var f8=_A(rp,"getOwnPropertyDescriptor");function ef(r,e){return!!r&&A8.hasOwnProperty[ou](r,e)}var av=qg(_A(rp,"hasOwn"),Mze);function Mze(r,e){return ef(r,e)||!!f8(r,e)}function Qi(r,e,t){if(r&&yA(r)){for(var n in r)if(av(r,n)&&e[ou](r,n,r[n])===-1)break}}var AI={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Lze(r){var e,t={};return t[AI.c]=!0,t[AI.e]=!0,r.l&&(t.get=function(){return r.l.v},e=f8(r.l,"v"))&&e.set&&(t.set=function(n){r.l.v=n}),Qi(r,function(n,i){t[AI[n]]=Zo(i)?t[AI[n]]:i}),t}var Sg=_A(rp,"defineProperty");function ca(r,e,t){return Sg(r,e,Lze(t))}function yie(r,e,t,n,i){var a={};return Qi(r,function(o,s){VN(a,o,e?s:o),VN(a,s,o)}),n?n(a):a}function VN(r,e,t,n){Sg(r,e,{value:t,enumerable:!0,writable:!1})}var dA=qg(die),Rze="[object Error]";function en(r,e){var t=u8,n=A8[AM][ou](r);n===Rze&&(r={stack:dA(r.stack),message:dA(r.message),name:dA(r.name)});try{t=(t=JSON.stringify(r,AA,e?typeof e=="number"?e:4:od))&&t.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||dA(r)}catch(i){t=" - "+en(i,e)}return n+": "+t}function rd(r){throw new Error(r)}function np(r){throw new TypeError(r)}var vie=_A(rp,"freeze");function Dze(r){return r}function Uze(r){return r[nF]||AA}var iF=_A(rp,"assign"),cg=_A(rp,"keys");function ax(r){return vie&&Qi(r,function(e,t){(ji(t)||yA(t))&&ax(t)}),Tg(r)}var Tg=qg(vie,Dze),aF=qg(_A(rp,"getPrototypeOf"),Uze);function Fze(r){return yie(r,1,0,Tg)}function jze(r){return yie(r,0,0,Tg)}function Qze(r){var e={};return Qi(r,function(t,n){VN(e,t,n[1]),VN(e,n[0],n[1])}),Tg(e)}function Hze(r){return Qze(r)}var CR,_ie=jze({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),nG="__tsUtils$gblCfg";function bie(){var r;return r=(r=(r=(r=typeof globalThis!==G0?globalThis:r)||typeof self===G0?r:self)||typeof window===G0?r:window)||typeof global===G0?r:global}function wie(){var r;return CR||(r=bc(bie).v||{},CR=r[nG]=r[nG]||{}),CR}function um(r,e,t){var n=e&&e[r];return function(i){var a,o=i&&i[r]||n;if(o||t)return a=arguments,(o||t).apply(i,o?Eg[ou](a,1):a);np('"'+dA(r)+'" not defined for '+en(i))}}function zze(r){return function(e){return e[r]}}var qze=_A(Bze,"max"),iG=um("slice",q_),hm=um("substring",q_),Hy=um("substr",q_,Kze);function Kze(r,e,t){return vr(r)&&np("Invalid "+en(r)),t<0?u8:((e=e||0)<0&&(e=qze(e+r[tw],0)),Zo(t)?iG(r,e):iG(r,e,e+t))}function p8(r,e){return hm(r,0,e)}var ER,dI,yl,aG="_urid";function Vze(){var r;return ER||(r=wie(),ER=r.gblSym=r.gblSym||{k:{},s:{}}),ER}function m8(r){var e={description:dA(r),toString:function(){return h8+"("+r+")"}};return e[Tze]=!0,e}function Gze(r){var e,t,n=Vze();return av(n.k,r)||(e=m8(r),t=cg(n.s).length,e[aG]=function(){return t+"_"+e[AM]()},n.k[r]=e,n.s[e[aG]()]=dA(r)),n.k[r]}function $ze(t){dI=dI||{};var e,t=_ie[t];return e=t?dI[t]=dI[t]||m8(h8+"."+t):e}function Nv(){yl=wie()}function Yze(r){var e={};return yl||Nv(),e.b=yl.lzy,Sg(e,"v",{configurable:!0,get:function(){var t=r();return yl.lzy||Sg(e,"v",{value:t}),e.b=yl.lzy,t}}),e}function sf(r){return Sg({toJSON:function(){return r}},"v",{value:r})}var vE,xie="window";function ox(r,e){var t;return function(){return yl||Nv(),(t=t&&!yl.lzy?t:sf(bc(r,e).v)).v}}function Yd(r){return yl||Nv(),(vE=vE&&r!==!1&&!yl.lzy?vE:sf(bc(bie).v||AA)).v}function fs(r,e){return e=vE&&e!==!1?vE.v:Yd(e),e&&e[r]?e[r]:r===xie?pA():AA}function Cie(){return!!Ku()}var Ku=ox(fs,["document"]);function pM(){return!!pA()}var pA=ox(fs,[xie]);function Wze(){return!!Am()}var Am=ox(fs,["navigator"]);function Zze(){return!!Eie()}var cT,oG,SR,Eie=ox(fs,["history"]),Xze=ox(function(){return!!bc(function(){return process&&(process.versions||{}).node}).v}),Sie=ox(function(){return!!bc(function(){return self&&self instanceof WorkerGlobalScope}).v});function mM(){return cT=sf(bc(fs,[h8]).v)}function Jze(r){var e=(yl.lzy?0:cT)||mM();return e.v?e.v[r]:od}function e7e(){return!!t7e()}function t7e(){return yl||Nv(),((yl.lzy?0:cT)||mM()).v}function g8(r,e){var t=_ie[r],n=(yl||Nv(),(yl.lzy?0:cT)||mM());return n.v?n.v[t||r]:$ze(r)}function AC(r,e){yl||Nv();var t=(yl.lzy?0:cT)||mM();return t.v?t.v(r):m8(r)}function y8(r){return yl||Nv(),((oG=(yl.lzy?0:oG)||sf(bc(Jze,["for"]).v)).v||Gze)(r)}function oF(r){return!!r&&hi(r.next)}function Tie(r){return!Nze(r)&&hi(r[g8(3)])}function v8(r,e,t){if(r&&(oF(r)||(r=r[(SR=SR||sf(g8(3))).v]?r[SR.v]():null),oF(r))){var n=od,i=od;try{for(var a=0;!(i=r.next()).done&&e[ou](t||r,i.value,a,r)!==-1;)a++}catch(o){n={e:o},r.throw&&(i=AA,r.throw(n))}finally{try{i&&!i.done&&r.return&&r.return(i)}finally{if(n)throw n.e}}}}function Nb(r,e,t){return r.apply(e,t)}function Pb(r,e){return!Zo(e)&&r&&(ji(e)?Nb(r.push,r,e):oF(e)||Tie(e)?v8(e,function(t){r.push(t)}):r.push(e)),r}function tn(r,e,t){if(r)for(var n=r[tw]>>>0,i=0;i<n&&!(i in r&&e[ou](r,r[i],i,r)===-1);i++);}var $u=um("indexOf",dM),_E=um("map",dM);function gM(r,e,t){return(r&&r.slice||Eg).apply(r,Eg[ou](arguments,1))}var sG,lG,r7e=um("reduce",dM),_v=qg(_A(rp,"create"),n7e);function n7e(r){var e;return r?((e=typeof r)!==sT&&e!==hM&&np("Prototype must be an Object or function: "+en(r)),t[lg]=r,new t):{};function t(){}}function Bie(r,e){return(rp.setPrototypeOf||function(t,n){var i;(sG=sG||sf(((i={})[nF]=[],i instanceof Array))).v?t[nF]=n:Qi(n,function(a,o){return t[a]=o})})(r,e)}function i7e(r,e,t){function n(){this[zN]=e,bc(ca,[this,qN,{v:r,c:!0,e:!1}])}return bc(ca,[e,qN,{v:r,c:!0,e:!1}]),(e=Bie(e,t))[lg]=t===AA?_v(t):(n[lg]=t[lg],new n),e}function cG(r,e){e&&(r[qN]=e)}function Iie(r,e,t){var n=Error,i=n[lg][qN],a=Error.captureStackTrace;return i7e(r,function(){var o=arguments;try{bc(cG,[n,r]);var s,c=Nb(n,this,Eg[ou](o))||this;return c!==this&&(s=aF(this))!==aF(c)&&Bie(c,s),a&&a(c,this[zN]),e&&e(c,o),c}finally{bc(cG,[n,i])}},n)}function a7e(r){throw new(lG=lG||Iie("UnsupportedError"))(r)}function em(){return(Date.now||o7e)()}function o7e(){return new Date().getTime()}function s7e(r){return function(e){return vr(e)&&np("strTrim called ["+en(e)+"]"),e=e&&e.replace?e.replace(r,u8):e}}var TR,BR,uG,l7e=s7e(/^\s+|(?=\s)\s+$/g),vl=um("trim",q_,l7e);function Bh(r){if(!r||typeof r!==sT)return!1;var e=!1;if(r!==(uG=uG||!pM()||pA())){BR||(TR=Function[lg][AM],BR=TR[ou](rp));try{var t=aF(r);e=(e=!t)||(t=ef(t,zN)?t[zN]:t)&&typeof t===hM&&TR[ou](t)===BR}catch{}}return e}function c7e(r){return r.value&&Nie(r),!0}var hG=[d7e,Nie,p7e,f7e];function u7e(r,e,t,n){var i;return tn(r,function(a){if(a.k===e)return i=a,-1}),i||(i={k:e,v:e},r.push(i),n(i)),i.v}function _8(r,e,t,a){var i=t.handler,a=t.path?a?t.path.concat(a):t.path:[],o={handler:t.handler,src:t.src,path:a},s=typeof e,c=!1,A=!1,f=(e&&s===sT?c=Bh(e):A=e===AA||Pze(s),{type:s,isPrim:A,isPlain:c,value:e,result:e,path:a,origin:t.src,copy:function(y,C){return _8(r,y,C?o:t,C)},copyTo:function(y,C){return kie(r,y,C,o)}});return f.isPrim?i&&i[ou](t,f)?f.result:e:u7e(r,e,a,function(y){ca(f,"result",{g:function(){return y.v},s:function(k){y.v=k}});for(var C=0,x=i;!(x||(C<hG.length?hG[C++]:c7e))[ou](t,f);)x=AA})}function kie(r,e,t,n){if(!vr(t))for(var i in t)e[i]=_8(r,t[i],n,i);return e}function h7e(r,e,t){return kie([],r,e,{handler:t,src:e,path:[]})}function A7e(r,e){return _8([],r,{handler:e,src:r})}function d7e(r){var e,t=r.value;return!!ji(t)&&((e=r.result=[]).length=t.length,r.copyTo(e,t),!0)}function f7e(r){var e=r.value;return!!Oze(e)&&(r.result=new Date(e.getTime()),!0)}function p7e(r){return r.type===hM}function Nie(r){var e,t=r.value;return!(!t||!r.isPlain||(e=r.result={},r.copyTo(e,t),0))}function Pie(r,e){return tn(e,function(t){h7e(r,t)}),r}function AG(r,e,t,n,i,a,o){return Pie(A7e(r)||{},Eg[ou](arguments))}function m7e(r,e,t,n,i,a,o){return Pie(r||{},Eg[ou](arguments))}var IR,g7e=zze(tw);function Bg(){return yl||Nv(),(IR=IR&&!yl.lzy?IR:sf(bc(fs,["performance"]).v)).v}var Oie=um("split",q_);function Mie(r,e,t){var n;r&&e&&(n=(e=Oie(e,".")).pop(),tn(e,function(i){vr(r[i])&&(r[i]={}),r=r[i]}),r[n]=t)}var Lie=um("endsWith",q_,y7e);function y7e(r,e,t){return jn(r)||np("'"+en(r)+"' is not a string"),e=jn(e)?e:dA(e),t=!Zo(t)&&t<r[tw]?t:r[tw],hm(r,t-e[tw],t)===e}var fA=um("indexOf",q_),kR="ref",NR="unref",PR="hasRef",v7e="enabled";function _7e(r,e,t){var n,i=!0,a=r?e(AA):AA;function o(){return i=!1,a&&a[NR]&&a[NR](),n}function s(){a&&t(a),a=AA}function c(){return a=e(a),i||o(),n}return(n={cancel:s,refresh:c})[PR]=function(){return a&&a[PR]?a[PR]():i},n[kR]=function(){return i=!0,a&&a[kR]&&a[kR](),n},n[NR]=o,{h:n=Sg(n,v7e,{get:function(){return!!a},set:function(A){!A&&a&&s(),A&&!a&&c()}}),dn:function(){a=AA}}}function Rie(r,e,t){var n=ji(e),i=n?e.length:0,a=(0<i?e[0]:n?od:e)||setTimeout,o=(1<i?e[1]:od)||clearTimeout,s=t[0],c=(t[0]=function(){c.dn(),Nb(s,od,Eg[ou](arguments))},_7e(r,function(A){if(A){if(A.refresh)return A.refresh(),A;Nb(o,od,[A])}return Nb(a,od,t)},function(A){Nb(o,od,[A])}));return c.h}function tf(r,e){return Rie(!0,od,Eg[ou](arguments))}function b7e(r,e){return Rie(!1,od,Eg[ou](arguments))}var OR,Die=Fze,w7e=Hze,Dy=Die({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),kw="toLowerCase",GN="blkVal",ni="length",$N="rdOnly",YN="notify",WN="warnToConsole",uT="throwInternal",sx="setDf",s_="watch",Ks="logger",O_="apply",_a="push",lx="splice",Uie="hdlr",Ob="cancel",hT="initialize",zy="identifier",ZN="removeNotificationListener",XN="addNotificationListener",Fp="isInitialized",dG="instrumentationKey",MR="INACTIVE",bE="value",fI="getNotifyMgr",lS="getPlugin",ug="name",dC="iKey",rw="time",Ch="processNext",Fie="getProcessTelContext",fG="pollInternalLogs",Mb="enabled",pG="stopPollingInternalLogs",bv="unload",pI="onComplete",JN="version",jie="loggingLevelConsole",M_="createNew",$m="teardown",eP="messageId",l_="message",Nw="isAsync",ov="diagLog",tP="_doTeardown",cS="update",Vp="getNext",uS="setNextPlugin",Qie="protocol",sF="userAgent",Pw="split",LR="nodeType",c_="replace",Hie="logInternalMessage",hg="type",b8="handler",XC="status",mG="getResponseHeader",gG="getAllResponseHeaders",lF="isChildEvt",vb="data",nw="getCtx",Np="setCtx",cF="complete",yG="itemsReceived",fC="urlString",vG="sendPOST",RR="headers",W1="timeout",_G="setRequestHeader",uF="traceId",hF="spanId",AF="traceFlags";function x7e(r,e){OR=OR||Iie("AggregationError",function(n,i){1<i[ni]&&(n.errors=i[1])});var t=r;throw tn(e,function(n,i){t+=`
`.concat(i," > ").concat(en(n))}),new OR(t,e||[])}var DR,zie="function",qie="object",w8="undefined",Gp="prototype",x8=Object,C7e=x8[Gp],Kie=((Yd()||{}).Symbol,(Yd()||{}).Reflect,"hasOwnProperty"),E7e=function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])C7e[Kie].call(e,i)&&(r[i]=e[i]);return r},Ih=iF||E7e,Vie=function(r,e){return(Vie=x8.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,n){t.__proto__=n}:function(t,n){for(var i in n)n[Kie](i)&&(t[i]=n[i])}))(r,e)};function Kg(r,e){function t(){this.constructor=r}typeof e!==zie&&e!==null&&np("Class extends value "+String(e)+" is not a constructor or null"),Vie(r,e),r[Gp]=e===null?_v(e):(t[Gp]=e[Gp],new t)}function bG(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r}var rP="constructor",Ig="prototype",nP="function",iP="_dynInstFuncs",dF="_isDynProxy",iw="_dynClass",S7e="_dynCls$",fF="_dynInstChk",hS=fF,Gie="_dfOpts",wG="_unknown_",C8="__proto__",mI="_dyn"+C8,xG="__dynProto$Gbl",UR="_dynInstProto",hk="useBaseInst",pF="setInstFuncs",E8=Object,AS=E8.getPrototypeOf,CG=E8.getOwnPropertyNames,EG=Yd(),mF=EG[xG]||(EG[xG]={o:((DR={})[pF]=!0,DR[hk]=!0,DR),n:1e3});function Ak(r){return r&&(r===E8[Ig]||r===Array[Ig])}function S8(r){return Ak(r)||r===Function[Ig]}function L_(r){if(r){if(AS)return AS(r);var e=r[C8]||r[Ig]||(r[rP]?r[rP][Ig]:null),t=r[mI]||e;ef(r,mI)||(delete r[UR],t=r[mI]=r[UR]||r[mI],r[UR]=e)}return t}function aP(r,e){var t=[];if(CG)t=CG(r);else for(var n in r)typeof n=="string"&&ef(r,n)&&t.push(n);if(t&&0<t.length)for(var i=0;i<t.length;i++)e(t[i])}function T8(r,e,t){return e!==rP&&typeof r[e]===nP&&(t||ef(r,e))&&e!==C8&&e!==Ig}function oP(r){np("DynamicProto: "+r)}function T7e(r){var e=_v(null);return aP(r,function(t){!e[t]&&T8(r,t,!1)&&(e[t]=r[t])}),e}function B8(r,e){for(var t=r.length-1;0<=t;t--)if(r[t]===e)return!0;return!1}function B7e(r,e,t,n){function i(c,A,f){var y,C=A[f];return C[dF]&&n&&(y=c[iP]||{})[hS]!==!1&&(C=(y[A[iw]]||{})[f]||C),function(){return C.apply(c,arguments)}}for(var a=_v(null),o=(aP(t,function(c){a[c]=i(e,t,c)}),L_(r)),s=[];o&&!S8(o)&&!B8(s,o);)aP(o,function(c){!a[c]&&T8(o,c,!AS)&&(a[c]=i(e,o,c))}),s.push(o),o=L_(o);return a}function I7e(r,e,t,n){var i=null;if(r&&ef(t,iw)){var a=r[iP]||_v(null);if((i=(a[t[iw]]||_v(null))[e])||oP("Missing ["+e+"] "+nP),!i[fF]&&a[hS]!==!1){for(var o=!ef(r,e),s=L_(r),c=[];o&&s&&!S8(s)&&!B8(c,s);){var A=s[e];if(A){o=A===n;break}c.push(s),s=L_(s)}try{o&&(r[e]=i),i[fF]=1}catch{a[hS]=!1}}}return i}function k7e(r,e,t){var n=e[r];return typeof(n=n===t?L_(e)[r]:n)!==nP&&oP("["+r+"] is not a "+nP),n}function N7e(r,e,t,n,i){var a,o;Ak(r)||Ak(a=t[iP]=t[iP]||_v(null))||(o=a[e]=a[e]||_v(null),a[hS]!==!1&&(a[hS]=!!i),Ak(o))||aP(t,function(s){function c(){return(I7e(this,f,A,c)||k7e(f,A,c)).apply(this,arguments)}var A,f;T8(t,s,!1)&&t[s]!==n[s]&&(o[s]=t[s],delete t[s],ef(r,s)&&(!r[s]||r[s][dF])||(r[s]=(A=r,f=s,c[dF]=1,c)))})}function P7e(r,e){if(AS){for(var t=[],n=L_(e);n&&!S8(n)&&!B8(t,n);){if(n===r)return!0;t.push(n),n=L_(n)}return!1}return!0}function FR(r,e){return ef(r,Ig)?r.name||e||wG:((r||{})[rP]||{}).name||e||wG}function xo(o,e,A,n){ef(o,Ig)||oP("theClass is an invalid class definition.");var i=o[Ig],a=(P7e(i,e)||oP("["+FR(o)+"] not in hierarchy of ["+FR(e)+"]"),null),o=(ef(i,iw)?a=i[iw]:(a=S7e+FR(o,"_")+"$"+mF.n,mF.n++,i[iw]=a),xo[Gie]),s=!!o[hk],c=(s&&n&&n[hk]!==void 0&&(s=!!n[hk]),T7e(e)),A=(A(e,B7e(i,e,c,s)),!!AS&&!!o[pF]);N7e(i,a,e,c,(A=A&&n?!!n[pF]:A)!==!1)}xo[Gie]=mF.o;var sP="Promise",I8="rejected";function kg(r,e){return $ie(r,function(t){return e?e({status:"fulfilled",rejected:!1,value:t}):t},function(t){return e?e({status:I8,rejected:!0,reason:t}):t})}function $ie(r,e,t,n){var i=r;try{if(Iw(r))(e||t)&&(i=r.then(e,t));else try{e&&(i=e(r))}catch(a){if(!t)throw a;i=t(a)}}finally{}return i}var jR,Yie=["pending","resolving","resolved",I8],SG="dispatchEvent";function O7e(r){var e;return!!(e=r&&r.createEvent?r.createEvent("Event"):e)&&e.initEvent}function M7e(r,e,t,n){var i=Ku(),i=(jR=jR||sf(!!bc(O7e,[i]).v)).v?i.createEvent("Event"):n?new Event(e):{};t&&t(i),jR.v&&i.initEvent(e,!1,!0),i&&r[SG]?r[SG](i):(n=r["on"+e])?n(i):(t=fs("console"))&&(t.error||t.log)(e,en(i))}var QR,TG,BG,IG,Wie="unhandledRejection",L7e=Wie.toLowerCase(),R7e=10;function kG(r){return hi(r)?r.toString():en(r)}function D7e(r,e,t){var n,i,a=gM(arguments,3),o=0,s=!1,c=[],A=!1,f=null;function y(D,H){return A=!0,f&&f.cancel(),f=null,r(function(q,$){c.push(function(){try{var ce=o===2?D:H,V=Zo(ce)?n:hi(ce)?ce(n):ce;Iw(V)?V.then(q,$):(!ce&&o===3?$:q)(V)}catch(he){$(he)}}),s&&x()},a)}function C(){return Yie[o]}function x(){var D;0<c.length&&(D=c.slice(),c=[],A=!0,f&&f.cancel(),f=null,e(D))}function k(D,H){return function(q){o===H&&(D===2&&Iw(q)?(o=1,q.then(k(2,1),k(3,1))):(o=D,s=!0,n=q,x(),A||D!==3||(f=f||tf(N,R7e))))}}function N(){var D;A||(A=!0,Xze()?process.emit(Wie,n,i):(D=pA()||Yd(),QR=QR||sf(bc(fs,[sP+"RejectionEvent"]).v),M7e(D,L7e,function(H){return ca(H,"promise",{g:function(){return i}}),H.reason=n,H},!!QR.v)))}Sg(i={then:y,catch:function(D){return y(void 0,D)},finally:function(D){var H=D,q=D;return hi(D)&&(H=function($){return D&&D(),$},q=function($){throw D&&D(),$}),y(H,q)}},"state",{get:C}),e7e()&&(i[g8(11)]="IPromise"),i.toString=function(){return"IPromise "+C()+(s?" - "+kG(n):"")},hi(t)||np(sP+": executor is not a function - "+kG(t));var M=k(3,0);try{t.call(i,k(2,0),M)}catch(D){M(D)}return i}function U7e(r){return function(e){var t=gM(arguments,1);return r(function(n,i){try{var a=[],o=1;v8(e,function(s,c){s&&(o++,$ie(s,function(A){a[c]=A,--o==0&&n(a)},i))}),--o===0&&n(a)}catch(s){i(s)}},t)}}function F7e(r){return sf(function(e){var t=gM(arguments,1);return r(function(n,i){var a=[],o=1;function s(c,A){o++,kg(c,function(f){f.rejected?a[A]={status:I8,reason:f.reason}:a[A]={status:"fulfilled",value:f.value},--o==0&&n(a)})}try{ji(e)?tn(e,s):Tie(e)?v8(e,s):np("Input is not an iterable"),--o===0&&n(a)}catch(c){i(c)}},t)})}function j7e(r){tn(r,function(e){try{e()}catch{}})}function Q7e(r){var e=lT(r)?r:0;return function(t){tf(function(){j7e(t)},e)}}function wE(r,e){return D7e(wE,Q7e(e),r,e)}function H7e(r,e){var t=(TG=TG||sf(bc(fs,[sP]).v||null)).v;if(!t)return wE(r);hi(r)||np(sP+": executor is not a function - "+en(r));var n=0;return t=new t(function(i,a){r(function(o){n=2,i(o)},function(o){n=3,a(o)})}),Sg(t,"state",{get:function(){return Yie[n]}}),t}function Ng(r,e){return(BG=BG||sf(H7e)).v.call(this,r,e)}var z7e=U7e(Ng);function q7e(r,e){return(IG=IG||F7e(Ng)).v(r,e)}var Lp=void 0,Ji="",L0="channels",Fl="core",gF="createPerfMgr",yF="disabled",aw="extensionConfig",_b="extensions",tm="processTelemetry",lP="priority",dk="eventsSent",xE="eventsDiscarded",fk="eventsSendRequest",$0="perfEvent",HR="offlineEventsStored",zR="offlineBatchSent",qR="offlineBatchDrop",cP="getPerfMgr",vF="domain",KR="path",K7e="Not dynamic - ",V7e="getPrototypeOf",G7e=/-([a-z])/g,$7e=/([^\w\d_$])/g,Y7e=/^(\d+[\w\d_$])/,W7e=Object[V7e];function u_(r){return!vr(r)}function uP(r){return r=r&&jn(r)?(r=(r=r[c_](G7e,function(e,t){return t.toUpperCase()}))[c_]($7e,"_"))[c_](Y7e,function(e,t){return"_"+t}):r}function ju(r,e){return!(!r||!e)&&fA(r,e)!==-1}function Ow(r){return r&&r.toISOString()||""}function ga(r){return d8(r)?r[ug]:Ji}function eo(r,e,t,n,i){var a=t;return!r||(a=r[e])===t||i&&!i(a)||n&&!n(t)||(r[e]=a=t),a}function _h(r,e,t){var n;return r?!(n=r[e])&&vr(n)&&(n=Zo(t)?{}:t,r[e]=n):n=Zo(t)?{}:t,n}function Zie(r,e){var t=null,n=null;return hi(r)?t=r:n=r,function(){var i=arguments;if(n=t?t():n)return n[e][O_](n,i)}}function Z7e(r,e,t){if(r&&e&&yA(r)&&yA(e))for(var n in e)(function(i){var a;jn(i)&&(a=e[i],hi(a)?t&&!t(i,!0,e,r)||(r[i]=Zie(e,i)):t&&!t(i,!1,e,r)||(av(r,i)&&delete r[i],ca(r,i,{g:function(){return e[i]},s:function(o){e[i]=o}})))})(n);return r}function hP(r,e,t,n,i){r&&e&&t&&(r[e]=Zie(t,n))}function JC(r,e,t,n){return r&&e&&yA(r)&&ji(t)&&tn(t,function(i){jn(i)&&hP(r,i,e,i)}),r}function X7e(r){return function(){var e=this;r&&Qi(r,function(t,n){e[t]=n})}}function Xie(r){return r=r&&iF?x8(iF({},r)):r}function Jie(r,e,t,n,i,a){var o=arguments,s=o[0]||{},c=o[ni],A=!1,f=1;for(0<c&&gie(s)&&(A=s,s=o[f]||{},f++),yA(s)||(s={});f<c;f++){var y,C,x,k,N=o[f],M=ji(N),D=yA(N);for(y in N)(M&&y in N||D&&av(N,y))&&(C=N[y],x=void 0,A&&C&&((x=ji(C))||Bh(C))&&(k=s[y],x?ji(k)||(k=[]):Bh(k)||(k={}),C=Jie(A,k,C)),C!==void 0)&&(s[y]=C)}return s}function VR(r,n){var t=!1,n=n&&n.featureOptIn&&n.featureOptIn[r];return t=r&&n?(r=n.mode)==3||r==1:t}function AP(r){try{return r.responseText}catch{}return null}function eae(r,e){return r?"XDomainRequest,Response:"+AP(r)||"":e}function dP(r,e){return r?"XMLHttpRequest,Status:"+r[XC]+",Response:"+AP(r)||r.response||"":e}function NG(r,e){return e&&(lT(e)?r=[e].concat(r):ji(e)&&(r=e.concat(r))),r}var J7e="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",PG="withCredentials",e9e="timeout";function t9e(r,e,t,n,i,a){function o(c,A,f){try{c[A]=f}catch{}}i===void 0&&(i=!1);var s=new XMLHttpRequest;return o(s,J7e,n),t&&o(s,PG,t),s.open(r,e,!i),t&&o(s,PG,t),!i&&a&&o(s,e9e,a),s}function r9e(r){var e={};return jn(r)&&tn(vl(r)[Pw](/[\r\n]+/),function(t){var n,i;t&&((i=t.indexOf(": "))!==-1?(n=vl(t.substring(0,i))[kw](),i=vl(t.substring(i+1)),e[n]=i):e[vl(t)]=1)}),e}function GR(r,e,t){return!r[t]&&e&&e[mG]&&(e=e[mG](t))&&(r[t]=vl(e)),r}var n9e="kill-duration",i9e="kill-duration-seconds",a9e="time-delta-millis";function $R(r,e){var t={};return r[gG]?t=r9e(r[gG]()):e&&(t=GR(t,r,a9e),t=GR(t,r,n9e),t=GR(t,r,i9e)),t}var o9e="documentMode",s9e="location",l9e="console",tae="JSON",c9e="crypto",u9e="msCrypto",h9e="ReactNative",_F="msie",bF="trident/",rae="XMLHttpRequest",YR=null,OG=null,A9e=!1,pC=null,WR=null;function nae(r,e){var t,n=!1;if(r){try{(n=e in r)||(t=r[Gp])&&(n=e in t)}catch{}if(!n)try{n=!Zo(new r()[e])}catch{}}return n}function jp(r){return r&&A9e&&(r=fs("__mockLocation"),r)?r:typeof location===qie&&location?location:fs(s9e)}function d9e(){return typeof console!==w8?console:fs(l9e)}function AT(){return!!(typeof JSON===qie&&JSON||fs(tae)!==null)}function $f(){return AT()?JSON||fs(tae):null}function f9e(){return fs(c9e)}function p9e(){return fs(u9e)}function m9e(){var r=Am();return!(!r||!r.product)&&r.product===h9e}function wF(){var r=Am();return!r||r[sF]===OG&&YR!==null||(r=((OG=r[sF])||Ji)[kw](),YR=ju(r,_F)||ju(r,bF)),YR}function iae(r){var e=((r=(r=r===void 0?null:r)?r:(e=Am()||{})?(e.userAgent||Ji)[kw]():Ji)||Ji)[kw]();return ju(e,_F)?(r=Ku()||{},Math.max(parseInt(e[Pw](_F)[1]),r[o9e]||0)):ju(e,bF)&&(r=parseInt(e[Pw](bF)[1]),r)?r+4:null}function eE(r){return WR=WR!==null&&r!==!1?WR:Wze()&&!!Am().sendBeacon}function k8(r){var e=!1;try{var e=!!fs("fetch"),t=fs("Request");e&&r&&t&&(e=nae(t,"keepalive"))}catch{}return e}function g9e(){return pC=pC===null&&(pC=typeof XDomainRequest!==w8)&&yM()?pC&&!nae(fs(rae),"withCredentials"):pC}function yM(){var r=!1;try{r=!!fs(rae)}catch{}return r}function y9e(r,e){return!!(r&&r.dispatchEvent&&e)&&(r.dispatchEvent(e),!0)}function v9e(r,i){var t,n=null,i={detail:i||null};return hi(CustomEvent)?n=new CustomEvent(r,i):(t=Ku())&&t.createEvent&&(n=t.createEvent("CustomEvent")).initCustomEvent(r,!0,!0,i),n}function _9e(r,e,t){var n=Yd();if(n&&n.CustomEvent)try{return y9e(n,v9e(r,{cfg:e||null,customDetails:t||null}))}catch{}return!1}var aae=4294967296,sv=4294967295,oae=123456789,sae=987654321,lae=!1,pk=oae,mk=sae;function b9e(r){r<0&&(r>>>=0),pk=oae+r&sv,mk=sae-r&sv,lae=!0}function w9e(){try{var r=2147483647&em();b9e((Math.random()*aae^r)+r)}catch{}}function x9e(r){return Math.floor(dS()/sv*(r+1))>>>0}function dS(r){var e=0,t=f9e()||p9e();return(e=t&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&sv:e)===0&&wF()&&(lae||w9e(),e=C9e()&sv),e===0&&(e=Math.floor(aae*Math.random()|0)),e>>>=0,e}function C9e(r){var e=((mk=36969*(65535&mk)+(mk>>16)&sv)<<16)+(65535&(pk=18e3*(65535&pk)+(pk>>16)&sv))>>>0&sv|0;return e>>>=0,e}function N8(r){r===void 0&&(r=22);for(var e=dS()>>>0,t=0,n=Ji;n[ni]<r;)t++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&e),e>>>=6,t===5&&(e=(dS()<<2&4294967295|3&e)>>>0,t=0);return n}var cae="3.3.0",E9e="."+N8(6),S9e=0;function uae(r){return r[LR]===1||r[LR]===9||!+r[LR]}function T9e(r,e){var t=e[r.id];if(!t){t={};try{uae(e)&&ca(e,r.id,{e:!1,v:t})}catch{}}return t}function rf(r,e){return uP(r+S9e+++((e=e===void 0?!1:e)?"."+cae:Ji)+E9e)}function hae(r){var e={id:rf("_aiData-"+(r||Ji)+"."+cae),accept:function(t){return uae(t)},get:function(t,n,i,a){var o=t[e.id];return o?o[uP(n)]:(a&&((o=T9e(e,t))[uP(n)]=i),i)},kill:function(t,n){if(t&&t[n])try{delete t[n]}catch{}}};return e}function gk(r){return r&&yA(r)&&(r.isVal||r.fb||av(r,"v")||av(r,"mrg")||av(r,"ref")||r.set)}function Aae(r,e,t){var n,i=t.dfVal||mie;if(e&&t.fb){var a=t.fb;ji(a)||(a=[a]);for(var o=0;o<a[ni];o++){var s=a[o],c=e[s];if(i(c)?n=c:r&&(i(c=r.cfg[s])&&(n=c),r.set(r.cfg,dA(s),c)),i(n))break}}return n=!i(n)&&i(t.v)?t.v:n}function xF(r,e,t){var n,i=t;return(i=t&&gk(t)?Aae(r,e,t):i)&&(gk(i)&&(i=xF(r,e,i)),ji(i)?(n=[])[ni]=i[ni]:Bh(i)&&(n={}),n)&&(Qi(i,function(a,o){o&&gk(o)&&(o=xF(r,e,o)),n[a]=o}),i=n),i}function P8(r,e,t,y){var i,a,o,s,c,A,f=y,f=gk(f)?(i=f.isVal,a=f.set,c=f[$N],C=f[GN],o=f.mrg,!(s=f.ref)&&Zo(s)&&(s=!!o),Aae(r,e,f)):y,y=(C&&r[GN](e,t),!0),C=e[t];!C&&vr(C)||(A=C,y=!1,i&&A!==f&&!i(A)&&(A=f,y=!0),a&&(y=(A=a(A,f,e))===f)),y?A=f&&xF(r,e,f):(Bh(A)||ji(f))&&o&&f&&(Bh(f)||ji(f))&&Qi(f,function(x,k){P8(r,A,x,k)}),r.set(e,t,A),s&&r.ref(e,t),c&&r[$N](e,t)}var wv=y8("[[ai_dynCfg_1]]"),dae=y8("[[ai_blkDynCfg_1]]"),B9e=y8("[[ai_frcDynCfg_1]]");function fae(r){var e;return r&&(ji(r)?(e=[])[ni]=r[ni]:Bh(r)&&(e={}),e)?(Qi(r,function(t,n){e[t]=fae(n)}),e):r}function I9e(r){if(r){var e=r[wv]||r;if(e.cfg&&(e.cfg===r||e.cfg[wv]===e))return e}return null}function k9e(r){if(r&&(Bh(r)||ji(r)))try{r[dae]=!0}catch{}return r}function ZR(r,e,t){var n=!1;return n=!t||r[e.blkVal]||(n=t[B9e])||t[dae]?n:Bh(t)||ji(t)}function pae(r){np("InvalidAccess:"+r)}var N9e=["push","pop","shift","unshift","splice"],fS=function(r,e,t,n){r&&r[uT](3,108,"".concat(t," [").concat(e,"] failed - ")+en(n))};function P9e(r,e,t){ji(e)&&tn(N9e,function(n){var i=e[n];e[n]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=i[O_](this,a);return pP(r,e,t,"Patching"),s}})}function fP(r,e){return r=f8(r,e),r&&r.get}function O9e(r,e,t,n){var i={n:t,h:[],trk:function(c){c&&c.fn&&($u(i.h,c)===-1&&i.h[_a](c),r.trk(c,i))},clr:function(c){c=$u(i.h,c),c!==-1&&i.h[lx](c,1)}},a=!0,o=!1;function s(){a&&(o=o||ZR(s,r,n),n&&!n[wv]&&o&&(n=pP(r,n,t,"Converting")),a=!1);var c=r.act;return c&&i.trk(c),n}s[r.prop]={chng:function(){r.add(i)}},ca(e,i.n,{g:s,s:function(c){if(n!==c){s[r.ro]&&!r.upd&&pae("["+t+"] is read-only:"+en(e)),a&&(o=o||ZR(s,r,n),a=!1);var A,f=o&&s[r.rf];if(o)if(f){Qi(n,function(y){n[y]=c?c[y]:Lp});try{Qi(c,function(y,C){vM(r,n,y,C)}),c=n}catch(y){fS((r.hdlr||{})[Ks],t,"Assigning",y),o=!1}}else n&&n[wv]&&Qi(n,function(C){var C=fP(n,C);C&&(C=C[r.prop])&&C.chng()});c!==n&&(A=c&&ZR(s,r,c),!f&&A&&(c=pP(r,c,t,"Converting")),n=c,o=A),r.add(i)}}})}function vM(r,e,t,n){var i;return e&&((i=fP(e,t))&&i[r.prop]?e[t]=n:O9e(r,e,t,n)),e}function XR(r,e,t,n){if(e){var i=fP(e,t),a=i&&!!i[r.prop],o=n&&n[0],s=n&&n[1],n=n&&n[2];if(!a){if(n)try{k9e(e)}catch(A){fS((r.hdlr||{})[Ks],t,"Blocking",A)}try{vM(r,e,t,e[t]),i=fP(e,t)}catch(A){fS((r.hdlr||{})[Ks],t,"State",A)}}o&&(i[r.rf]=o),s&&(i[r.ro]=s),n&&(i[r.blkVal]=!0)}return e}function pP(r,e,t,n){try{Qi(e,function(i,a){vM(r,e,i,a)}),e[wv]||(Sg(e,wv,{get:function(){return r[Uie]}}),P9e(r,e,t))}catch(i){fS((r.hdlr||{})[Ks],t,n,i)}return e}var mC="[[ai_",gC="]]";function M9e(r){var e,t=AC(mC+"get"+r.uid+gC),n=AC(mC+"ro"+r.uid+gC),i=AC(mC+"rf"+r.uid+gC),a=AC(mC+"blkVal"+r.uid+gC),o=AC(mC+"dtl"+r.uid+gC),s=null,c=null;function A(y,C){var x=e.act;try{(e.act=y)&&y[o]&&(tn(y[o],function(N){N.clr(y)}),y[o]=[]),C({cfg:r.cfg,set:r.set.bind(r),setDf:r[sx].bind(r),ref:r.ref.bind(r),rdOnly:r[$N].bind(r)})}catch(N){var k=r[Ks];throw k&&k[uT](1,107,en(N)),N}finally{e.act=x||null}}function f(){if(s){var y=s,C=(s=null,c&&c[Ob](),c=null,[]);if(tn(y,function(x){if(x&&(x[o]&&(tn(x[o],function(k){k.clr(x)}),x[o]=null),x.fn))try{A(x,x.fn)}catch(k){C[_a](k)}}),s)try{f()}catch(x){C[_a](x)}0<C[ni]&&x7e("Watcher error(s): ",C)}}return(t={prop:t,ro:n,rf:i})[GN]=a,t[Uie]=r,t.add=function(y){if(y&&0<y.h[ni]){s=s||[],c=c||tf(function(){c=null,f()},0);for(var C=0;C<y.h[ni];C++){var x=y.h[C];x&&$u(s,x)===-1&&s[_a](x)}}},t[YN]=f,t.use=A,t.trk=function(y,C){y&&(y=y[o]=y[o]||[],$u(y,C)===-1)&&y[_a](C)},e=t}function L9e(r,e){var t={fn:e,rm:function(){t.fn=null,e=r=null}};return ca(t,"toJSON",{v:function(){return"WatcherHandler"+(t.fn?"":"[X]")}}),r.use(t,e),t}function R9e(r,e,t){var n,i,a=I9e(e);return a||(a=rf("dyncfg",!0),(e={uid:null,cfg:t=e&&t!==!1?e:fae(e)})[Ks]=r,e[YN]=function(){n[YN]()},e.set=function(o,s,c){try{o=vM(n,o,s,c)}catch(A){fS(r,s,"Setting value",A)}return o[s]},e[sx]=function(o,s){return s&&Qi(s,function(c,A){P8(i,o,c,A)}),o},e[s_]=function(o){return L9e(n,o)},e.ref=function(o,s){return XR(n,o,s,((o={})[0]=!0,o))[s]},e[$N]=function(o,s){return XR(n,o,s,((o={})[1]=!0,o))[s]},e[GN]=function(o,s){return XR(n,o,s,((o={})[2]=!0,o))[s]},e._block=function(o,s){n.use(null,function(c){var A=n.upd;try{Zo(s)||(n.upd=s),o(c)}finally{n.upd=A}})},ca(i=e,"uid",{c:!1,e:!1,w:!1,v:a}),pP(n=M9e(i),t,"config","Creating"),i)}function D9e(r,e){r?(r[WN](e),r[uT](2,108,e)):pae(e)}function nf(r,e,t,n){return t=R9e(t,r||{},n),e&&t[sx](t.cfg,e),t}function Zs(r,e,t){var n=r[wv]||r;return(!n.cfg||n.cfg!==r&&n.cfg[wv]!==n?(D9e(t,K7e+en(r)),nf(r,null,t)):n)[s_](e)}function Lb(r,e){if(r&&r[bv])return r[bv](e)}function mae(r,e,t){var n;return t||(n=Ng(function(i){t=i})),r&&0<g7e(r)?kg(Lb(r[0],e),function(){mae(gM(r,1),e,t)}):t(),n}var U9e=500,MG="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function F9e(r,e,t){return!r&&vr(r)?e:gie(r)?r:dA(r)[kw]()==="true"}function Op(r){return{mrg:!0,v:r}}function LG(r,e){return{set:r,v:e}}function mP(r,e,t){return{fb:t,isVal:r,v:e}}function fl(r,e){return{fb:e,set:F9e,v:!!r}}function j9e(r){return{isVal:jn,v:dA(Ji)}}var gI,yC,JR=[dk,xE,fk,$0],gP=null;function Q9e(r,e){return function(){var t=arguments,n=gae(e);n&&(n=n.listener)&&n[r]&&n[r][O_](n,t)}}function H9e(){var r=fs("Microsoft");return gP=r?r.ApplicationInsights:gP}function gae(r){var e=gP;return(e=e||r.disableDbgExt===!0?e:gP||H9e())?e.ChromeDbgExt:null}function z9e(r){if(!gI){gI={};for(var e=0;e<JR[ni];e++)gI[JR[e]]=Q9e(JR[e],r)}return gI}var yae="warnToConsole",q9e="AI (Internal): ",K9e="AI: ",V9e="AITR_",G9e={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},$9e=((yC={})[0]=null,yC[1]="errorToConsole",yC[2]=yae,yC[3]="debugToConsole",yC);function RG(r){return r?'"'+r[c_](/\"/g,Ji)+'"':Ji}function eD(r,e){var t,n=d9e();n&&(t="log",n[r]&&(t=r),hi(n[t]))&&n[t](e)}var pS=(function(){function r(e,t,n,i){n===void 0&&(n=!1),this[eP]=e,this[l_]=(n?K9e:q9e)+e,n=Ji,AT()&&(n=$f().stringify(i)),e=(t?" message:"+RG(t):Ji)+(i?" props:"+RG(n):Ji),this[l_]+=e}return r.dataType="MessageData",r})();function K_(r,e){return(r||{})[Ks]||new yP(e)}var DG,Z1,yP=(function(){function r(e){this.identifier="DiagnosticLogger",this.queue=[];var t,n,i,a,o,s=0,c={};xo(r,this,function(A){function f(C,x){var k,N;i<=s||(N=!0,k=V9e+x[eP],c[k]?N=!1:c[k]=!0,N&&(C<=n&&(A.queue[_a](x),s++,y(C===1?"error":"warn",x)),s===i)&&(N=new pS(23,k="Internal events throttle limit per PageView reached for this app.",!1),A.queue[_a](N),C===1?A.errorToConsole(k):A[WN](k)))}function y(C,x){var k=gae(e||{});k&&k[ov]&&k[ov](C,x)}o=Zs(nf(e||{},G9e,A).cfg,function(C){C=C.cfg,t=C[jie],n=C.loggingLevelTelemetry,i=C.maxMessageLimit,a=C.enableDebug}),A.consoleLoggingLevel=function(){return t},A[uT]=function(C,x,k,N,M){if(x=new pS(x,k,M=M===void 0?!1:M,N),a)throw en(x);k=$9e[C]||yae,Zo(x[l_])?y("throw"+(C===1?"Critical":"Warning"),x):(M?(N=+x[eP],!c[N]&&C<=t&&(A[k](x[l_]),c[N]=!0)):C<=t&&A[k](x[l_]),f(C,x))},A.debugToConsole=function(C){eD("debug",C),y("warning",C)},A[WN]=function(C){eD("warn",C),y("warning",C)},A.errorToConsole=function(C){eD("error",C),y("error",C)},A.resetInternalMessageCount=function(){s=0,c={}},A[Hie]=f,A[bv]=function(C){o&&o.rm(),o=null}})}return r.__ieDyn=1,r})();function O8(r){return r||new yP}function jr(r,e,t,n,i,a){a===void 0&&(a=!1),O8(r)[uT](e,t,n,i,a)}function h_(r,e){O8(r)[WN](e)}function Y9e(r,e,t){O8(r)[Hie](e,t)}var $p,UG="toGMTString",FG="toUTCString",M8="cookie",tD="expires",jG="isCookieUseDisabled",CF="disableCookiesUsage",Rb="_ckMgr",yI=null,rD=null,QG=null,HG={},vP={},W9e=((DG={cookieCfg:Op(((Z1={})[vF]={fb:"cookieDomain",dfVal:u_},Z1.path={fb:"cookiePath",dfVal:u_},Z1.enabled=Lp,Z1.ignoreCookies=Lp,Z1.blockedCookies=Lp,Z1)),cookieDomain:Lp,cookiePath:Lp})[CF]=Lp,DG);function L8(){$p=$p||Yze(function(){return Ku()})}function Z9e(r,e){var t=yk[Rb]||vP[Rb];return t||(t=yk[Rb]=yk(r,e),vP[Rb]=t),t}function vI(r){return!r||r.isEnabled()}function vae(r,e){return!!(e&&r&&ji(r.ignoreCookies))&&$u(r.ignoreCookies,e)!==-1}function X9e(r,e){return!!(e&&r&&ji(r.blockedCookies)&&$u(r.blockedCookies,e)!==-1)||vae(r,e)}function zG(r,n){var t,n=n[Mb];return vr(n)&&(t=void 0,Zo(r[jG])||(t=!r[jG]),n=t=Zo(r[CF])?t:!r[CF]),n}function R8(r,e){var t;return r&&(t=r.getCookieMgr()),t=t||Z9e(e,(r||{})[Ks])}function yk(r,e){r=nf(r||vP,null,e).cfg,o=Zs(r,function(C){C[sx](C.cfg,W9e),n=C.ref(C.cfg,"cookieCfg"),i=n[KR]||"/",a=n[vF],s=zG(r,n)!==!1,c=n.getCookie||J9e,A=n.setCookie||GG,f=n.delCookie||GG},e),(t={isEnabled:function(){var C=zG(r,n)!==!1&&s&&qG(e),x=vP[Rb];return C=C&&x&&y!==x?vI(x):C},setEnabled:function(C){s=C!==!1,n[Mb]=C},set:function(C,x,k,N,M){var D,H,q,$=!1;return vI(y)&&!X9e(n,C)&&(D={},H=vl(x||Ji),(q=fA(H,";"))!==-1&&(H=vl(p8(x,q)),D=_ae(hm(x,q+1))),eo(D,vF,N||a,KN,Zo),vr(k)||(x=wF(),Zo(D[tD])&&0<(q=em()+1e3*k)&&((N=new Date).setTime(q),eo(D,tD,KG(N,x?UG:FG)||KG(N,x?UG:FG)||Ji,KN)),x)||eo(D,"max-age",Ji+k,null,Zo),(q=jp())&&q[Qie]==="https:"&&(eo(D,"secure",null,null,Zo),rD=rD===null?!eqe((Am()||{})[sF]):rD)&&eo(D,"SameSite","None",null,Zo),eo(D,KR,M||i,null,Zo),A(C,VG(H,D)),$=!0),$},get:function(C){var x=Ji;return x=vI(y)&&!vae(n,C)?c(C):x},del:function(C,x){var k=!1;return k=vI(y)?y.purge(C,x):k},purge:function(C,x){var k,N=!1;return qG(e)&&((k={})[KR]=x||"/",k[tD]="Thu, 01 Jan 1970 00:00:01 GMT",x=k,wF()||(x["max-age"]="0"),f(C,VG(Ji,x)),N=!0),N}})[bv]=function(C){o&&o.rm(),o=null};var t,n,i,a,o,s,c,A,f,y=t;return y[Rb]=y}function qG(r){if(yI===null){yI=!1,$p||L8();try{var e=$p.v||{};yI=e[M8]!==void 0}catch(t){jr(r,2,68,"Cannot access document.cookie - "+ga(t),{exception:en(t)})}}return yI}function _ae(r){var e={};return r&&r[ni]&&tn(vl(r)[Pw](";"),function(t){var n;(t=vl(t||Ji))&&((n=fA(t,"="))===-1?e[t]=null:e[vl(p8(t,n))]=vl(hm(t,n+1)))}),e}function KG(r,e){return hi(r[e])?r[e]():null}function VG(r,e){var t=r||Ji;return Qi(e,function(n,i){t+="; "+n+(vr(i)?Ji:"="+i)}),t}function J9e(r){var e,t=Ji;return $p||L8(),$p.v&&(e=$p.v[M8]||Ji,QG!==e&&(HG=_ae(e),QG=e),t=vl(HG[r]||Ji)),t}function GG(r,e){$p||L8(),$p.v&&($p.v[M8]=r+"="+e)}function eqe(r){return!(!jn(r)||!ju(r,"CPU iPhone OS 12")&&!ju(r,"iPad; CPU OS 12")&&!(ju(r,"Macintosh; Intel Mac OS X 10_14")&&ju(r,"Version/")&&ju(r,"Safari"))&&(!ju(r,"Macintosh; Intel Mac OS X 10_14")||!Lie(r,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!ju(r,"Chrome/5")&&!ju(r,"Chrome/6")&&(!ju(r,"UnrealEngine")||ju(r,"Chrome"))&&!ju(r,"UCBrowser/12")&&!ju(r,"UCBrowser/11"))}var tqe={perfEvtsSendAll:!1};function rqe(r){r.h=null;var e=r.cb;r.cb=[],tn(e,function(t){bc(t.fn,[t.arg])})}function vy(r,e,t,n){tn(r,function(i){i&&i[e]&&(t?(t.cb[_a]({fn:n,arg:i}),t.h=t.h||tf(rqe,0,t)):bc(n,[i]))})}var nqe=(function(){function r(e){this.listeners=[];var t,n=[],i={h:null,cb:[]},a=nf(e,tqe)[s_](function(o){t=!!o.cfg.perfEvtsSendAll});xo(r,this,function(o){ca(o,"listeners",{g:function(){return n}}),o[XN]=function(s){n[_a](s)},o[ZN]=function(s){for(var c=$u(n,s);-1<c;)n[lx](c,1),c=$u(n,s)},o[dk]=function(s){vy(n,dk,i,function(c){c[dk](s)})},o[xE]=function(s,c){vy(n,xE,i,function(A){A[xE](s,c)})},o[fk]=function(s,c){vy(n,fk,c?i:null,function(A){A[fk](s,c)})},o[$0]=function(s){!s||!t&&s[lF]()||vy(n,$0,null,function(c){s[Nw]?tf(function(){return c[$0](s)},0):c[$0](s)})},o[HR]=function(s){s&&s[ni]&&vy(n,HR,i,function(c){c[HR](s)})},o[zR]=function(s){s&&s[vb]&&vy(n,zR,i,function(c){c[zR](s)})},o[qR]=function(s,c){var A;0<s&&(A=c||0,vy(n,qR,i,function(f){f[qR](s,A)}))},o[bv]=function(s){function c(){a&&a.rm(),a=null,n=[],i.h&&i.h[Ob](),i.h=null,i.cb=[]}var A;if(vy(n,"unload",null,function(f){f=f[bv](s),f&&(A=A||[])[_a](f)}),A)return Ng(function(f){return kg(z7e(A),function(){c(),f()})});c()}})}return r.__ieDyn=1,r})(),ow="ctx",EF="ParentContextKey",CE="ChildrenContextKey",iqe=null,vk=(function(){function r(e,t,n){var i,a=this;a.start=em(),a[ug]=e,a[Nw]=n,a[lF]=function(){return!1},hi(t)&&ca(a,"payload",{g:function(){return!i&&hi(t)&&(i=t(),t=null),i}}),a[nw]=function(o){return o?(o===r[EF]||o===r[CE]?a:a[ow]||{})[o]:null},a[Np]=function(o,s){o&&(o===r[EF]?(a[o]||(a[lF]=function(){return!0}),a[o]=s):o===r[CE]?a[o]=s:(a[ow]=a[ow]||{})[o]=s)},a[cF]=function(){var o=0,s=a[nw](r[CE]);if(ji(s))for(var c=0;c<s[ni];c++){var A=s[c];A&&(o+=A[rw])}a[rw]=em()-a.start,a.exTime=a[rw]-o,a[cF]=function(){}}}return r.ParentContextKey="parent",r.ChildrenContextKey="childEvts",r})(),aqe=(function(){function r(e){this.ctx={},xo(r,this,function(t){t.create=function(n,i,a){return new vk(n,i,a)},t.fire=function(n){n&&(n[cF](),e)&&hi(e[$0])&&e[$0](n)},t[Np]=function(n,i){n&&((t[ow]=t[ow]||{})[n]=i)},t[nw]=function(n){return(t[ow]||{})[n]}})}return r.__ieDyn=1,r})(),nD="CoreUtils.doPerf";function _P(r,e,t,n,i){if(r&&(r=r[cP]?r[cP]():r)){var a,o=void 0,s=r[nw](nD);try{if(o=r.create(e(),n,i))return s&&o[Np]&&(o[Np](vk[EF],s),s[nw])&&s[Np]&&((a=s[nw](vk[CE]))||(a=[],s[Np](vk[CE],a)),a[_a](o)),r[Np](nD,o),t(o)}catch(c){o&&o[Np]&&o[Np]("exception",c)}finally{o&&r.fire(o),r[Np](nD,s)}}return t()}function oqe(){return iqe}function Xy(){for(var r,e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Ji,n=0;n<4;n++)t+=e[15&(r=dS())]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var i=e[8+(3&dS())|0];return Hy(t,0,8)+Hy(t,9,4)+"4"+Hy(t,13,3)+i+Hy(t,16,3)+Hy(t,19,12)}var SF="00",sqe="ff",bae="00000000000000000000000000000000",wae="0000000000000000";function dT(r,e,t){return!(!r||r[ni]!==e||r===t||!r.match(/^[\da-f]*$/i))}function $G(r,e,t){return dT(r,e)?r:t}function lqe(r){for(var e=(r=isNaN(r)||r<0||255<r?1:r).toString(16);e[ni]<2;)e="0"+e;return e}function YG(r,e,t,n){var i={};return i[JN]=dT(n,2,sqe)?n:SF,i[uF]=D8(r)?r:Xy(),i[hF]=U8(e)?e:p8(Xy(),16),i.traceFlags=0<=t&&t<=255?t:1,i}function D8(r){return dT(r,32,bae)}function U8(r){return dT(r,16,wae)}function WG(r){var e,t;return r?(dT(e=lqe(r[AF]),2)||(e="01"),t=r[JN]||SF,"".concat((t=t!=="00"&&t!=="ff"?SF:t).toLowerCase(),"-").concat($G(r.traceId,32,bae).toLowerCase(),"-").concat($G(r.spanId,16,wae).toLowerCase(),"-").concat(e.toLowerCase())):""}var cqe=hae("plugin");function A_(r){return cqe.get(r,"state",{},!0)}function ZG(r,e){for(var t=[],n=null,i=r[Vp]();i;){var a,o,s=i[lS]();s&&(n&&n[uS]&&s[tm]&&n[uS](s),o=!!(a=A_(s))[Fp],(o=s[Fp]?s[Fp]():o)||t[_a](s),n=s,i=i[Vp]())}tn(t,function(c){var A=r[Fl]();c[hT](r.getCfg(),A,e,r[Vp]()),a=A_(c),c[Fl]||a[Fl]||(a[Fl]=A),a[Fp]=!0,delete a[$m]})}function iD(r){return r.sort(function(e,t){var n,i=0;return t?(n=t[tm],e[tm]?i=n?e[lP]-t[lP]:1:n&&(i=-1)):i=e?1:-1,i})}function uqe(r){var e={};return{getName:function(){return e[ug]},setName:function(t){e[ug]=t},getTraceId:function(){return e[uF]},setTraceId:function(t){D8(t)&&(e[uF]=t)},getSpanId:function(){return e[hF]},setSpanId:function(t){U8(t)&&(e[hF]=t)},getTraceFlags:function(){return e[AF]},setTraceFlags:function(t){e[AF]=t}}}var XG,hqe="TelemetryPluginChain",JG="_hasRun",e3="_getTelCtx",t3=0;function Aqe(r,e,t){for(;r;){if(r[lS]()===t)return r;r=r[Vp]()}return R_([t],e.config||{},e)}function F8(r,e,t,n){var i=null,a=[],o=(e=e||nf({},null,t[Ks]),n!==null&&(i=n?Aqe(r,t,n):r),{_next:function(){var c=i;{var A;i=c?c[Vp]():null,c||(A=a)&&0<A[ni]&&(tn(A,function(f){try{f.func.call(f.self,f.args)}catch(y){jr(t[Ks],2,73,"Unexpected Exception during onComplete - "+en(y))}}),a=[])}return c},ctx:{core:function(){return t},diagLog:function(){return K_(t,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:function(c,A){var f=s(c,!0);return A&&Qi(A,function(y,C){var x;!vr(f[y])||!(x=e.cfg[y])&&vr(x)||(f[y]=x),P8(e,f,y,C)}),e[sx](f,A)},getConfig:function(C,A,f){f===void 0&&(f=!1);var y,C=s(C,!1),x=e.cfg;return!C||!C[A]&&vr(C[A])?!x[A]&&vr(x[A])||(y=x[A]):y=C[A],y||!vr(y)?y:f},hasNext:function(){return!!i},getNext:function(){return i},setNext:function(c){i=c},iterate:function(c){for(;A=o._next();){var A=A[lS]();A&&c(A)}},onComplete:function(c,A){for(var f=[],y=2;y<arguments.length;y++)f[y-2]=arguments[y];c&&a[_a]({func:c,self:Zo(A)?o.ctx:A,args:f})}}});function s(c,A){var f,y=null,C=e.cfg;return C&&c&&(f=C[aw],C[aw]=f=!f&&A?{}:f,f=e.ref(C,aw))&&(y=f[c],f[c]=y=!y&&A?{}:y,y=e.ref(f,c)),y}return o}function Yf(r,e,t,n){var i=nf(e),a=F8(r,i,t,n),o=a.ctx;return o[Ch]=function(s){var c=a._next();return c&&c[tm](s,o),!c},o[M_]=function(s,c){return Yf((s=ji(s=s===void 0?null:s)?R_(s,i.cfg,t,c):s)||o[Vp](),i.cfg,t,c)},o}function bP(r,e,t){var n=nf(e.config),i=F8(r,n,e,t),a=i.ctx;return a[Ch]=function(o){var s=i._next();return s&&s[bv](a,o),!s},a[M_]=function(o,s){return bP((o=ji(o=o===void 0?null:o)?R_(o,n.cfg,e,s):o)||a[Vp](),e,s)},a}function j8(r,e,t){var n=nf(e.config),i=F8(r,n,e,t).ctx;return i[Ch]=function(a){return i.iterate(function(o){hi(o[cS])&&o[cS](i,a)})},i[M_]=function(a,o){return j8((a=ji(a=a===void 0?null:a)?R_(a,n.cfg,e,o):a)||i[Vp](),e,o)},i}function R_(r,e,t,n){var i,a=null,o=!n;return ji(r)&&0<r[ni]&&(i=null,tn(r,function(s){(o=o||n!==s?o:!0)&&s&&hi(s[tm])&&(s=dqe(s,e,t),a=a||s,i&&i._setNext(s),i=s)})),n&&!a?R_([n],e,t):a}function dqe(r,e,t){var n=null,i=hi(r[tm]),a=hi(r[uS]),o=r?r[zy]+"-"+r[lP]+"-"+t3++:"Unknown-0-"+t3++,s={getPlugin:function(){return r},getNext:function(){return n},processTelemetry:function(A,f){c(f=f||(function(){var y;return r&&hi(r[e3])&&(y=r[e3]()),y=y||Yf(s,e,t),y})(),function(y){var C;return!(!r||!i||(C=A_(r))[$m]||C[yF]||(a&&r[uS](n),r[tm](A,y),0))},"processTelemetry",function(){return{item:A}},!A.sync)||f[Ch](A)},unload:function(A,f){c(A,function(){var y,C,x=!1;return r&&(y=A_(r),C=r[Fl]||y[Fl],!r||C&&C!==A.core()||y[$m]||(y[Fl]=null,y[$m]=!0,y[Fp]=!1,r[$m]&&r[$m](A,f)===!0&&(x=!0))),x},"unload",function(){},f[Nw])||A[Ch](f)},update:function(A,f){c(A,function(){var y,C,x=!1;return r&&(y=A_(r),C=r[Fl]||y[Fl],!r||C&&C!==A.core()||y[$m]||r[cS]&&r[cS](A,f)===!0&&(x=!0)),x},"update",function(){},!1)||A[Ch](f)},_id:o,_setNext:function(A){n=A}};function c(A,f,y,C,x){var k=!1,N=r?r[zy]:hqe,M=(M=A[JG])||(A[JG]={});return A.setNext(n),r&&_P(A[Fl](),function(){return N+":"+y},function(){M[o]=!0;try{var D=n?n._id:Ji;D&&(M[D]=!1),k=f(A)}catch(H){D=!n||M[n._id],D&&(k=!0),n&&D||jr(A[ov](),1,73,"Plugin ["+N+"] failed during "+y+" - "+en(H)+", run flags: "+en(M))}},C,x),k}return Tg(s)}function xae(){var r=[];return{add:function(e){e&&r[_a](e)},run:function(e,t){tn(r,function(n){try{n(e,t)}catch(i){jr(e[ov](),2,73,"Unexpected error calling unload handler - "+en(i))}}),r=[]}}}function Cae(){var r=[];return{run:function(e){var t=r;r=[],tn(t,function(n){try{(n.rm||n.remove).call(n)}catch(i){jr(e,2,73,"Unloading:"+en(i))}})},add:function(e){e&&Pb(r,e)}}}var _y="getPlugin",fqe=((XG={})[aw]={isVal:u_,v:{}},XG),cx=(function(){function r(){var e,t,n,i,a,o=this;function s(C){var y,C=C=C===void 0?null:C;return C||(y=t||Yf(null,{},o[Fl]),C=n&&n[_y]?y[M_](null,n[_y]):y[M_](null,n)),C}function c(f,y,C){nf(f,fqe,K_(y)),!C&&y&&(C=y[Fie]()[Vp]());var x=n;n&&n[_y]&&(x=n[_y]()),o[Fl]=y,t=Yf(C,f,y,x)}function A(){e=!1,o[Fl]=null,n=t=null,a=Cae(),i=xae()}A(),xo(r,o,function(f){f[hT]=function(y,C,x,k){c(y,C,k),e=!0},f[$m]=function(y,C){var x,k,N,M,D=f[Fl];if(D&&(!y||D===y[Fl]()))return k=!1,N=y||bP(null,D,n&&n[_y]?n[_y]():n),M=C||((y={reason:0})[Nw]=!1,y),f[tP]&&f[tP](N,M,H)===!0?x=!0:H(),x;function H(){k||(k=!0,i.run(N,C),a.run(N[ov]()),x===!0&&N[Ch](M),A())}},f[cS]=function(y,C){var x,k,N,M=f[Fl];if(M&&(!y||M===y[Fl]()))return k=!1,N=y||j8(null,M,n&&n[_y]?n[_y]():n),f._doUpdate&&f._doUpdate(N,C||{reason:0},D)===!0?x=!0:D(),x;function D(){k||(k=!0,c(N.getCfg(),N.core(),N[Vp]()))}},hP(f,"_addUnloadCb",function(){return i},"add"),hP(f,"_addHook",function(){return a},"add"),ca(f,"_unloadHooks",{g:function(){return a}})}),o[ov]=function(f){return s(f)[ov]()},o[Fp]=function(){return e},o.setInitialized=function(f){e=f},o[uS]=function(f){n=f},o[Ch]=function(f,y){y?y[Ch](f):n&&hi(n[tm])&&n[tm](f,null)},o._getTelCtx=s}return r.__ieDyn=1,r})();function pqe(r,e,t){var n={id:e,fn:t};return Pb(r,n),{remove:function(){tn(r,function(i,a){if(i.id===n.id)return r[lx](a,1),-1})}}}function mqe(r,e,t){for(var n=!1,i=r[ni],a=0;a<i;++a){var o=r[a];if(o)try{if(o.fn[O_](null,[e])===!1){n=!0;break}}catch(s){jr(t,2,64,"Telemetry initializer failed: "+ga(s),{exception:en(s)},!0)}}return!n}var d0,gqe=(function(r){function e(){var t,n,i=r.call(this)||this;function a(){t=0,n=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,a(),xo(e,i,function(o,s){o.addTelemetryInitializer=function(c){return pqe(n,t++,c)},o[tm]=function(c,A){mqe(n,c,(A||o)[ov]())&&o[Ch](c,A)},o[tP]=function(){a()}}),i}return Kg(e,r),e.__ieDyn=1,e})(cx),Eae="Plugins must provide initialize method",yqe="_notificationManager",r3="SDK is still unloading...",vqe="SDK is not initialized",_qe=100,bqe=5e4,aD=ax(((d0={cookieCfg:{}})[_b]={rdOnly:!0,ref:!0,v:[]},d0[L0]={rdOnly:!0,ref:!0,v:[]},d0[aw]={ref:!0,v:{}},d0[gF]=Lp,d0.loggingLevelConsole=0,d0.diagnosticLogInterval=Lp,d0));function wqe(r,e){return new aqe(e)}function xqe(r,e,t){var n=[],i=[],a={};return tn(t,function(o){(vr(o)||vr(o[hT]))&&rd(Eae);var s=o[lP],c=o[zy];o&&s&&(vr(a[s])?a[s]=c:h_(r,"Two extensions have same priority #"+s+" - "+a[s]+", "+c)),(!s||s<e?n:i)[_a](o)}),(t={})[Fl]=n,t[L0]=i,t}function n3(r,e){var t=!1;return tn(e,function(n){if(n===r)return t=!0,-1}),t}function TF(r,e,t,n){t&&Qi(t,function(i,a){n&&Bh(a)&&Bh(e[i])&&TF(r,e[i],a,n),n&&Bh(a)&&Bh(e[i])?TF(r,e[i],a,n):r.set(e,i,a)})}function i3(r,e){var t=null,n=-1;return tn(r,function(i,a){if(i.w===e)return t=i,n=a,-1}),{i:n,l:t}}function Cqe(r,e){var t=i3(r,e).l;return t||r[_a](t={w:e,rm:function(){var n=i3(r,e);n.i!==-1&&r[lx](n.i,1)}}),t}function Eqe(r,e,t){tn(e,function(n){var i=Zs(r,n.w,t);delete n.w,n.rm=function(){i.rm()}})}function Sqe(r,e,t,n){return e.add(r[s_](function(i){var a=i.cfg.disableDbgExt;a===!0&&n&&(t[ZN](n),n=null),t&&!n&&a!==!0&&(n=z9e(i.cfg),t[XN](n))})),n}function Tqe(r){return ca({rm:function(){r.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(r)+">"}})}var Bqe=(function(){function r(){var e,t,n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,he,le,fe,Ne,W,ue,de,me,Qe,Ee;xo(r,this,function(_e){function ke(){de=!0,vr(ce)?(Ne=Dy[MR],jr(n,1,112,"ikey can't be resolved from promises")):Ne=Dy.ACTIVE,We()}function We(){t&&(_e.releaseQueue(),_e[fG]())}function Oe(J){return me&&me[Mb]||Ee||(J||n&&0<n.queue[ni])&&(Qe||(Qe=!0,pe(e[s_](function(Ue){var Ue=Ue.cfg.diagnosticLogInterval,be=(Ue&&0<Ue||(Ue=1e4),!1);me&&(be=me[Mb],me[Ob]()),(me=b7e(st,Ue)).unref(),me[Mb]=be}))),me[Mb]=!0),me}function ze(){function J(Ue){Ue&&tn(Ue,function(be){var et;be[zy]&&be[JN]&&!re[be.identifier]&&(et=be[zy]+"="+be[JN],le[_a](et),re[be.identifier]=be)})}var re={};le=[],J(C),y&&tn(y,function(Ue){J(Ue)}),J(f)}function ne(){t=!1,(e=nf({},aD,_e[Ks])).cfg[jie]=1,ca(_e,"config",{g:function(){return e.cfg},s:function(re){_e.updateCfg(re,!1)}}),ca(_e,"pluginVersionStringArr",{g:function(){return le||ze(),le}}),ca(_e,"pluginVersionString",{g:function(){return fe||(le||ze(),fe=le.join(";")),fe||Ji}}),ca(_e,"logger",{g:function(){return n||(n=new yP(e.cfg),e[Ks]=n),n},s:function(re){e[Ks]=re,n!==re&&(Lb(n,!1),n=re)}}),_e[Ks]=new yP(e.cfg),he=[];var J=_e.config[_b]||[];J.splice(0,J[ni]),Pb(J,he),k=new gqe,Lb(a,!(i=[])),s=o=a=null,Lb(c,!1),x=!(f=[]),M=rf("AIBaseCore",!(N=C=y=A=c=null)),D=xae(),ce=$=null,H=Cae(),Ne=0,ue=W=me=le=fe=null,de=Qe=Ee=!(V=[])}function ae(){var J=Yf(qe(),e.cfg,_e);return J[pI](Oe),J}function ve(J){var re=xqe(_e[Ks],U9e,f),re=(le=fe=A=null,C=iD(Pb(C=(y||[])[0]||[],re[L0])),Pb(iD(re[Fl]),C)),Ue=(he=Tg(re),_e.config[_b]||[]),Ue=(Ue.splice(0,Ue[ni]),Pb(Ue,he),ae());C&&0<C[ni]&&ZG(Ue[M_](C),re),ZG(Ue,re),J&&yt(J)}function Re(J){var re=null,Ue=null,be=[];return tn(he,function(et){if(et[zy]===J&&et!==k)return Ue=et,-1;et.getChannel&&be[_a](et)}),!Ue&&0<be[ni]&&tn(be,function(et){if(!(Ue=et.getChannel(J)))return-1}),re=Ue?{plugin:Ue,setEnabled:function(et){A_(Ue)[yF]=!et},isEnabled:function(){var et=A_(Ue);return!et[$m]&&!et[yF]},remove:function(et,Ke){var mt,_t=[Ue];(mt={reason:1})[Nw]=et=et===void 0?!0:et,Ze(_t,mt,function(Kt){Kt&&ve({reason:32,removed:_t}),Ke&&Ke(Kt)})}}:re}function qe(){var J;return A||(J=(he||[]).slice(),$u(J,k)===-1&&J[_a](k),A=R_(iD(J),e.cfg,_e)),A}function Ze(J,re,Ue){var be;J&&0<J[ni]?((be=bP(R_(J,e.cfg,_e),_e))[pI](function(){var et=!1,Ke=[],mt=(tn(f,function(_t,Kt){n3(_t,J)?et=!0:Ke[_a](_t)}),f=Ke,le=fe=null,[]);y&&(tn(y,function(_t,Kt){var Gt=[];tn(_t,function(tr){n3(tr,J)?et=!0:Gt[_a](tr)}),mt[_a](Gt)}),y=mt),Ue&&Ue(et),Oe()}),be[Ch](re)):Ue(!1)}function st(){var J;n&&n.queue&&(J=n.queue.slice(0),n.queue[ni]=0,tn(J,function(be){(Ue={})[ug]=N||"InternalMessageId: "+be[eP],Ue[dC]=ce,Ue[rw]=Ow(new Date),Ue.baseType=pS.dataType,Ue.baseData={message:be[l_]};var Ue,be=Ue;_e.track(be)}))}function ot(J,re,Ue,be){var et=1,Ke=!1,mt=null;function _t(){et--,Ke&&et===0&&(mt&&mt[Ob](),mt=null,re&&re(Ke),re=null)}return be=be||5e3,C&&0<C[ni]&&ae()[M_](C).iterate(function(Kt){var Gt;Kt.flush&&(et++,Gt=!1,Kt.flush(J,function(){Gt=!0,_t()},Ue)||Gt||(J&&mt==null?mt=tf(function(){mt=null,_t()},be):_t()))}),Ke=!0,_t(),!0}function yt(J){var re=j8(qe(),_e);re[pI](Oe),_e._updateHook&&_e._updateHook(re,J)===!0||re[Ch](J)}function Pe(J){var re=_e[Ks];re?(jr(re,2,73,J),Oe()):rd(J)}function oe(J){var re=_e[fI]();re&&re[xE]([J],2)}function pe(J){H.add(J)}ne(),_e._getDbgPlgTargets=function(){return[he,i]},_e[Fp]=function(){return t},_e.activeStatus=function(){return Ne},_e._setPendingStatus=function(){Ne=3},_e[hT]=function(J,re,Ue,Ke){x&&rd(r3),_e[Fp]()&&rd("Core cannot be initialized more than once"),e=nf(J,aD,Ue||_e[Ks],!1),J=e.cfg,pe(e[s_](function(mt){var _t,Kt,Gt,tr,ur=mt.cfg;Ne!==3&&(ue=ur.initInMemoMaxSize||_qe,Kt=ur[dG],Gt=ur.endpointUrl,vr(Kt)?(ce=null,Ne=Dy[MR],_t="Please provide instrumentation key",t?(jr(n,1,100,_t),We()):rd(_t)):(_t=[],ce=Iw(Kt)?(_t[_a](Kt),null):Kt,W=Iw(Gt)?(_t[_a](Gt),null):Gt,_t[ni]?(de=!1,Ne=3,Kt=u_(ur.initTimeOut)?ur.initTimeOut:bqe,Gt=q7e(_t),tf(function(){de||ke()},Kt),kg(Gt,function(nt){try{var rt,Ht,Tt;de||(nt.rejected||((rt=nt[bE])&&rt[ni]&&(Ht=rt[0],ce=Ht&&Ht[bE],1<rt[ni])&&(Tt=rt[1],W=Tt&&Tt[bE]),ce&&(J[dG]=ce,J.endpointUrl=W)),ke())}catch{de||ke()}})):ke(),Qi(tr=mt.ref(mt.cfg,aw),function(nt){mt.ref(tr,nt)})))})),q=Sqe(e,H,(a=Ke)&&_e[fI](),q),pe(e[s_](function(mt){var _t;mt.cfg.enablePerfMgr?(_t=mt.cfg[gF],et!==_t&&(_h(mt.cfg,gF,_t=_t||wqe),et=_t,s=null),o||s||!hi(_t)||(s=_t(_e,_e[fI]()))):et=s=null})),_e[Ks]=Ue;var et,Ke=J[_b];(f=[])[_a].apply(f,bG(bG([],re,!1),Ke)),y=J[L0],ve(null),C&&C[ni]!==0||rd("No "+L0+" available"),y&&1<y[ni]&&((Ue=_e[lS]("TeeChannelController"))&&Ue.plugin||jr(n,1,28,"TeeChannel required")),Eqe(J,V,n),t=!(V=null),Ne===Dy.ACTIVE&&We()},_e.getChannels=function(){var J=[];return C&&tn(C,function(re){J[_a](re)}),Tg(J)},_e.track=function(J){_P(_e[cP](),function(){return"AppInsightsCore:track"},function(){J===null&&(oe(J),rd("Invalid telemetry item")),!J[ug]&&vr(J[ug])&&(oe(J),rd("telemetry name required")),J[dC]=J[dC]||ce,J[rw]=J[rw]||Ow(new Date),J.ver=J.ver||"4.0",!x&&_e[Fp]()&&Ne===Dy.ACTIVE?ae()[Ch](J):Ne!==Dy[MR]&&i[ni]<=ue&&i[_a](J)},function(){return{item:J}},!J.sync)},_e[Fie]=ae,_e[fI]=function(){return a||(a=new nqe(e.cfg),_e[yqe]=a),a},_e[XN]=function(J){_e.getNotifyMgr()[XN](J)},_e[ZN]=function(J){a&&a[ZN](J)},_e.getCookieMgr=function(){return c=c||yk(e.cfg,_e[Ks])},_e.setCookieMgr=function(J){c!==J&&(Lb(c,!1),c=J)},_e[cP]=function(){return o||s||oqe()},_e.setPerfMgr=function(J){o=J},_e.eventCnt=function(){return i[ni]},_e.releaseQueue=function(){var J;t&&0<i[ni]&&(J=i,i=[],Ne===2?tn(J,function(re){re[dC]=re[dC]||ce,ae()[Ch](re)}):jr(n,2,20,"core init status is not active"))},_e[fG]=function(J){return N=J||null,Ee=!1,me&&me[Ob](),Oe(!0)},_e[pG]=function(){Ee=!0,me&&me[Ob](),st()},JC(_e,function(){return k},["addTelemetryInitializer"]),_e[bv]=function(J,re,Ue){J===void 0&&(J=!0),t||rd(vqe),x&&rd(r3),(be={reason:50})[Nw]=J,be.flushComplete=!1;var be,et,Ke=be,mt=(J&&!re&&(et=Ng(function(_t){re=_t})),bP(qe(),_e));return mt[pI](function(){H.run(_e[Ks]),mae([c,a,n],J,function(){ne(),re&&re(Ke)})},_e),st(),ot(J,function(_t){Ke.flushComplete=_t,x=!0,D.run(mt,Ke),_e[pG](),mt[Ch](Ke)},6,Ue),et},_e[lS]=Re,_e.addPlugin=function(J,re,Ue,be){var et,Ke,mt;function _t(){f[_a](J),Ke.added=[J],ve(Ke),be&&be(!0)}J?(et=Re(J[zy]))&&!re?(be&&be(!1),Pe("Plugin ["+J[zy]+"] is already loaded!")):(Ke={reason:16},et?Ze(mt=[et.plugin],{reason:2,isAsync:!!Ue},function(Kt){Kt?(Ke.removed=mt,Ke.reason|=32,_t()):be&&be(!1)}):_t()):(be&&be(!1),Pe(Eae))},_e.updateCfg=function(J,re){var Ue,be;re===void 0&&(re=!0),_e[Fp]()&&(Ue={reason:1,cfg:e.cfg,oldCfg:AG({},e.cfg),newConfig:AG({},J),merge:re},J=Ue.newConfig,be=e.cfg,J[_b]=be[_b],J[L0]=be[L0]),e._block(function(et){var Ke=et.cfg;TF(et,Ke,J,re),re||Qi(Ke,function(mt){av(J,mt)||et.set(Ke,mt,Lp)}),et[sx](Ke,aD)},!0),e[YN](),Ue&&yt(Ue)},_e.evtNamespace=function(){return M},_e.flush=ot,_e.getTraceCtx=function(J){return $=$||uqe()},_e.setTraceCtx=function(J){$=J||null},_e.addUnloadHook=pe,hP(_e,"addUnloadCb",function(){return D},"add"),_e.onCfgChange=function(J){return J=t?Zs(e.cfg,J,_e[Ks]):Cqe(V,J),Tqe(J)},_e.getWParam=function(){return Cie()||e.cfg.enableWParam?0:-1}})}return r.__ieDyn=1,r})();function oD(r,e){try{if(r&&r!==""){var t=$f().parse(r);if(t&&t[yG]&&t[yG]>=t.itemsAccepted&&t.itemsReceived-t.itemsAccepted===t.errors[ni])return t}}catch(n){jr(e,1,43,"Cannot parse the response. "+(n[ug]||en(n)),{response:r})}return null}var Bp="",Iqe="NoResponseBody",a3="&"+Iqe+"=true",sD="POST",kqe=(function(){function r(){var e,t,n,i,a,o,s,c,A,f,y,C,x,k=0;xo(r,this,function(N,M){var D=!0;function H(W,ue){jr(n,2,26,"Failed to send telemetry.",{message:W}),$(ue,400,{})}function q(W){H("No endpoint url is provided for the batch",W)}function $(W,ue,de,me){try{W&&W(ue,de,me)}catch{}}function ce(W,ue){var de,me=Am();return(de=W[fC])?(de=W[fC]+(C?a3:Bp),W=W[vb],W=i?W:new Blob([W],{type:"text/plain;charset=UTF-8"}),me.sendBeacon(de,W)):(q(ue),!0)}function V(W,ue,de){var me,Qe=W[vb];try{Qe&&(ce(W,ue)?$(ue,200,{},Bp):(me=a&&a.beaconOnRetry)&&hi(me)?me(W,ue,ce):(s&&s[vG](W,ue,!0),jr(n,2,40,". Failed to send telemetry with Beacon API, retried with normal sender.")))}catch(Ee){i&&h_(n,"Failed to send telemetry using sendBeacon API. Ex:"+en(Ee)),$(ue,i?0:400,{},Bp)}}function he(W,ue,de){var me,Qe,Ee,_e,ke=W[RR]||{},We=(!de&&e&&(me=Ng(function(ze,ne){Qe=ze,Ee=ne})),i&&de&&W.disableXhrSync&&(de=!1),W[fC]);if(We)return _e=t9e(sD,We,D,!0,de,W[W1]),i||_e[_G]("Content-type","application/json"),tn(cg(ke),function(ze){_e[_G](ze,ke[ze])}),_e.onreadystatechange=function(){i||(Oe(_e),_e.readyState===4&&Qe&&Qe(!0))},_e.onload=function(){i&&Oe(_e)},_e.onerror=function(ze){$(ue,i?_e[XC]:400,$R(_e,i),i?Bp:dP(_e)),Ee&&Ee(ze)},_e.ontimeout=function(){$(ue,i?_e[XC]:500,$R(_e,i),i?Bp:dP(_e)),Qe&&Qe(!1)},_e.send(W[vb]),me;function Oe(ze){var ne=a&&a.xhrOnComplete;ne&&hi(ne)?ne(ze,ue,W):(ne=AP(ze),$(ue,ze[XC],$R(ze,i),ne))}q(ue),Qe&&Qe(!1)}function le(W,ue,de){var me,Qe,Ee,_e=W[fC],ze=W[vb],ke=i?ze:new Blob([ze],{type:"application/json"}),We=new Headers,Oe=ze[ni],ze=!1,ne=!1,ae=W[RR]||{},ve=((ke={method:sD,body:ke})[MG]=!0,W.headers&&0<cg(W.headers)[ni]&&(tn(cg(ae),function(Ze){We.append(Ze,ae[Ze])}),ke[RR]=We),D&&i&&(ke.credentials="include"),de&&(ke.keepalive=!0,k+=Oe,i?W._sendReason===2&&(ze=!0,C)&&(_e+=a3):ze=!0),new Request(_e,ke));try{ve[MG]=!0}catch{}if(!de&&e&&(me=Ng(function(Ze,st){Qe=Ze,Ee=st})),_e){try{kg(fetch(i?_e:ve,i?ke:null),function(Ze){if(de&&(k-=Oe,Oe=0),!ne)if(ne=!0,Ze.rejected)Re(Ze.reason&&Ze.reason[l_]),Ee&&Ee(Ze.reason);else{var st=Ze[bE];try{i||st.ok?i&&!st.body?(qe(st,null,Bp),Qe&&Qe(!0)):kg(st.text(),function(ot){qe(st,W,ot[bE]),Qe&&Qe(!0)}):(Re(st.statusText),Qe&&Qe(!1))}catch(ot){Re(en(ot)),Ee&&Ee(ot)}}})}catch(Ze){ne||(Re(en(Ze)),Ee&&Ee(Ze))}return ze&&!ne&&(ne=!0,$(ue,200,{}),Qe)&&Qe(!0),i&&!ne&&0<W[W1]&&x&&x.set(function(){ne||(ne=!0,$(ue,500,{}),Qe&&Qe(!0))},W[W1]),me}function Re(Ze){$(ue,i?0:400,{},i?Bp:Ze)}function qe(Ze,st,ot){var yt=Ze[XC],Pe=a.fetchOnComplete;Pe&&hi(Pe)?Pe(Ze,ue,ot||Bp,st):$(ue,yt,{},ot||Bp)}q(ue),Qe&&Qe(!1)}function fe(W,ue,de){var Ee=pA(),me=new XDomainRequest,Qe=W[vb],Ee=(me.onload=function(){var ke=AP(me),We=a&&a.xdrOnComplete;We&&hi(We)?We(me,ue,W):$(ue,200,{},ke)},me.onerror=function(){$(ue,400,{},i?Bp:eae(me))},me.ontimeout=function(){$(ue,500,{})},me.onprogress=function(){},Ee&&Ee.location&&Ee.location[Qie]||""),_e=W[fC];_e?i||_e.lastIndexOf(Ee,0)===0?(Ee=i?_e:_e[c_](/^(https?:)/,""),me.open(sD,Ee),W[W1]&&(me[W1]=W[W1]),me.send(Qe),i&&de?x&&x.set(function(){me.send(Qe)},0):me.send(Qe)):(jr(n,2,40,". "+(_e="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.")),H(_e,ue)):q(ue)}function Ne(){k=0,C=y=f=A=c=e=t=!1,x=s=o=a=i=n=null}Ne(),N[hT]=function(W,ue){n=ue,t&&jr(n,1,28,"Sender is already initialized"),N.SetConfig(W),t=!0},N._getDbgPlgTargets=function(){return[t,i,o,e]},N.SetConfig=function(W){try{var ue;return a=W.senderOnCompleteCallBack||{},o=!!W.disableCredentials,i=!!W.isOneDs,e=!!W.enableSendPromise,c=!!W.disableXhr,A=!!W.disableBeacon,f=!!W.disableBeaconSync,x=W.timeWrapper,C=!!W.addNoResponse,y=!!W.disableFetchKeepAlive,s={sendPOST:he},i||(D=!1),o&&(ue=jp())&&ue.protocol&&ue.protocol[kw]()==="file:"&&(D=!1),!0}catch{}return!1},N.getSyncFetchPayload=function(){return k},N.getSenderInst=function(W,ue){if(W&&W[ni]){for(var de=W,me=ue,Qe=0,Ee=null,_e=0;Ee==null&&_e<de[ni];)Qe=de[_e],c||Qe!==1?Qe!==2||!k8(me)||me&&y?Qe!==3||!eE()||(me?f:A)||(Ee=V):Ee=le:g9e()?Ee=fe:yM()&&(Ee=he),_e++;return Ee?((W={_transport:Qe,_isSync:me})[vG]=Ee,W):null}return null},N.getFallbackInst=function(){return s},N[tP]=function(W,ue){Ne()}})}return r.__ieDyn=1,r})(),Sae="on",o3="attachEvent",s3="addEventListener",l3="detachEvent",c3="removeEventListener",BF="events",IF="visibilitychange",_M="pagehide",Tae="unload",Bae="beforeunload",Iae=rf("aiEvtPageHide"),Nqe=(rf("aiEvtPageShow"),/\.[\.]+/g),Pqe=/[\.]+$/,Oqe=1,wP=hae("events"),Mqe=/^([^.]*)(?:\.(.+)|)/;function u3(r){return r&&r[c_]?r[c_](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ji):r}function Q8(i,n){n&&(t=Ji,ji(n)?(t=Ji,tn(n,function(a){(a=u3(a))&&(a[0]!=="."&&(a="."+a),t+=a)})):t=u3(n),t)&&(t[0]!=="."&&(t="."+t),i=(i||Ji)+t);var t,n=Mqe.exec(i||Ji)||[],i={};return i[hg]=n[1],i.ns=(n[2]||Ji).replace(Nqe,".").replace(Pqe,Ji)[Pw](".").sort().join("."),i}function kae(r,e,t){return r=wP.get(r,BF,{},t=t===void 0?!0:t),r[e]||(r[e]=[])}function Nae(r,e,t,n){r&&e&&e[hg]&&(r[c3]?r[c3](e[hg],t,n):r[l3]&&r[l3](Sae+e[hg],t))}function Lqe(r,e,t,n){var i=!1;return r&&e&&e[hg]&&t&&(r[s3]?(r[s3](e[hg],t,n),i=!0):r[o3]&&(r[o3](Sae+e[hg],t),i=!0)),i}function h3(r,e,t,n){for(var i=e[ni];i--;){var a=e[i];!a||t.ns&&t.ns!==a.evtName.ns||n&&!n(a)||(Nae(r,a.evtName,a[b8],a.capture),e[lx](i,1))}}function Rqe(r,e,t){var n;e[hg]?h3(r,kae(r,e[hg]),e,t):(Qi(n=wP.get(r,BF,{}),function(i,a){h3(r,a,e,t)}),cg(n)[ni]===0&&wP.kill(r,BF))}function Pv(r,e){var t=e?Q8("xx",t=ji(e)?[r].concat(e):[r,e]).ns[Pw]("."):r;return t}function Ag(r,e,t,n,i){i===void 0&&(i=!1);var a,o=!1;if(r)try{var s,c=Q8(e,n);(o=Lqe(r,c,t,i))&&wP.accept(r)&&((a={guid:Oqe++,evtName:c})[b8]=t,a.capture=i,s=a,kae(r,c.type)[_a](s))}catch{}return o}function sw(r,e,t,n,i){if(i===void 0&&(i=!1),r)try{var a=Q8(e,n),o=!1;Rqe(r,a,function(s){return!((!a.ns||t)&&s[b8]!==t)&&(o=!0)}),o||Nae(r,a,t,i)}catch{}}function Dqe(r,e,t){var n=!1,i=pA(),i=(i&&(n=Ag(i,r,e,t),n=Ag(i.body,r,e,t)||n),Ku());return n=i&&Ag(i,r,e,t)||n}function Uqe(r,e,t){var n=pA(),n=(n&&(sw(n,r,e,t),sw(n.body,r,e,t)),Ku());n&&sw(n,r,e,t)}function xP(r,e,t,n){var i=!1;return e&&r&&0<r[ni]&&tn(r,function(a){!a||t&&$u(t,a)!==-1||(i=Dqe(a,e,n)||i)}),i}function Fqe(r,e,t,n){var i=!1;return i=e&&r&&ji(r)&&!(i=xP(r,e,t,n))&&t&&0<t[ni]?xP(r,e,null,n):i}function kF(r,e,t){r&&ji(r)&&tn(r,function(n){n&&Uqe(n,e,t)})}function jqe(r,e,t){return Fqe([Bae,Tae,_M],r,e,t)}function Qqe(r,e){kF([Bae,Tae,_M],r,e)}function NF(r,e,t){var n=Pv(Iae,t),i=xP([_M],r,e,n);return i=!(i=e&&$u(e,IF)!==-1?i:xP([IF],function(a){var o=Ku();r&&o&&o.visibilityState==="hidden"&&r(a)},e,n)||i)&&e?NF(r,null,t):i}function Hqe(r,e){e=Pv(Iae,e),kF([_M],r,e),kF([IF],null,e)}var A3="_aiHooks",d3=["req","rsp","hkErr","fnErr"];function H8(r,e){if(r)for(var t=0;t<r[ni]&&!e(r[t],t);t++);}function lD(r,e,t,n,i){0<=i&&i<=2&&H8(r,function(s,o){var s=s.cbks,c=s[d3[i]];if(c){e.ctx=function(){return n[o]=n[o]||{}};try{c[O_](e.inst,t)}catch(f){c=e.err;try{var A=s[d3[2]];A&&(e.err=f,A[O_](e.inst,t))}catch{}finally{e.err=c}}}})}function zqe(r){return function(){var e=arguments,t=r.h,n=((i={})[ug]=r.n,i.inst=this,i.ctx=null,i.set=function(c,A){(e=o([],e))[c]=A,a=o([n],e)},i),i=[],a=o([n],e);function o(c,A){return H8(A,function(f){c[_a](f)}),c}n.evt=fs("event"),lD(t,n,a,i,0);var s=r.f;if(s)try{n.rslt=s[O_](this,e)}catch(c){throw n.err=c,lD(t,n,a,i,3),c}return lD(t,n,a,i,1),n.rslt}}function z8(r,e,t,n){var i=null;return r&&(ef(r,e)?i=r:t&&(i=z8(W7e(r),e,n,!1))),i}function qqe(r,e,t){return r?PF(r[Gp],e,t,!1):null}function Pae(a,e,t,n){var i=t&&t[A3],a=(i||((t=zqe(i={i:0,n:e,f:t,h:[]}))[A3]=i,a[e]=t),{id:i.i,cbks:n,rm:function(){var o=this.id;H8(i.h,function(s,c){if(s.id===o)return i.h[lx](c,1),1})}});return i.i++,i.h[_a](a),a}function PF(r,e,t,n,i){return n===void 0&&(n=!0),r&&e&&t&&(r=z8(r,e,n,i),r&&(n=r[e],typeof n===zie))?Pae(r,e,n,t):null}function _I(r,e,t,n,i){return r&&e&&t&&(n=z8(r,e,n,i)||r,n)?Pae(n,e,n[e],t):null}var bI="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Oae="sampleRate",cD="ProcessLegacy",f3="http.method",q8="https://dc.services.visualstudio.com",lw="/v2/track",rm="not_specified",uD="iKey",ja=w7e({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Mw="split",_i="length",mS="toLowerCase",f0="ingestionendpoint",Lw="toString",bM="push",K8="removeItem",Wf="name",Jy="message",bb="count",hD="preTriggerDate",AD="disabled",dD="interval",p3="daysOfMonth",fD="date",pD="getUTCDate",CP="stringify",mD="pathname",m3="correlationHeaderExcludePatterns",X1="exceptions",Mf="parsedStack",Qp="properties",dg="measurements",cw="sizeInBytes",zm="typeName",tE="severityLevel",gD="problemGroup",yD="isManual",Mae="CreateFromInterface",Db="assembly",R0="fileName",_k="hasFullStack",wI="level",J1="method",vC="line",EP="duration",g3="receivedResponse";function Lae(r,e,t){var n=e[_i],i=Kqe(r,e);if(i[_i]!==n){for(var a=0,o=i;t[o]!==void 0;)a++,o=hm(i,0,147)+$qe(a);i=o}return i}function Kqe(r,e){var t;return e&&150<(e=vl(dA(e)))[_i]&&(t=hm(e,0,150),jr(r,2,57,"name is too long.  It has been truncated to 150 characters.",{name:e},!0)),t||e}function bl(r,e,t){var n;return t===void 0&&(t=1024),e&&(t=t||1024,(e=vl(dA(e)))[_i]>t)&&(n=hm(e,0,t),jr(r,2,61,"string value is too long. It has been truncated to "+t+" characters.",{value:e},!0)),n||e}function wM(r,e){return Dae(r,e,2048,66)}function Rae(r,e){var t;return e&&32768<e[_i]&&(t=hm(e,0,32768),jr(r,2,56,"message is too long, it has been truncated to 32768 characters.",{message:e},!0)),t||e}function Vqe(r,e){var t,n;return e&&32768<(n=""+e)[_i]&&(t=hm(n,0,32768),jr(r,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0)),t||e}function V_(r,e){var t;return e&&(t={},Qi(e,function(n,i){if(yA(i)&&AT())try{i=$f()[CP](i)}catch(a){jr(r,2,49,"custom property is not valid",{exception:a},!0)}i=bl(r,i,8192),n=Lae(r,n,t),t[n]=i}),e=t),e}function G_(r,e){var t;return e&&(t={},Qi(e,function(n,i){n=Lae(r,n,t),t[n]=i}),e=t),e}function Gqe(r,e){return e&&Dae(r,e,128,69)[Lw]()}function Dae(r,e,t,n){var i;return e&&(e=vl(dA(e)))[_i]>t&&(i=hm(e,0,t),jr(r,2,n,"input is too long, it has been truncated to "+t+" characters.",{data:e},!0)),i||e}function $qe(r){return r="00"+r,Hy(r,r[_i]-3)}var y3=Ku()||{},v3=0,Yqe=[null,null,null,null,null];function V8(r){var e=v3,t=Yqe,n=t[e];return y3.createElement?t[e]||(n=t[e]=y3.createElement("a")):n={host:Xqe(r,!0)},n.href=r,++e>=t[_i]&&(e=0),v3=e,n}function Wqe(t){var e,t=V8(t);return e=t?t.href:e}function Zqe(r,e){return r?r.toUpperCase()+" "+e:e}function Xqe(r,e){return r=Uae(r,e)||"",r&&(e=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i),e!=null&&3<e[_i]&&jn(e[2])&&0<e[2][_i])?e[2]+(e[3]||""):r}function Uae(r,e){var t=null;return r&&(r=r.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i))!=null&&2<r[_i]&&jn(r[2])&&0<r[2][_i]&&(t=r[2]||"",e)&&2<r[_i]&&(e=(r[1]||"")[mS](),r=r[3]||"",t+=r=e==="http"&&r===":80"||e==="https"&&r===":443"?"":r),t}var Jqe=[q8+lw,"https://breeze.aimon.applicationinsights.io"+lw,"https://dc-int.services.visualstudio.com"+lw],eKe="cid-v1:";function OF(r){return $u(Jqe,r[mS]())!==-1}function _3(r,e,o){if(!e||r&&r.disableCorrelationHeaders)return!1;if(r&&r[m3]){for(var n=0;n<r.correlationHeaderExcludePatterns[_i];n++)if(r[m3][n].test(e))return!1}var i=V8(e).host[mS]();if(!i||fA(i,":443")===-1&&fA(i,":80")===-1||(i=(Uae(e,!0)||"")[mS]()),(!r||!r.enableCorsCorrelation)&&i&&i!==o)return!1;var a,o=r&&r.correlationHeaderDomains;if(o&&(tn(o,function(c){c=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")),a=a||c.test(i)}),!a))return!1;var s=r&&r.correlationHeaderExcludedDomains;if(!s||s[_i]===0)return!0;for(n=0;n<s[_i];n++)if(new RegExp(s[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&0<i[_i]}function b3(r){if(r&&(r=tKe(r,ja[1]),r&&r!==eKe))return r}function tKe(r,e){if(r)for(var t=r[Mw](","),n=0;n<t[_i];++n){var i=t[n][Mw]("=");if(i[_i]===2&&i[0]===e)return i[1]}}function rKe(r,e,t,n){var i,a,o,s=n,c=n;return s=e&&0<e[_i]?(o=(i=V8(e)).host,s||(i[mD]!=null?((a=i.pathname[_i]===0?"/":i[mD]).charAt(0)!=="/"&&(a="/"+a),c=i[mD],bl(r,t?t+" "+a:a)):bl(r,e))):o=n,{target:o,name:s,data:c}}function xI(){var r=Bg();return r&&r.now&&r.timing&&(r=r.now()+r.timing.navigationStart,0<r)?r:em()}function oA(r,e){var t=null;return t=r===0||e===0||vr(r)||vr(e)?t:e-r}function G8(r,e){var t=r||{};return{getName:function(){return t[Wf]},setName:function(n){e&&e.setName(n),t[Wf]=n},getTraceId:function(){return t.traceID},setTraceId:function(n){e&&e.setTraceId(n),D8(n)&&(t.traceID=n)},getSpanId:function(){return t.parentID},setSpanId:function(n){e&&e.setSpanId(n),U8(n)&&(t.parentID=n)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),t.traceFlags=n}}}var fT=Die({LocalStorage:0,SessionStorage:1}),lv=void 0,cv=void 0,Fae="";function $8(){return CM()?xM(fT.LocalStorage):null}function xM(r){try{if(vr(Yd()))return null;var e=new Date()[Lw](),t=fs(r===fT.LocalStorage?"localStorage":"sessionStorage"),n=Fae+e,i=(t.setItem(n,e),t.getItem(n)!==e);if(t[K8](n),!i)return t}catch{}return null}function Y8(){return gS()?xM(fT.SessionStorage):null}function nKe(){cv=lv=!1}function W8(r){Fae=r||""}function iKe(){lv=CM(!0),cv=gS(!0)}function CM(r){return lv=!r&&lv!==void 0?lv:!!xM(fT.LocalStorage)}function jae(r,e){var t=$8();if(t!==null)try{return t.getItem(e)}catch(n){lv=!1,jr(r,2,1,"Browser failed read of local storage. "+ga(n),{exception:en(n)})}return null}function Qae(r,e,t){var n=$8();if(n!==null)try{return n.setItem(e,t),!0}catch(i){lv=!1,jr(r,2,3,"Browser failed write to local storage. "+ga(i),{exception:en(i)})}return!1}function aKe(r,e){var t=$8();if(t!==null)try{return t[K8](e),!0}catch(n){lv=!1,jr(r,2,5,"Browser failed removal of local storage item. "+ga(n),{exception:en(n)})}return!1}function gS(r){return cv=!r&&cv!==void 0?cv:!!xM(fT.SessionStorage)}function MF(r,e){var t=Y8();if(t!==null)try{return t.getItem(e)}catch(n){cv=!1,jr(r,2,2,"Browser failed read of session storage. "+ga(n),{exception:en(n)})}return null}function Hae(r,e,t){var n=Y8();if(n!==null)try{return n.setItem(e,t),!0}catch(i){cv=!1,jr(r,2,4,"Browser failed write to session storage. "+ga(i),{exception:en(i)})}return!1}function zae(r,e){var t=Y8();if(t!==null)try{return t[K8](e),!0}catch(n){cv=!1,jr(r,2,6,"Browser failed removal of session storage item. "+ga(n),{exception:en(n)})}return!1}var oKe="appInsightsThrottle",sKe=function(r,e){var t,n,i,a,o,s,c,A=this,f=!1,y=!1;function C(he,le,fe,Ne){if(f){if(!(function(We){try{var Oe=x(We);return x9e(1e6)<=Oe.limit.samplingRate}catch{}return!1})(he))return;var W=x(he),ue=$(he),de=N(W,t,ue),me=!1,Qe=0,Ee=ce(he);try{de&&!Ee?(Qe=Math.min(W.limit.maxSendNumber,ue[bb]+1),me=!(ue[bb]=0),o[he]=!0,ue[hD]=new Date):(o[he]=de,ue[bb]+=1);var _e=M(he);H(n,_e,ue);for(var ke=0;ke<Qe;ke++)jr(n,fe||1,he,le)}catch{}return{isThrottled:me,throttleNum:Qe}}return Ne&&V(he)[bM]({msgID:he,message:le,severity:fe}),null}function x(he){return i[he]||i[109]}function k(he,le){var fe,Ne;try{var W=le||{},ue={},de=(ue[AD]=!!W[AD],W[dD]||{}),me=(y=(de===null?void 0:de.daysOfMonth)&&0<(de===null?void 0:de.daysOfMonth[_i]),ue[dD]=(function(Qe){var Ee=(Qe=Qe||{})==null?void 0:Qe.monthInterval,_e=Qe?.dayInterval;return vr(Ee)&&vr(_e)&&(Qe.monthInterval=3,y||(Qe[p3]=[28],y=!0)),Qe={monthInterval:Qe?.monthInterval,dayInterval:Qe?.dayInterval,daysOfMonth:Qe?.daysOfMonth}})(de),{samplingRate:((fe=W.limit)==null?void 0:fe.samplingRate)||100,maxSendNumber:((Ne=W.limit)==null?void 0:Ne.maxSendNumber)||1});ue.limit=me,i[he]=ue}catch{}}function N(he,le,fe){var Ne,W;return!(!he||he[AD]||!le||!u_(fe))&&(le=D(),fe=fe[fD],Ne=1,(he=he[dD])!=null&&he.monthInterval&&(W=12*(le.getUTCFullYear()-fe.getUTCFullYear())+le.getUTCMonth()-fe.getUTCMonth(),Ne=q(he.monthInterval,0,W)),W=1,y?W=$u(he[p3],le[pD]()):he!=null&&he.dayInterval&&(le=Math.floor((le.getTime()-fe.getTime())/864e5),W=q(he.dayInterval,0,le)),0<=Ne)&&0<=W}function M(he,le){return le=u_(le)?le:"",he?oKe+le+"-"+he:null}function D(he){try{if(!he)return new Date;var le=new Date(he);if(!isNaN(le.getDate()))return le}catch{}return null}function H(he,le,fe){try{return Qae(he,le,vl(JSON[CP](fe)))}catch{}}function q(he,le,fe){return he<=0?1:le<=fe&&(fe-le)%he==0?Math.floor((fe-le)/he)+1:-1}function $(he){try{var le,fe=a[he];return fe||(le=M(he,s),fe=(function(Ne,W,ue){try{var de,me={date:D(),count:0};return Ne?{date:D((de=JSON.parse(Ne))[fD])||me[fD],count:de[bb]||me[bb],preTriggerDate:de.preTriggerDate?D(de[hD]):void 0}:(H(W,ue,me),me)}catch{}return null})(jae(n,le),n,le),a[he]=fe),a[he]}catch{}return null}function ce(he){var le,fe=o[he];return vr(fe)&&(fe=!1,(le=$(he))&&(fe=(function(Ne){try{var W;if(Ne)return W=new Date,Ne.getUTCFullYear()===W.getUTCFullYear()&&Ne.getUTCMonth()===W.getUTCMonth()&&Ne[pD]()===W[pD]()}catch{}return!1})(le[hD])),o[he]=fe),o[he]}function V(he){return vr((c=c||{})[he])&&(c[he]=[]),c[he]}n=K_(r),o={},a={},c={},i={},k(109),s=u_(e)?e:"",r.addUnloadHook(Zs(r.config,function(he){he=he.cfg,t=CM(),Qi(he.throttleMgrCfg||{},function(le,fe){k(parseInt(le),fe)})})),A._getDbgPlgTargets=function(){return[c]},A.getConfig=function(){return i},A.canThrottle=function(he){var le=$(he);return N(x(he),t,le)},A.isTriggered=ce,A.isReady=function(){return f},A.flush=function(he){try{var le,fe=V(he);if(fe&&0<fe[_i])return le=fe.slice(0),c[he]=[],tn(le,function(Ne){C(Ne.msgID,Ne[Jy],Ne.severity,!1)}),!0}catch{}return!1},A.flushAll=function(){try{var he;if(c)return he=!0,Qi(c,function(le){le=A.flush(parseInt(le)),he=he&&le}),he}catch{}return!1},A.onReadyState=function(he,le){return le===void 0&&(le=!0),(f=!!vr(he)||he)&&le?A.flushAll():null},A.sendMessage=function(he,le,fe){return C(he,le,fe,!0)}},lKe=";",cKe="=";function w3(r){var e;return r?(r=r[Mw](lKe),r=r7e(r,function(t,a){var i,a=a[Mw](cKe);return a[_i]===2&&(i=a[0][mS](),a=a[1],t[i]=a),t},{}),0<cg(r)[_i]&&(r.endpointsuffix&&(e=r.location?r.location+".":"",r[f0]=r[f0]||"https://"+e+"dc."+r.endpointsuffix),r[f0]=r[f0]||q8,Lie(r[f0],"/"))&&(r[f0]=r[f0].slice(0,-1)),r):{}}var uKe=function(r,e,t){var n=this;this.ver=1,this.sampleRate=100,this.tags={},this[Wf]=bl(r,t)||rm,this.data=e,this.time=Ow(new Date),this.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return n.sampleRate===100?4:1},tags:1,data:1}},qy=(function(){function r(e,t,n,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this[Wf]=bl(e,t)||rm,this[Qp]=V_(e,n),this[dg]=G_(e,i)}return r.envelopeType="Microsoft.ApplicationInsights.{0}.Event",r.dataType="EventData",r})(),hKe="<no_method>",uw="error",sA="stack",LF="stackDetails",x3="errorSrc",RF="message",qae="description";function DF(r,e){var t=r;return t&&!jn(t)&&(JSON&&JSON[CP]?(t=JSON[CP](r),!e||t&&t!=="{}"||(t=hi(r[Lw])?r[Lw]():""+r)):t=r+" - (Missing JSON.stringify)"),t||""}function Kae(r,e){var t=r;return r&&((t=t&&!jn(t)&&(r[RF]||r[qae])||t)&&!jn(t)&&(t=DF(t,!0)),r.filename)&&(t=t+" @"+(r.filename||"")+":"+(r.lineno||"?")+":"+(r.colno||"?")),(t=e&&e!=="String"&&e!=="Object"&&e!=="Error"&&fA(t||"",e)===-1?e+": "+t:t)||""}function AKe(r){try{if(yA(r))return"hasFullStack"in r&&"typeName"in r}catch{}return!1}function dKe(r){try{if(yA(r))return"ver"in r&&"exceptions"in r&&"properties"in r}catch{}return!1}function C3(r){return r&&r.src&&jn(r.src)&&r.obj&&ji(r.obj)}function p0(e){var e=e||"",t=(e=jn(e)?e:jn(e[sA])?e[sA]:""+e)[Mw](`
`);return{src:e,obj:t}}function fKe(r){for(var e=[],t=r[Mw](`
`),n=0;n<t[_i];n++){var i=t[n];t[n+1]&&(i+="@"+t[n+1],n++),e[bM](i)}return{src:r,obj:e}}function Vae(r){var e,t=null;if(r)try{r[sA]?t=p0(r[sA]):r[uw]&&r[uw][sA]?t=p0(r[uw][sA]):r.exception&&r.exception[sA]?t=p0(r.exception[sA]):C3(r)?t=r:C3(r[LF])?t=r[LF]:pA()&&pA().opera&&r[RF]?t=fKe(r[Jy]):r.reason&&r.reason[sA]?t=p0(r.reason[sA]):jn(r)?t=p0(r):(e=r[RF]||r[qae]||"",jn(r[x3])&&(e&&(e+=`
`),e+=" from "+r[x3]),e&&(t=p0(e)))}catch(n){t=p0(n)}return t||{src:"",obj:null}}function pKe(r){var e="";return r&&(r.obj?tn(r.obj,function(t){e+=t+`
`}):e=r.src||""),e}function mKe(r){if(r=r.obj,r&&0<r[_i]){var e=[],t=0,n=0;if(tn(r,function(f){var f=f[Lw]();UF.regex.test(f)&&(f=new UF(f,t++),n+=f[cw],e[bM](f))}),32768<n)for(var i=0,a=e[_i]-1,o=0,s=i,c=a;i<a;){if(32768<(o+=e[i][cw]+e[a][cw])){e.splice(s,c-s+1);break}s=i,c=a,i++,a--}}return e}function SP(r){var e="";if(r&&!(e=r.typeName||r[Wf]||""))try{var t=/function (.{1,200})\(/.exec(r.constructor[Lw]()),e=t&&1<t[_i]?t[1]:""}catch{}return e}function vD(r){if(r)try{var e,t;if(!jn(r))return e=SP(r),(t=DF(r,!1))&&t!=="{}"||(r[uw]&&(e=SP(r=r[uw])),t=DF(r,!0)),fA(t,e)!==0&&e!=="String"?e+":"+t:t}catch{}return""+(r||"")}var Qd=(function(){function r(e,t,n,i,a,o){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var s=this;s.ver=2,dKe(t)?(s[X1]=t[X1]||[],s[Qp]=t[Qp],s[dg]=t[dg],t[tE]&&(s[tE]=t[tE]),t.id&&(s.id=t.id,t[Qp].id=t.id),t[gD]&&(s[gD]=t[gD]),vr(t[yD])||(s[yD]=t[yD])):(n=n||{},o&&(n.id=o),s[X1]=[new E3(e,t,n)],s[Qp]=V_(e,n),s[dg]=G_(e,i),a&&(s[tE]=a),o&&(s.id=o))}return r.CreateAutoException=function(e,t,n,i,a,o,s,c){var A=SP(a||o||e),f={};return f[Jy]=Kae(e,A),f.url=t,f.lineNumber=n,f.columnNumber=i,f.error=vD(a||o||e),f.evt=vD(o||e),f[zm]=A,f.stackDetails=Vae(s||a||o),f.errorSrc=c,f},r.CreateFromInterface=function(e,t,n,i){var a=t[X1]&&_E(t[X1],function(o){return E3[Mae](e,o)});return new r(e,Ih(Ih({},t),{exceptions:a}),n,i)},r.prototype.toInterface=function(){var s=this.exceptions,e=this.properties,t=this.measurements,n=this.severityLevel,i=this.problemGroup,a=this.id,o=this.isManual,s=s instanceof Array&&_E(s,function(A){return A.toInterface()})||void 0,c={ver:"4.0"};return c[X1]=s,c.severityLevel=n,c.properties=e,c.measurements=t,c.problemGroup=i,c.id=a,c.isManual=o,c},r.CreateSimpleException=function(e,t,n,i,a,o){var s;return{exceptions:[((s={})[_k]=!0,s.message=e,s.stack=a,s.typeName=t,s)]}},r.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",r.dataType="ExceptionData",r.formatError=vD,r})(),E3=(function(){function r(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var i,a,o=this;AKe(t)?(o[zm]=t[zm],o[Jy]=t[Jy],o[sA]=t[sA],o[Mf]=t[Mf]||[],o[_k]=t[_k]):(a=(i=t)&&i.evt,d8(i)||(i=i[uw]||a||i),o[zm]=bl(e,SP(i))||rm,o[Jy]=Rae(e,Kae(t||i,o[zm]))||rm,a=t[LF]||Vae(t),o[Mf]=mKe(a),ji(o[Mf])&&_E(o[Mf],function(s){s[Db]=bl(e,s[Db]),s[R0]=bl(e,s[R0])}),o[sA]=Vqe(e,pKe(a)),o.hasFullStack=ji(o.parsedStack)&&0<o.parsedStack[_i],n&&(n[zm]=n[zm]||o[zm]))}return r.prototype.toInterface=function(){var e,t=this[Mf]instanceof Array&&_E(this[Mf],function(n){return n.toInterface()});return(e={id:this.id,outerId:this.outerId,typeName:this[zm],message:this[Jy],hasFullStack:this[_k],stack:this[sA]})[Mf]=t||void 0,e},r.CreateFromInterface=function(e,t){var n=t[Mf]instanceof Array&&_E(t[Mf],function(i){return UF[Mae](i)})||t[Mf];return new r(e,Ih(Ih({},t),{parsedStack:n}))},r})(),UF=(function(){function r(e,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n,i=this;i[cw]=0,typeof e=="string"?(n=e,i[wI]=t,i[J1]=hKe,i[Db]=vl(n),i[R0]="",i[vC]=0,(t=n.match(r.regex))&&5<=t[_i]&&(i[J1]=vl(t[2])||i[J1],i[R0]=vl(t[4]),i[vC]=parseInt(t[5])||0)):(i[wI]=e[wI],i[J1]=e[J1],i[Db]=e[Db],i[R0]=e[R0],i[vC]=e[vC],i[cw]=0),i.sizeInBytes+=i.method[_i],i.sizeInBytes+=i.fileName[_i],i.sizeInBytes+=i.assembly[_i],i[cw]+=r.baseSize,i.sizeInBytes+=i.level.toString()[_i],i.sizeInBytes+=i.line.toString()[_i]}return r.CreateFromInterface=function(e){return new r(e,null)},r.prototype.toInterface=function(){return{level:this[wI],method:this[J1],assembly:this[Db],fileName:this[R0],line:this[vC]}},r.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,r.baseSize=58,r})(),gKe=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},d_=(function(){function r(e,t,n,i,a,o,s,c,A){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var f=new gKe;f[bb]=0<i?i:void 0,f.max=isNaN(o)||o===null?void 0:o,f.min=isNaN(a)||a===null?void 0:a,f[Wf]=bl(e,t)||rm,f.value=n,f.stdDev=isNaN(s)||s===null?void 0:s,this.metrics=[f],this[Qp]=V_(e,c),this[dg]=G_(e,A)}return r.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",r.dataType="MetricData",r})(),_C="";function Ky(a){(isNaN(a)||a<0)&&(a=0),a=Math.round(a);var e=_C+a%1e3,t=_C+Math.floor(a/1e3)%60,n=_C+Math.floor(a/6e4)%60,i=_C+Math.floor(a/36e5)%24,a=Math.floor(a/864e5);return(0<a?a+".":_C)+(i[_i]<2?"0"+i:i)+":"+(n[_i]<2?"0"+n:n)+":"+(t[_i]<2?"0"+t:t)+"."+(e[_i]===1?"00"+e:e[_i]===2?"0"+e:e)}function yKe(r,e,t,n,i){return!i&&jn(r)&&(r==="Script error."||r==="Script error")}var uv=(function(){function r(e,t,n,i,a,o,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},this.ver=2,this.id=Gqe(e,s),this.url=wM(e,n),this[Wf]=bl(e,t)||rm,isNaN(i)||(this[EP]=Ky(i)),this[Qp]=V_(e,a),this[dg]=G_(e,o)}return r.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",r.dataType="PageviewData",r})(),f_=(function(){function r(e,k,n,i,a,o,s,c,A,f,y,C){A===void 0&&(A="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var x=this,k=(x.ver=2,x.id=k,x[EP]=Ky(a),x.success=o,x.resultCode=s+"",x.type=bl(e,A),rKe(e,n,c,i));x.data=wM(e,i)||k.data,x.target=bl(e,k.target),f&&(x.target="".concat(x.target," | ").concat(f)),x[Wf]=bl(e,k[Wf]),x[Qp]=V_(e,y),x[dg]=G_(e,C)}return r.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",r.dataType="RemoteDependencyData",r})(),hw=(function(){function r(e,t,n,i,a){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},this.ver=2,this[Jy]=Rae(e,t=t||rm),this[Qp]=V_(e,i),this[dg]=G_(e,a),n&&(this[tE]=n)}return r.envelopeType="Microsoft.ApplicationInsights.{0}.Message",r.dataType="MessageData",r})(),Aw=(function(){function r(e,t,n,i,a,o,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=wM(e,n),c[Wf]=bl(e,t)||rm,c[Qp]=V_(e,a),c[dg]=G_(e,o),s&&(c.domProcessing=s.domProcessing,c[EP]=s[EP],c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c[g3]=s[g3],c.sentRequest=s.sentRequest)}return r.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",r.dataType="PageviewPerformanceData",r})(),$_=function(r,e){this.aiDataContract={baseType:1,baseData:1},this.baseType=r,this.baseData=e};function Ov(r){var e="ai."+r+".";return function(t){return e+t}}var bC=Ov("application"),Rl=Ov("device"),CI=Ov("location"),eb=Ov("operation"),_D=Ov("session"),by=Ov("user"),m0=Ov("cloud"),wC=Ov("internal"),Gae=(function(r){function e(){return r.call(this)||this}return Kg(e,r),e})(X7e({applicationVersion:bC("ver"),applicationBuild:bC("build"),applicationTypeId:bC("typeId"),applicationId:bC("applicationId"),applicationLayer:bC("layer"),deviceId:Rl("id"),deviceIp:Rl("ip"),deviceLanguage:Rl("language"),deviceLocale:Rl("locale"),deviceModel:Rl("model"),deviceFriendlyName:Rl("friendlyName"),deviceNetwork:Rl("network"),deviceNetworkName:Rl("networkName"),deviceOEMName:Rl("oemName"),deviceOS:Rl("os"),deviceOSVersion:Rl("osVersion"),deviceRoleInstance:Rl("roleInstance"),deviceRoleName:Rl("roleName"),deviceScreenResolution:Rl("screenResolution"),deviceType:Rl("type"),deviceMachineName:Rl("machineName"),deviceVMName:Rl("vmName"),deviceBrowser:Rl("browser"),deviceBrowserVersion:Rl("browserVersion"),locationIp:CI("ip"),locationCountry:CI("country"),locationProvince:CI("province"),locationCity:CI("city"),operationId:eb("id"),operationName:eb("name"),operationParentId:eb("parentId"),operationRootId:eb("rootId"),operationSyntheticSource:eb("syntheticSource"),operationCorrelationVector:eb("correlationVector"),sessionId:_D("id"),sessionIsFirst:_D("isFirst"),sessionIsNew:_D("isNew"),userAccountAcquisitionDate:by("accountAcquisitionDate"),userAccountId:by("accountId"),userAgent:by("userAgent"),userId:by("id"),userStoreRegion:by("storeRegion"),userAuthUserId:by("authUserId"),userAnonymousUserAcquisitionDate:by("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:by("authUserAcquisitionDate"),cloudName:m0("name"),cloudRole:m0("role"),cloudRoleVer:m0("roleVer"),cloudRoleInstance:m0("roleInstance"),cloudEnvironment:m0("environment"),cloudLocation:m0("location"),cloudDeploymentUnit:m0("deploymentUnit"),internalNodeName:wC("nodeName"),internalSdkVersion:wC("sdkVersion"),internalAgentVersion:wC("agentVersion"),internalSnippet:wC("snippet"),internalSdkSrc:wC("sdkSrc")}));function ky(r,e,t,s,i,a){t=bl(s,t)||rm,(vr(r)||vr(e)||vr(t))&&rd("Input doesn't contain all required fields");var o,s="",c=(r[uD]&&(s=r[uD],delete r[uD]),(o={})[Wf]=t,o.time=Ow(new Date),o.iKey=s,o.ext=a||{},o.tags=[],o.data={},o.baseType=e,o.baseData=r,o);return vr(i)||Qi(i,function(A,f){c.data[A]=f}),c}var JA={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os"},ro=new Gae;function xC(r){var e,t=null;return hi(Event)?t=new Event(r):(e=Ku())&&e.createEvent&&(t=e.createEvent("Event")).initEvent(r,!0,!0),t}function S3(r,e){sw(r,null,null,e)}function vKe(r){var e,t=Ku(),n=Am(),i=!1,a=[],o=1,s=(!n||vr(n.onLine)||n.onLine||(o=2),0),c=y(),A=Pv(rf("OfflineListener"),r);try{f(pA())&&(i=!0),t&&(e=t.body||t).ononline&&f(e)&&(i=!0)}catch{i=!1}function f(N){var M=!1;return N&&(M=Ag(N,"online",x,A))&&Ag(N,"offline",k,A),M}function y(){return s!==2&&o!==2}function C(){var N=y();c!==N&&(c=N,tn(a,function(M){var D={isOnline:c,rState:o,uState:s};try{M(D)}catch{}}))}function x(){o=1,C()}function k(){o=2,C()}return{isOnline:function(){return c},isListening:function(){return i},unload:function(){var N=pA();N&&i&&(S3(N,A),t&&!Zo((N=t.body||t).ononline)&&S3(N,A),i=!1)},addListener:function(N){return a[bM](N),{rm:function(){var M=a.indexOf(N);if(-1<M)return a.splice(M,1)}}},setOnlineState:function(N){s=N,C()}}}var EM="AppInsightsPropertiesPlugin",$ae="AppInsightsChannelPlugin",Yae="ApplicationInsightsAnalytics",TP="toString",FF="isStorageUseDisabled",tb="_addHook",Gc="core",wy="dataType",g0="envelopeType",WA="diagLog",y0="track",bk="trackPageView",jF="trackPreviousPageVisit",D0="sendPageViewInternal",Rw="startTime",QF="properties",Mp="duration",HF="sendPageViewPerformanceInternal",Z8="populatePageViewPerformanceEvent",rE="href",T3="sendExceptionInternal",bD="exception",CC="error",wD="_onerror",xD="errorSrc",CD="lineNumber",ED="columnNumber",B3="message",SD="CreateAutoException",EI="addTelemetryInitializer",_Ke="overridePageViewDuration",Wae="autoTrackPageVisitTime",Zae="isBrowserLinkTrackingEnabled",yS="length",Xae="enableAutoRouteTracking",Jae="enableUnhandledPromiseRejectionTracking",zF="autoUnhandledPromiseInstrumented",qF="getEntriesByType",eoe="isPerformanceTimingSupported",toe="getPerformanceTiming",BP="navigationStart",KF="shouldCollectDuration",roe="isPerformanceTimingDataReady",nE="responseStart",bKe="requestStart",wk="loadEventEnd",VF="responseEnd",xk="connectEnd",noe="pageVisitStartTime",wKe=(function(){function r(e,t,n,i){xo(r,this,function(a){var o,s=null,c=[],A=!1,f=!1;function y(x){n&&n.flush(x,function(){})}function C(x){c.push(x),(function k(){s=s||tf(function(){s=null;var N=c.slice(0),M=!1;c=[],tn(N,function(D){D()?M=!0:c.push(D)}),0<c[yS]&&k(),M&&y(!0)},100)})()}n&&(o=n.logger),a[bk]=function(x,k){var N,M,D,H,q,$,ce=x.name,V=(!vr(ce)&&typeof ce=="string"||(M=Ku(),ce=x.name=M&&M.title||""),x.uri);!vr(V)&&typeof V=="string"||(M=jp(),V=x.uri=M&&M[rE]||""),f||((N=(M=Bg())&&M[qF]&&M[qF]("navigation"))&&N[0]&&!Zo(M.timeOrigin)?(N=N[0].loadEventStart,x[Rw]=new Date(M.timeOrigin+N)):(M=(k||x[QF]||{})[Mp]||0,x[Rw]=new Date(new Date().getTime()-M)),f=!0),i[eoe]()?(D=!1,q=i[toe]()[BP],0<q&&(H=oA(q,+new Date),i[KF](H)||(H=void 0)),vr(k)||vr(k[Mp])||($=k[Mp]),!t&&isNaN($)||(isNaN($)&&((k=k||{})[Mp]=H),e[D0](x,k),y(!0),D=!0),k=k||{},C(function(){var he,le=!1;try{i[roe]()?(le=!0,he={name:ce,uri:V},i[Z8](he),he.isValid||D?(D||(k[Mp]=he.durationMs,e[D0](x,k)),A||(e[HF](he,k),A=!0)):(k[Mp]=H,e[D0](x,k))):0<q&&6e4<oA(q,+new Date)&&(le=!0,D||(k[Mp]=6e4,e[D0](x,k)))}catch(fe){jr(o,1,38,"trackPageView failed on page load calculation: "+ga(fe),{exception:en(fe)})}return le})):(e[D0](x,k),y(!0),Sie()||jr(o,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info."))},a.teardown=function(x,k){var N;s&&(s.cancel(),s=null,N=c.slice(0),c=[],tn(N,function(M){M()}))}})}return r.__ieDyn=1,r})(),xKe=36e5,I3=["googlebot","adsbot-google","apis-google","mediapartners-google"];function ioe(){var r=Bg();return r&&!!r.timing}function CKe(){var r=Bg();return r&&r.getEntriesByType&&0<r.getEntriesByType("navigation")[yS]}function EKe(){var r=Bg(),r=r?r.timing:0;return r&&0<r.domainLookupStart&&0<r[BP]&&0<r[nE]&&0<r[bKe]&&0<r[wk]&&0<r[VF]&&0<r[xk]&&0<r.domLoading}function k3(){return ioe()?Bg().timing:null}function SKe(){return CKe()?Bg()[qF]("navigation")[0]:null}function TKe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=(Am()||{}).userAgent,n=!1;if(t)for(var i=0;i<I3[yS];i++)n=n||fA(t.toLowerCase(),I3[i])!==-1;if(n)return!1;for(i=0;i<r[yS];i++)if(r[i]<0||xKe<=r[i])return!1;return!0}var ZA,BKe=(function(){function r(e){var t=K_(e);xo(r,this,function(n){n[Z8]=function(i){i.isValid=!1;var a=SKe(),o=k3(),s=0,c=0,A=0,f=0,y=0;(a||o)&&(y=a?(s=a[Mp],c=a[Rw]===0?a[xk]:oA(a[Rw],a[xk]),A=oA(a.requestStart,a[nE]),f=oA(a[nE],a[VF]),oA(a.responseEnd,a[wk])):(s=oA(o[BP],o[wk]),c=oA(o[BP],o[xk]),A=oA(o.requestStart,o[nE]),f=oA(o[nE],o[VF]),oA(o.responseEnd,o[wk])),s===0?jr(t,2,10,"error calculating page view performance.",{total:s,network:c,request:A,response:f,dom:y}):n[KF](s,c,A,f,y)?s<Math.floor(c)+Math.floor(A)+Math.floor(f)+Math.floor(y)?jr(t,2,8,"client performance math error.",{total:s,network:c,request:A,response:f,dom:y}):(i.durationMs=s,i.perfTotal=i[Mp]=Ky(s),i.networkConnect=Ky(c),i.sentRequest=Ky(A),i.receivedResponse=Ky(f),i.domProcessing=Ky(y),i.isValid=!0):jr(t,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:s,network:c,request:A,response:f,dom:y}))},n[toe]=k3,n[eoe]=ioe,n[roe]=EKe,n[KF]=TKe})}return r.__ieDyn=1,r})(),IKe=(function(){function r(e,t){var n="prevPageVisitData";xo(r,this,function(i){i[jF]=function(a,o){try{var s=(function(c,A){var f=null;try{var y;f=(function(){var C=null;try{var x,k;gS()&&(x=em(),k=MF(e,n))&&AT()&&((C=$f().parse(k)).pageVisitTime=x-C[noe],zae(e,n))}catch(N){h_(e,"Stop page visit timer failed: "+en(N)),C=null}return C})(),gS()&&(MF(e,n)!=null&&rd("Cannot call startPageVisit consecutively without first calling stopPageVisit"),y=$f().stringify(new kKe(c,A)),Hae(e,n,y))}catch(C){h_(e,"Call to restart failed: "+en(C)),f=null}return f})(a,o);s&&t(s.pageName,s.pageUrl,s.pageVisitTime)}catch(c){h_(e,"Auto track page visit time failed, metric will not be collected: "+en(c))}},ca(i,"_logger",{g:function(){return e}}),ca(i,"pageVisitTimeTrackingHandler",{g:function(){return t}})})}return r.__ieDyn=1,r})(),kKe=function(r,e){this[noe]=em(),this.pageName=r,this.pageUrl=e},N3=function(r,e){var t=this,n={};t.start=function(i){n[i]!==void 0&&jr(r,2,62,"start was called more than once for this event without calling stop.",{name:i,key:i},!0),n[i]=+new Date},t.stop=function(i,a,o,s){var c=n[i];isNaN(c)?jr(r,2,63,"stop was called without a corresponding start.",{name:i,key:i},!0):(c=oA(c,+new Date),t.action(i,a,c,o,s)),delete n[i],n[i]=void 0}},NKe="event";function EC(r,e){r&&r.dispatchEvent&&e&&r.dispatchEvent(e)}function PKe(r){var e;return r&&r.reason?(e=r.reason,!jn(e)&&hi(e[TP])?e[TP]():en(e)):r||""}var P3=6e4,OKe=ax(((ZA={sessionRenewalMs:LG(O3,18e5),sessionExpirationMs:LG(O3,864e5),disableExceptionTracking:fl()})[Wae]=fl(),ZA[_Ke]=fl(),ZA[Jae]=fl(),ZA[zF]=!1,ZA.samplingPercentage=mP(MKe,100),ZA[FF]=fl(),ZA[Zae]=fl(),ZA[Xae]=fl(),ZA.namePrefix=j9e(),ZA.enableDebug=fl(),ZA.disableFlushOnBeforeUnload=fl(),ZA.disableFlushOnUnload=fl(!1,"disableFlushOnBeforeUnload"),ZA));function O3(r,e){return+(r=(r=r||e)<P3?P3:r)}function MKe(r){return!isNaN(r)&&0<r&&r<=100}function LKe(r){Zo(r[FF])||(r[FF]?nKe:iKe)()}var RKe=(function(r){function e(){var t,n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce=r.call(this)||this;return ce.identifier=Yae,ce.priority=180,ce.autoRoutePVDelay=500,xo(e,ce,function(V,he){var le=he[tb];function fe(W,ue,de,me,Qe){V[WA]().throwInternal(W,ue,de,me,Qe)}function Ne(){s=o=a=i=n=t=null;var W=jp(!(D=N=k=x=C=y=f=A=c=!1));H=W&&W[rE]||"",M=$=q=null,ca(V,"config",{g:function(){return M}})}Ne(),V.getCookieMgr=function(){return R8(V[Gc])},V.processTelemetry=function(W,ue){V.processNext(W,ue)},V.trackEvent=function(W,ue){try{var de=ky(W,qy[wy],qy[g0],V[WA](),ue);V[Gc][y0](de)}catch(me){fe(2,39,"trackTrace failed, trace will not be collected: "+ga(me),{exception:en(me)})}},V.startTrackEvent=function(W){try{t.start(W)}catch(ue){fe(1,29,"startTrackEvent failed, event will not be collected: "+ga(ue),{exception:en(ue)})}},V.stopTrackEvent=function(W,ue,de){try{t.stop(W,void 0,ue,de)}catch(me){fe(1,30,"stopTrackEvent failed, event will not be collected: "+ga(me),{exception:en(me)})}},V.trackTrace=function(W,ue){try{var de=ky(W,hw[wy],hw[g0],V[WA](),ue);V[Gc][y0](de)}catch(me){fe(2,39,"trackTrace failed, trace will not be collected: "+ga(me),{exception:en(me)})}},V.trackMetric=function(W,ue){try{var de=ky(W,d_[wy],d_[g0],V[WA](),ue);V[Gc][y0](de)}catch(me){fe(1,36,"trackMetric failed, metric will not be collected: "+ga(me),{exception:en(me)})}},V[bk]=function(W,ue){try{var de=W||{};i[bk](de,Ih(Ih(Ih({},de.properties),de.measurements),ue)),D&&o[jF](de.name,de.uri)}catch(me){fe(1,37,"trackPageView failed, page view will not be collected: "+ga(me),{exception:en(me)})}},V[D0]=function(W,ue,de){var me=Ku(),me=(me&&(W.refUri=W.refUri===void 0?me.referrer:W.refUri),vr(W[Rw])&&(me=(ue||W[QF]||{})[Mp]||0,W[Rw]=new Date(new Date().getTime()-me)),ky(W,uv[wy],uv[g0],V[WA](),ue,de));V[Gc][y0](me)},V[HF]=function(W,ue,de){W=ky(W,Aw[wy],Aw[g0],V[WA](),ue,de),V[Gc][y0](W)},V.trackPageViewPerformance=function(W,ue){W=W||{};try{a[Z8](W),V[HF](W,ue)}catch(de){fe(1,37,"trackPageViewPerformance failed, page view will not be collected: "+ga(de),{exception:en(de)})}},V.startTrackPage=function(W){try{var ue;typeof W!="string"&&(W=(ue=Ku())&&ue.title||""),n.start(W)}catch(de){fe(1,31,"startTrackPage failed, page view may not be collected: "+ga(de),{exception:en(de)})}},V.stopTrackPage=function(W,ue,de,me){try{var Qe,Ee;typeof W!="string"&&(W=(Qe=Ku())&&Qe.title||""),typeof ue!="string"&&(ue=(Ee=jp())&&Ee[rE]||""),n.stop(W,ue,de,me),D&&o[jF](W,ue)}catch(_e){fe(1,32,"stopTrackPage failed, page view will not be collected: "+ga(_e),{exception:en(_e)})}},V[T3]=function(W,ue,de){var me=W&&(W[bD]||W[CC])||d8(W)&&W||{name:W&&typeof W,message:W||rm};W=W||{},me=ky(new Qd(V[WA](),me,W[QF]||ue,W.measurements,W.severityLevel,W.id).toInterface(),Qd[wy],Qd[g0],V[WA](),ue,de),V[Gc][y0](me)},V.trackException=function(W,ue){W&&!W[bD]&&W[CC]&&(W[bD]=W[CC]);try{V[T3](W,ue)}catch(de){fe(1,35,"trackException failed, exception will not be collected: "+ga(de),{exception:en(de)})}},V[wD]=function(W){var ue=W&&W[CC],de=W&&W.evt;try{de||(We=pA())&&(de=We[NKe]);var me,Qe,Ee=W&&W.url||(Ku()||{}).URL,_e=W[xD]||"window.onerror@"+Ee+":"+(W[CD]||0)+":"+(W[ED]||0),ke={errorSrc:_e,url:Ee,lineNumber:W[CD]||0,columnNumber:W[ED]||0,message:W[B3]};yKe(W.message,W.url,W.lineNumber,W.columnNumber,W[CC])?(me=Qd[SD]("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",Ee,W[CD]||0,W[ED]||0,ue,de,null,_e),Qe=ke,me=ky(me,Qd[wy],Qd[g0],V[WA](),Qe),V[Gc][y0](me)):(W[xD]||(W[xD]=_e),V.trackException({exception:W,severityLevel:3},ke))}catch(Oe){var We=ue?ue.name+", "+ue[B3]:"null";fe(1,11,"_onError threw exception while logging error, error will not be collected: "+ga(Oe),{exception:en(Oe),errorString:We})}},V[EI]=function(W){if(V[Gc])return V[Gc][EI](W);(s=s||[]).push(W)},V.initialize=function(W,ue,de,me){if(!V.isInitialized()){vr(ue)&&rd("Error initializing"),he.initialize(W,ue,de,me);try{var Qe,Ee;$=Pv(rf(V.identifier),ue.evtNamespace&&ue.evtNamespace()),s&&(tn(s,function(ve){ue[EI](ve)}),s=null),ze=W,ne=V.identifier,ae=V[Gc],V[tb](Zs(ze,function(){var ve,Re=Yf(null,ze,ae);M=Re.getExtCfg(ne,OKe),D=M[Wae],ze.storagePrefix&&W8(ze.storagePrefix),LKe(M),c=M[Zae],!A&&c&&(ve=["/browserLinkSignalR/","/__browserLink/"],V[tb](V[EI](function(qe){if(c&&qe.baseType===f_[wy]){var Ze=qe.baseData;if(Ze){for(var st=0;st<ve[yS];st++)if(Ze.target&&0<=fA(Ze.target,ve[st]))return!1}}return!0})),A=!0)})),a=new BKe(V[Gc]),i=new wKe(V,M.overridePageViewDuration,V[Gc],a),o=new IKe(V[WA](),function(ve,Re,qe){var Ze=ve;Ze={PageName:ve,PageUrl:Re},V.trackMetric({name:"PageVisitTime",average:qe,max:qe,min:qe,sampleCount:1},Ze)}),(t=new N3(V[WA](),"trackEvent")).action=function(ve,Re,qe,Ze,st){st=st||{},(Ze=Ze||{}).duration=qe[TP](),V.trackEvent({name:ve,properties:Ze,measurements:st})},(n=new N3(V[WA](),"trackPageView")).action=function(ve,Re,qe,Ze,st){(Ze=vr(Ze)?{}:Ze).duration=qe[TP](),V[D0]({name:ve,uri:Re,properties:Ze,measurements:st},Ze)},pM()&&(We=pA(),Oe=jp(!0),V[tb](Zs(M,function(){(C=M.disableExceptionTracking)||x||M.autoExceptionInstrumented||(le(_I(We,"onerror",{ns:$,rsp:function(ve,Re,qe,Ze,st,ot){C||ve.rslt===!0||V[wD](Qd[SD](Re,qe,Ze,st,ot,ve.evt))}},!1)),x=!0)})),Qe=We,Ee=Oe,V[tb](Zs(M,function(){k=M[Jae]===!0,x=x||M[zF],k&&!N&&(le(_I(Qe,"onunhandledrejection",{ns:$,rsp:function(ve,Re){k&&ve.rslt!==!0&&V[wD](Qd[SD](PKe(Re),Ee?Ee[rE]:"",0,0,Re,ve.evt))}},!1)),M[zF]=N=!0)})),_e=pA(),ke=jp(!0),V[tb](Zs(M,function(){var ve,Re,qe,Ze;f=M[Xae]===!0,_e&&f&&!y&&Zze()&&(Re=Eie(),hi(Re.pushState))&&hi(Re.replaceState)&&typeof Event!==w8&&(ve=_e,Re=Re,qe=ke,y||(Ze=M.namePrefix||"",le(_I(Re,"pushState",{ns:$,rsp:function(){f&&(EC(ve,xC(Ze+"pushState")),EC(ve,xC(Ze+"locationchange")))}},!0)),le(_I(Re,"replaceState",{ns:$,rsp:function(){f&&(EC(ve,xC(Ze+"replaceState")),EC(ve,xC(Ze+"locationchange")))}},!0)),Ag(ve,Ze+"popstate",function(){f&&EC(ve,xC(Ze+"locationchange"))},$),Ag(ve,Ze+"locationchange",function(){q=(q&&(H=q),qe&&qe[rE]||"");{var st,ot;f&&((st=(function(){var yt=null;V[Gc]&&V[Gc].getTraceCtx&&(yt=V[Gc].getTraceCtx(!1));{var Pe;yt||(Pe=V[Gc].getPlugin(EM))&&(Pe=Pe.plugin.context)&&(yt=G8(Pe.telemetryTrace))}return yt})())&&(st.setTraceId(Xy()),ot="_unknown_",qe&&qe.pathname&&(ot=qe.pathname+(qe.hash||"")),st.setName(bl(V[WA](),ot))),tf((function(yt){V[bk]({refUri:yt,properties:{duration:0}})}).bind(V,H),V.autoRoutePVDelay))}},$),y=!0))})))}catch(ve){throw V.setInitialized(!1),ve}var _e,ke,We,Oe,ze,ne,ae}},V._doTeardown=function(W,ue){i&&i.teardown(W,ue),sw(window,null,null,$),Ne()},ca(V,"_pageViewManager",{g:function(){return i}}),ca(V,"_pageViewPerformanceManager",{g:function(){return a}}),ca(V,"_pageVisitTimeManager",{g:function(){return o}}),ca(V,"_evtNamespace",{g:function(){return"."+$}})}),ce}return Kg(e,r),e.Version="3.3.0",e})(cx),Ck="featureOptIn",aoe="onCfgChangeReceive",ooe="nonOverrideConfigs",soe="scheduleFetchTimeout";function loe(r,e,t,n){try{var i=n<t,a=(i&&(r=null),t==0?m7e({},r):r);return a&&e&&!i&&Qi(a,function(o){var s=e[o];s&&(yA(a[o])&&yA(s)?a[o]=loe(a[o],s,++t,n):delete a[o])}),a}catch{}return r}var SI,dw="featureOptIn.",coe=".mode",uoe=".onCfg",hoe=".offCfg";function DKe(r,e,t){var n,i,a,o,s,c,A,f,y,C;return e&&e.enabled?(n=(e=(e[Ck]||{})[r]||{mode:1}).mode,i=e.onCfg,e=e.offCfg,a=(t=(t||{})[r]||{mode:2}).mode,o=t.onCfg,s=t.offCfg,t=!!t.blockCdnCfg,c=dw+r+uoe,A=dw+r+hoe,f=a,y=o,C=s,t||(n===4||n===5?(f=n==4?3:2,y=i||o,C=e||s):n===2||a===2?(f=2,y=o||i,C=s||e):n===3?(f=3,y=o||i,C=s||e):n===1&&a===1&&(f=1)),(t={})[dw+r+coe]=f,t[c]=y,t[A]=C,t):null}function UKe(r,e){try{var t,n;return r&&r.enabled?r[Ck]?(t=r[Ck],n=r.config||{},Qi(t,function(i){var a=DKe(i,r,e.config[Ck]);vr(a)||(Qi(a,function(o,s){Mie(n,o,s)}),FKe(i,a,n))}),n):r.config:null}catch{}return null}function FKe(o,a,t){var n=a[dw+o+coe],i=a[dw+o+uoe],a=a[dw+o+hoe],o=n===2?a:n===3?i:null;o&&Qi(o,function(s,c){Mie(t,s,c)})}var jKe="ai_cfgsync",M3="GET",QKe=18e5,rb=void 0,HKe={instrumentationKey:!0,connectionString:!0,endpointUrl:!0},zKe=ax(((SI={syncMode:1,blkCdnCfg:rb,customEvtName:rb,cfgUrl:rb,overrideSyncFn:rb,overrideFetchFn:rb})[aoe]=rb,SI[soe]=QKe,SI[ooe]=HKe,SI)),qKe=(function(r){function e(){var t,n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H=r.call(this)||this,q=(H.priority=198,!(H.identifier="AppInsightsCfgSyncPlugin"));return xo(e,H,function($,ce){function V(){x=D=M=f=C=y=s=k=A=c=o=a=i=n=null}function he(ke,We){if(ke){if(n=ke,We&&!q)return fe();if(c&&!q)return $.core.updateCfg(ke),!0}return!1}function le(){try{var ke=Yd();ke&&sw(ke,null,null,a)}catch{}}function fe(ke){try{return D&&hi(D)?D(n,ke):_9e(i,n,ke)}catch{}return!1}function Ne(ke){try{if(le(),ke&&(i=ke,c)){var We=Yd();if(We)try{Ag(We,i,function(ze){var ze=ze&&ze.detail;x&&ze?x(ze):(ze=(ze=ze&&ze.cfg)&&Bh(ze)&&Qe(ze))&&he(ze)},a,!0)}catch{}}return!0}catch{}return!1}function W(ke,We,Oe){var ze=Yd(),ze=ze&&ze.fetch||null;if(ke&&ze&&hi(ze))try{var ne=new Request(ke,{method:M3});kg(fetch(ne),function(ae){var ve=ae.value;ae.rejected?me(We,400):ve.ok?kg(ve.text(),function(Re){me(We,ve.status,Re.value,Oe)}):me(We,ve.status,null,Oe)})}catch{}}function ue(ke,We,Oe){try{var ze=new XMLHttpRequest;ze.open(M3,ke),ze.onreadystatechange=function(){ze.readyState===XMLHttpRequest.DONE&&me(We,ze.status,ze.responseText,Oe)},ze.onerror=function(){me(We,400)},ze.ontimeout=function(){me(We,400)},ze.send()}catch{}}function de(ke,We,Oe){try{var ze,ne,ae;200<=ke&&ke<400&&We?(C=0,(ze=$f())&&(ae=(ne=UKe(ze.parse(We),$.core))&&Bh(ne)&&Qe(ne))&&he(ae,Oe)):C++,C<3&&Ee()}catch{}}function me(ke,We,Oe,ze){try{ke(We,Oe,ze)}catch{}}function Qe(ke){var We=null;try{ke&&(We=loe(ke,k,0,5))}catch{}return We}function Ee(){!s&&y&&(s=tf(function(){s=null,N(o,de,A)},y)).unref()}function _e(){s&&s.cancel(),s=null,C=0}V(),$.initialize=function(ke,We,Oe,ze){var ne,ae,ve;ce.initialize(ke,We,Oe,ze),a=Pv(rf($.identifier),We.evtNamespace&&We.evtNamespace()),ne=ke,ae=$.identifier,ve=$.core,$._addHook(Zs(ne,function(){var Re=Yf(null,ne,ve),Re=(t=Re.getExtCfg(ae,zKe),f),Re=(f=!!t.blkCdnCfg,vr(Re)||Re===f||(!f&&o?N&&N(o,de,A):_e()),vr(c)&&(c=t.syncMode===2),vr(A)&&(A=t.syncMode===1),t.customEvtName||jKe);i!==Re&&(c?Ne(Re):(le(),i=Re)),(o=vr(o)?t.cfgUrl:o)||(n=ne,A&&fe())})),D=t.overrideSyncFn,M=t.overrideFetchFn,x=t[aoe],k=t[ooe],y=t[soe],N=(function(){var Re=M;return vr(Re)&&(k8()?Re=W:yM()&&(Re=ue)),Re})(),C=0,o&&!f&&N&&N(o,de,A)},$.getCfg=function(){return n},$.pause=function(){q=!0,_e()},$.resume=function(){q=!1,Ee()},$.setCfg=function(ke){return he(ke)},$.sync=fe,$.updateEventListenerName=Ne,$._doTeardown=function(ke,We){le(),_e(),V()},$._getDbgPlgTargets=function(){return[A,c,i,f,k]},$.processTelemetry=function(ke,We){$.processNext(ke,We)}}),H}return Kg(e,r),e.__ieDyn=1,e})(cx),I0="duration",Xc="tags",TD="deviceType",Eh="data",Pg="name",vS="traceID",Fi="length",_S="stringify",Y_="measurements",Yp="dataType",W_="envelopeType",k0="toString",iE="_get",p_="enqueue",m_="count",Aoe="eventsLimitInMem",hv="push",IP="item",GF="emitLineDelimitedJson",fw="clear",X8="createNew",kP="markAsSent",EE="clearSent",J8="bufferOverride",BD="BUFFER_KEY",xy="SENT_BUFFER_KEY",wb="concat",SC="MAX_BUFFER_SIZE",TC="triggerSend",Du="diagLog",ID="initialize",BC="_sender",$F="customHeaders",doe="maxBatchSizeInBytes",YF="onunloadDisableBeacon",WF="isBeaconApiDisabled",foe="alwaysUseXhrOverride",ZF="disableXhr",poe="enableSessionStorageBuffer",Cy="_buffer",moe="onunloadDisableFetch",goe="disableSendBeaconSplit",yoe="instrumentationKey",L3="enableSendPromise",TI="getSenderInst",R3="unloadTransports",voe="convertUndefined",_oe="maxBatchInterval",Ek="serialize",nb="_onError",kD="_onPartialSuccess",BI="_onSuccess",ND="itemsReceived",PD="itemsAccepted",OD="oriPayload",MD="baseType",NP="sampleRate",D3="eventsSendRequest",boe="getSamplingScore",KKe="getHashCodeScore",LD="baseType",Xo="baseData",gc="properties",U3="true";function Hs(r,e,t){return eo(r,e,t,KN)}function VKe(r,e,t){for(var n=t[Xc]=t[Xc]||{},i=e.ext=e.ext||{},a=e[Xc]=e[Xc]||[],o=i.user,o=(o&&(Hs(n,ro.userAuthUserId,o.authId),Hs(n,ro.userId,o.id||o.localId)),i.app),o=(o&&Hs(n,ro.sessionId,o.sesId),i.device),o=(o&&(Hs(n,ro.deviceId,o.id||o.localId),Hs(n,ro[TD],o.deviceClass),Hs(n,ro.deviceIp,o.ip),Hs(n,ro.deviceModel,o.model),Hs(n,ro[TD],o[TD])),e.ext.web),e=(o&&(Hs(n,ro.deviceLanguage,o.browserLang),Hs(n,ro.deviceBrowserVersion,o.browserVer),Hs(n,ro.deviceBrowser,o.browser),Hs(e=(e=(e=t[Eh]=t[Eh]||{})[Xo]=e[Xo]||{})[gc]=e[gc]||{},"domain",o.domain),Hs(e,"isManual",o.isManual?U3:null),Hs(e,"screenRes",o.screenRes),Hs(e,"userConsent",o.userConsent?U3:null)),i.os),o=(e&&(Hs(n,ro.deviceOS,e[Pg]),Hs(n,ro.deviceOSVersion,e.osVer)),i.trace),s=(o&&(Hs(n,ro.operationParentId,o.parentID),Hs(n,ro.operationName,bl(r,o[Pg])),Hs(n,ro.operationId,o[vS])),{}),c=a[Fi]-1;0<=c;c--)Qi(a[c],function(f,y){s[f]=y}),a.splice(c,1);Qi(a,function(A,f){s[A]=f}),e=Ih(Ih({},n),s),e[ro.internalSdkVersion]||(e[ro.internalSdkVersion]=bl(r,"javascript:".concat(GKe.Version),64)),t[Xc]=Xie(e)}function xv(r,e,t){vr(r)||Qi(r,function(n,i){lT(i)?t[n]=i:jn(i)?e[n]=i:AT()&&(e[n]=$f()[_S](i))})}function Z_(r,e){vr(r)||Qi(r,function(t,n){r[t]=n||e})}function X_(r,e,t,n){return n=new uKe(r,n,e),Hs(n,"sampleRate",t[Oae]),(t[Xo]||{}).startTime&&(n.time=Ow(t[Xo].startTime)),n.iKey=t.iKey,e=t.iKey.replace(/-/g,""),n[Pg]=n[Pg].replace("{0}",e),VKe(r,t,n),t[Xc]=t[Xc]||[],Xie(n)}function J_(r,e){vr(e[Xo])&&jr(r,1,46,"telemetryItem.baseData cannot be null.")}var GKe={Version:"3.3.0"};function $Ke(r,e,o){J_(r,e);var n,i=e[Xo][Y_]||{},a=e[Xo][gc]||{},o=(xv(e[Eh],a,i),vr(o)||Z_(a,o),e[Xo]);return vr(o)?(h_(r,"Invalid input for dependency data"),null):(n=o[gc]&&o[gc][f3]?o[gc][f3]:"GET",n=new f_(r,o.id,o.target,o[Pg],o[I0],o.success,o.responseCode,n,o.type,o.correlationContext,a,i),o=new $_(f_[Yp],n),X_(r,f_[W_],e,o))}function woe(r,e,i){J_(r,e);var a={},n={},i=(e[LD]!==qy[Yp]&&(a.baseTypeSource=e[LD]),e[LD]===qy[Yp]?(a=e[Xo][gc]||{},n=e[Xo][Y_]||{}):e[Xo]&&xv(e[Xo],a,n),xv(e[Eh],a,n),vr(i)||Z_(a,i),e[Xo][Pg]),i=new qy(r,i,a,n),a=new $_(qy[Yp],i);return X_(r,qy[W_],e,a)}function YKe(r,e,i){J_(r,e);var n=e[Xo][Y_]||{},a=e[Xo][gc]||{},i=(xv(e[Eh],a,n),vr(i)||Z_(a,i),e[Xo]),i=Qd.CreateFromInterface(r,i,a,n),a=new $_(Qd[Yp],i);return X_(r,Qd[W_],e,a)}function WKe(r,e,a){J_(r,e);var o=e[Xo],n=o[gc]||{},i=o[Y_]||{},a=(xv(e[Eh],n,i),vr(a)||Z_(n,a),new d_(r,o[Pg],o.average,o.sampleCount,o.min,o.max,o.stdDev,n,i)),o=new $_(d_[Yp],a);return X_(r,d_[W_],e,o)}function ZKe(r,e,f){J_(r,e);var n,A=e[Xo],A=(vr(A)||vr(A[gc])||vr(A[gc][I0])?vr(e[Eh])||vr(e[Eh][I0])||(n=e[Eh][I0],delete e[Eh][I0]):(n=A[gc][I0],delete A[gc][I0]),e[Xo]),i=(((e.ext||{}).trace||{})[vS]&&(i=e.ext.trace[vS]),A.id||i),a=A[Pg],o=A.uri,s=A[gc]||{},c=A[Y_]||{},A=(vr(A.refUri)||(s.refUri=A.refUri),vr(A.pageType)||(s.pageType=A.pageType),vr(A.isLoggedIn)||(s.isLoggedIn=A.isLoggedIn[k0]()),vr(A[gc])||Qi(A[gc],function(y,C){s[y]=C}),xv(e[Eh],s,c),vr(f)||Z_(s,f),new uv(r,a,o,n,s,c,i)),f=new $_(uv[Yp],A);return X_(r,uv[W_],e,f)}function XKe(r,e,s){J_(r,e);var n=e[Xo],c=n[Pg],i=n.uri||n.url,a=n[gc]||{},o=n[Y_]||{},s=(xv(e[Eh],a,o),vr(s)||Z_(a,s),new Aw(r,c,i,void 0,a,o,n)),c=new $_(Aw[Yp],s);return X_(r,Aw[W_],e,c)}function JKe(r,e,o){J_(r,e);var s=e[Xo].message,n=e[Xo].severityLevel,i=e[Xo][gc]||{},a=e[Xo][Y_]||{},o=(xv(e[Eh],i,a),vr(o)||Z_(i,o),new hw(r,s,n,i,a)),s=new $_(hw[Yp],o);return X_(r,hw[W_],e,s)}var Yo,Ny,xoe=(function(){function r(e,t){var n=[],i=!1,a=t.maxRetryCnt;this[iE]=function(){return n},this._set=function(o){return n=o},xo(r,this,function(o){o[p_]=function(s){o[m_]()>=t[Aoe]?i||(jr(e,2,105,"Maximum in-memory buffer size reached: "+o[m_](),!0),i=!0):(s.cnt=s.cnt||0,!vr(a)&&s.cnt>a||n[hv](s))},o[m_]=function(){return n[Fi]},o.size=function(){for(var s=n[Fi],c=0;c<n[Fi];c++)s+=n[c].item[Fi];return t[GF]||(s+=2),s},o[fw]=function(){i=!(n=[])},o.getItems=function(){return n.slice(0)},o.batchPayloads=function(s){var c;return s&&0<s[Fi]?(c=[],tn(s,function(A){c[hv](A[IP])}),t[GF]?c.join(`
`):"["+c.join(",")+"]"):null},o[X8]=function(s,c,A){var f=n.slice(0),y=new(A?Coe:eQ)(s=s||e,c=c||{});return tn(f,function(C){y[p_](C)}),y}})}return r.__ieDyn=1,r})(),eQ=(function(r){function e(t,n){return t=r.call(this,t,n)||this,xo(e,t,function(i,a){i[kP]=function(o){a[fw]()},i[EE]=function(o){}}),t}return Kg(e,r),e.__ieDyn=1,e})(xoe),eVe=["AI_buffer","AI_sentBuffer"],Coe=(function(r){function e(n,i){var a=r.call(this,n,i)||this,o=!1,s=i?.namePrefix,c=i[J8]||{getItem:MF,setItem:Hae},A=c.getItem,f=c.setItem,y=i.maxRetryCnt;return xo(e,a,function(C,x){var k=H(e[BD]),N=H(e[xy]),M=(function(){var V=[];try{return tn(eVe,function(he){var le=ce(he);V=V[wb](le),s&&(le=ce(s+"_"+he),V=V[wb](le))}),V}catch(he){jr(n,2,41,"Transfer events from previous buffers: "+ga(he)+". previous Buffer items can not be removed",{exception:en(he)})}return[]})(),N=N[wb](M),M=C._set(k[wb](N));function D(V,he){var le=[],fe=[];return tn(V,function(Ne){fe[hv](Ne[IP])}),tn(he,function(Ne){hi(Ne)||$u(fe,Ne[IP])!==-1||le[hv](Ne)}),le}function H(V){return q(s?s+"_"+V:V)}function q(V){try{var he=A(n,V);if(he){var le=$f().parse(he);if((le=jn(le)?$f().parse(le):le)&&ji(le))return le}}catch(fe){jr(n,1,42," storage key: "+V+", "+ga(fe),{exception:en(fe)})}return[]}function $(V,he){try{var V=s?s+"_"+V:V,le=JSON[_S](he);f(n,V,le)}catch(fe){f(n,V,JSON[_S]([])),jr(n,2,41," storage key: "+V+", "+ga(fe)+". Buffer cleared",{exception:en(fe)})}}function ce(V){try{var he=q(V),le=[];return tn(he,function(fe){le[hv]({item:fe,cnt:0})}),zae(n,V),le}catch{}return[]}M[Fi]>e[SC]&&(M[Fi]=e[SC]),$(e[xy],[]),$(e[BD],M),C[p_]=function(V){C[m_]()>=e[SC]?o||(jr(n,2,67,"Maximum buffer size reached: "+C[m_](),!0),o=!0):(V.cnt=V.cnt||0,!vr(y)&&V.cnt>y||(x[p_](V),$(e.BUFFER_KEY,C[iE]())))},C[fw]=function(){x[fw](),$(e.BUFFER_KEY,C[iE]()),$(e[xy],[]),o=!1},C[kP]=function(V){$(e[BD],C._set(D(V,C[iE]())));var he=H(e[xy]);he instanceof Array&&V instanceof Array&&((he=he[wb](V))[Fi]>e[SC]&&(jr(n,1,67,"Sent buffer reached its maximum size: "+he[Fi],!0),he[Fi]=e[SC]),$(e[xy],he))},C[EE]=function(V){V=D(V,H(e[xy])),$(e[xy],V)},C[X8]=function(V,he,le){le=!!le;var fe=C[iE]().slice(0),Ne=H(e[xy]).slice(0),W=(V=V||n,he=he||{},C[fw](),new(le?e:eQ)(V,he));return tn(fe,function(ue){W[p_](ue)}),le&&W[kP](Ne),W}}),a}var t;return Kg(e,r),(t=e).VERSION="_1",e.BUFFER_KEY="AI_buffer"+t.VERSION,e.SENT_BUFFER_KEY="AI_sentBuffer"+t.VERSION,e.MAX_BUFFER_SIZE=2e3,e})(xoe),tVe=(function(){function r(e){xo(r,this,function(t){function n(o,s){var c="__aiCircularRefCheck",A={};if(o)if(o[c])jr(e,2,50,"Circular reference detected while serializing object",{name:s},!0);else if(o.aiDataContract)o[c]=!0,Qi(o.aiDataContract,function(f,k){var C=hi(k)?1&k():1&k,x=hi(k)?4&k():4&k,k=2&k,N=o[f]!==void 0,M=yA(o[f])&&o[f]!==null;!C||N||k?x||(C=void 0)!==(C=M?(k?i:n)(o[f],f):o[f])&&(A[f]=C):jr(e,1,24,"Missing required field specification. The field is required but not present on source",{field:f,name:s})}),delete o[c];else if(s==="measurements")A=a(o,"number",s);else if(s==="properties")A=a(o,"string",s);else if(s==="tags")A=a(o,"string",s);else if(ji(o))A=i(o,s);else{jr(e,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{$f()[_S](o),A=o}catch(f){jr(e,1,48,f&&hi(f[k0])?f[k0]():"Error serializing object",null,!0)}}else jr(e,1,48,"cannot serialize object because it is null or undefined",{name:s},!0);return A}function i(o,s){if(o)if(ji(o))for(var c=[],A=0;A<o[Fi];A++){var f=n(o[A],s+"["+A+"]");c[hv](f)}else jr(e,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);return c}function a(o,s,c){var A;return o&&(A={},Qi(o,function(f,y){s==="string"?y===void 0?A[f]="undefined":y===null?A[f]="null":y[k0]?A[f]=y[k0]():A[f]="invalid field: toString() is not defined.":s==="number"?y===void 0?A[f]="undefined":y===null?A[f]="null":(y=parseFloat(y),A[f]=y):(A[f]="invalid field: "+c+" is of unknown type.",jr(e,1,A[f],null,!0))})),A}t[Ek]=function(o){o=n(o,"root");try{return $f()[_S](o)}catch(s){jr(e,1,48,s&&hi(s[k0])?s[k0]():"Error serializing object",null,!0)}}})}return r.__ieDyn=1,r})(),rVe=8,nVe=(function(){function r(){}return r.prototype.getHashCodeScore=function(e){return 100*(this.getHashCode(e)/r.INT_MAX_VALUE)},r.prototype.getHashCode=function(e){if(e==="")return 0;for(;e[Fi]<rVe;)e=e[wb](e);for(var t=5381,n=0;n<e[Fi];++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},r.INT_MAX_VALUE=2147483647,r})(),iVe=function(){var r=new nVe,e=new Gae;this[boe]=function(t){return t[Xc]&&t[Xc][e.userId]?r.getHashCodeScore(t[Xc][e.userId]):t.ext&&t.ext.user&&t.ext.user.id?r[KKe](t.ext.user.id):t[Xc]&&t[Xc][e.operationId]?r.getHashCodeScore(t[Xc][e.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace[vS]?r.getHashCodeScore(t.ext.telemetryTrace[vS]):100*Math.random()}},aVe=(function(){function r(e,t){this.INT_MAX_VALUE=2147483647,t=t||K_(null),(100<e||e<0)&&(t.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[NP]=e,this.samplingScoreGenerator=new iVe}return r.prototype.isSampledIn=function(e){var t=this[NP];return t==null||100<=t||e.baseType===d_[Yp]||this.samplingScoreGenerator[boe](e)<t},r})(),Km=void 0,F3="",oVe=65e3;function j3(r){try{return r.responseText}catch{}return null}function sVe(r){return r&&r.sendPOST}var Q3=ax(((Yo={endpointUrl:mP(KN,q8+lw)})[GF]=fl(),Yo[_oe]=15e3,Yo[doe]=102400,Yo.disableTelemetry=fl(),Yo[poe]=fl(!0),Yo.isRetryDisabled=fl(),Yo[WF]=fl(!0),Yo[goe]=fl(!0),Yo[ZF]=fl(),Yo[moe]=fl(),Yo[YF]=fl(),Yo[yoe]=Km,Yo.namePrefix=Km,Yo.samplingPercentage=mP(lVe,100),Yo[$F]=Km,Yo[voe]=Km,Yo[Aoe]=1e4,Yo[J8]=!1,Yo.httpXHROverride={isVal:sVe,v:Km},Yo[foe]=fl(),Yo.transports=Km,Yo.retryCodes=Km,Yo.maxRetryCnt={isVal:lT,v:10},Yo));function lVe(r){return!isNaN(r)&&0<r&&r<=100}(Ny={})[qy.dataType]=woe,Ny[hw.dataType]=JKe,Ny[uv.dataType]=ZKe,Ny[Aw.dataType]=XKe,Ny[Qd.dataType]=YKe,Ny[d_.dataType]=WKe,Ny[f_.dataType]=$Ke;var cVe=Ny,uVe=(function(r){function e(){var t,n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,he,le,fe,Ne,W,ue,de,me,Qe,Ee,_e,ke,We,Oe=r.call(this)||this,ze=(Oe.priority=1001,Oe.identifier=$ae,0);return xo(e,Oe,function(ne,ae){function ve(nt,rt){var Ht=j3(nt);!nt||Ht+""!="200"&&Ht!==""?(Ht=oD(Ht))&&Ht[ND]&&Ht[ND]>Ht[PD]&&!V?ne[kD](rt,Ht):ne[nb](rt,eae(nt)):(t=0,ne[BI](rt,0))}function Re(nt,rt,Ht){nt.readyState===4&&Ue(nt.status,rt,nt.responseURL,Ht,dP(nt),j3(nt)||nt.response)}function qe(nt){try{var rt;if(nt)return(rt=nt[OD])&&rt[Fi]?rt:null}catch{}return null}function Ze(nt,rt){return!(q||(nt?nt.baseData&&!nt[MD]?(rt&&jr(rt,1,70,"Cannot send telemetry without baseData and baseType"),1):(nt[MD]||(nt[MD]="EventData"),ne[BC]?ne._sample.isSampledIn(nt)?(nt[Oae]=ne._sample[NP],0):(rt&&jr(rt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:ne._sample[NP]}),1):(rt&&jr(rt,1,28,"Sender was not initialized"),1)):(rt&&jr(rt,1,7,"Cannot send empty telemetry"),1)))}function st(nt,rt){var Ht=nt.iKey||$,Tt=e.constructEnvelope(nt,Ht,rt,ce);if(Tt){var Jt=!1;if(nt[Xc]&&nt[Xc][cD]&&(tn(nt[Xc][cD],function(rr){try{rr&&rr(Tt)===!1&&(Jt=!0,h_(rt,"Telemetry processor check returns false"))}catch(St){jr(rt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ga(St),{exception:en(St)},!0)}}),delete nt[Xc][cD]),!Jt)return Tt}else jr(rt,1,47,"Unable to create an AppInsights envelope")}function ot(nt){var rt=F3,Ht=ne[Du]();try{var Tt=Ze(nt,Ht),Jt=null;(Jt=Tt?st(nt,Ht):Jt)&&(rt=o[Ek](Jt))}catch{}return rt}function yt(nt){var rt=F3;return rt=nt&&nt[Fi]?"["+nt.join(",")+"]":rt}function Pe(nt){var rt=J(),Ht={urlString:C};return Ht[Eh]=nt,Ht.headers=rt,Ht}function oe(St,rt,Ht,Tt){Tt===void 0&&(Tt=!0);function Jt(Vt,Nt,yr){var Gr;Gr=rt,yr=yr,Vt===200&&Gr?ne._onSuccess(Gr,Gr[Fi]):yr&&ne[nb](Gr,yr)}var rr=pe(rt),St=St&&St.sendPOST;return St&&rr?(Tt&&ne._buffer[kP](rt),St(rr,Jt,!Ht)):null}function pe(nt){var rt,Ht,Tt;return ji(nt)&&0<nt[Fi]?(Ht=ne[Cy].batchPayloads(nt),Tt=J(),(rt={})[Eh]=Ht,rt.urlString=C,rt.headers=Tt,rt.disableXhrSync=de,rt.disableFetchKeepAlive=!me,rt[OD]=nt,rt):null}function J(){try{var nt=c||{};return OF(C)&&(nt[ja[6]]=ja[7]),nt}catch{}return null}function re(nt){nt=nt?nt[Fi]:0,ne[Cy].size()+nt>k&&(f&&!f.isOnline()||ne[TC](!0,null,10))}function Ue(nt,rt,Ht,Tt,Jt,rr){var St=null;ne._appId||(St=oD(rr))&&St.appId&&(ne._appId=St.appId),(nt<200||300<=nt)&&nt!==0?(nt!==301&&nt!==307&&nt!==308||be(Ht))&&!V&&tr(nt)?(_t(rt),jr(ne[Du](),2,40,". Response code "+nt+". Will retry to send "+rt[Fi]+" items.")):ne[nb](rt,Jt):f&&!f.isOnline()?V||(_t(rt,10),jr(ne[Du](),2,40,". Offline - Response Code: ".concat(nt,". Offline status: ").concat(!f.isOnline(),". Will retry to send ").concat(rt.length," items."))):(be(Ht),nt===206?(St=St||oD(rr))&&!V?ne[kD](rt,St):ne[nb](rt,Jt):(t=0,ne[BI](rt,Tt)))}function be(nt){return!(10<=s||vr(nt)||nt===""||nt===C)&&(C=nt,++s,1)}function et(nt,rt){if(!A)return oe(ke&&ke[TI]([3],!0),nt,rt);A(nt,!1)}function Ke(nt){try{if(nt&&nt[Fi])return jn(nt[0])}catch{}}function mt(nt,rt){var Ht=null;if(ji(nt)){for(var Tt=nt[Fi],Jt=0;Jt<nt[Fi];Jt++)Tt+=nt[Jt].item[Fi];return ke.getSyncFetchPayload()+Tt<=oVe?Ht=2:eE()?Ht=3:(Ht=1,jr(ne[Du](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender.")),oe(ke&&ke[TI]([Ht],!0),nt,rt)}return null}function _t(nt,rt){if(rt===void 0&&(rt=1),nt&&nt[Fi]!==0){var Ht=ne[Cy];Ht[EE](nt),t++;for(var Tt,Jt=0,rr=nt;Jt<rr.length;Jt++){var St=rr[Jt];St.cnt=St.cnt||0,St.cnt++,Ht[p_](St)}nt=rt,nt=t<=1?10:(Tt=(Math.pow(2,t)-1)/2,Tt=Math.floor(Math.random()*Tt*10)+1,Tt*=nt,Math.max(Math.min(Tt,3600),10)),Tt=em()+1e3*nt,n=Tt,Kt()}}function Kt(){var nt;a||i||(nt=n?Math.max(0,n-em()):0,nt=Math.max(he,nt),a=tf(function(){a=null,ne[TC](!0,null,1)},nt))}function Gt(){a&&a.cancel(),n=a=null}function tr(nt){return vr(We)?nt===401||nt===408||nt===429||nt===500||nt===502||nt===503||nt===504:We[Fi]&&-1<We.indexOf(nt)}function ur(){ne[BC]=null,ne[Cy]=null,ne._appId=null,ne._sample=null,k=ze=s=t=0,Ne=ce=Km,_e=me=de=V=q=N=i=!(c={}),ke=Ee=Qe=le=$=H=x=C=y=A=o=a=n=f=null,ca(ne,"_senderConfig",{g:function(){return Jie({},Q3)}})}ur(),ne.pause=function(){Gt(),i=!0},ne.resume=function(){i&&(i=!1,n=null,re(),Kt())},ne.flush=function(nt,rt,Ht){if(nt===void 0&&(nt=!0),!i){Gt();try{return ne[TC](nt,null,Ht||1)}catch(Tt){jr(ne[Du](),1,22,"flush failed, telemetry will not be collected: "+ga(Tt),{exception:en(Tt)})}}},ne.onunloadFlush=function(){if(!i)if(N||ue)try{return ne[TC](!0,et,2)}catch(nt){jr(ne[Du](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+ga(nt),{exception:en(nt)})}else ne.flush(!1)},ne.addHeader=function(nt,rt){c[nt]=rt},ne[ID]=function(nt,rt,Ht,Tt){ne.isInitialized()&&jr(ne[Du](),1,28,"Sender is already initialized"),ae[ID](nt,rt,Ht,Tt);var Jt=ne.identifier,rr=(o=new tVe(rt.logger),t=0,n=null,ne[BC]=null,s=0,ne[Du]());y=Pv(rf("Sender"),rt.evtNamespace&&rt.evtNamespace()),f=vKe(y),ne._addHook(Zs(nt,function(St){St=St.cfg,St.storagePrefix&&W8(St.storagePrefix);var Vt=Yf(null,St,rt).getExtCfg(Jt,Q3),xn=(ca(ne,"_senderConfig",{g:function(){return Vt}}),rt.activeStatus()===Dy.PENDING?ne.pause():rt.activeStatus()===Dy.ACTIVE&&ne.resume(),x!==Vt.endpointUrl&&(C=x=Vt.endpointUrl),H&&H!==Vt[$F]&&tn(H,function(De){delete c[De.header]}),k=Vt[doe],N=(Vt[YF]===!1||Vt[WF]===!1)&&eE(),M=Vt[YF]===!1&&eE(),D=Vt[WF]===!1&&eE(),ue=Vt[foe],de=!!Vt[ZF],We=Vt.retryCodes,Vt[J8]),Xt=!!Vt[poe]&&(!!xn||gS()),Gr=Vt.namePrefix,yr=Xt!==le||Xt&&Ne!==Gr||Xt&&fe!==xn;if(ne[Cy]){if(yr)try{ne._buffer=ne._buffer[X8](rr,Vt,Xt)}catch(De){jr(ne[Du](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+ga(De),{exception:en(De)})}re()}else ne[Cy]=new(Xt?Coe:eQ)(rr,Vt);Ne=Gr,le=Xt,fe=xn,me=!Vt[moe]&&k8(!0),_e=!!Vt[goe],ne._sample=new aVe(Vt.samplingPercentage,rr),(function(De,ye){return ye=ye.disableInstrumentationKeyValidation,!vr(ye)&&ye?1:new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(De)})($=Vt[yoe],St)||jr(rr,1,100,"Invalid Instrumentation key "+$),H=Vt[$F],jn(C)&&!OF(C)&&H&&0<H[Fi]?tn(H,function(De){Oe.addHeader(De.header,De.value)}):H=null,W=Vt[L3];var Nt,yr=(function(){var De;try{var ye={xdrOnComplete:function(we,Se,Je){if(Je=qe(Je),Je)return ve(we,Je)},fetchOnComplete:function(we,Se,Je,ut){if(ut=qe(ut),ut)return Ue(we.status,ut,we.url,ut[Fi],we.statusText,Je||"")},xhrOnComplete:function(we,Se,Je){if(Je=qe(Je),Je)return Re(we,Je,Je[Fi])},beaconOnRetry:function(we,Se,Je){var ut=Se,xt=Je,dt=we&&we[OD];if(_e)Ee&&Ee(dt,!0),jr(ne[Du](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var tt=[],At=0;At<dt[Fi];At++){var zt=dt[At],qt=[zt],or=pe(qt);xt(or,ut)?ne._onSuccess(qt,qt[Fi]):tt[hv](zt)}0<tt[Fi]&&(Ee&&Ee(tt,!0),jr(ne[Du](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}};return(De={})[L3]=W,De.isOneDs=!1,De.disableCredentials=!1,De[ZF]=de,De.disableBeacon=!D,De.disableBeaconSync=!M,De.senderOnCompleteCallBack=ye,De}catch{}return null})(),Gr=(ke?ke.SetConfig(yr):(ke=new kqe)[ID](yr,rr),Vt.httpXHROverride),Xt=NG([3,1,2],Vt.transports),on=ke&&ke[TI](Xt,!1),$r=ke&&ke.getFallbackInst(),xn=(Qe=function(De,ye){return oe($r,De,ye)},Ee=function(De,ye){return oe($r,De,ye,!1)},on=ue?Gr:on||Gr||$r,ne[BC]=function(De,ye){return oe(on,De,ye)},me&&(A=mt),NG([3,1],Vt[R3]));me||(xn=xn.filter(function(De){return De!==2})),Nt=ke&&ke[TI](xn,!0),Nt=!ue&&Nt||Gr,A=(A=(ue||Vt[R3]||!A)&&Nt?function(De,ye){return oe(Nt,De,ye)}:A)||Qe,q=Vt.disableTelemetry,ce=Vt[voe]||Km,V=Vt.isRetryDisabled,he=Vt[_oe]}))},ne.processTelemetry=function(nt,rt){var Ht,Tt=(rt=ne._getTelCtx(rt))[Du]();try{if(!Ze(nt,Tt))return;var Jt=st(nt,Tt);if(!Jt)return;var rr=o[Ek](Jt),St=ne[Cy],Vt=(re(rr),(Ht={})[IP]=rr,Ht.cnt=0,Ht);St[p_](Vt),Kt()}catch(Nt){jr(Tt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+ga(Nt),{exception:en(Nt)})}ne.processNext(nt,rt)},ne.isCompletelyIdle=function(){return!i&&ze===0&&ne._buffer[m_]()===0},ne._xhrReadyStateChange=function(nt,rt,Ht){if(!Ke(rt))return Re(nt,rt,Ht)},ne[TC]=function(nt,rt,Ht){var Tt;if(nt===void 0&&(nt=!0),!i)try{var Jt=ne[Cy];if(q)Jt[fw]();else if(0<Jt[m_]()){var rr=Jt.getItems(),St=Ht||0,Vt=nt,Nt=(function(){var yr="getNotifyMgr";return ne.core[yr]?ne.core[yr]():ne.core._notificationManager})();if(Nt&&Nt[D3])try{Nt[D3](St,Vt)}catch(yr){jr(ne[Du](),1,74,"send request notification failed: "+ga(yr),{exception:en(yr)})}Tt=rt?rt.call(ne,rr,nt):ne[BC](rr,nt)}Gt()}catch(yr){Jt=iae(),(!Jt||9<Jt)&&jr(ne[Du](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+ga(yr),{exception:en(yr)})}return Tt},ne.getOfflineSupport=function(){var nt={getUrl:function(){return C},createPayload:Pe};return nt[Ek]=ot,nt.batch=yt,nt.shouldProcess=function(rt){return!!Ze(rt)},nt},ne._doTeardown=function(nt,rt){ne.onunloadFlush(),Lb(f,!1),ur()},ne[nb]=function(nt,rt,Ht){if(!Ke(nt))return nt=nt,rt=rt,jr(ne[Du](),2,26,"Failed to send telemetry.",{message:rt}),void(ne._buffer&&ne._buffer[EE](nt))},ne[kD]=function(nt,rt){if(!Ke(nt)){for(var Ht=nt,nt=rt,Tt=[],Jt=[],rt=nt.errors.reverse(),rr=0,St=rt;rr<St.length;rr++){var Vt=St[rr],Nt=Ht.splice(Vt.index,1)[0];(tr(Vt.statusCode)?Jt:Tt)[hv](Nt)}0<Ht[Fi]&&ne[BI](Ht,nt[PD]),0<Tt[Fi]&&ne[nb](Tt,dP(null,["partial success",nt[PD],"of",nt.itemsReceived].join(" "))),0<Jt[Fi]&&(_t(Jt),jr(ne[Du](),2,40,"Partial success. Delivered: "+Ht[Fi]+", Failed: "+Tt[Fi]+". Will retry to send "+Jt[Fi]+" our of "+nt[ND]+" items"))}},ne[BI]=function(nt,rt){Ke(nt)||(nt=nt,ne._buffer&&ne._buffer[EE](nt))},ne._xdrOnLoad=function(nt,rt){if(!Ke(rt))return ve(nt,rt)}}),Oe}return Kg(e,r),e.constructEnvelope=function(t,n,i,a){return t=n===t.iKey||vr(n)?t:Ih(Ih({},t),{iKey:n}),(cVe[t.baseType]||woe)(i,t,a)},e})(cx),H3="duration",g_="properties",Hf="requestUrl",aE="inst",Y0="length",eg="traceID",ev="spanID",qd="traceFlags",SE="context",pw="aborted",Sk="traceId",Tk="spanId",II="_addHook",Rf="core",RD="includeCorrelationHeaders",XF="getAbsoluteUrl",v0="headers",jd="requestHeaders",DD="setRequestHeader",z3="trackDependencyDataInternal",W0="startTime",ib="toLowerCase",JF="enableRequestHeaderTracking",Eoe="enableAjaxErrorStatusText",Soe="enableAjaxPerfTracking",Toe="maxAjaxCallsPerView",Boe="excludeRequestFromAutoTrackingPatterns",Ioe="addRequestContext",e6="disableAjaxTracking",koe="ajaxPerfLookupDelay",Noe="disableFetchTracking",Poe="enableResponseHeaderTracking",Uf="status",U0="statusText",Ub="headerMap",t6="openDone",r6="sendDone",Z0="requestSentTime",n6="abortDone",i6="getTraceId",a6="getTraceFlags",Vy="method",o6="errorStatusText",Ooe="stateChangeAttached",q3="responseText",oE="responseFinishedTime",s6="CreateTrackItem",Moe="response",K3="getAllResponseHeaders",l6="getPartAProps",PP="perfMark",xb="name",c6="perfTiming",TE="exception",V3="ajaxDiagnosticsMessage",u6="correlationContext",UD="ajaxTotalDuration",G3="eventTraceCtx";function Loe(a,i,t){var n=0,i=a[i],a=a[t];return n=i&&a?oA(i,a):n}function _0(r,e,o,n,i){var a=0,o=Loe(o,n,i);return a=o?Py(r,e,Ky(o)):a}function Py(r,e,t){var n=0;return r&&e&&t&&((r.ajaxPerf=r.ajaxPerf||{})[e]=t,n=1),n}function hVe(r,e){var t,n=r[c6],i=e[g_]||{},a=0,y="Start",o="domainLookup",s="connect",c="request",A="response",f=s+"End",y=c+y,C=A+"End",x="transferSize",k="encodedBodySize",N="decodedBodySize",M="serverTiming";n?(a=(a=(a=(a=(a=(a=(a|=_0(i,"End",n,"redirectStart","End"))|_0(i,o,n,"domainLookupStart","domainLookupEnd"))|_0(i,s,n,"connectStart",f))|_0(i,c,n,y,"requestEnd"))|_0(i,A,n,"responseStart",C))|_0(i,"networkConnect",n,"startTime",f))|_0(i,"sentRequest",n,y,C),o=(o=n[H3])||Loe(n,"startTime",C)||0,a=(a|=Py(i,H3,o))|Py(i,"perfTotal",o),(s=n[M])&&(t={},tn(s,function(D,q){var q=uP(D.name||""+q),$=t[q]||{};Qi(D,function(ce,V){!(ce!=="name"&&jn(V)||lT(V))||!(V=$[ce]?$[ce]+";"+V:V)&&jn(V)||($[ce]=V)}),t[q]=$}),a|=Py(i,M,t)),a=(a=(a|=Py(i,x,n[x]))|Py(i,k,n[k]))|Py(i,N,n[N])):r[PP]&&(a|=Py(i,"missing",r.perfAttempts)),a&&(e[g_]=i)}var Qs,AVe=function(){this[t6]=!1,this.setRequestHeaderDone=!1,this[r6]=!1,this[n6]=!1,this[Ooe]=!1},$3=(function(){function r(e,t,n,i){var a=this,o=n;a[PP]=null,a.completed=!1,a.requestHeadersSize=null,a[jd]=null,a.responseReceivingDuration=null,a.callbackDuration=null,a[UD]=null,a[pw]=0,a.pageUrl=null,a[Hf]=null,a.requestSize=0,a[Vy]=null,a[Uf]=null,a[Z0]=null,a.responseStartedTime=null,a[oE]=null,a.callbackFinishedTime=null,a.endTime=null,a.xhrMonitoringState=new AVe,a.clientFailure=0,a[eg]=e,a[ev]=t,a[qd]=i?.getTraceFlags(),a[G3]=i?((n={})[Sk]=i[i6](),n[Tk]=i.getSpanId(),n[qd]=i[a6](),n):null,xo(r,a,function(s){s.getAbsoluteUrl=function(){return s[Hf]?Wqe(s[Hf]):null},s.getPathName=function(){return s[Hf]?wM(o,Zqe(s[Vy],s[Hf])):null},s[s6]=function(c,A,f){var y;return s.ajaxTotalDuration=Math.round(1e3*oA(s.requestSentTime,s.responseFinishedTime))/1e3,s[UD]<0?null:((y={id:"|"+s[eg]+"."+s[ev],target:s[XF]()})[xb]=s.getPathName(),y.type=c,y[W0]=null,y.duration=s[UD],y.success=200<=+s[Uf]&&+s[Uf]<400,y.responseCode=+s[Uf],y[g_]={HttpMethod:s[Vy]},y=(c=y)[g_],s[pw]&&(y[pw]=!0),s[Z0]&&(c[W0]=new Date,c[W0].setTime(s[Z0])),hVe(s,c),A&&0<cg(s.requestHeaders)[Y0]&&(y[jd]=s[jd]),f&&(A=f())&&((f=A[u6])&&(c.correlationContext=f),A[Ub]&&0<cg(A.headerMap)[Y0]&&(y.responseHeaders=A[Ub]),s[o6])&&(400<=s[Uf]?((f=A.type)!==""&&f!=="text"||(y.responseText=A.responseText?A[U0]+" - "+A.responseText:A[U0]),f==="json"&&(y.responseText=A.response?A[U0]+" - "+JSON.stringify(A[Moe]):A[U0])):s[Uf]===0&&(y.responseText=A[U0]||"")),c)},s[l6]=function(){var c,A=null,f=s[G3];return f&&(f[Sk]||f[Tk])&&(c=(A={})[JA.TraceExt]=((c={})[eg]=f[Sk],c.parentID=f[Tk],c),vr(f[qd])||(c[qd]=f[qd])),A}})}return r.__ieDyn=1,r})(),BE="diagLog",Av="_ajaxData",F0="fetch",IC="Failed to monitor XMLHttpRequest",Roe=", monitoring data for this ajax call ",ab=Roe+"may be incorrect.",Y3=Roe+"won't be sent.",W3="Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",Z3="Failed to add custom defined request context as configured call back may missing a null check.",X3="Failed to calculate the duration of the ",dVe=0;function fVe(){var r=Yd();return!r||vr(r.Request)||vr(r.Request[Gp])||vr(r[F0])?null:r[F0]}function pVe(r,e){var t,n=!1,i=(yM()&&(n=!(vr(i=XMLHttpRequest[Gp])||vr(i.open)||vr(i.send)||vr(i.abort))),iae());if(n=i&&i<9?!1:n)try{var a=new XMLHttpRequest,o={xh:[],i:((t={})[e]={},t)},s=(a[Av]=o,XMLHttpRequest[Gp].open);XMLHttpRequest[Gp].open=s}catch(c){n=!1,IE(r,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",((i={})[TE]=en(c),i))}return n}var Cb=function(r,e){return r&&e&&r[Av]?(r[Av].i||{})[e]:null},mVe=function(r,e,t){r&&(r=(r[Av]||{}).xh)&&r.push({n:e,v:t})},FD=function(r,e){var t=!1;return r&&(r=(r[Av]||{}).xh)&&tn(r,function(n){if(n.n===e)return t=!0,-1}),t};function Bk(r,e){var t="";try{var n=Cb(r,e);n&&n[Hf]&&(t+="(url: '"+n[Hf]+"')")}catch{}return t}function IE(r,e,t,n,i){jr(r[BE](),1,e,t,n,i)}function jm(r,e,t,n,i){jr(r[BE](),2,e,t,n,i)}function kC(r,e,t){return function(n){var i;IE(r,e,t,((i={ajaxDiagnosticsMessage:Bk(n[aE],r._ajaxDataId)})[TE]=en(n.err),i))}}function ob(r,e){return r&&e?fA(r,e):-1}function J3(r,e,t){var n={id:e,fn:t};return r.push(n),{remove:function(){tn(r,function(i,a){if(i.id===n.id)return r.splice(a,1),-1})}}}function Doe(r,e,t,n){var i=!0;return tn(e,function(a,o){try{a.fn.call(null,t)===!1&&(i=!1)}catch(s){jr(r&&r.logger,1,64,"Dependency "+n+" [#"+o+"] failed: "+ga(s),{exception:en(s)},!0)}}),i}function gVe(r,e,t,n,i,a){var o;0<r[Y0]&&((o={})[Rf]=e,o.xhr=n,o.input=i,o.init=a,o.traceId=t[eg],o.spanId=t[ev],o.traceFlags=t[qd],o.context=t[SE]||{},o.aborted=!!t[pw],Doe(e,r,n=o,"listener"),t[eg]=n[Sk],t[ev]=n[Tk],t[qd]=n[qd],t[SE]=n[SE])}var kI="*.blob.core.",yVe=Tg([kI+"windows.net",kI+"chinacloudapi.cn",kI+"cloudapi.de",kI+"usgovcloudapi.net"]),vVe=[/https:\/\/[^\/]*(\.pipe\.aria|aria\.pipe|events\.data|collector\.azure)\.[^\/]+\/(OneCollector\/1|Collector\/3)\.0/i],_Ve=Tg(((Qs={})[Toe]=500,Qs[e6]=!1,Qs[Noe]=!1,Qs[Boe]=void 0,Qs.disableCorrelationHeaders=!1,Qs.distributedTracingMode=1,Qs.correlationHeaderExcludedDomains=yVe,Qs.correlationHeaderDomains=void 0,Qs.correlationHeaderExcludePatterns=void 0,Qs.appId=void 0,Qs.enableCorsCorrelation=!1,Qs[JF]=!1,Qs[Poe]=!1,Qs[Eoe]=!1,Qs[Soe]=!1,Qs.maxAjaxPerfLookupAttempts=3,Qs[koe]=25,Qs.ignoreHeaders=["Authorization","X-API-Key","WWW-Authenticate"],Qs[Ioe]=void 0,Qs.addIntEndpoints=!0,Qs)),bVe=(function(r){function e(){var t,n,i,a,o,s,c,A,f,y,C,x,k,N,M,D,H,q,$,ce,V,he,le,fe,Ne,W,ue,de,me,Qe,Ee=r.call(this)||this;return Ee.identifier=e.identifier,Ee.priority=120,xo(e,Ee,function(_e,ke){var We=ke[II];function Oe(){var Pe=jp();Qe=n=t=!1,i=Pe&&Pe.host&&Pe.host[ib](),N=x=y=f=s=o=!1,H=D=!(M={}),ce=$=q=C=A=a=null,he=k=c=0,le=[],fe=[],V=rf("ajaxData"),_e._ajaxDataId=V,de=ue=W=1,me=Ne=null}function ze(Pe){var oe=!0;return(Pe||Ne)&&tn(Ne,function(pe){if(pe[ib]()===Pe[ib]())return oe=!1,-1}),oe}function ne(Pe,oe,pe){We(qqe(Pe,oe,pe))}function ae(Pe,oe,pe){var J,re,Ue=!1,be=((jn(oe)?oe:(oe||{}).url||"")||"")[ib]();return tn(q,function(et){var Ke=et;jn(et)&&(Ke=new RegExp(et)),Ue=Ue||Ke.test(be)}),Ue||(J=ob(be,"?"),re=ob(be,"#"),(J=J===-1||re!==-1&&re<J?re:J)!==-1&&(be=be.substring(0,J)),vr(Pe)?vr(oe)||(Ue=typeof oe=="object"&&oe[bI]===!0||!!pe&&pe[bI]===!0):Ue=Pe[bI]===!0||be[bI]===!0,(Ue=!Ue&&be&&OF(be)?!0:Ue)?M[be]||(M[be]=1):M[be]&&(Ue=!0)),Ue}function ve(Pe,oe,pe){var J=!0,re=n;return vr(Pe)||(J=pe===!0||!vr(oe)),re&&J}function Re(){var Pe=null;return Pe=!(Pe=_e[Rf]&&_e[Rf].getTraceCtx?_e[Rf].getTraceCtx(!1):Pe)&&A&&A.telemetryTrace?G8(A.telemetryTrace):Pe}function qe(Pe,oe){var pe;oe[Hf]&&C&&x&&(pe=Bg())&&hi(pe.mark)&&(Pe=C+Pe+"#"+ ++dVe,pe.mark(Pe),pe=pe.getEntriesByName(Pe))&&pe[Y0]===1&&(oe[PP]=pe[0])}function Ze(Pe,oe,pe,J){var re=oe[PP],Ue=Bg(),be=W,et=ue,Ke=oe[Hf],mt=0;(function _t(){try{if(Ue&&re){mt++;for(var Kt=null,Gt=Ue.getEntries(),tr=Gt[Y0]-1;0<=tr;tr--){var ur=Gt[tr];if(ur){if(ur.entryType==="resource")ur.initiatorType!==Pe||ob(ur[xb],Ke)===-1&&ob(Ke,ur[xb])===-1||(Kt=ur);else if(ur.entryType==="mark"&&ur[xb]===re[xb]){oe[c6]=Kt;break}if(ur[W0]<re[W0]-1e3)break}}}!re||oe[c6]||be<=mt||oe.async===!1?(re&&hi(Ue.clearMarks)&&Ue.clearMarks(re[xb]),oe.perfAttempts=mt,pe()):tf(_t,et)}catch(nt){J(nt)}})()}function st(Pe){var oe="";try{vr(Pe)||(oe+="(url: '".concat(typeof Pe=="string"?Pe:Pe.url,"')"))}catch(pe){IE(_e,15,"Failed to grab failed fetch diagnostics message",{exception:en(pe)})}return oe}function ot(Pe,oe,pe,J,re,Ue){function be(et,Ke,mt){mt=mt||{},mt.fetchDiagnosticsMessage=st(pe),Ke&&(mt.exception=en(Ke)),jm(_e,et,X3+"fetch call"+Y3,mt)}re&&(re[oE]=xI(),re[Uf]=oe,Ze(F0,re,function(){var et,Ke=re[s6]("Fetch",o,Ue);try{$&&(et=$({status:oe,request:pe,response:J}))}catch{jm(_e,104,Z3)}Ke?(et!==void 0&&(Ke[g_]=Ih(Ih({},Ke.properties),et)),et=re[l6](),yt(fe,_e[Rf],re,Ke,null,et)):be(14,null,{requestSentTime:re[Z0],responseFinishedTime:re[oE]})},function(et){be(18,et,null)}))}function yt(Pe,oe,pe,J,re,Ue){var be,et=!0;0<Pe[Y0]&&((be={item:J})[g_]=re,be.sysProperties=Ue,be.context=pe?pe[SE]:null,be.aborted=!!pe&&!!pe[pw],et=Doe(oe,Pe,be,"initializer")),et&&_e[z3](J,re,Ue)}Oe(),_e.initialize=function(Pe,oe,pe,J){var re,Ue;!_e.isInitialized()&&(ke.initialize(Pe,oe,pe,J),ce=Pv(rf("ajax"),oe&&oe.evtNamespace&&oe.evtNamespace()),_e[II](Zs(Pe,function(be){be=Yf(null,be.cfg,_e[Rf]),a=be.getExtCfg(e.identifier,_Ve),de=a.distributedTracingMode,o=a[JF],s=a[Eoe],x=a[Soe],k=a[Toe],q=[].concat(a[Boe]||[],a.addIntEndpoints!==!1?vVe:[]),$=a[Ioe],y=de===0||de===1,f=de===1||de===2,x&&(C=V),D=!!a[e6],W=a.maxAjaxPerfLookupAttempts,ue=a[koe],Ne=a.ignoreHeaders,me=a.appId})),pVe(_e,V)&&_e[II](Zs(a,function(){D=!!a[e6],o=a[JF],D||n||(ne(XMLHttpRequest,"open",{ns:ce,req:function(be,et,Ke,mt){var _t,Kt,Gt,tr,ur,nt,rt;D||(be=be[aE],_t=Cb(be,V),!ae(be,Ke)&&ve(be,_t,!0)&&(_t&&_t.xhrMonitoringState[t6]||(tr=be,et=et,Ke=Ke,mt=mt,ur=Re(),nt=ur&&ur[i6]()||Xy(),rt=Hy(Xy(),0,16),tr=(tr=tr[Av]=tr[Av]||{xh:[],i:{}}).i=tr.i||{},(nt=tr[V]=tr[V]||new $3(nt,rt,_e[BE](),(tr=_e.core)==null?void 0:tr.getTraceCtx()))[qd]=ur&&ur[a6](),nt[Vy]=et,nt[Hf]=Ke,nt.xhrMonitoringState[t6]=!0,nt[jd]={},nt.async=mt,nt[o6]=s,_t=nt),Kt=be,(Gt=_t).xhrMonitoringState[Ooe]=Ag(Kt,"readystatechange",function(){var Ht,Tt,Jt;try{Kt&&Kt.readyState===4&&ve(Kt,Gt)&&((Jt=Cb(Tt=Kt,V))[oE]=xI(),Jt[Uf]=Tt[Uf],Ze("xmlhttprequest",Jt,function(){try{var Vt,Nt=Jt[s6]("Ajax",o,function(){($r={statusText:Tt[U0]})[Ub]=null,$r[u6]=(function(xn){try{var De=xn[K3]();if(De!==null&&ob(De[ib](),ja[8])!==-1)return b3(xn.getResponseHeader(ja[0]))}catch(ye){jm(_e,18,W3,((De={})[V3]=Bk(xn,V),De[TE]=en(ye),De))}})(Tt),$r.type=Tt.responseType,$r[q3]=(function(xn){try{var De=xn.responseType;if(De===""||De==="text")return xn[q3]}catch{}return null})(Tt),$r.response=Tt[Moe];var Xt,on,$r;return N&&(Xt=Tt[K3]())&&(Xt=vl(Xt).split(/[\r\n]+/),on={},tn(Xt,function(ye){var ye=ye.split(": "),De=ye.shift(),ye=ye.join(": ");ze(De)&&(on[De]=ye)}),$r[Ub]=on),$r}),yr=void 0;try{$&&(yr=$({status:Tt[Uf],xhr:Tt}))}catch{jm(_e,104,Z3)}Nt?(yr!==void 0&&(Nt[g_]=Ih(Ih({},Nt.properties),yr)),Vt=Jt[l6](),yt(fe,_e[Rf],Jt,Nt,null,Vt)):St(null,{requestSentTime:Jt[Z0],responseFinishedTime:Jt[oE]})}finally{try{var Gr=(Tt[Av]||{i:{}}).i||{};Gr[V]&&(Gr[V]=null)}catch{}}},function(Vt){St(Vt,null)}))}catch(Vt){var rr=en(Vt);rr&&ob(rr[ib](),"c00c023f")!==-1||IE(_e,16,IC+" 'readystatechange' event handler"+ab,((Ht={})[V3]=Bk(Kt,V),Ht[TE]=rr,Ht))}function St(Vt,Nt){Nt=Nt||{},Nt.ajaxDiagnosticsMessage=Bk(Tt,V),Vt&&(Nt.exception=en(Vt)),jm(_e,14,X3+"ajax call"+Y3,Nt)}},ce)))},hkErr:kC(_e,15,IC+".open"+ab)}),ne(XMLHttpRequest,"send",{ns:ce,req:function(be,et){var Ke;D||ve(be=be[aE],Ke=Cb(be,V))&&!Ke.xhrMonitoringState[r6]&&(qe("xhr",Ke),Ke[Z0]=xI(),_e[RD](Ke,void 0,void 0,be),Ke.xhrMonitoringState[r6]=!0)},hkErr:kC(_e,17,IC+ab)}),ne(XMLHttpRequest,"abort",{ns:ce,req:function(be){D||ve(be=be[aE],be=Cb(be,V))&&!be.xhrMonitoringState[n6]&&(be[pw]=1,be.xhrMonitoringState[n6]=!0)},hkErr:kC(_e,13,IC+".abort"+ab)}),ne(XMLHttpRequest,"setRequestHeader",{ns:ce,req:function(be,et,Ke){var mt;D||(be=be[aE],(mt=Cb(be,V))&&ve(be,mt)&&(mVe(be,et,Ke),o)&&ze(et)&&mt&&(mt[jd][et]=Ke))},hkErr:kC(_e,71,IC+".setRequestHeader"+ab)}),n=!0)})),(pe=fVe())&&(re=Yd(),Ue=pe.polyfill,_e[II](Zs(a,function(){H=!!a[Noe],N=a[Poe],H||t?Ue&&!Qe&&(We(PF(re,F0,{ns:ce,req:function(be,et,Ke){ae(null,et,Ke)}})),Qe=!0):(We(PF(re,F0,{ns:ce,req:function(be,et,Ke){var mt,_t;H||!t||ae(null,et,Ke)||Ue&&n||(mt=be.ctx(),_t=(function(Kt,Gt){var tr=Re(),ur=tr&&tr[i6]()||Xy(),nt=Hy(Xy(),0,16),nt=new $3(ur,nt,_e[BE](),(ur=_e.core)==null?void 0:ur.getTraceCtx());nt[qd]=tr&&tr[a6](),nt[Z0]=xI(),nt[o6]=s,ur=Kt instanceof Request?(Kt||{}).url||"":Kt,ur===""&&(tr=jp())&&tr.href&&(ur=Oie(tr.href,"#")[0]),nt[Hf]=ur,tr="GET",Gt&&Gt[Vy]?tr=Gt[Vy]:Kt&&Kt instanceof Request&&(tr=Kt[Vy]),nt[Vy]=tr;var rt={};return o&&new Headers((Gt?Gt[v0]:0)||Kt instanceof Request&&Kt[v0]||{}).forEach(function(Ht,Tt){ze(Tt)&&(rt[Tt]=Ht)}),nt[jd]=rt,qe(F0,nt),nt})(et,Ke),(et=_e[RD](_t,et,Ke))!==Ke&&be.set(1,et),mt.data=_t)},rsp:function(be,et){var Ke;H||(Ke=be.ctx().data)&&(be.rslt=be.rslt.then(function(mt){return ot(0,(mt||{})[Uf],et,mt,Ke,function(){(Kt={statusText:(mt||{})[U0]})[Ub]=null,Kt[u6]=(function(Gt){if(Gt&&Gt[v0])try{return b3(Gt[v0].get(ja[0]))}catch(tr){jm(_e,18,W3,((Gt={fetchDiagnosticsMessage:st(Gt)})[TE]=en(tr),Gt))}})(mt);var _t,Kt;return N&&mt&&(_t={},mt.headers.forEach(function(Gt,tr){ze(tr)&&(_t[tr]=Gt)}),Kt[Ub]=_t),Kt}),mt}).catch(function(mt){throw ot(0,0,et,null,Ke,null,mt.message||en(mt)),mt}))},hkErr:kC(_e,15,"Failed to monitor Window.fetch"+ab)},!0,Sie())),t=!0)})),Ue)&&(re[F0].polyfill=Ue),J=_e[Rf].getPlugin(EM))&&(A=J.plugin[SE])},_e._doTeardown=function(){Oe()},_e.trackDependencyData=function(Pe,oe){yt(fe,_e[Rf],null,Pe,oe)},_e[RD]=function(Pe,oe,pe,J){var re,Ue,be,et,Ke=_e._currentWindowHost||i;return gVe(le,_e[Rf],Pe,J,oe,pe),oe||oe===""?(_3(a,Pe[XF](),Ke)&&(pe=pe||{},oe=new Headers(pe[v0]||oe instanceof Request&&oe[v0]||{}),y&&(re="|"+Pe[eg]+"."+Pe[ev],oe.set(ja[3],re),o)&&(Pe[jd][ja[3]]=re),(Ue=me||A&&A.appId())&&(oe.set(ja[0],ja[2]+Ue),o)&&(Pe[jd][ja[0]]=ja[2]+Ue),f&&(vr(be=Pe[qd])&&(be=1),et=WG(YG(Pe[eg],Pe[ev],be)),oe.set(ja[4],et),o)&&(Pe[jd][ja[4]]=et),pe[v0]=oe),pe):J?(_3(a,Pe[XF](),Ke)&&(y&&(FD(J,ja[3])?jm(_e,71,"Unable to set ["+ja[3]+"] as it has already been set by another instance"):(re="|"+Pe[eg]+"."+Pe[ev],J[DD](ja[3],re),o&&(Pe[jd][ja[3]]=re))),(Ue=me||A&&A.appId())&&(FD(J,ja[0])?jm(_e,71,"Unable to set ["+ja[0]+"] as it has already been set by another instance"):(J[DD](ja[0],ja[2]+Ue),o&&(Pe[jd][ja[0]]=ja[2]+Ue))),f)&&(vr(be=Pe[qd])&&(be=1),FD(J,ja[4])?jm(_e,71,"Unable to set ["+ja[4]+"] as it has already been set by another instance"):(et=WG(YG(Pe[eg],Pe[ev],be)),J[DD](ja[4],et),o&&(Pe[jd][ja[4]]=et))),J):void 0},_e[z3]=function(Pe,oe,pe){k===-1||c<k?(de!==2&&de!==1||typeof Pe.id!="string"||Pe.id[Pe.id[Y0]-1]==="."||(Pe.id+="."),vr(Pe[W0])&&(Pe[W0]=new Date),Pe=ky(Pe,f_.dataType,f_.envelopeType,_e[BE](),oe,pe),_e[Rf].track(Pe)):c===k&&IE(_e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++c},_e.addDependencyListener=function(Pe){return J3(le,he++,Pe)},_e.addDependencyInitializer=function(Pe){return J3(fe,he++,Pe)}}),Ee}return Kg(e,r),e.prototype.processTelemetry=function(t,n){this.processNext(t,n)},e.prototype.addDependencyInitializer=function(t){return null},e.identifier="AjaxDependencyPlugin",e})(cx),wVe=function(){},xVe=function(){this.id="browser",this.deviceClass="Browser"},CVe="3.3.0",EVe=function(r,e){var t=this,n=Zs(r,function(){var i=r.sdkExtension;t.sdkVersion=(i?i+"_":"")+"javascript:"+CVe});e&&e.add(n)},SVe=function(){},OP="sessionManager",MP="update",Ik="isUserCookieSet",LP="isNewUser",jD="getTraceCtx",h6="telemetryTrace",Uoe="applySessionContext",Foe="applyApplicationContext",joe="applyDeviceContext",Qoe="applyOperationContext",Hoe="applyUserContext",zoe="applyOperatingSystemContxt",qoe="applyLocationContext",Koe="applyInternalContext",j0="accountId",kk="getSessionId",tQ="namePrefix",TVe="sessionCookiePostfix",Voe="userCookiePostfix",RP="idLength",rQ="getNewId",DP="length",Eb="automaticSession",Sb="authenticatedId",NC="acquisitionDate",NI="renewalDate",kE="join",PC="cookieSeparator",QD="authUserCookieName",BVe="ai_session",IVe=864e5,kVe=18e5,NVe=6e4,Goe=function(){},PVe=(function(){function r(e,t,n){var i,a,o,s,c=K_(t),A=R8(t);xo(r,this,function(f){var y=Zs(e=e||{},function(k){o=e.sessionExpirationMs||IVe,s=e.sessionRenewalMs||kVe;var N=e.sessionCookiePostfix||e[tQ]||"";i=BVe+N});function C(k,N){var M=!1,D=", session will be reset",H=N.split("|");if(2<=H[DP])try{var q=+H[1]||0,$=+H[2]||0;isNaN(q)||q<=0?jr(c,2,27,"AI session acquisition date is 0"+D):isNaN($)||$<=0?jr(c,2,27,"AI session renewal date is 0"+D):H[0]&&(k.id=H[0],k[NC]=q,k[NI]=$,M=!0)}catch(ce){jr(c,1,9,"Error parsing ai_session value ["+(N||"")+"]"+D+" - "+ga(ce),{exception:en(ce)})}return M}function x(D,N){var H=D[NC],M=(D[NI]=N,s),q=H+o-N,D=[D.id,H,N],H=0,H=q<M?q/1e3:M/1e3,q=e.cookieDomain||null;A.set(i,D[kE]("|"),0<o?H:null,q),a=N}n&&n.add(y),f[Eb]=new Goe,f[MP]=function(){var k,N,M=em(),D=!1,H=f[Eb];!(D=H.id?D:!(function(q){var $=!1,ce=A.get(i);return(ce&&hi(ce.split)||(ce=jae(c,i)))&&($=C(q,ce)),$||q.id})(H))&&0<o&&(k=M-H[NC],N=M-H[NI],D=(D=(D=k<0||N<0)||o<k)||s<N),D?(k=M,N=e[rQ]||N8,f.automaticSession.id=N(e[RP]||22),f[Eb][NC]=k,x(f[Eb],k),CM()||jr(c,2,0,"Browser does not support local storage. Session durations will be inaccurate.")):(!a||NVe<M-a)&&x(H,M)},f.backup=function(){var k,N,M=f[Eb];k=M.id,N=M[NC],M=M[NI],Qae(c,i,[k,N,M][kE]("|"))}})}return r.__ieDyn=1,r})(),OVe=function(r,e,t,n){this.traceID=r||Xy(),this.parentID=e,r=jp(),!t&&r&&r.pathname&&(t=r.pathname),this.name=bl(n,t)};function e$(r){return!(typeof r!="string"||!r||r.match(/,|;|=| |\|/))}var MVe=(function(){function r(e,t,n){this.isNewUser=!1,this.isUserCookieSet=!1;var i,a=K_(t),o=R8(t);xo(r,this,function(s){ca(s,"config",{g:function(){return e}});var c=Zs(e,function(){var C=e[Voe]||"",C=(i=r.userCookieName+C,o.get(i)),C=(C&&(s[LP]=!1,0<(C=C.split(r[PC]))[DP])&&(s.id=C[0],s[Ik]=!!s.id),s.id||(s.id=A(),y(f(s.id)[kE](r[PC])),C=(e[tQ]||"")+"ai_session",aKe(a,C)),s[j0]=e[j0]||void 0,o.get(r[QD]));C&&((C=(C=decodeURI(C)).split(r[PC]))[0]&&(s[Sb]=C[0]),1<C[DP])&&C[1]&&(s[j0]=C[1])});function A(){var C=e||{};return(C[rQ]||N8)(C[RP]?e[RP]:22)}function f(C){var x=Ow(new Date);return s.accountAcquisitionDate=x,s[LP]=!0,[C,x]}function y(C){s[Ik]=o.set(i,C,31536e3)}n&&n.add(c),s.setAuthenticatedUserContext=function(C,x,k){k===void 0&&(k=!1),!e$(C)||x&&!e$(x)?jr(a,2,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(s[Sb]=C,C=s[Sb],x&&(s[j0]=x,C=[s[Sb],s.accountId][kE](r[PC])),k&&o.set(r[QD],encodeURI(C)))},s.clearAuthenticatedUserContext=function(){s[Sb]=null,s[j0]=null,o.del(r[QD])},s[MP]=function(C){s.id===C&&s[Ik]||y(f(C||A())[kE](r[PC]))}})}return r.cookieSeparator="|",r.userCookieName="ai_user",r.authUserCookieName="ai_authUser",r})(),PI="ext",OI="tags";function sb(r,e){r&&r[e]&&cg(r[e])[DP]===0&&delete r[e]}function t$(){return null}var vh,HD,Qm,MI,OC,r$,LI,LVe=(function(){function r(e,t,n,i){var a=this,o=e.logger;xo(r,this,function(s){var c,A,f;s.appId=t$,s[kk]=t$,s.application=new wVe,s.internal=new EVe(t,i),pM()&&(s[OP]=new PVe(t,e,i),s.device=new xVe,s.location=new SVe,s.user=new MVe(t,e,i),A=c=void 0,n&&(c=n.getTraceId(),A=n.getSpanId(),f=n.getName()),s[h6]=new OVe(c,A,f,o),s.session=new Goe),s[kk]=function(){var y=s.session;return y&&jn(y.id)||(y=(s[OP]||{})[Eb])&&jn(y.id)?y.id:null},s[Uoe]=function(y,C){eo(_h(y.ext,JA.AppExt),"sesId",s[kk](),jn)},s[zoe]=function(y,C){eo(y.ext,JA.OSExt,s.os)},s[Foe]=function(y,C){var x=s.application;x&&(eo(y=_h(y,OI),ro.applicationVersion,x.ver,jn),eo(y,ro.applicationBuild,x.build,jn))},s[joe]=function(y,C){var x=s.device;x&&(eo(y=_h(_h(y,PI),JA.DeviceExt),"localId",x.id,jn),eo(y,"ip",x.ip,jn),eo(y,"model",x.model,jn),eo(y,"deviceClass",x.deviceClass,jn))},s[Koe]=function(y,C){var x,k=s.internal;k&&(eo(x=_h(y,OI),ro.internalAgentVersion,k.agentVersion,jn),eo(x,ro.internalSdkVersion,bl(o,k.sdkVersion,64),jn),y.baseType!==pS.dataType&&y.baseType!==uv.dataType||(eo(x,ro.internalSnippet,k.snippetVer,jn),eo(x,ro.internalSdkSrc,k.sdkSrc,jn)))},s[qoe]=function(y,C){var x=a.location;x&&eo(_h(y,OI,[]),ro.locationIp,x.ip,jn)},s[Qoe]=function(y,C){var x=s[h6];x&&(eo(y=_h(_h(y,PI),JA.TraceExt,{traceID:void 0,parentID:void 0}),"traceID",x.traceID,jn,vr),eo(y,"name",x.name,jn,vr),eo(y,"parentID",x.parentID,jn,vr))},s.applyWebContext=function(y,C){var x=a.web;x&&eo(_h(y,PI),JA.WebExt,x)},s[Hoe]=function(y,C){var x=s.user;x&&(eo(_h(y,OI,[]),ro.userAccountId,x[j0],jn),eo(y=_h(_h(y,PI),JA.UserExt),"id",x.id,jn),eo(y,"authId",x[Sb],jn))},s.cleanUp=function(y,C){y=y.ext,y&&(sb(y,JA.DeviceExt),sb(y,JA.UserExt),sb(y,JA.WebExt),sb(y,JA.OSExt),sb(y,JA.AppExt),sb(y,JA.TraceExt))}})}return r.__ieDyn=1,r})(),lb=null,RVe=ax(((vh={})[j0]=lb,vh.sessionRenewalMs=18e5,vh.samplingPercentage=100,vh.sessionExpirationMs=864e5,vh.cookieDomain=lb,vh.sdkExtension=lb,vh.isBrowserLinkTrackingEnabled=!1,vh.appId=lb,vh[kk]=lb,vh[tQ]=HD,vh[TVe]=HD,vh[Voe]=HD,vh[RP]=22,vh[rQ]=lb,vh)),DVe=(function(r){function e(){var t,n,i,a,o,s=r.call(this)||this;return s.priority=110,s.identifier=EM,xo(e,s,function(c,A){function f(){o=!(a=i=n=t=null)}f(),ca(c,"context",{g:function(){return a}}),c.initialize=function(y,C,x,k){var N,M,D;A.initialize(y,C,x,k),N=y,M=c.identifier,D=c.core,c._addHook(Zs(N,function(){var H=Yf(null,N,D);N.storagePrefix&&W8(N.storagePrefix),o=N.disableUserInitMessage!==!1,t=H.getExtCfg(M,RVe),c._extConfig=t})),i=D[jD](!1),a=new LVe(D,t,i,c._unloadHooks),n=G8(c.context[h6],i),D.setTraceCtx(n),c.context.appId=function(){var H=D.getPlugin($ae);return H?H.plugin._appId:null}},c.processTelemetry=function(y,C){var x,k,N,M;vr(y)||(C=c._getTelCtx(C),y.name===uv.envelopeType&&C.diagLog().resetInternalMessageCount(),(N=a||{}).session&&typeof a.session.id!="string"&&N[OP]&&N[OP][MP](),(x=N.user)&&!x[Ik]&&x[MP](N.user.id),N=C,_h(k=y,"tags",[]),_h(k,"ext",{}),(M=c.context)[Uoe](k,N),M[Foe](k,N),M[joe](k,N),M[Qoe](k,N),M[Hoe](k,N),M[zoe](k,N),M.applyWebContext(k,N),M[qoe](k,N),M[Koe](k,N),M.cleanUp(k,N),x&&x[LP]&&(x[LP]=!1,o||(M=new pS(72,(Am()||{}).userAgent||""),Y9e(C.diagLog(),1,M))),c.processNext(y,C))},c._doTeardown=function(y,C){y=(y||{}).core(),y&&y[jD]&&y[jD](!1)===n&&y.setTraceCtx(i),f()}}),s}return Kg(e,r),e.__ieDyn=1,e})(cx),UVe=DVe,$oe="AuthenticatedUserContext",ux="track",A6="snippet",FVe="getCookieMgr",jVe="startTrackPage",QVe="stopTrackPage",zD="flush",HVe="startTrackEvent",zVe="stopTrackEvent",qVe="addTelemetryInitializer",n$="pollInternalLogs",qD="getPlugin",KD="evtNamespace",KVe=ux+"Event",VVe=ux+"Trace",GVe=ux+"Metric",$Ve=ux+"PageView",YVe=ux+"Exception",WVe=ux+"DependencyData",ZVe="set"+$oe,XVe="clear"+$oe,JVe="https://js.monitor.azure.com/scripts/b/ai.config.1.cfg.json",VD="version",b0="queue",Nk="connectionString",sE="instrumentationKey",i$="instrumentationkey",Pk="userOverrideEndpointUrl",Ok="endpointUrl",a$="ingestionendpoint",MC="onunloadFlush",Rd="context",o$="addHousekeepingBeforeUnload",GD="sendMessage",eGe="updateSnippetDefinitions",s$=[A6,"dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Yoe="iKeyUsage",Woe="CdnUsage",Zoe="SdkLoaderVer",RI=void 0,tGe={samplingRate:100,maxSendNumber:1},rGe={monthInterval:3,daysOfMonth:[28]},DI={disabled:!0,limit:Op(tGe),interval:Op(rGe)},nGe=((Qm={})[Nk]=RI,Qm[Ok]=RI,Qm[sE]=RI,Qm[Pk]=RI,Qm.diagnosticLogInterval=mP(iGe,1e4),Qm.featureOptIn=((MI={})[Yoe]={mode:3},MI[Woe]={mode:2},MI[Zoe]={mode:2},MI),Qm.throttleMgrCfg=Op(((OC={})[109]=Op(DI),OC[106]=Op(DI),OC[111]=Op(DI),OC[110]=Op(DI),OC)),Qm.extensionConfig=Op(((r$={}).AppInsightsCfgSyncPlugin=Op({cfgUrl:JVe,syncMode:2}),r$)),Qm);function iGe(r){return r&&0<r}var aGe=(function(){function r(e){var t,n,i,a,o,s,c,A,f,y,C,x,k,N,M=this;xo(r,this,function(D){q(),ca(D,"config",{g:function(){return A}}),tn(["pluginVersionStringArr","pluginVersionString"],function(V){ca(D,V,{g:function(){return c?c[V]:null}})}),a=""+(e.sv||e[VD]||""),e[b0]=e[b0]||[],e[VD]=e[VD]||2;var H=nf(e.config||{},nGe);function q(){o=rf("AISKU"),C=a=i=n=t=s=null,N=k=x=!1,y=new qKe}function $(){s&&(Qqe(null,s),Hqe(null,s))}function ce(V){c.addUnloadHook(V)}A=H.cfg,f=new RKe,ca(D,"appInsights",{g:function(){return f}}),n=new UVe,t=new bVe,i=new uVe,c=new Bqe,ca(D,"core",{g:function(){return c}}),ce(Zs(H,function(){var V,he,le=A[Nk];function fe(){return wE(function(Ne,W){kg(le,function(ue){var de=ue&&ue.value,me=null;!ue.rejected&&de&&(me=w3(A[Nk]=de)),Ne(me)})})}Iw(le)&&(V=wE(function(Ne,W){fe().then(function(ue){var de=A[sE],de=ue&&ue[i$]||de;Ne(de)}).catch(function(ue){Ne(null)})}),vr(he=A[Pk])&&(he=wE(function(Ne,W){fe().then(function(me){var de=A[Ok],me=me&&me[a$];Ne(me?me+lw:de)}).catch(function(ue){Ne(null)})})),A[sE]=V,A[Ok]=he),jn(le)&&(he=(V=w3(le))[a$],A.endpointUrl=A[Pk]||he+lw,A[sE]=V[i$]||A[sE]),A.endpointUrl=A[Pk]||A[Ok]})),D[A6]=e,D[zD]=function(V,he){var le;return _P(c,function(){return"AISKU.flush"},function(){V&&!he&&(le=Ng(function(W){he=W}));function fe(){--Ne===0&&he()}var Ne=1;tn(c.getChannels(),function(W){W&&(Ne++,W[zD](V,fe))}),fe()},null,V=V===void 0?!0:V),le},D[MC]=function(V){V===void 0&&(V=!0),tn(c.getChannels(),function(he){he[MC]?he[MC]():he[zD](V)})},D.loadAppInsights=function(V,he,le){return(V=V===void 0?!1:V)&&a7e("Legacy Mode is no longer supported"),_P(D.core,function(){return"AISKU.loadAppInsights"},function(){c.initialize(A,[i,n,t,f,y],he,le),ca(D,"context",{g:function(){return n[Rd]}}),C=C||new sKe(c);var fe,Ne=oGe();Ne&&D[Rd]&&(D[Rd].internal.sdkSrc=Ne),(fe=D[A6])&&(Ne="",vr(a)||(Ne+=a),D[Rd]&&D[Rd].internal&&(D[Rd].internal.snippetVer=Ne||"-"),Qi(D,function(W,ue){jn(W)&&!hi(ue)&&W&&W[0]!=="_"&&$u(s$,W)===-1&&fe[W]!==ue&&(fe[W]=ue)})),D.emptyQueue(),D[n$](),D[o$](D),ce(Zs(H,function(){var W=!1;A.throttleMgrCfg[109]&&(W=!A.throttleMgrCfg[109].disabled),!C.isReady()&&A.extensionConfig&&A.extensionConfig[y.identifier]&&W&&C.onReadyState(!0),x||A[Nk]||!VR(Yoe,A)||(C[GD](106,"See Instrumentation key support at aka.ms/IkeyMigrate"),x=!0),!k&&D[Rd].internal.sdkSrc&&D[Rd].internal.sdkSrc.indexOf("az416426")!=-1&&VR(Woe,A)&&(C[GD](110,"See Cdn support notice at aka.ms/JsActiveCdn"),k=!0),!N&&parseInt(a)<6&&VR(Zoe,A)&&(C[GD](111,"An updated Sdk Loader is available, see aka.ms/SnippetVer"),N=!0)}))}),D},D[eGe]=function(V){Z7e(V,D,function(he){return he&&$u(s$,he)===-1})},D.emptyQueue=function(){try{if(ji(D.snippet[b0])){for(var V=D.snippet[b0].length,he=0;he<V;he++)(0,D.snippet[b0][he])();D.snippet[b0]=void 0,delete D.snippet[b0]}}catch(le){le&&hi(le.toString)&&le.toString()}},D[o$]=function(V){var he,le;(pM()||Cie())&&(le=!(he=function(){var fe;V[MC](!1),hi(D.core[qD])&&(fe=M.core[qD](EM))&&(fe=fe.plugin)&&fe[Rd]&&fe[Rd]._sessionManager&&fe[Rd]._sessionManager.backup()}),s=s||Pv(o,c[KD]&&c[KD]()),ce(Zs(A,function(W){var W=W.cfg,Ne=V.appInsights,Ne=Yf(null,W,Ne.core).getExtCfg(Ne.identifier||Yae),W=($(),W.disablePageUnloadEvents);Ne.disableFlushOnBeforeUnload||(jqe(he,W,s)&&(le=!0),le=!!NF(he,W,s)||le)||m9e()||jr(c.logger,1,19,"Could not add handler for beforeunload and pagehide"),le||Ne.disableFlushOnUnload||NF(he,W,s)})))},D.getSender=function(){return i},D.unload=function(V,he,le){var fe,Ne=!1;return V&&!he&&(fe=Ng(function(W){he=W})),D[MC](V),$(),c.unload&&c.unload(V,function(W){Ne||(Ne=!0,q(),he&&he(W))},le),fe},JC(D,f,[FVe,KVe,$Ve,"trackPageViewPerformance",YVe,"_onerror",VVe,GVe,jVe,QVe,HVe,zVe]),JC(D,function(){return t},[WVe,"addDependencyListener","addDependencyInitializer"]),JC(D,c,[qVe,n$,"stopPollingInternalLogs",qD,"addPlugin",KD,"addUnloadCb","getTraceCtx","updateCfg","onCfgChange"]),JC(D,function(){var V=n[Rd];return V?V.user:null},[ZVe,XVe])})}return r.prototype.addDependencyInitializer=function(e){return null},r})();function oGe(){if(!LI){var r=null;try{var e=(document||{}).currentScript;e&&(r=e.src)}catch{}if(r){try{var t,n=r.toLowerCase();n&&(t="",tn(["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"],function(i,a){if(fA(n,i)!==-1)return t="cdn"+(a+1),fA(n,"/scripts/")===-1&&(fA(n,"/next/")!==-1?t+="-next":fA(n,"/beta/")!==-1&&(t+="-beta")),LI=t+"",-1}))}catch{}LI=r}}return LI}var cb,sGe=(function(){function r(e){this.options=e,!this.options.disableTelemetry&&Gf.appInsightsKey&&(this.appInsights=new aGe({config:{instrumentationKey:Gf.appInsightsKey,disableExceptionTracking:!0,disableAjaxTracking:!0,isCookieUseDisabled:!0,maxBatchInterval:5e3}}),this.appInsights.loadAppInsights(),this.appInsights.addTelemetryInitializer(function(t){t.tags[ro.applicationVersion]=JO.getFullVersion()}))}return r.prototype.trackEvent=function(e,t){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.trackEvent(e,t)},r.prototype.setAuthenticatedUserContext=function(e,t){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.setAuthenticatedUserContext(e,t)},r.prototype.trackException=function(e){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.trackException(e)},r.prototype.flush=function(e){!this.options.disableTelemetry&&this.appInsights&&this.appInsights.flush(e)},r})(),lGe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),l$=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.copyrightMessage=void 0,t.copyrightContent=void 0,t.customAttribution=void 0,t.showFeedbackLink=!0,t.showLogo=!0,t}return lGe(e,r),e})(ao),cGe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),uGe=(function(r){function e(t){var n=r.call(this)||this;return n.textAttribution=function(i){return[n.options.copyrightMessage,n.options.customAttribution].filter(function(a){return a}).join("")},n.updateFeedbackLink=function(){var i,a;n.feedbackAnchor&&n.map&&(i=(a=n.map.getCamera()).center,a=a.zoom,n.feedbackAnchor.href="".concat(e.feedbackLink,"&cp=").concat(i[1],"~").concat(i[0],"&lvl=").concat(a+1))},n.options=new l$().merge(t),n}return cGe(e,r),e.prototype.onAdd=function(t){return this.map=t,this.container=this.buildContainer(t,vc.auto),this.container.className="map-copyright without-bg",this.copyrightDiv=this.buildCopyrightDiv(),this.copyrightDiv.className="azure-map-copyright",this.container.appendChild(this.copyrightDiv),this.options.showFeedbackLink&&this.addRemoveFeedbackDiv(!0),this.container},e.prototype.onRemove=function(){r.prototype.onRemove.call(this),delete this.container},e.prototype.setOptions=function(a){var n,i=this,a=new l$().merge(this.options,a);a.copyrightMessage===this.options.copyrightMessage&&a.customAttribution===this.options.customAttribution||(this.copyrightDiv.innerText=this.textAttribution(a)),a.copyrightContent!==this.options.copyrightContent&&(this.options.copyrightContent&&(n=Array.from(this.copyrightDiv.children).find(function(o){return o===i.options.copyrightContent}),this.copyrightDiv.removeChild(n)),0<this.copyrightDiv.childNodes.length?this.copyrightDiv.insertBefore(a.copyrightContent,this.copyrightDiv.childNodes[0]):this.copyrightDiv.appendChild(a.copyrightContent),this.options.copyrightContent=a.copyrightContent),!a.showFeedbackLink&&this.feedbackAnchor?this.addRemoveFeedbackDiv(!1):a.showFeedbackLink&&!this.feedbackAnchor&&this.addRemoveFeedbackDiv(!0),this.options=a},e.prototype.getDefaultAttributions=function(){var t=new Date().getFullYear(),n=["".concat(t," TomTom")];return this.options.showLogo||n.push("".concat(t," Microsoft")),n},e.prototype.buildCopyrightDiv=function(){var t=document.createElement("div");return t.innerText=this.textAttribution(this.options)||"",t},e.prototype.buildFeedbackLink=function(){var t=document.createElement("a");return t.setAttribute("alt","Provide Map Data Feedback"),t.setAttribute("aria-label","Provide Map Data Feedback"),t.innerText="Feedback",t.href=e.feedbackLink,t.target="_blank",t.rel="noopener",t.className="azure-map-feedback-text",t},e.prototype.addRemoveFeedbackDiv=function(t){t?(this.feedbackAnchor=this.buildFeedbackLink(),this.feedbackTooltip=_c("Provide Map Data Feedback"),this.container.appendChild(this.feedbackAnchor),this.container.appendChild(this.feedbackTooltip),Mo(this.feedbackTooltip,this.feedbackAnchor),(t=(t=this.map)==null?void 0:t.events)!=null&&t.add("moveend",this.updateFeedbackLink)):(this.feedbackAnchor.remove(),this.feedbackTooltip.remove(),delete this.feedbackTooltip,delete this.feedbackAnchor,(t=(t=this.map)==null?void 0:t.events)!=null&&t.remove("moveend",this.updateFeedbackLink))},e.feedbackLink="https://aka.ms/azuremaps-feedback?feedbackep=UrlAzureMapsWebSdk",e})(fd),hGe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),c$=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showLogo=!0,t}return hGe(e,r),e})(ao),AGe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),dGe=(function(r){function e(t){var n=r.call(this)||this;return n.map=null,n._onResize=function(){var i=((i=(i=n.map)==null?void 0:i.getMapContainer())==null?void 0:i.clientWidth)||0;n._setVisiblity(n.options.showLogo&&e.CONTAINER_MIN_WIDTH<=i)},n.options=new c$().merge(t),n}return AGe(e,r),e.prototype.onAdd=function(t){return this.map=t,this.container=this.buildContainer(t,vc.auto),this.container.className="map-logo-control",(t=this.map)!=null&&t.events.add("resize",this._onResize),this._addRemoveLogo(this.options.showLogo),this.container},e.prototype.onRemove=function(){var t;r.prototype.onRemove.call(this),(t=this.map)!=null&&t.events.remove("resize",this._onResize),this.map=null,delete this.container},e.prototype.setOptions=function(t){t=new c$().merge(this.options,t),!t.showLogo&&this.logoAnchor?this._addRemoveLogo(!1):t.showLogo&&!this.logoAnchor&&this._addRemoveLogo(!0),this.options=t},e.prototype._addRemoveLogo=function(t){t?(this.logoAnchor=document.createElement("a"),this.logoAnchor.className="azure-map-logo",this.logoAnchor.href="https://aka.ms/azuremaps",this.logoAnchor.setAttribute("aria-label","Visit azure.microsoft.com"),this.logoAnchor.setAttribute("target","_blank"),this.container.appendChild(this.logoAnchor),this.logoTooltip=_c("Visit azure.microsoft.com"),this.container.appendChild(this.logoTooltip),Mo(this.logoTooltip,this.logoAnchor),this._setVisiblity(!0)):((t=this.logoAnchor)!=null&&t.remove(),(t=this.logoTooltip)!=null&&t.remove(),delete this.logoAnchor,this._setVisiblity(!1))},e.prototype._setVisiblity=function(t){this.container&&(this.container.style.display=t?"flex":"none")},e.CONTAINER_MIN_WIDTH=480,e})(fd),fGe=(function(){function r(){}return r.throwOnError=function(a,t){function n(o){throw i.off("error",n),o.error}var i=a instanceof cQ?a._getMap():a,a=(i.on("error",n),t());return i.off("error",n),a},r.tryCatch=function(e,t,n,i){try{return this.throwOnError(e,t)}catch(a){return n(a)}finally{typeof i=="function"&&i()}},r.tryFinally=function(e,t,n){try{return this.throwOnError(e,t)}finally{n()}},r})(),Xoe=window&&window.__assign||function(){return(Xoe=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},pGe=(function(){function r(e){this.map=e}return r.prototype.request=function(n){var t,n={domain:this.map.getServiceOptions().domain,path:"reverseGeocode",queryParams:Xoe({"api-version":"2023-06-01",coordinates:"".concat(bs(n.position[0]),",").concat(dl(n.position[1]))},n.style.view&&{view:n.style.view}),headers:{"Accept-Language":n.style.language}};return new Kp(((t=this.map.authentication)==null?void 0:t.signRequest(n))||n).get()},r})(),mGe=(function(){function r(){this._labelCache={},this._labelIdx={},this._preloadedCache=new Set}return r.prototype.cache=function(e,t,n,i){i="".concat(e,"_").concat(n[0],"_").concat(n[1],"_").concat(i),this._labelIdx[t.labelType]||(this._labelIdx[t.labelType]=[],this._labelCache[t.labelType]=[]),this._labelIdx[t.labelType].indexOf(i)===-1&&(this._labelCache[t.labelType].push({name:e,radius:t.radius,minZoom:t.minZoom,maxZoom:t.maxZoom||24,position:n}),this._labelIdx[t.labelType].push(i))},r.prototype.getNearestLabel=function(e,t,n){var i=null,a=this._labelCache[e];if(a)for(var o,s=1/0,c=0,A=a.length;c<A;c++)n>=a[c].minZoom&&n<=a[c].maxZoom&&(o=gA(a[c].position,t))<=a[c].radius&&o<=s&&(s=o,i=a[c]);return i},r.prototype._preloadCache=function(e){if(!this._preloadedCache.has(e)){this._preloadedCache.add(e);var t={source:[],labelType:"water",minZoom:0,radius:395e4,polygonSources:[]},n=e,i=n.indexOf("-");switch(n=i!==-1?n.substr(0,i):n){case"fr":this.cache("Ocan Pacifique",t,[-170,32],e),this.cache("Ocan Pacifique",t,[-138,-27],e),this.cache("Ocan Atlantique",t,[-40,32],e),this.cache("Ocan Atlantique",t,[-17,-29],e);break;case"es":this.cache("Ocan Pacifique",t,[-170,32],e),this.cache("Ocan Pacifique",t,[-138,-27],e),this.cache("Ocano Atlntico",t,[-40,32],e),this.cache("Ocano Atlntico",t,[-17,-29],e);break;case"pt":this.cache("Oceano Pacfico",t,[-170,32],e),this.cache("Oceano Pacfico",t,[-138,-27],e),this.cache("Oceano Atlntico",t,[-40,32],e),this.cache("Oceano Atlntico",t,[-17,-29],e);break;case"ja":this.cache("",t,[-170,32],e),this.cache("",t,[-138,-27],e);break;case"en":this.cache("Pacific Ocean",t,[-170,32],e),this.cache("Pacific Ocean",t,[-138,-27],e),this.cache("Atlantic Ocean",t,[-40,32],e),this.cache("Atlantic Ocean",t,[-17,-29],e),this.cache("Indian Ocean",t,[77,-26],e)}}},r})(),LC=window&&window.__awaiter||function(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,e||[])).next())})},RC=window&&window.__generator||function(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a=o&&f[o=0]?0:a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},u$=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},gGe=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},yGe=(function(){function r(e,t){var n=this;this._disposed=!1,this._lastHeadingTime=0,this._actionQueue=[],this._pointerUpdateDelay=3e3,this._camUpdateDelay=1e3,this._headUpdateLimit=1e3,this._controlEventDelay=500,this._moveThreshold=25,this._headingThreshold=5,this._pitchThreshold=5,this._roadPixelRadius=120,this._minRoadDistance=25,this._minIntersectionPixelDistance=50,this._labelConfig=[{source:["Ocean label","Ocean name"],labelType:"water",minZoom:0,radius:395e4,polygonSources:["Ocean","Ocean or sea"]},{source:["Sea label"],labelType:"water",minZoom:3,radius:1e6,polygonSources:["Sea","Ocean or sea"]},{source:["Country name"],labelType:"country",minZoom:0,maxZoom:5,radius:3e5},{source:["State name","State name short"],labelType:"state",minZoom:4,maxZoom:7,radius:3e5},{source:["Capital city","Large city"],labelType:"city",minZoom:8,radius:4e4},{source:["Medium city"],labelType:"city",minZoom:8,radius:3e4},{source:["Small city"],labelType:"city",minZoom:8,radius:2e4},{source:["Island label"],labelType:"city",minZoom:8,radius:1e4},{source:["Town"],labelType:"city",minZoom:10,radius:1e4},{source:["Village"],labelType:"neighbourhood",minZoom:12,radius:6e3},{source:["Amusement area label"],labelType:"poi",minZoom:14,radius:2e3,polygonSources:["Amusement park"]},{source:["Hospital label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Hospital"]},{source:["Shopping centre label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Shopping"]},{source:["Stadium label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Stadium"]},{source:["University/School label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["University"]},{source:["Zoo label"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["Zoo"]},{source:["Airport Label","Airport name","Airport POI"],labelType:"majorPoi",minZoom:11,radius:3e3,polygonSources:["Airport","Runway"]},{source:["National park label"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["National or state park","National park","Forest"]},{source:["Reservation label"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["Reservation"]}],this._labelCache=new Set(["city","state","country","water","majorPoi"]),this._roadLayers=new Set(["Connecting road","Connecting road tunnel","International road","International road tunnel","Local road","Local road tunnel","Major local road","Major local road tunnel","Major road","Major road tunnel","Minor local road","Minor local road tunnel","Motorway","Motorway tunnel","Secondary road","Secondary road tunnel","Toll connecting road","Toll connecting road tunnel","Toll international road","Toll international road tunnel","Toll local road","Toll local road tunnel","Toll major local road","Toll major local road tunnel","Toll major road","Toll major road tunnel","Toll minor local road","Toll minor local road tunnel","Toll motorway","Toll motorway tunnel","Toll secondary road","Toll secondary road tunnel"]),this._returnDetailedDescriptions=!1,this._shortcutListener=function(i){return LC(n,void 0,void 0,function(){var a,o,s;return RC(this,function(c){switch(c.label){case 0:return i.altKey&&i.ctrlKey&&i.keyCode===68?(this._returnDetailedDescriptions=!this._returnDetailedDescriptions,s=this._map.getCamera(),o=this._map.getStyle(),a=o.language.toLowerCase(),o=o.style.toLowerCase(),[4,this._getLocDesc(s,a,o)]):[3,2];case 1:s=c.sent(),this._descCallback(s),c.label=2;case 2:return[2]}})})},this._onRotate=function(){n._rotateTimeout||(Date.now()-n._lastHeadingTime>=n._headUpdateLimit?n._rotateTimeout=setTimeout(n._updateHeading,one.RotationDuration+25):n._rotateTimeout=setTimeout(n._updateHeading,n._headUpdateLimit-(Date.now()-n._lastHeadingTime)))},this._onMove=function(){n._moveTimeout&&(clearTimeout(n._moveTimeout),delete n._moveTimeout),n._controlTimeout&&(clearTimeout(n._controlTimeout),delete n._controlTimeout)},this._onMoveEnd=function(i){i.fromControl?n._controlTimeout=setTimeout(n._updateCam,n._controlEventDelay):n._updateCam()},this._onStyleData=function(){setTimeout(n._updateStyle)},this._onPointerDown=function(i){n._lastPointerPos=n._getEventPos(i),n._pointerTimeout=setTimeout(function(){return LC(n,void 0,void 0,function(){var a,o,s;return RC(this,function(c){switch(c.label){case 0:return o=this._map.getStyle(),a=o.language.toLowerCase(),o=o.style.toLowerCase(),(s=this._map.getCamera()).center=this._map.pixelsToPositions([this._lastPointerPos])[0],[4,this._getLocDesc(s,a,o)];case 1:return s=c.sent(),this._descCallback(s),this._onPointerUp(),[2]}})})},n._pointerUpdateDelay),n._map.getCanvas().addEventListener("mousemove",n._onPointerMove),n._map.getCanvas().addEventListener("touchmove",n._onPointerMove),n._map.getCanvas().addEventListener("mouseup",n._onPointerUp),n._map.getCanvas().addEventListener("touchend",n._onPointerUp)},this._onPointerMove=function(o){var o=n._getEventPos(o),a=n._lastPointerPos[0]-o[0],o=n._lastPointerPos[1]-o[1];Math.sqrt(a*a+o*o)>n._moveThreshold&&n._onPointerUp()},this._onPointerUp=function(){clearTimeout(n._pointerTimeout),delete n._pointerTimeout,n._map.getCanvas().removeEventListener("mousemove",n._onPointerMove),n._map.getCanvas().removeEventListener("touchmove",n._onPointerMove),n._map.getCanvas().removeEventListener("mouseup",n._onPointerUp),n._map.getCanvas().removeEventListener("touchend",n._onPointerUp)},this._updateHeading=function(){var i,a=n._map.getCamera();n._lastHead&&!n._checkHeadingThreshold(a.bearing,n._lastHead)||(i=n._getHeadingDesc(a),n._lastHead=a.bearing,n._descCallback("<p>Map heading ".concat(i,".</p>")),n._lastHeadingTime=Date.now()),delete n._rotateTimeout},this._updateStyle=function(){return LC(n,void 0,void 0,function(){var i,a,o,s;return RC(this,function(c){switch(c.label){case 0:return i=this._map.getCamera(),o=this._map.getStyle(),a=o.language.toLowerCase(),o=o.style.toLowerCase(),this._lastLang===a?[3,2]:(r._labelCache._preloadCache(a),[4,this._getLocDesc(i,a,o)]);case 1:return s=c.sent(),[3,4];case 2:return this._lastStyle===o||this._lastStyle!=="blank"?[3,4]:[4,this._getLocDesc(i,a,o)];case 3:s=c.sent(),c.label=4;case 4:return this._lastLang=a,this._lastStyle=o,s&&this._descCallback(s),[2]}})})},this._updateCam=function(i){i===void 0&&(i=!1);var a,o,s,c=n._map.getCamera();(!n._lastCam||0<n._actionQueue.length||n._checkThresholds(c,n._lastCam))&&(s=n._map.getStyle(),a=s.language.toLowerCase(),o=s.style.toLowerCase(),(s=n._getActionDesc(c))&&n._actionQueue.push(s),n._lastCam=c,n._moveTimeout&&(clearTimeout(n._moveTimeout),delete n._moveTimeout),n._moveTimeout=setTimeout(function(){return LC(n,void 0,void 0,function(){var A;return RC(this,function(f){switch(f.label){case 0:return clearTimeout(this._rotateTimeout),delete this._rotateTimeout,[4,this._getLocDesc(c,a,o)];case 1:return A=f.sent(),0<this._actionQueue.length?(this._descCallback("<p>Map ".concat(this._actionQueue.join(", then "),".</p>").concat(A)),this._actionQueue=[]):this._descCallback(A),[2]}})})},i?0:n._camUpdateDelay))},this._map=e,this._restFallback=e.getServiceOptions().enableAccessibilityLocationFallback,this._descCallback=t,this._reverseSearch=new pGe(e),r._labelCache||(r._labelCache=new mGe),this._lastLang=this._map.getStyle().language.toLowerCase(),r._labelCache._preloadCache(this._lastLang),this._map.events.addOnce("idle",function(){var i;n._disposed||(n._updateCam(!0),n._baseVectorTileSourceId=r._baseVectorTileSourceIds.find(function(a){return n._map.sources.getById(a)}),n._baseVectorTileSourceId==="bing-mvt"&&(n._labelConfig=r._labelConfigBing,n._roadLayers=r._roadLayersBing),n._polygonStyleLayer=n._labelConfig.reduce(function(a,o){return o.polygonSources&&a.push.apply(a,gGe([],u$(o.polygonSources),!1)),a},[]),(i=n._map._getMap()).on("move",n._onMove),i.on("moveend",n._onMoveEnd),i.on("styledata",n._onStyleData),i.on("rotate",n._onRotate),(i=n._map.getCanvas()).addEventListener("mousedown",n._onPointerDown),i.addEventListener("touchstart",n._onPointerDown))}),this._map.getMapContainer().addEventListener("keydown",this._shortcutListener)}return r.prototype.dispose=function(){this._disposed=!0;var e=this._map._getMap(),e=(e.off("move",this._onMove),e.off("moveend",this._onMoveEnd),e.off("styledata",this._onStyleData),e.off("rotate",this._onRotate),this._map.getCanvas());e.removeEventListener("mousedown",this._onPointerDown),e.removeEventListener("touchstart",this._onPointerDown),this._map.getMapContainer().removeEventListener("keydown",this._shortcutListener)},r.prototype._getEventPos=function(e){var t,n;return"touches"in e?(t=e.touches[0],n=e.target.getBoundingClientRect(),[t.pageX-n.left,t.pageY-n.top]):[e.offsetX,e.offsetY]},r.prototype._checkThresholds=function(e,t){return this._checkZoomThreshold(e.zoom,t.zoom)||this._checkPitchThreshold(e.pitch,t.pitch)||this._checkLocThreshold(e.center,t.center)||this._checkHeadingThreshold(e.bearing,t.bearing)},r.prototype._checkZoomThreshold=function(e,t){return this._round(e)!==this._round(t)},r.prototype._checkPitchThreshold=function(e,t){return Math.abs(e-t)>=this._pitchThreshold},r.prototype._checkLocThreshold=function(e,t){return e=(t=u$(this._map.positionsToPixels([t,e]),2))[0],t=t[1],iu.getDistance(e,t)>=this._moveThreshold},r.prototype._checkHeadingThreshold=function(e,t){return e<0&&(e+=360),t<0&&(t+=360),e=Math.abs(e-t),(e=180<e?360-e:e)>=this._headingThreshold},r.prototype._getLocDesc=function(e,t,n){return LC(this,void 0,void 0,function(){var i,a,o,s,c,A,f,y,C,x=this;return RC(this,function(k){switch(k.label){case 0:return n==="blank"?[3,3]:this._map._getMap().loaded()?[3,2]:[4,new Promise(function(N){return x._map._getMap().once("idle",N)})];case 1:k.sent(),k.label=2;case 2:for(i={},a=this._map.positionsToPixels([e.center])[0],fGe.tryCatch(this._map,function(){var N=x._map._getMap();o=N.queryRenderedFeatures(a,{layers:x._polygonStyleLayer.filter(function(M){return N.getLayer(M)}),filter:["==",["geometry-type"],"Polygon"]})},function(){}),s=null,o&&0<o.length&&(s=o[0]),c=null,A=0,f=this._labelConfig.length;A<f;A++)y=this._labelConfig[A],e.zoom>=y.minZoom?y.polygonSources?s&&y.polygonSources.indexOf(s.layer["source-layer"])!==-1?(c=y.labelType,this._getClosestLabel(y,e,t,i,!1)):this._getClosestLabel(y,e,t,i,!0):this._getClosestLabel(y,e,t,i,!1):this._getClosestLabel(y,e,t,i,!0);return 8<=e.zoom&&this._processRoads(i,e,t),this._labelCache.forEach(function(N){!i[N]&&(C=null,C=N!=="water"&&N!=="majorPoi"||N===c?r._labelCache.getNearestLabel(N,e.center,e.zoom):C)&&(i[N]=C.name)}),[2,this._processLocInfo(e,c,i,!0,this._restFallback)];case 3:return[2,this._processLocInfo(e,null,null,!1,!1)]}})})},r.prototype._getHeadingDesc=function(e){var t=e.bearing;switch(t<0&&(t+=360),t=this._round(t,this._headingThreshold)){case 0:case 360:return"north";case 45:return"north east";case 90:return"east";case 135:return"south east";case 180:return"south";case 225:return"south west";case 270:return"west";case 315:return"north west";default:return"".concat(t," degrees")}},r.prototype._getClosestLabel=function(e,t,n,i,a){for(var o=e.radius,s=0,c=e.source.length;s<c;s++){var A={sourceLayer:e.source[s],filter:["has","name"]},f=this._map._getMap().querySourceFeatures(this._baseVectorTileSourceId,A),y=null,C=1/0,x=this._labelCache.has(e.labelType);if(!a||x)for(var k=0,N=f.length;k<N;k++){var M,D=f[k].geometry.type==="Point"?f[k]:jN(t.center,f[k].geometry);a||(M=f[k].geometry.type==="Point"?gA(t.center,D.geometry.coordinates):D.properties.distance)<C&&(C=M,y=f[k]),x&&r._labelCache.cache(f[k].properties.name,e,D.geometry.coordinates,n)}a||(A=e.labelType+"Dis",y&&C<=o&&(typeof i[A]!="number"||C<=i[A])&&(i[e.labelType]=y.properties.name,i[A]=C))}},r.prototype._processRoads=function(e,t,n,i){var a=this._map._getMap().queryRenderedFeatures(i,{filter:["==",["geometry-type"],"LineString"]});if(a){for(var o,s=void 0,c=void 0,A=void 0,f=void 0,y=0,C=a.length;y<C;y++)this._roadLayers.has(a[y].layer["source-layer"])&&a[y].properties.name&&a[y].properties.name!==""&&(o=jN(t.center,a[y]),!A||o.properties.distance<A.properties.distance)&&(s&&a[y].properties.name===s.properties.name?A=o:s&&a[y].properties.name===s.properties.name?(!f||o.properties.distance<f.properties.distance)&&(f=o,c=a[y]):(f=A,c=s,A=o,s=a[y]));s&&(!e.country&&s.properties.country_code&&(e.country=s.properties.country_code,e.countryDis=0,r._labelCache.cache(e.country,{source:[],labelType:"country",radius:5e3,minZoom:0},A.geometry.coordinates,n)),!e.state&&s.properties.country_subdivision&&(e.state=s.properties.country_subdivision,e.stateDis=0,r._labelCache.cache(e.state,{source:[],labelType:"state",radius:5e3,minZoom:4},A.geometry.coordinates,n)),15<=t.zoom)&&(i=this._map.positionsToPixels([t.center,A.geometry.coordinates]),(iu.getDistance(i[0],i[1])<this._roadPixelRadius||A.properties.distance<this._minRoadDistance)&&(e.road=s.properties.name),c)&&(n=this._map.positionsToPixels([f.geometry.coordinates]),iu.getDistance(i[0],n[0])<this._minIntersectionPixelDistance||f.properties.distance<this._minRoadDistance)&&(e.secondRoad=c.properties.name,e.secondRoadDis=f.properties.distance)}},r.prototype._getActionDesc=function(e){var t,n,i;return this._lastCam&&(t=[],this._checkLocThreshold(e.center,this._lastCam.center)&&(i=["panned"],(n=Math.round(iv(this._lastCam.center,e.center)))===0||n===360?i.push("north"):n<90?i.push("north east"):n===90?i.push("east"):n<180?i.push("south east"):n===180?i.push("south"):n<270?i.push("south west"):n===270?i.push("west"):n<360&&i.push("north west"),n=gA(this._lastCam.center,e.center,ra.meters),i.push(1e3<n?"".concat(uA(n/1e3,2)," kilometers"):"".concat(uA(n,2)," meters")),t.push(i.join(" "))),this._checkZoomThreshold(e.zoom,this._lastCam.zoom)&&((i=["zoomed"]).push(this._lastCam.zoom<e.zoom?"in":"out"),1<=(n=Math.abs(this._lastCam.zoom-e.zoom))&&(n=Math.ceil(n),i.push("".concat(n,1<n?" levels":" level"))),this._getCanonicalZoom(this._lastCam.zoom)!==this._getCanonicalZoom(e.zoom)&&i.push("to ".concat(this._getCanonicalZoom(e.zoom)," level")),e.zoom>=e.maxZoom&&i.push("Zoom In button disabled, maximum zoom level reached"),n=Ii.getSouth(e.bounds)<=-oS&&Ii.getNorth(e.bounds)>=oS,(e.zoom<=e.minZoom||n)&&i.push("Zoom Out button disabled, minimum zoom level reached"),t.push(i.join(" "))),this._checkPitchThreshold(e.pitch,this._lastCam.pitch)&&(n=this._round(e.pitch,this._pitchThreshold),t.push("pitched to ".concat(n," degrees")),e.pitch!==60&&e.pitch!==0||(i=e.pitch===60?"maximum":"minimum",t.push("reached ".concat(i," of ").concat(e.pitch," degrees")))),this._checkHeadingThreshold(this._lastCam.bearing,e.bearing)&&t.push("rotated to ".concat(this._getHeadingDesc(e))),t.join(" and "))||null},r.prototype._getCanonicalZoom=function(e){return(e=this._round(e))<2?"world":e<5?"country":e<11?"state province":e<15?"city":"street"},r.prototype._processLocInfo=function(e,t,n,i,a){var o=this;return new Promise(function(s,c){var A=[];if(i){var f=[];if(n&&(t&&(t==="water"&&n.water?f.push(n.water):t==="majorPoi"&&n.majorPoi&&f.push(n.majorPoi)),f.length===0)&&(n.majorPoi&&8<=e.zoom?f.push(n.majorPoi):(n.poi&&14<=e.zoom?f.push(n.poi):n.road&&15<=e.zoom&&(n.secondRoad?f.push(n.road+" & "+n.secondRoad):f.push(n.road)),n.neighbourhood&&12<=e.zoom&&f.push(n.neighbourhood),n.city&&6<=e.zoom&&f.push(n.city)),n.state&&4<=e.zoom&&f.push(n.state),f.length===0?n.water?f.push(n.water):n.country&&f.push(n.country):f.length===1&&n.state&&4<=e.zoom&&n.country&&f.push(n.country)),0<f.length)A.push("<p>Location: ",f.join(", "),".</p>");else if(a&&t!=="water")return void o._reverseGeocodeDescription(e).then(function(y){s(y)},function(){c("<p>Location: unknown</p>")})}o._returnDetailedDescriptions&&(A.push("<p>Zoom: ",uA(e.zoom,2),".</p>"),A.push("<p>Latitude: ",uA(e.center[1],5),".</p>"),A.push("<p>Longitude: ",uA(e.center[0],5),".</p>")),s(A.join(""))})},r.prototype._reverseGeocodeDescription=function(e){var t=this;return new Promise(function(n){var i=t._map.getStyle();t._reverseSearch.request({position:e.center,style:i}).then(function(a){var o,s={};a&&a.features&&0<a.features.length&&(o=(o=a.features[0])==null?void 0:o.properties)!=null&&o.address&&((o=a.features[0].properties.address).countryRegion&&(s.country=o.countryRegion.name,r._labelCache.cache(s.country,{source:[],labelType:"country",radius:5e3,minZoom:0},e.center,i.language)),o.adminDistricts&&(s.state=(a=o.adminDistricts[0])==null?void 0:a.shortName,r._labelCache.cache(s.state,{source:[],labelType:"state",radius:5e3,minZoom:4},e.center,i.language)),o.locality&&(s.city=o.locality,r._labelCache.cache(s.city,{source:[],labelType:"city",radius:1e3,minZoom:10},e.center,i.language)),o.addressLine)&&(s.road=o.addressLine),t._processLocInfo(e,null,s,!0,!1).then(function(c){n(c)})},function(a){t._processLocInfo(e,null,null,!0,!1).then(function(o){n(o)})}).catch(function(a){t._processLocInfo(e,null,null,!0,!1).then(function(o){n(o)})})})},r.prototype._round=function(e,t){return t===void 0&&(t=1),Math.round(e/t)*t},r._baseVectorTileSourceIds=["microsoft.base","vectorTiles","bing-mvt"],r._labelConfigBing=[{source:["water_feature"],labelType:"water",minZoom:0,radius:395e4,polygonSources:["generic_water_fill"]},{source:["water_feature"],labelType:"water",minZoom:3,radius:1e6,polygonSources:["generic_water_fill"]},{source:["country_region"],labelType:"country",minZoom:0,maxZoom:5,radius:3e5},{source:["admin_division1"],labelType:"state",minZoom:4,maxZoom:7,radius:3e5},{source:["populated_place"],labelType:"city",minZoom:8,radius:4e4},{source:["neighborhood"],labelType:"neighbourhood",minZoom:12,radius:6e3},{source:["amusement_park"],labelType:"poi",minZoom:14,radius:2e3,polygonSources:["amusement_park_fill"]},{source:["hospital"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["hospital_fill"]},{source:["shopping_center"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["shopping_center_fill"]},{source:["stadium"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["stadium_fill"]},{source:["higher_education_facility","school"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["higher_education_facility_fill","school_fill"]},{source:["zoo"],labelType:"poi",minZoom:14,radius:1e3,polygonSources:["zoo_fill"]},{source:["airport","airport_terminal"],labelType:"majorPoi",minZoom:11,radius:3e3,polygonSources:["airport_terminal_fill","airport_fill-merged7","airport_runway_fill"]},{source:["reserve"],labelType:"majorPoi",minZoom:7,radius:15e3,polygonSources:["generic_reserve_fill","land_cover_forest_fill"]}],r._roadLayersBing=new Set(["road"]),r})(),vGe=function(r){var e=this;this.addToMap=function(){e.mapViewDesc==null&&(e.initializeMapLiveStateInfo(),e.initializeMapStyleInfo(),e.createMapKeyBindingInfo(),e.map.getMapContainer().setAttribute("role","application"),e.map.getMapContainer().setAttribute("aria-label","Map Application"),e.map.getCanvasContainer().setAttribute("aria-live","polite"),e.map.getCanvasContainer().setAttribute("aria-describedby","atlas-map-state atlas-map-style"),e.map.getCanvas().setAttribute("aria-label","Interactive Map"),e.map.getCanvas().setAttribute("aria-describedby","atlas-map-shortcuts"),e.map.getCanvas().setAttribute("alt","Interactive Map"))},this.removeFromMap=function(){e.mapViewDesc!=null&&e.mapViewDesc.dispose(),delete e.mapViewDesc,e.atlasMapKeyBindings!=null&&e.map.getCanvasContainer().removeChild(e.atlasMapKeyBindings),delete e.atlasMapKeyBindings,e.atlasMapLiveStateInfo!=null&&e.map.getCanvasContainer().removeChild(e.atlasMapLiveStateInfo),delete e.atlasMapLiveStateInfo,e.atlasMapStyleInfo!=null&&e.map.getCanvasContainer().removeChild(e.atlasMapStyleInfo),delete e.atlasMapStyleInfo,e.map.getMapContainer().removeAttribute("role"),e.map.getMapContainer().removeAttribute("aria-label"),e.map.getCanvasContainer().removeAttribute("aria-live"),e.map.getCanvasContainer().removeAttribute("aria-describedby"),e.map.getCanvas().removeAttribute("aria-label"),e.map.getCanvas().removeAttribute("aria-describedby"),e.map.getCanvas().removeAttribute("alt"),e.map.events.remove("stylechanged",e.updateMapStyle)},this.createMapKeyBindingInfo=function(){e.atlasMapKeyBindings=document.createElement("div"),e.atlasMapKeyBindings.setAttribute("tabindex","-1"),e.atlasMapKeyBindings.setAttribute("aria-hidden","true"),e.atlasMapKeyBindings.id="atlas-map-shortcuts",e.atlasMapKeyBindings.classList.add("hidden-accessible-element"),e.atlasMapKeyBindings.innerHTML=["Map shortcuts:","Zoom out: hyphen.","Zoom in: plus.","Pan right 100 pixels: right arrow.","Pan left 100 pixels: left arrow.","Pan up 100 pixels: up arrow.","Pan down 100 pixels: down arrow.","Rotate 15 degrees clockwise: shift + right arrow.","Rotate 15 degrees counter clockwise: shift + left arrow.","Increase pitch 10 degrees: shift + up arrow.","Decrease pitch 10 degrees: shift + down arrow.","Jump focus to the map: Escape."].join(`
`),e.map.getCanvasContainer().appendChild(e.atlasMapKeyBindings);var t=[189,187,38,37,39,40],n=e.map._getMap()._canvas;n?.addEventListener("keyup",function(i){t.find(function(a){return i.keyCode===a})&&(e.atlasMapKeyBindings.innerHTML="")})},this.initializeMapLiveStateInfo=function(){e.mapViewDesc=new yGe(e.map,e.updateMapState),e.atlasMapLiveStateInfo=document.createElement("div"),e.atlasMapLiveStateInfo.setAttribute("tabindex","-1"),e.atlasMapLiveStateInfo.setAttribute("aria-hidden","true"),e.atlasMapLiveStateInfo.id="atlas-map-state",e.atlasMapLiveStateInfo.classList.add("hidden-accessible-element"),e.map.getCanvasContainer().appendChild(e.atlasMapLiveStateInfo)},this.initializeMapStyleInfo=function(){e.atlasMapStyleInfo=document.createElement("div"),e.atlasMapStyleInfo.setAttribute("tabindex","-1"),e.atlasMapStyleInfo.setAttribute("aria-hidden","true"),e.atlasMapStyleInfo.id="atlas-map-style",e.atlasMapStyleInfo.classList.add("hidden-accessible-element"),e.map.events.add("stylechanged",e.updateMapStyle),e.map.getCanvasContainer().appendChild(e.atlasMapStyleInfo)},this.updateMapStyle=function(){e.atlasMapStyleInfo.innerHTML="<p>Map style: ".concat(e.map.getStyle().style,".</p>")},this.updateMapState=function(t){e.atlasMapLiveStateInfo.innerHTML=t},this.map=r},_Ge=function(r){var e=this;this.listenerEnabled=!1,this.lastFlowMode="none",this.addToMap=function(){if(!e.map._isReady())throw new Error("Traffic flow could not be added to the map because the map is not ready. Please use a ready event listener to guarantee the map is ready before enabling traffic flow.");e.listenerEnabled||(e.map.events.add("styledata",e.addToMap),e.listenerEnabled=!0);var t,n=e.map.getTraffic();n.flow!=="none"&&(t=e.map.layers.getLayerById("traffic_".concat(n.flow)))&&(e.lastFlowMode=n.flow,t._updateLayoutProperty("visibility","visible","none"))},this.removeFromMap=function(){var t;e.map.getTraffic(),e.lastFlowMode!="none"&&((t=e.map.layers.getLayerById("traffic_".concat(e.lastFlowMode)))&&t._updateLayoutProperty("visibility","none","visible"),e.lastFlowMode="none"),e.listenerEnabled&&(e.map.events.remove("styledata",e.addToMap),e.listenerEnabled=!1)},this.map=r},bGe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),h$=(function(r){function e(t,n,i){var o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=t.icon_category_12)!=null?o:t.icon_category_11)!=null?o:t.icon_category_10)!=null?o:t.icon_category_9)!=null?o:t.icon_category_8)!=null?o:t.icon_category_7)!=null?o:t.icon_category_6)!=null?o:t.icon_category_5)!=null?o:t.icon_category_4)!=null?o:t.icon_category_3)!=null?o:t.icon_category_2)!=null?o:t.icon_category_1)!=null?o:t.icon_category_0)!=null?o:t.icon_category,a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=t.description_12)!=null?a:t.description_11)!=null?a:t.description_10)!=null?a:t.description_9)!=null?a:t.description_8)!=null?a:t.description_7)!=null?a:t.description_6)!=null?a:t.description_5)!=null?a:t.description_4)!=null?a:t.description_3)!=null?a:t.description_2)!=null?a:t.description_1)!=null?a:t.description_0)!=null?a:t.description,o={icon:"".concat(e.getSeverityColorName(t.magnitude),"-").concat(e.getIncidentTypeIconName(o)),incidentType:e.getIncidentTypeName(o,i),description:a,delay:t.delay,color:e.getSeverityColorHexCode(t.magnitude),id:t.id};return r.call(this,n,o)||this}return bGe(e,r),e.getIncidentTypeName=function(t,n){switch(t){case 0:return n.Unknown;case 1:return n.Accident;case 2:return n.Fog;case 3:return n.Danger;case 4:return n.Rain;case 5:return n.Ice;case 6:return n.Jam;case 7:return n.LaneClosed;case 8:return n.RoadClosed;case 9:return n.RoadWorks;case 10:return n.Wind;case 11:return n.Flood;case 12:return n.Detour;default:return n.Unknown}},e.getIncidentTypeIconName=function(t){switch(t){case 0:return"unknown";case 1:return"accident";case 2:return"fog";case 3:return"danger";case 4:return"rain";case 5:return"ice";case 6:return"jam";case 7:return"lane-closed";case 8:return"road-closed";case 9:return"road-work";case 10:return"wind";case 11:return"flood";case 12:return"detour";default:return"unknown"}},e.getSeverityColorName=function(t){switch(t){case 0:return"grey";case 1:return"yellow";case 2:return"orange";case 3:return"red";default:return"grey"}},e.getSeverityColorHexCode=function(t){switch(t){case 0:return"#B5B6B7";case 1:return"#F4C951";case 2:return"#F4873F";case 3:return"#F04F4E";default:return"#B5B6B7"}},e})(zf),A$=((function(r){r.DELAY="delay",r.LENGTH="length",r.FROM="from",r.TO="to"})(cb=cb||{}),(function(){function r(){}return r.build=function(e,t){t===void 0&&(t="en-US");var n,a=document.createElement("div"),o=(a.classList.add("incident-popup-title"),a.classList.add("font-segoeui-b"),a.innerText=e.properties.incidentType,a.setAttribute("aria-label","Incident Type ".concat(e.properties.incidentType)),document.createElement("div")),i=(o.classList.add("incident-popup-subtitle"),o.classList.add("font-segoeui-b"),o.setAttribute("aria-label","Incident Description ".concat(e.properties.description)),o.innerText=e.properties.description,document.createElement("div")),a=(i.classList.add("incident-popup-header"),i.style.backgroundColor=e.properties.color,i.appendChild(a),i.appendChild(o),document.createElement("div")),o=(a.classList.add("incident-popup-body"),e.properties.delay&&(o="".concat(Math.floor(e.properties.delay/60)," min"),o=this.createInfoSection(o,cb.DELAY),a.appendChild(o)),e.properties.length&&(o=new Intl.NumberFormat([t,"en-US"],{maximumFractionDigits:2}),n=void 0,n=t==="en-US"?(t=Cg(e.properties.length,"meters","miles"),"".concat(o.format(t)," miles")):(t=Cg(e.properties.length,"meters","kilometers"),"".concat(o.format(t)," km")),o=this.createInfoSection(n,cb.LENGTH),a.appendChild(o)),e.properties.from&&(t=this.createInfoSection(e.properties.from,cb.FROM),a.appendChild(t)),e.properties.to&&(n=this.createInfoSection(e.properties.to,cb.TO),a.appendChild(n)),document.createElement("div"));return o.classList.add("incident-popup-content"),o.appendChild(i),o.appendChild(a),new Bw({content:o,position:e.geometry.coordinates})},r.createInfoSection=function(e,t){var n=document.createElement("div"),i=(n.classList.add("incident-popup-info"),document.createElement("div")),a=(i.classList.add("icon"),i.classList.add(t),document.createElement("span"));return a.classList.add("message"),a.classList.add("font-segoeui"),a.setAttribute("aria-label","Incident ".concat(t," ").concat(e)),a.innerText=e,n.appendChild(i),n.appendChild(a),n},r})()),wGe=window&&window.__awaiter||function(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,e||[])).next())})},xGe=window&&window.__generator||function(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a=o&&f[o=0]?0:a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},CGe=(function(){function r(n){var t=this,n=(this.incidentLayerName="incidents",this.incidentSourceName="mapcontrol_traffic_incident",this.addToMap=function(){t.map.sources.getById(t.incidentSourceName)||t.map.sources.add(t.vectorTileSource),t.map.layers.getLayerById(t.incidentLayerName)||t.map.layers.add(t.incidentLayer,"labels"),t.clickPopup=new Bw({position:[0,0],pixelOffset:[0,-18]}),t.map.addEventListener("mouseover",t.incidentLayerName,t.cursorToPointer),t.map.addEventListener("mouseleave",t.incidentLayerName,t.cursorToDefault),t.map.addEventListener("click",t.incidentLayerName,t.openIncidentPopup),t.map.events.addOnce("idle",t.setAccessiblePopups),t.map.events.add("moveend",t.setAccessiblePopups)},this.accessiblePopups=[],this.setAccessiblePopups=function(){return wGe(t,void 0,void 0,function(){var i,a,o,s,c,A,f=this;return xGe(this,function(y){switch(y.label){case 0:return this.accessiblePopups.forEach(function(C){return C.remove()}),this.accessiblePopups=[],i=this.map.layers.getRenderedShapes(this.map.getCamera().bounds,this.incidentLayer),[4,this.map._getLocalizedStrings()];case 1:return a=y.sent(),o=function(C,x){var k=C[x],M=k.geometry.coordinates,M=new qf(new ru(M[0],M[1])),k=new h$(k.properties,M,a),N=A$.build(k,f.incidentLanguage),M=N.getPopupContainer();return M.addEventListener("focusin",function(D){f.clickPopup.remove(),f.accessiblePopups.filter(function(H){return H!==N}).forEach(function(H){return H.remove()}),0<=x-1&&s(N,o(C,x-1)),x+1<C.length&&A(o(C,x+1)),2<=x&&x==C.length-1&&c(o(C,0)),x==0&&2<=C.length&&A(o(C,C.length-1))}),x==C.length-1&&M.addEventListener("focusout",function(D){D.relatedTarget===null&&N.close()}),f.accessiblePopups.push(N),N},s=function(C,x){x.open(f.map),x.close(),x=x.getPopupContainer(),C=C.getPopupContainer(),C.parentElement.insertBefore(x,C)},c=function(x){x.open(f.map),x.close();var x=x.getPopupContainer(),k=x.parentElement;k.insertBefore(x,k.firstElementChild)},A=function(C){C.open(f.map),C.close()},0<i.length&&A(o(i,0)),1<i.length&&A(o(i,i.length-1)),[2]}})})},this.removeFromMap=function(){var i;t.map.removeEventListener("mouseover",t.incidentLayerName,t.cursorToPointer),t.map.removeEventListener("mouseleave",t.incidentLayerName,t.cursorToDefault),t.map.removeEventListener("click",t.incidentLayerName,t.openIncidentPopup),t.map.events.remove("idle",t.setAccessiblePopups),t.map.events.remove("moveend",t.setAccessiblePopups),t.accessiblePopups.forEach(function(a){return a.remove()}),t.accessiblePopups=[],(i=t.clickPopup)!=null&&i.remove(),t.map.layers.getLayerById(t.incidentLayerName)!=null&&t.map.layers.remove(t.incidentLayerName),t.map.sources.getById(t.incidentSourceName)!=null&&t.map.sources.remove(t.incidentSourceName)},this.cursorToPointer=function(i){t.map.getCanvas().style.cursor="pointer"},this.cursorToDefault=function(i){t.map.getCanvas().style.cursor=""},this.openIncidentPopup=function(i){t.clickPopup.remove(),t.accessiblePopups.forEach(function(s){return s.close()});var a=i.position,o=i.features[0];t.map._getLocalizedStrings().then(function(s){var c=new qf(new ru(a[0],a[1])),c=new h$(o.properties,c,s);t.clickPopup=A$.build(c,t.incidentLanguage),t.clickPopup.open(t.map),t.clickPopup.getPopupContainer().addEventListener("focusout",function(A){A.relatedTarget===null&&t.clickPopup.close()})})},this.map=n,this.vectorTileSource=new iie(this.incidentSourceName,{maxZoom:22,tiles:["https://".concat(Yn.domainPlaceHolder,"/traffic/incident/tile/pbf?api-version=1.0&zoom={z}&x={x}&y={y}")]}),this.getIncidentIconImageExpression());this.incidentLayer=new QN(this.incidentSourceName,this.incidentLayerName,{sourceLayer:"Traffic incident POI",iconOptions:{ignorePlacement:!0,allowOverlap:!0,image:n,size:.75}})}return r.prototype.getIncidentIconImageExpression=function(){return["concat",["let","magnitude",["get","magnitude"],["case",["==",["var","magnitude"],0],"grey",["==",["var","magnitude"],1],"yellow",["==",["var","magnitude"],2],"orange",["==",["var","magnitude"],3],"red",["==",["var","magnitude"],4],"grey","grey"]],"-",["let","category",["coalesce",["get","icon_category_12"],["get","icon_category_11"],["get","icon_category_10"],["get","icon_category_9"],["get","icon_category_8"],["get","icon_category_7"],["get","icon_category_6"],["get","icon_category_5"],["get","icon_category_4"],["get","icon_category_3"],["get","icon_category_2"],["get","icon_category_0"],["get","icon_category"],0],["case",["==",["var","category"],0],"unknown",["==",["var","category"],1],"accident",["==",["var","category"],2],"fog",["==",["var","category"],3],"danger",["==",["var","category"],4],"rain",["==",["var","category"],5],"ice",["==",["var","category"],6],"jam",["==",["var","category"],7],"lane-closed",["==",["var","category"],8],"road-closed",["==",["var","category"],9],"road-work",["==",["var","category"],10],"wind",["==",["var","category"],11],"flood",["==",["var","category"],12],"detour","unknown"]]]},r})(),EGe=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),d$=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.interactive=!0,t.scrollZoomInteraction=!0,t.boxZoomInteraction=!0,t.dragRotateInteraction=!0,t.dragPanInteraction=!0,t.keyboardInteraction=!0,t.dblClickZoomInteraction=!0,t.touchInteraction=!0,t.touchRotate=!0,t.wheelZoomRate=1/450,t}return EGe(e,r),e})(ao),SGe=(function(){function r(e){var t=this;this._onKeyDown=function(n){n.keyCode===27&&t.map.getCanvas().focus()},this.map=e}return r.prototype.enable=function(){this.map.getMapContainer().addEventListener("keydown",this._onKeyDown)},r.prototype.disable=function(){this.map.getMapContainer().removeEventListener("keydown",this._onKeyDown)},r})(),TGe=(function(){function r(e){var t=this;this._onGestureStart=function(n){t.hasTouch||(n.preventDefault(),t.initZoom=t.map.getCamera().zoom)},this._onGestureChange=function(n){t.hasTouch||(n.preventDefault(),t.map.setCamera({zoom:t.initZoom+n.scale-1}))},this._onTouchStart=function(n){t.hasTouch=!0},this._onTouchEnd=function(n){n.touches.length===0&&(t.hasTouch=!1)},this.map=e}return r.prototype.enable=function(){this.map.getCanvasContainer().addEventListener("gesturestart",this._onGestureStart),this.map.getCanvasContainer().addEventListener("gesturechange",this._onGestureChange),this.map.getCanvasContainer().addEventListener("touchstart",this._onTouchStart),this.map.getCanvasContainer().addEventListener("touchend",this._onTouchEnd)},r.prototype.disable=function(){this.map.getCanvasContainer().removeEventListener("gesturestart",this._onGestureStart),this.map.getCanvasContainer().removeEventListener("gesturechange",this._onGestureChange),this.map.getCanvasContainer().removeEventListener("touchstart",this._onTouchStart),this.map.getCanvasContainer().removeEventListener("touchend",this._onTouchEnd)},r})(),BGe=(function(){function r(e,t){this.added=!1,this.map=e,this.focusShortcut=new SGe(e),this.pinchZoom=new TGe(e),this.options=new d$().merge(t)}return r.prototype.addToMap=function(){this.added||(this.added=!0,this._setInteractions(this.options))},r.prototype.removeFromMap=function(){this.added&&(this.added=!1,this._setInteractions({interactive:!1}))},r.prototype.setOptions=function(e){this.options=new d$().merge(this.options,e),this.added&&this._setInteractions(this.options)},r.prototype.getOptions=function(){return Object.assign({},this.options)},r.prototype._setInteractions=function(e){var t;e.interactive?(e.boxZoomInteraction?this.map._getMap().boxZoom.enable():this.map._getMap().boxZoom.disable(),e.dblClickZoomInteraction?this.map._getMap().doubleClickZoom.enable():this.map._getMap().doubleClickZoom.disable(),e.dragPanInteraction?this.map._getMap().dragPan.enable():this.map._getMap().dragPan.disable(),e.dragRotateInteraction?this.map._getMap().dragRotate.enable():this.map._getMap().dragRotate.disable(),e.keyboardInteraction?(this.map._getMap().keyboard.enable(),this.focusShortcut.enable()):(this.map._getMap().keyboard.disable(),this.focusShortcut.disable()),e.scrollZoomInteraction?(this.map._getMap().scrollZoom.enable(),this.map._getMap().scrollZoom.setWheelZoomRate(e.wheelZoomRate)):this.map._getMap().scrollZoom.disable(),t=this.map._getMap().touchZoomRotate,e.touchInteraction?(t.enable(),e.touchRotate?t.enableRotation():t.disableRotation()):t.disable(),this.pinchZoom.enable()):(this.map._getMap().boxZoom.disable(),this.map._getMap().doubleClickZoom.disable(),this.map._getMap().dragPan.disable(),this.map._getMap().dragRotate.disable(),this.map._getMap().keyboard.disable(),this.focusShortcut.disable(),this.map._getMap().scrollZoom.disable(),this.map._getMap().touchZoomRotate.disable(),this.pinchZoom.disable())},r})();function Joe(r,e,t){var n={type:"Feature"};return(t=t===void 0?{}:t).id!==0&&!t.id||(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}function IGe(r,e,t){t===void 0&&(t={});for(var n=0,i=r;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}return Joe({type:"Polygon",coordinates:r},e,t)}function kGe(r,e,t){return Joe({type:"MultiPolygon",coordinates:r},e,t=t===void 0?{}:t)}function f$(r){return r.type==="Feature"?r.geometry:r}var p$={exports:{}},NGe=(p$.exports=(function(){function r(Pe,oe){if(!(Pe instanceof oe))throw new TypeError("Cannot call a class as a function")}function e(Pe,oe){for(var pe=0;pe<oe.length;pe++){var J=oe[pe];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Pe,J.key,J)}}function t(Pe,oe,pe){return oe&&e(Pe.prototype,oe),pe&&e(Pe,pe),Pe}var n=(function(){function Pe(oe,pe){this.next=null,this.key=oe,this.data=pe,this.left=null,this.right=null}return Pe})();function i(Pe,oe){return Pe>oe?1:Pe<oe?-1:0}function a(Pe,oe,pe){for(var J=new n(null,null),re=J,Ue=J;;){var be=pe(Pe,oe.key);if(be<0){if(oe.left===null)break;if(pe(Pe,oe.left.key)<0){var et=oe.left;if(oe.left=et.right,et.right=oe,oe=et,oe.left===null)break}Ue.left=oe,Ue=oe,oe=oe.left}else if(be>0){if(oe.right===null)break;if(pe(Pe,oe.right.key)>0){var et=oe.right;if(oe.right=et.left,et.left=oe,oe=et,oe.right===null)break}re.right=oe,re=oe,oe=oe.right}else break}return re.right=oe.left,Ue.left=oe.right,oe.left=J.right,oe.right=J.left,oe}function o(Pe,oe,pe,J){var re=new n(Pe,oe);if(pe===null)return re.left=re.right=null,re;pe=a(Pe,pe,J);var Ue=J(Pe,pe.key);return Ue<0?(re.left=pe.left,re.right=pe,pe.left=null):Ue>=0&&(re.right=pe.right,re.left=pe,pe.right=null),re}function s(Pe,oe,pe){var J=null,re=null;if(oe){oe=a(Pe,oe,pe);var Ue=pe(oe.key,Pe);Ue===0?(J=oe.left,re=oe.right):Ue<0?(re=oe.right,oe.right=null,J=oe):(J=oe.left,oe.left=null,re=oe)}return{left:J,right:re}}function c(Pe,oe,pe){return oe===null?Pe:(Pe===null||(oe=a(Pe.key,oe,pe),oe.left=Pe),oe)}function A(Pe,oe,pe,J,re){if(Pe){J(""+oe+(pe?" ":" ")+re(Pe)+`
`);var Ue=oe+(pe?"    ":"   ");Pe.left&&A(Pe.left,Ue,!1,J,re),Pe.right&&A(Pe.right,Ue,!0,J,re)}}var f=(function(){function Pe(oe){oe===void 0&&(oe=i),this._root=null,this._size=0,this._comparator=oe}return Pe.prototype.insert=function(oe,pe){return this._size++,this._root=o(oe,pe,this._root,this._comparator)},Pe.prototype.add=function(oe,pe){var J=new n(oe,pe);this._root===null&&(J.left=J.right=null,this._size++,this._root=J);var re=this._comparator,Ue=a(oe,this._root,re),be=re(oe,Ue.key);return be===0?this._root=Ue:(be<0?(J.left=Ue.left,J.right=Ue,Ue.left=null):be>0&&(J.right=Ue.right,J.left=Ue,Ue.right=null),this._size++,this._root=J),this._root},Pe.prototype.remove=function(oe){this._root=this._remove(oe,this._root,this._comparator)},Pe.prototype._remove=function(oe,pe,J){var re;if(pe===null)return null;pe=a(oe,pe,J);var Ue=J(oe,pe.key);return Ue===0?(pe.left===null?re=pe.right:(re=a(oe,pe.left,J),re.right=pe.right),this._size--,re):pe},Pe.prototype.pop=function(){var oe=this._root;if(oe){for(;oe.left;)oe=oe.left;return this._root=a(oe.key,this._root,this._comparator),this._root=this._remove(oe.key,this._root,this._comparator),{key:oe.key,data:oe.data}}return null},Pe.prototype.findStatic=function(oe){for(var pe=this._root,J=this._comparator;pe;){var re=J(oe,pe.key);if(re===0)return pe;re<0?pe=pe.left:pe=pe.right}return null},Pe.prototype.find=function(oe){return this._root&&(this._root=a(oe,this._root,this._comparator),this._comparator(oe,this._root.key)!==0)?null:this._root},Pe.prototype.contains=function(oe){for(var pe=this._root,J=this._comparator;pe;){var re=J(oe,pe.key);if(re===0)return!0;re<0?pe=pe.left:pe=pe.right}return!1},Pe.prototype.forEach=function(oe,pe){for(var J=this._root,re=[],Ue=!1;!Ue;)J!==null?(re.push(J),J=J.left):re.length!==0?(J=re.pop(),oe.call(pe,J),J=J.right):Ue=!0;return this},Pe.prototype.range=function(oe,pe,J,re){for(var Ue=[],be=this._comparator,et=this._root,Ke;Ue.length!==0||et;)if(et)Ue.push(et),et=et.left;else{if(et=Ue.pop(),Ke=be(et.key,pe),Ke>0)break;if(be(et.key,oe)>=0&&J.call(re,et))return this;et=et.right}return this},Pe.prototype.keys=function(){var oe=[];return this.forEach(function(pe){var J=pe.key;return oe.push(J)}),oe},Pe.prototype.values=function(){var oe=[];return this.forEach(function(pe){var J=pe.data;return oe.push(J)}),oe},Pe.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Pe.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Pe.prototype.minNode=function(oe){if(oe===void 0&&(oe=this._root),oe)for(;oe.left;)oe=oe.left;return oe},Pe.prototype.maxNode=function(oe){if(oe===void 0&&(oe=this._root),oe)for(;oe.right;)oe=oe.right;return oe},Pe.prototype.at=function(oe){for(var pe=this._root,J=!1,re=0,Ue=[];!J;)if(pe)Ue.push(pe),pe=pe.left;else if(Ue.length>0){if(pe=Ue.pop(),re===oe)return pe;re++,pe=pe.right}else J=!0;return null},Pe.prototype.next=function(oe){var pe=this._root,J=null;if(oe.right){for(J=oe.right;J.left;)J=J.left;return J}for(var re=this._comparator;pe;){var Ue=re(oe.key,pe.key);if(Ue===0)break;Ue<0?(J=pe,pe=pe.left):pe=pe.right}return J},Pe.prototype.prev=function(oe){var pe=this._root,J=null;if(oe.left!==null){for(J=oe.left;J.right;)J=J.right;return J}for(var re=this._comparator;pe;){var Ue=re(oe.key,pe.key);if(Ue===0)break;Ue<0?pe=pe.left:(J=pe,pe=pe.right)}return J},Pe.prototype.clear=function(){return this._root=null,this._size=0,this},Pe.prototype.toList=function(){return x(this._root)},Pe.prototype.load=function(oe,pe,J){pe===void 0&&(pe=[]),J===void 0&&(J=!1);var re=oe.length,Ue=this._comparator;if(J&&M(oe,pe,0,re-1,Ue),this._root===null)this._root=y(oe,pe,0,re),this._size=re;else{var be=N(this.toList(),C(oe,pe),Ue);re=this._size+re,this._root=k({head:be},0,re)}return this},Pe.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(Pe.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Pe.prototype.toString=function(oe){oe===void 0&&(oe=function(re){return String(re.key)});var pe=[];return A(this._root,"",!0,function(J){return pe.push(J)},oe),pe.join("")},Pe.prototype.update=function(oe,pe,J){var re=this._comparator,Ue=s(oe,this._root,re),be=Ue.left,et=Ue.right;re(oe,pe)<0?et=o(pe,J,et,re):be=o(pe,J,be,re),this._root=c(be,et,re)},Pe.prototype.split=function(oe){return s(oe,this._root,this._comparator)},Pe})();function y(Pe,oe,pe,J){var re=J-pe;if(re>0){var Ue=pe+Math.floor(re/2),be=Pe[Ue],et=oe[Ue],Ke=new n(be,et);return Ke.left=y(Pe,oe,pe,Ue),Ke.right=y(Pe,oe,Ue+1,J),Ke}return null}function C(Pe,oe){for(var pe=new n(null,null),J=pe,re=0;re<Pe.length;re++)J=J.next=new n(Pe[re],oe[re]);return J.next=null,pe.next}function x(Pe){for(var oe=Pe,pe=[],J=!1,re=new n(null,null),Ue=re;!J;)oe?(pe.push(oe),oe=oe.left):pe.length>0?(oe=Ue=Ue.next=pe.pop(),oe=oe.right):J=!0;return Ue.next=null,re.next}function k(Pe,oe,pe){var J=pe-oe;if(J>0){var re=oe+Math.floor(J/2),Ue=k(Pe,oe,re),be=Pe.head;return be.left=Ue,Pe.head=Pe.head.next,be.right=k(Pe,re+1,pe),be}return null}function N(Pe,oe,pe){for(var J=new n(null,null),re=J,Ue=Pe,be=oe;Ue!==null&&be!==null;)pe(Ue.key,be.key)<0?(re.next=Ue,Ue=Ue.next):(re.next=be,be=be.next),re=re.next;return Ue!==null?re.next=Ue:be!==null&&(re.next=be),J.next}function M(Pe,oe,pe,J,re){if(!(pe>=J)){for(var Ue=Pe[pe+J>>1],be=pe-1,et=J+1;;){do be++;while(re(Pe[be],Ue)<0);do et--;while(re(Pe[et],Ue)>0);if(be>=et)break;var Ke=Pe[be];Pe[be]=Pe[et],Pe[et]=Ke,Ke=oe[be],oe[be]=oe[et],oe[et]=Ke}M(Pe,oe,pe,et,re),M(Pe,oe,et+1,J,re)}}var D=function(oe,pe){return oe.ll.x<=pe.x&&pe.x<=oe.ur.x&&oe.ll.y<=pe.y&&pe.y<=oe.ur.y},H=function(oe,pe){if(pe.ur.x<oe.ll.x||oe.ur.x<pe.ll.x||pe.ur.y<oe.ll.y||oe.ur.y<pe.ll.y)return null;var J=oe.ll.x<pe.ll.x?pe.ll.x:oe.ll.x,re=oe.ur.x<pe.ur.x?oe.ur.x:pe.ur.x,Ue=oe.ll.y<pe.ll.y?pe.ll.y:oe.ll.y,be=oe.ur.y<pe.ur.y?oe.ur.y:pe.ur.y;return{ll:{x:J,y:Ue},ur:{x:re,y:be}}},q=Number.EPSILON;q===void 0&&(q=Math.pow(2,-52));var $=q*q,ce=function(oe,pe){if(-q<oe&&oe<q&&-q<pe&&pe<q)return 0;var J=oe-pe;return J*J<$*oe*pe?0:oe<pe?-1:1},V=(function(){function Pe(){r(this,Pe),this.reset()}return t(Pe,[{key:"reset",value:function(){this.xRounder=new he,this.yRounder=new he}},{key:"round",value:function(pe,J){return{x:this.xRounder.round(pe),y:this.yRounder.round(J)}}}]),Pe})(),he=(function(){function Pe(){r(this,Pe),this.tree=new f,this.round(0)}return t(Pe,[{key:"round",value:function(pe){var J=this.tree.add(pe),re=this.tree.prev(J);if(re!==null&&ce(J.key,re.key)===0)return this.tree.remove(pe),re.key;var Ue=this.tree.next(J);return Ue!==null&&ce(J.key,Ue.key)===0?(this.tree.remove(pe),Ue.key):pe}}]),Pe})(),le=new V,fe=function(oe,pe){return oe.x*pe.y-oe.y*pe.x},Ne=function(oe,pe){return oe.x*pe.x+oe.y*pe.y},W=function(oe,pe,J){var re={x:pe.x-oe.x,y:pe.y-oe.y},Ue={x:J.x-oe.x,y:J.y-oe.y},be=fe(re,Ue);return ce(be,0)},ue=function(oe){return Math.sqrt(Ne(oe,oe))},de=function(oe,pe,J){var re={x:pe.x-oe.x,y:pe.y-oe.y},Ue={x:J.x-oe.x,y:J.y-oe.y};return fe(Ue,re)/ue(Ue)/ue(re)},me=function(oe,pe,J){var re={x:pe.x-oe.x,y:pe.y-oe.y},Ue={x:J.x-oe.x,y:J.y-oe.y};return Ne(Ue,re)/ue(Ue)/ue(re)},Qe=function(oe,pe,J){return pe.y===0?null:{x:oe.x+pe.x/pe.y*(J-oe.y),y:J}},Ee=function(oe,pe,J){return pe.x===0?null:{x:J,y:oe.y+pe.y/pe.x*(J-oe.x)}},_e=function(oe,pe,J,re){if(pe.x===0)return Ee(J,re,oe.x);if(re.x===0)return Ee(oe,pe,J.x);if(pe.y===0)return Qe(J,re,oe.y);if(re.y===0)return Qe(oe,pe,J.y);var Ue=fe(pe,re);if(Ue==0)return null;var be={x:J.x-oe.x,y:J.y-oe.y},et=fe(be,pe)/Ue,Ke=fe(be,re)/Ue,mt=oe.x+Ke*pe.x,_t=J.x+et*re.x,Kt=oe.y+Ke*pe.y,Gt=J.y+et*re.y,tr=(mt+_t)/2,ur=(Kt+Gt)/2;return{x:tr,y:ur}},ke=(function(){t(Pe,null,[{key:"compare",value:function(pe,J){var re=Pe.comparePoints(pe.point,J.point);return re!==0?re:(pe.point!==J.point&&pe.link(J),pe.isLeft!==J.isLeft?pe.isLeft?1:-1:Oe.compare(pe.segment,J.segment))}},{key:"comparePoints",value:function(pe,J){return pe.x<J.x?-1:pe.x>J.x?1:pe.y<J.y?-1:pe.y>J.y?1:0}}]);function Pe(oe,pe){r(this,Pe),oe.events===void 0?oe.events=[this]:oe.events.push(this),this.point=oe,this.isLeft=pe}return t(Pe,[{key:"link",value:function(pe){if(pe.point===this.point)throw new Error("Tried to link already linked events");for(var J=pe.point.events,re=0,Ue=J.length;re<Ue;re++){var be=J[re];this.point.events.push(be),be.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var pe=this.point.events.length,J=0;J<pe;J++){var re=this.point.events[J];if(re.segment.consumedBy===void 0)for(var Ue=J+1;Ue<pe;Ue++){var be=this.point.events[Ue];be.consumedBy===void 0&&re.otherSE.point.events===be.otherSE.point.events&&re.segment.consume(be.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var pe=[],J=0,re=this.point.events.length;J<re;J++){var Ue=this.point.events[J];Ue!==this&&!Ue.segment.ringOut&&Ue.segment.isInResult()&&pe.push(Ue)}return pe}},{key:"getLeftmostComparator",value:function(pe){var J=this,re=new Map,Ue=function(et){var Ke=et.otherSE;re.set(et,{sine:de(J.point,pe.point,Ke.point),cosine:me(J.point,pe.point,Ke.point)})};return function(be,et){re.has(be)||Ue(be),re.has(et)||Ue(et);var Ke=re.get(be),mt=Ke.sine,_t=Ke.cosine,Kt=re.get(et),Gt=Kt.sine,tr=Kt.cosine;return mt>=0&&Gt>=0?_t<tr?1:_t>tr?-1:0:mt<0&&Gt<0?_t<tr?-1:_t>tr?1:0:Gt<mt?-1:Gt>mt?1:0}}}]),Pe})(),We=0,Oe=(function(){t(Pe,null,[{key:"compare",value:function(pe,J){var re=pe.leftSE.point.x,Ue=J.leftSE.point.x,be=pe.rightSE.point.x,et=J.rightSE.point.x;if(et<re)return 1;if(be<Ue)return-1;var Ke=pe.leftSE.point.y,mt=J.leftSE.point.y,_t=pe.rightSE.point.y,Kt=J.rightSE.point.y;if(re<Ue){if(mt<Ke&&mt<_t)return 1;if(mt>Ke&&mt>_t)return-1;var Gt=pe.comparePoint(J.leftSE.point);if(Gt<0)return 1;if(Gt>0)return-1;var tr=J.comparePoint(pe.rightSE.point);return tr!==0?tr:-1}if(re>Ue){if(Ke<mt&&Ke<Kt)return-1;if(Ke>mt&&Ke>Kt)return 1;var ur=J.comparePoint(pe.leftSE.point);if(ur!==0)return ur;var nt=pe.comparePoint(J.rightSE.point);return nt<0?1:nt>0?-1:1}if(Ke<mt)return-1;if(Ke>mt)return 1;if(be<et){var rt=J.comparePoint(pe.rightSE.point);if(rt!==0)return rt}if(be>et){var Ht=pe.comparePoint(J.rightSE.point);if(Ht<0)return 1;if(Ht>0)return-1}if(be!==et){var Tt=_t-Ke,Jt=be-re,rr=Kt-mt,St=et-Ue;if(Tt>Jt&&rr<St)return 1;if(Tt<Jt&&rr>St)return-1}return be>et?1:be<et||_t<Kt?-1:_t>Kt?1:pe.id<J.id?-1:pe.id>J.id?1:0}}]);function Pe(oe,pe,J,re){r(this,Pe),this.id=++We,this.leftSE=oe,oe.segment=this,oe.otherSE=pe,this.rightSE=pe,pe.segment=this,pe.otherSE=oe,this.rings=J,this.windings=re}return t(Pe,[{key:"replaceRightSE",value:function(pe){this.rightSE=pe,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var pe=this.leftSE.point.y,J=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:pe<J?pe:J},ur:{x:this.rightSE.point.x,y:pe>J?pe:J}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(pe){return pe.x===this.leftSE.point.x&&pe.y===this.leftSE.point.y||pe.x===this.rightSE.point.x&&pe.y===this.rightSE.point.y}},{key:"comparePoint",value:function(pe){if(this.isAnEndpoint(pe))return 0;var J=this.leftSE.point,re=this.rightSE.point,Ue=this.vector();if(J.x===re.x)return pe.x===J.x?0:pe.x<J.x?1:-1;var be=(pe.y-J.y)/Ue.y,et=J.x+be*Ue.x;if(pe.x===et)return 0;var Ke=(pe.x-J.x)/Ue.x,mt=J.y+Ke*Ue.y;return pe.y===mt?0:pe.y<mt?-1:1}},{key:"getIntersection",value:function(pe){var J=this.bbox(),re=pe.bbox(),Ue=H(J,re);if(Ue===null)return null;var be=this.leftSE.point,et=this.rightSE.point,Ke=pe.leftSE.point,mt=pe.rightSE.point,_t=D(J,Ke)&&this.comparePoint(Ke)===0,Kt=D(re,be)&&pe.comparePoint(be)===0,Gt=D(J,mt)&&this.comparePoint(mt)===0,tr=D(re,et)&&pe.comparePoint(et)===0;if(Kt&&_t)return tr&&!Gt?et:!tr&&Gt?mt:null;if(Kt)return Gt&&be.x===mt.x&&be.y===mt.y?null:be;if(_t)return tr&&et.x===Ke.x&&et.y===Ke.y?null:Ke;if(tr&&Gt)return null;if(tr)return et;if(Gt)return mt;var ur=_e(be,this.vector(),Ke,pe.vector());return ur===null||!D(Ue,ur)?null:le.round(ur.x,ur.y)}},{key:"split",value:function(pe){var J=[],re=pe.events!==void 0,Ue=new ke(pe,!0),be=new ke(pe,!1),et=this.rightSE;this.replaceRightSE(be),J.push(be),J.push(Ue);var Ke=new Pe(Ue,et,this.rings.slice(),this.windings.slice());return ke.comparePoints(Ke.leftSE.point,Ke.rightSE.point)>0&&Ke.swapEvents(),ke.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),re&&(Ue.checkForConsuming(),be.checkForConsuming()),J}},{key:"swapEvents",value:function(){var pe=this.rightSE;this.rightSE=this.leftSE,this.leftSE=pe,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var J=0,re=this.windings.length;J<re;J++)this.windings[J]*=-1}},{key:"consume",value:function(pe){for(var J=this,re=pe;J.consumedBy;)J=J.consumedBy;for(;re.consumedBy;)re=re.consumedBy;var Ue=Pe.compare(J,re);if(Ue!==0){if(Ue>0){var be=J;J=re,re=be}if(J.prev===re){var et=J;J=re,re=et}for(var Ke=0,mt=re.rings.length;Ke<mt;Ke++){var _t=re.rings[Ke],Kt=re.windings[Ke],Gt=J.rings.indexOf(_t);Gt===-1?(J.rings.push(_t),J.windings.push(Kt)):J.windings[Gt]+=Kt}re.rings=null,re.windings=null,re.consumedBy=J,re.leftSE.consumedBy=J.leftSE,re.rightSE.consumedBy=J.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var pe=this.prev.consumedBy||this.prev;this._beforeState=pe.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var pe=this.beforeState();this._afterState={rings:pe.rings.slice(0),windings:pe.windings.slice(0),multiPolys:[]};for(var J=this._afterState.rings,re=this._afterState.windings,Ue=this._afterState.multiPolys,be=0,et=this.rings.length;be<et;be++){var Ke=this.rings[be],mt=this.windings[be],_t=J.indexOf(Ke);_t===-1?(J.push(Ke),re.push(mt)):re[_t]+=mt}for(var Kt=[],Gt=[],tr=0,ur=J.length;tr<ur;tr++)if(re[tr]!==0){var nt=J[tr],rt=nt.poly;if(Gt.indexOf(rt)===-1)if(nt.isExterior)Kt.push(rt);else{Gt.indexOf(rt)===-1&&Gt.push(rt);var Ht=Kt.indexOf(nt.poly);Ht!==-1&&Kt.splice(Ht,1)}}for(var Tt=0,Jt=Kt.length;Tt<Jt;Tt++){var rr=Kt[Tt].multiPoly;Ue.indexOf(rr)===-1&&Ue.push(rr)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var pe=this.beforeState().multiPolys,J=this.afterState().multiPolys;switch(yt.type){case"union":{var re=pe.length===0,Ue=J.length===0;this._isInResult=re!==Ue;break}case"intersection":{var be,et;pe.length<J.length?(be=pe.length,et=J.length):(be=J.length,et=pe.length),this._isInResult=et===yt.numMultiPolys&&be<et;break}case"xor":{var Ke=Math.abs(pe.length-J.length);this._isInResult=Ke%2===1;break}case"difference":{var mt=function(Kt){return Kt.length===1&&Kt[0].isSubject};this._isInResult=mt(pe)!==mt(J);break}default:throw new Error("Unrecognized operation type found ".concat(yt.type))}return this._isInResult}}],[{key:"fromRing",value:function(pe,J,re){var Ue,be,et,Ke=ke.comparePoints(pe,J);if(Ke<0)Ue=pe,be=J,et=1;else if(Ke>0)Ue=J,be=pe,et=-1;else throw new Error("Tried to create degenerate segment at [".concat(pe.x,", ").concat(pe.y,"]"));var mt=new ke(Ue,!0),_t=new ke(be,!1);return new Pe(mt,_t,[re],[et])}}]),Pe})(),ze=(function(){function Pe(oe,pe,J){if(r(this,Pe),!Array.isArray(oe)||oe.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=pe,this.isExterior=J,this.segments=[],typeof oe[0][0]!="number"||typeof oe[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var re=le.round(oe[0][0],oe[0][1]);this.bbox={ll:{x:re.x,y:re.y},ur:{x:re.x,y:re.y}};for(var Ue=re,be=1,et=oe.length;be<et;be++){if(typeof oe[be][0]!="number"||typeof oe[be][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ke=le.round(oe[be][0],oe[be][1]);Ke.x===Ue.x&&Ke.y===Ue.y||(this.segments.push(Oe.fromRing(Ue,Ke,this)),Ke.x<this.bbox.ll.x&&(this.bbox.ll.x=Ke.x),Ke.y<this.bbox.ll.y&&(this.bbox.ll.y=Ke.y),Ke.x>this.bbox.ur.x&&(this.bbox.ur.x=Ke.x),Ke.y>this.bbox.ur.y&&(this.bbox.ur.y=Ke.y),Ue=Ke)}(re.x!==Ue.x||re.y!==Ue.y)&&this.segments.push(Oe.fromRing(Ue,re,this))}return t(Pe,[{key:"getSweepEvents",value:function(){for(var pe=[],J=0,re=this.segments.length;J<re;J++){var Ue=this.segments[J];pe.push(Ue.leftSE),pe.push(Ue.rightSE)}return pe}}]),Pe})(),ne=(function(){function Pe(oe,pe){if(r(this,Pe),!Array.isArray(oe))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ze(oe[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var J=1,re=oe.length;J<re;J++){var Ue=new ze(oe[J],this,!1);Ue.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Ue.bbox.ll.x),Ue.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Ue.bbox.ll.y),Ue.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Ue.bbox.ur.x),Ue.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Ue.bbox.ur.y),this.interiorRings.push(Ue)}this.multiPoly=pe}return t(Pe,[{key:"getSweepEvents",value:function(){for(var pe=this.exteriorRing.getSweepEvents(),J=0,re=this.interiorRings.length;J<re;J++)for(var Ue=this.interiorRings[J].getSweepEvents(),be=0,et=Ue.length;be<et;be++)pe.push(Ue[be]);return pe}}]),Pe})(),ae=(function(){function Pe(oe,pe){if(r(this,Pe),!Array.isArray(oe))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof oe[0][0][0]=="number"&&(oe=[oe])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var J=0,re=oe.length;J<re;J++){var Ue=new ne(oe[J],this);Ue.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Ue.bbox.ll.x),Ue.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Ue.bbox.ll.y),Ue.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Ue.bbox.ur.x),Ue.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Ue.bbox.ur.y),this.polys.push(Ue)}this.isSubject=pe}return t(Pe,[{key:"getSweepEvents",value:function(){for(var pe=[],J=0,re=this.polys.length;J<re;J++)for(var Ue=this.polys[J].getSweepEvents(),be=0,et=Ue.length;be<et;be++)pe.push(Ue[be]);return pe}}]),Pe})(),ve=(function(){t(Pe,null,[{key:"factory",value:function(pe){for(var J=[],re=0,Ue=pe.length;re<Ue;re++){var be=pe[re];if(!(!be.isInResult()||be.ringOut)){for(var et=null,Ke=be.leftSE,mt=be.rightSE,_t=[Ke],Kt=Ke.point,Gt=[];et=Ke,Ke=mt,_t.push(Ke),Ke.point!==Kt;)for(;;){var tr=Ke.getAvailableLinkedEvents();if(tr.length===0){var ur=_t[0].point,nt=_t[_t.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ur.x,",")+" ".concat(ur.y,"]. Last matching segment found ends at")+" [".concat(nt.x,", ").concat(nt.y,"]."))}if(tr.length===1){mt=tr[0].otherSE;break}for(var rt=null,Ht=0,Tt=Gt.length;Ht<Tt;Ht++)if(Gt[Ht].point===Ke.point){rt=Ht;break}if(rt!==null){var Jt=Gt.splice(rt)[0],rr=_t.splice(Jt.index);rr.unshift(rr[0].otherSE),J.push(new Pe(rr.reverse()));continue}Gt.push({index:_t.length,point:Ke.point});var St=Ke.getLeftmostComparator(et);mt=tr.sort(St)[0].otherSE;break}J.push(new Pe(_t))}}return J}}]);function Pe(oe){r(this,Pe),this.events=oe;for(var pe=0,J=oe.length;pe<J;pe++)oe[pe].segment.ringOut=this;this.poly=null}return t(Pe,[{key:"getGeom",value:function(){for(var pe=this.events[0].point,J=[pe],re=1,Ue=this.events.length-1;re<Ue;re++){var be=this.events[re].point,et=this.events[re+1].point;W(be,pe,et)!==0&&(J.push(be),pe=be)}if(J.length===1)return null;var Ke=J[0],mt=J[1];W(Ke,pe,mt)===0&&J.shift(),J.push(J[0]);for(var _t=this.isExteriorRing()?1:-1,Kt=this.isExteriorRing()?0:J.length-1,Gt=this.isExteriorRing()?J.length:-1,tr=[],ur=Kt;ur!=Gt;ur+=_t)tr.push([J[ur].x,J[ur].y]);return tr}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var pe=this.enclosingRing();this._isExteriorRing=pe?!pe.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var pe=this.events[0],J=1,re=this.events.length;J<re;J++){var Ue=this.events[J];ke.compare(pe,Ue)>0&&(pe=Ue)}for(var be=pe.segment.prevInResult(),et=be?be.prevInResult():null;;){if(!be)return null;if(!et)return be.ringOut;if(et.ringOut!==be.ringOut)return et.ringOut.enclosingRing()!==be.ringOut?be.ringOut:be.ringOut.enclosingRing();be=et.prevInResult(),et=be?be.prevInResult():null}}}]),Pe})(),Re=(function(){function Pe(oe){r(this,Pe),this.exteriorRing=oe,oe.poly=this,this.interiorRings=[]}return t(Pe,[{key:"addInterior",value:function(pe){this.interiorRings.push(pe),pe.poly=this}},{key:"getGeom",value:function(){var pe=[this.exteriorRing.getGeom()];if(pe[0]===null)return null;for(var J=0,re=this.interiorRings.length;J<re;J++){var Ue=this.interiorRings[J].getGeom();Ue!==null&&pe.push(Ue)}return pe}}]),Pe})(),qe=(function(){function Pe(oe){r(this,Pe),this.rings=oe,this.polys=this._composePolys(oe)}return t(Pe,[{key:"getGeom",value:function(){for(var pe=[],J=0,re=this.polys.length;J<re;J++){var Ue=this.polys[J].getGeom();Ue!==null&&pe.push(Ue)}return pe}},{key:"_composePolys",value:function(pe){for(var J=[],re=0,Ue=pe.length;re<Ue;re++){var be=pe[re];if(!be.poly)if(be.isExteriorRing())J.push(new Re(be));else{var et=be.enclosingRing();et.poly||J.push(new Re(et)),et.poly.addInterior(be)}}return J}}]),Pe})(),Ze=(function(){function Pe(oe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe.compare;r(this,Pe),this.queue=oe,this.tree=new f(pe),this.segments=[]}return t(Pe,[{key:"process",value:function(pe){var J=pe.segment,re=[];if(pe.consumedBy)return pe.isLeft?this.queue.remove(pe.otherSE):this.tree.remove(J),re;var Ue=pe.isLeft?this.tree.insert(J):this.tree.find(J);if(!Ue)throw new Error("Unable to find segment #".concat(J.id," ")+"[".concat(J.leftSE.point.x,", ").concat(J.leftSE.point.y,"] -> ")+"[".concat(J.rightSE.point.x,", ").concat(J.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var be=Ue,et=Ue,Ke=void 0,mt=void 0;Ke===void 0;)be=this.tree.prev(be),be===null?Ke=null:be.key.consumedBy===void 0&&(Ke=be.key);for(;mt===void 0;)et=this.tree.next(et),et===null?mt=null:et.key.consumedBy===void 0&&(mt=et.key);if(pe.isLeft){var _t=null;if(Ke){var Kt=Ke.getIntersection(J);if(Kt!==null&&(J.isAnEndpoint(Kt)||(_t=Kt),!Ke.isAnEndpoint(Kt)))for(var Gt=this._splitSafely(Ke,Kt),tr=0,ur=Gt.length;tr<ur;tr++)re.push(Gt[tr])}var nt=null;if(mt){var rt=mt.getIntersection(J);if(rt!==null&&(J.isAnEndpoint(rt)||(nt=rt),!mt.isAnEndpoint(rt)))for(var Ht=this._splitSafely(mt,rt),Tt=0,Jt=Ht.length;Tt<Jt;Tt++)re.push(Ht[Tt])}if(_t!==null||nt!==null){var rr=null;if(_t===null)rr=nt;else if(nt===null)rr=_t;else{var St=ke.comparePoints(_t,nt);rr=St<=0?_t:nt}this.queue.remove(J.rightSE),re.push(J.rightSE);for(var Vt=J.split(rr),Nt=0,yr=Vt.length;Nt<yr;Nt++)re.push(Vt[Nt])}re.length>0?(this.tree.remove(J),re.push(pe)):(this.segments.push(J),J.prev=Ke)}else{if(Ke&&mt){var Gr=Ke.getIntersection(mt);if(Gr!==null){if(!Ke.isAnEndpoint(Gr))for(var Xt=this._splitSafely(Ke,Gr),on=0,$r=Xt.length;on<$r;on++)re.push(Xt[on]);if(!mt.isAnEndpoint(Gr))for(var xn=this._splitSafely(mt,Gr),De=0,ye=xn.length;De<ye;De++)re.push(xn[De])}}this.tree.remove(J)}return re}},{key:"_splitSafely",value:function(pe,J){this.tree.remove(pe);var re=pe.rightSE;this.queue.remove(re);var Ue=pe.split(J);return Ue.push(re),pe.consumedBy===void 0&&this.tree.insert(pe),Ue}}]),Pe})(),st=typeof process<"u"&&nV.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ot=typeof process<"u"&&nV.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,yt=new((function(){function Pe(){r(this,Pe)}return t(Pe,[{key:"run",value:function(pe,J,re){yt.type=pe,le.reset();for(var Ue=[new ae(J,!0)],be=0,et=re.length;be<et;be++)Ue.push(new ae(re[be],!1));if(yt.numMultiPolys=Ue.length,yt.type==="difference")for(var Ke=Ue[0],mt=1;mt<Ue.length;)H(Ue[mt].bbox,Ke.bbox)!==null?mt++:Ue.splice(mt,1);if(yt.type==="intersection"){for(var _t=0,Kt=Ue.length;_t<Kt;_t++)for(var Gt=Ue[_t],tr=_t+1,ur=Ue.length;tr<ur;tr++)if(H(Gt.bbox,Ue[tr].bbox)===null)return[]}for(var nt=new f(ke.compare),rt=0,Ht=Ue.length;rt<Ht;rt++)for(var Tt=Ue[rt].getSweepEvents(),Jt=0,rr=Tt.length;Jt<rr;Jt++)if(nt.insert(Tt[Jt]),nt.size>st)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var St=new Ze(nt),Vt=nt.size,Nt=nt.pop();Nt;){var yr=Nt.key;if(nt.size===Vt){var Gr=yr.segment;throw new Error("Unable to pop() ".concat(yr.isLeft?"left":"right"," SweepEvent ")+"[".concat(yr.point.x,", ").concat(yr.point.y,"] from segment #").concat(Gr.id," ")+"[".concat(Gr.leftSE.point.x,", ").concat(Gr.leftSE.point.y,"] -> ")+"[".concat(Gr.rightSE.point.x,", ").concat(Gr.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(nt.size>st)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(St.segments.length>ot)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Xt=St.process(yr),on=0,$r=Xt.length;on<$r;on++){var xn=Xt[on];xn.consumedBy===void 0&&nt.insert(xn)}Vt=nt.size,Nt=nt.pop()}le.reset();var De=ve.factory(St.segments),ye=new qe(De);return ye.getGeom()}}]),Pe})());return{union:function(oe){for(var pe=arguments.length,J=new Array(pe>1?pe-1:0),re=1;re<pe;re++)J[re-1]=arguments[re];return yt.run("union",oe,J)},intersection:function(oe){for(var pe=arguments.length,J=new Array(pe>1?pe-1:0),re=1;re<pe;re++)J[re-1]=arguments[re];return yt.run("intersection",oe,J)},xor:function(oe){for(var pe=arguments.length,J=new Array(pe>1?pe-1:0),re=1;re<pe;re++)J[re-1]=arguments[re];return yt.run("xor",oe,J)},difference:function(oe){for(var pe=arguments.length,J=new Array(pe>1?pe-1:0),re=1;re<pe;re++)J[re-1]=arguments[re];return yt.run("difference",oe,J)}}})(),p$.exports),PGe=Bv(NGe);function OGe(r,e,t){return t===void 0&&(t={}),r=f$(r),e=f$(e),r=PGe.intersection(r.coordinates,e.coordinates),r.length===0?null:r.length===1?IGe(r[0],t.properties):kGe(r,t.properties)}var MGe=function(r){return function(e,t,n){var i=n.value,a=new Map;return n.value=function(){var o=this,s=arguments;!a.get(o)&&(i.apply(o,s),a.set(o,!0),setTimeout(function(){return a.delete(o)},r))},n}},LGe=window&&window.__decorate||function(r,e,t,n){var i,a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;0<=s;s--)(i=r[s])&&(o=(a<3?i(o):3<a?i(e,t,o):i(e,t))||o);return 3<a&&o&&Object.defineProperty(e,t,o),o},d6=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},f6=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},RGe=["DIV","SPAN","A"],p6=["data-azure-maps-attribution-minzoom","data-azure-maps-attribution-maxzoom","data-azure-maps-attribution-geometry","data-azure-maps-attribution-tileset","data-azure-maps-attribution-order","data-azure-maps-attribution-dynamic"],DGe=f6(["href"],d6(p6),!1),m$=(function(){function r(e,t){var n=this;this.lastFetchState={bounds:null,zoom:null},this.getElement=function(){return n.element},this.element=e,this.attributionChangeCallback=t}return r.prototype.equals=function(e){return this.stringRepresentation===e.stringRepresentation},Object.defineProperty(r.prototype,"stringRepresentation",{get:function(){return[this.minZoom!==void 0?"minzoom=".concat(this.minZoom):"",this.maxZoom!==void 0?"maxzoom=".concat(this.maxZoom):"",this.geometry!==void 0?this.element.attributes.getNamedItem("data-azure-maps-attribution-geometry").value:"",this.tilesetId!==void 0?"tilesetId=".concat(this.tilesetId):"",this.dynamic?"dynamic":""].filter(function(e){return 0<e.length}).join(";")},enumerable:!1,configurable:!0}),r.applicable=function(e){return Array.from(e.attributes).map(function(t){return p6.includes(t.name)}).reduce(function(t,n){return t||n},!1)},Object.defineProperty(r.prototype,"minZoom",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-minzoom");return e&&!isNaN(e.value)?parseInt(e.value):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxZoom",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-maxzoom");return e&&!isNaN(e.value)?parseInt(e.value):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"geometry",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-geometry");if(e&&e.value)try{return JSON.parse(e.value)}catch{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilesetId",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-tileset");return e&&e.value?e.value:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"order",{get:function(){var e=this.element.attributes.getNamedItem("data-azure-maps-attribution-order");return e&&!isNaN(e.value)?parseInt(e.value):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dynamic",{get:function(){return this.element.attributes.getNamedItem("data-azure-maps-attribution-dynamic")!==null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hidesElement",{get:function(){return this.element.style.display=="none"},enumerable:!1,configurable:!0}),r.prototype.forceHide=function(){this.element.style.display="none"},r.prototype.satisfied=function(e){var t=!this.minZoom||!e.zoom||e.zoom>=this.minZoom,n=!this.maxZoom||!e.zoom||e.zoom<=this.maxZoom,i=!0;return this.geometry&&e.bounds&&(i=OGe({type:"Feature",geometry:this.geometry,properties:{}},{type:"Feature",geometry:{type:"Polygon",coordinates:[[Ii.getNorthWest(e.bounds),Ii.getNorthEast(e.bounds),Ii.getSouthEast(e.bounds),Ii.getSouthWest(e.bounds),Ii.getNorthWest(e.bounds)]]},properties:{}})!==null),t&&n&&i},r.prototype.apply=function(e,s){var n=this,i=(s===void 0&&(s=null),this.satisfied(e.getCamera())),a=this.dynamic&&this.tilesetId,o=this.hidesElement,s=s&&["dragend","zoomend","pitchend"].includes(s.type);return i||o?i&&(o||a)&&(i&&o&&this.element.style.removeProperty("display"),a)&&(s?e.events.addOnce("idle",function(c){return n.fetchAndApplyDynamicAttribution(e)}):this.fetchAndApplyDynamicAttribution(e)):this.element.style.display="none",i===o},r.prototype.fetchAndApplyDynamicAttribution=function(e){var t,n,i,a=this,o=e.getCamera();this.lastFetchState&&Ii.containsBoundingBox(this.lastFetchState.bounds,o.bounds)&&Math.floor(this.lastFetchState.zoom)==Math.floor(o.zoom)||(t=$U(o.center,Ii.getSouthWest(o.bounds),r.viewportBufferExpansionRatio),i=((n=$U(o.center,Ii.getNorthEast(o.bounds),r.viewportBufferExpansionRatio))[0]<t[0]?[[t[0],t[1],180,n[1]],[-180,t[1],n[0],n[1]]]:[[t[0],t[1],n[0],n[1]]]).map(function(c){var c=new URLSearchParams({"api-version":"2.1",tilesetId:a.tilesetId,zoom:o.zoom!==void 0?"".concat(Math.floor(o.zoom)):void 0,bounds:c.join(",")}),f="".concat("https://{{azMapsDomain}}","/map/attribution"),A={url:f,headers:{}},f=(e._substituteDomainLanguageViewAndSignInRequest(f,A),"".concat(A.url).concat(A.url.includes("?")?"&":"?").concat(c.toString()));return e._sendRequest(f,"Attribution",A.headers).then(function(y){return y.json()})}),Promise.all(i).then(function(s){a.applyAttributionResponse(s),a.lastFetchState={bounds:new Ii([t[0],t[1],n[0],n[1]]),zoom:o.zoom}}).catch(function(s){return console.error(s)}))},r.prototype.applyAttributionResponse=function(o){var t,n,i,a=this,o=o.map(function(s){return s.copyrights||[]}).reduce(function(s,c){return f6(f6([],d6(s),!1),d6(c),!1)},[]);o.length!=0&&((o=uM.parseWithFilter(o.join(""),function(s){return!0},function(s){return s},function(){return a.element.innerHTML="",a.element}))===null?console.warn("Dynamic attribution is empty after filtering"):(t=typeof o=="string"?((t=document.createElement("span")).innerHTML=o,t):o,i=t===this.element?(n=document.createElement("span"),Array.from(this.element.childNodes).forEach(function(s){return n.appendChild(s)}),n):t,Array.from(this.element.attributes).filter(function(s){return p6.includes(s.name)}).forEach(function(s){return i.attributes.setNamedItem(s.cloneNode())}),i.style.display=this.element.style.display,o=this.element.parentElement,this.element.remove(),o.append(i),this.element=i,this.attributionChangeCallback(this)))},r.viewportBufferExpansionRatio=2,LGe([MGe(1e3)],r.prototype,"fetchAndApplyDynamicAttribution",null),r})(),Ey=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},ub=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},UGe=[/all rights reserved/gi],FGe=(function(){function r(e,t,n){var i,a=this;this.rules=[],this.virtualContext=((i=document.createElement("span")).className="azure-map-copyright-context",i),this.renderContext=this.virtualContext.cloneNode(!1),this.addAttributionFromSource=function(o){},this.removeAttributionFromSource=function(o){},this.getMapStyleVisibleSources=function(){var o=a.map._getMap(),s=o.getStyle();return Object.entries(s.sources).filter(function(c){var A=Ey(c,1)[0];return s.layers.filter(function(f){return f&&f.source==A}).reduce(function(f,y){return!(y.layout&&y.layout.visibility==="none"||y.paint&&y.paint["icon-opacity"]===0&&y.paint["text-opacity"]===0)||f},!1)}).map(function(c){return c=Ey(c,1)[0],o.getSource(c)})},this.loadAttributionOnceSourcesLoaded=function(){var o=a.getMapStyleVisibleSources();Promise.all(o.map(function(s){return new Promise(function(c,A){var f;"tiles"in s||s?.type==="geojson"?c(s):((f=s).on("data",function y(C){C.sourceDataType=="metadata"&&(f.off("data",y),c(s))}),f.on("error",function y(C){f.off("error",y),A(C)}))}).then(function(c){return{status:"fulfilled",value:c}}).catch(function(c){return{status:"rejected",reason:c}})})).then(function(s){a.reloadAttribution()})},this.reloadAttribution=function(){var c=a.getMapStyleVisibleSources(),o=new Set,s={},c=c.filter(function(x){return"attribution"in x&&x.attribution&&"tiles"in x&&x.tiles instanceof Array&&0<x.tiles.length}).map(function(x){return uM.parseWithFilter((x=x.attribution)!=null?x:"",function(k){return RGe.includes(k.tagName)&&Array.from(k.attributes).map(function(N){return DGe.includes(N.name)}).reduce(function(N,M){return N&&M},!0)},function(k){var N,M=null;return k instanceof HTMLElement&&m$.applicable(k)&&(M=new m$(k,function(){return a.renderAttribution()}),o.add(M),M.order!==void 0)&&(k.style.order="".concat(M.order)),M&&k instanceof HTMLElement&&(!((N=M.stringRepresentation)in s)||M.order!==void 0&&s[N].order!==void 0&&M.order<s[N].order||M.order!==void 0&&s[N].order===void 0)&&(s[N]=M),k},function(){return document.createElement("span")})}),A=new Set(Object.values(s)),y=new Set(ub([],Ey(o),!1).filter(function(x){return!A.has(x)})),f=new Set(ub([],Ey(y),!1).map(function(x){return x.getElement()})),y=(ub([],Ey(f),!1).filter(function(x){return x.parentElement!==null}).forEach(function(x){return x.parentElement.removeChild(x)}),a.rules=Object.values(s),c.filter(function(x){return typeof x=="string"||!f.has(x)}).map(function(x){return typeof x=="string"?new Text(x):x})),C=document.createElement("span");0<y.length?y.forEach(function(x){return C.appendChild(x)}):a.getDefaultAttribution().forEach(function(x){return C.appendChild(x)}),a.virtualContext=C,a.copyrightControl.setOptions({copyrightContent:a.renderContext}),a.applyRules(),a.renderAttribution()},this.applyRules=function(o){o===void 0&&(o=null),a.rules.reduce(function(s,c){return c=c.apply(a.map,o),s||c},!1)&&a.renderAttribution()},this.renderAttribution=function(){var o=function(A){return Array.from(A.style.display!="none"?A.children:[]).map(function(f){return o(f)}).reduce(function(f,y){return ub(ub([],Ey(f),!1),Ey(y),!1)},Array.from(A.style.display!="none"?A.childNodes:[]).filter(function(f){return f.nodeType==f.TEXT_NODE}))},s=a.virtualContext.cloneNode(!0),c=o(s);c.forEach(function(A){return A.textContent=ub([],Ey(UGe),!1).reduce(function(f,y){return f.replace(y,"").trim()},A.textContent)}),c.reduce(function(A,f){return A.has(f.textContent)?(f.textContent="",f.parentElement&&f.parentElement.removeChild(f)):A.add(f.textContent),A},new Set),a.renderContext.innerHTML="",Array.from(s.childNodes).forEach(function(A){return a.renderContext.appendChild(A)})},this.map=e,this.copyrightControl=t,this.options=n}return r.prototype.addToMap=function(){this.map.events.add("stylechanged",this.loadAttributionOnceSourcesLoaded),this.map.events.add("dragend",this.applyRules),this.map.events.add("zoomend",this.applyRules),this.map.events.add("pitchend",this.applyRules)},r.prototype.removeFromMap=function(){this.map.events.remove("stylechanged",this.loadAttributionOnceSourcesLoaded),this.map.events.remove("dragend",this.applyRules),this.map.events.remove("zoomend",this.applyRules),this.map.events.remove("pitchend",this.applyRules)},r.prototype.getDefaultAttribution=function(){return this.copyrightControl.getDefaultAttributions().map(function(e){return e=e,(t=document.createElement("a")).textContent=e,t;var t})},r})(),ese=function(r,e){return(ese=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,n){t.__proto__=n}:function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}))(r,e)};function su(r,e){function t(){this.constructor=r}ese(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hn=function(){return(hn=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)};function g$(r,e){var t={};for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function fr(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,[])).next())})}function pr(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}}function jGe(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o}function nQ(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(jGe(arguments[e]));return r}var tse=function(r,e){return(tse=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,n){t.__proto__=n}:function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}))(r,e)};function bA(r,e){function t(){this.constructor=r}tse(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xa=function(){return(xa=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)};function ii(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,[])).next())})}function ai(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}}function SM(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var Ad,Dl,y_,fi,Fb,NE,UP,FP,Vm,Ql,Mn,tg,Ud,Ca,jP,jb,Uy,PE,Gy,m6,fc,bS,wh,vt={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},pT=[vt.OPENID_SCOPE,vt.PROFILE_SCOPE,vt.OFFLINE_ACCESS_SCOPE],y$=SM(pT,[vt.EMAIL_SCOPE]),Vu=((function(r){r.CONTENT_TYPE="Content-Type",r.RETRY_AFTER="Retry-After",r.CCS_HEADER="X-AnchorMailbox",r.WWWAuthenticate="WWW-Authenticate",r.AuthenticationInfo="Authentication-Info",r.X_MS_REQUEST_ID="x-ms-request-id",r.X_MS_HTTP_VERSION="x-ms-httpver"})(Ad=Ad||{}),(function(r){r.ID_TOKEN="idtoken",r.CLIENT_INFO="client.info",r.ADAL_ID_TOKEN="adal.idtoken",r.ERROR="error",r.ERROR_DESC="error.description",r.ACTIVE_ACCOUNT="active-account",r.ACTIVE_ACCOUNT_FILTERS="active-account-filters"})(Dl=Dl||{}),(function(r){r.COMMON="common",r.ORGANIZATIONS="organizations",r.CONSUMERS="consumers"})(y_=y_||{}),(function(r){r.CLIENT_ID="client_id",r.REDIRECT_URI="redirect_uri",r.RESPONSE_TYPE="response_type",r.RESPONSE_MODE="response_mode",r.GRANT_TYPE="grant_type",r.CLAIMS="claims",r.SCOPE="scope",r.ERROR="error",r.ERROR_DESCRIPTION="error_description",r.ACCESS_TOKEN="access_token",r.ID_TOKEN="id_token",r.REFRESH_TOKEN="refresh_token",r.EXPIRES_IN="expires_in",r.STATE="state",r.NONCE="nonce",r.PROMPT="prompt",r.SESSION_STATE="session_state",r.CLIENT_INFO="client_info",r.CODE="code",r.CODE_CHALLENGE="code_challenge",r.CODE_CHALLENGE_METHOD="code_challenge_method",r.CODE_VERIFIER="code_verifier",r.CLIENT_REQUEST_ID="client-request-id",r.X_CLIENT_SKU="x-client-SKU",r.X_CLIENT_VER="x-client-VER",r.X_CLIENT_OS="x-client-OS",r.X_CLIENT_CPU="x-client-CPU",r.X_CLIENT_CURR_TELEM="x-client-current-telemetry",r.X_CLIENT_LAST_TELEM="x-client-last-telemetry",r.X_MS_LIB_CAPABILITY="x-ms-lib-capability",r.X_APP_NAME="x-app-name",r.X_APP_VER="x-app-ver",r.POST_LOGOUT_URI="post_logout_redirect_uri",r.ID_TOKEN_HINT="id_token_hint",r.DEVICE_CODE="device_code",r.CLIENT_SECRET="client_secret",r.CLIENT_ASSERTION="client_assertion",r.CLIENT_ASSERTION_TYPE="client_assertion_type",r.TOKEN_TYPE="token_type",r.REQ_CNF="req_cnf",r.OBO_ASSERTION="assertion",r.REQUESTED_TOKEN_USE="requested_token_use",r.ON_BEHALF_OF="on_behalf_of",r.FOCI="foci",r.CCS_HEADER="X-AnchorMailbox",r.RETURN_SPA_CODE="return_spa_code",r.NATIVE_BROKER="nativebroker",r.LOGOUT_HINT="logout_hint"})(fi=fi||{}),(function(r){r.ACCESS_TOKEN="access_token",r.XMS_CC="xms_cc"})(Fb=Fb||{}),{LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"}),v$=((function(r){r.ACCOUNT="account",r.SID="sid",r.LOGIN_HINT="login_hint",r.ID_TOKEN="id_token",r.DOMAIN_HINT="domain_hint",r.ORGANIZATIONS="organizations",r.CONSUMERS="consumers",r.ACCOUNT_ID="accountIdentifier",r.HOMEACCOUNT_ID="homeAccountIdentifier"})(NE=NE||{}),{PLAIN:"plain",S256:"S256"}),g6=((function(r){r.QUERY="query",r.FRAGMENT="fragment",r.FORM_POST="form_post"})(UP=UP||{}),(function(r){r.IMPLICIT_GRANT="implicit",r.AUTHORIZATION_CODE_GRANT="authorization_code",r.CLIENT_CREDENTIALS_GRANT="client_credentials",r.RESOURCE_OWNER_PASSWORD_GRANT="password",r.REFRESH_TOKEN_GRANT="refresh_token",r.DEVICE_CODE_GRANT="device_code",r.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"})(FP=FP||{}),(function(r){r.MSSTS_ACCOUNT_TYPE="MSSTS",r.ADFS_ACCOUNT_TYPE="ADFS",r.MSAV1_ACCOUNT_TYPE="MSA",r.GENERIC_ACCOUNT_TYPE="Generic"})(Vm=Vm||{}),(function(r){r.CACHE_KEY_SEPARATOR="-",r.CLIENT_INFO_SEPARATOR="."})(Ql=Ql||{}),(function(r){r.ID_TOKEN="IdToken",r.ACCESS_TOKEN="AccessToken",r.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",r.REFRESH_TOKEN="RefreshToken"})(Mn=Mn||{}),(function(r){r[r.ADFS=1001]="ADFS",r[r.MSA=1002]="MSA",r[r.MSSTS=1003]="MSSTS",r[r.GENERIC=1004]="GENERIC",r[r.ACCESS_TOKEN=2001]="ACCESS_TOKEN",r[r.REFRESH_TOKEN=2002]="REFRESH_TOKEN",r[r.ID_TOKEN=2003]="ID_TOKEN",r[r.APP_METADATA=3001]="APP_METADATA",r[r.UNDEFINED=9999]="UNDEFINED"})(tg=tg||{}),"appmetadata"),QGe="client_info",OE="1",ME={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},$c=((function(r){r.CONFIG="config",r.CACHE="cache",r.NETWORK="network",r.HARDCODED_VALUES="hardcoded_values"})(Ud=Ud||{}),{SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"}),LE=((function(r){r.BEARER="Bearer",r.POP="pop",r.SSH="ssh-cert"})(Ca=Ca||{}),{DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"}),_$={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},UI=((function(r){r.username="username",r.password="password"})(jP=jP||{}),(function(r){r[r.httpSuccess=200]="httpSuccess",r[r.httpBadRequest=400]="httpBadRequest"})(jb=jb||{}),(function(r){r.FAILED_AUTO_DETECTION="1",r.INTERNAL_CACHE="2",r.ENVIRONMENT_VARIABLE="3",r.IMDS="4"})(Uy=Uy||{}),(function(r){r.CONFIGURED_MATCHES_DETECTED="1",r.CONFIGURED_NO_AUTO_DETECTION="2",r.CONFIGURED_NOT_DETECTED="3",r.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",r.AUTO_DETECTION_REQUESTED_FAILED="5"})(PE=PE||{}),(function(r){r.NO_CACHE_HIT="0",r.FORCE_REFRESH="1",r.NO_CACHED_ACCESS_TOKEN="2",r.CACHED_ACCESS_TOKEN_EXPIRED="3",r.REFRESH_CACHED_ACCESS_TOKEN="4",r.CLAIMS_REQUESTED_CACHE_SKIPPED="5"})(Gy=Gy||{}),(function(r){r.Jwt="JWT",r.Jwk="JWK",r.Pop="pop"})(m6=m6||{}),{unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."},postRequestFailed:{code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."}}),fn=(function(r){function e(t,n,i){var a=this,a=r.call(this,n?t+": "+n:t)||this;return Object.setPrototypeOf(a,e.prototype),a.errorCode=t||vt.EMPTY_STRING,a.errorMessage=n||vt.EMPTY_STRING,a.subError=i||vt.EMPTY_STRING,a.name="AuthError",a}return bA(e,r),e.prototype.setCorrelationId=function(t){this.correlationId=t},e.createUnexpectedError=function(t){return new e(UI.unexpectedError.code,UI.unexpectedError.desc+": "+t)},e.createPostRequestFailed=function(t){return new e(UI.postRequestFailed.code,UI.postRequestFailed.desc+": "+t)},e})(Error),QP={createNewGuid:function(){throw fn.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw fn.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw fn.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}},wr={clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoEmptyError:{code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},tokenParsingError:{code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},nullOrEmptyToken:{code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},networkError:{code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},unableToGetOpenidConfigError:{code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},hashNotDeserialized:{code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},invalidStateError:{code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},stateMismatchError:{code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},stateNotFoundError:{code:"state_not_found",desc:"State not found"},nonceMismatchError:{code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},nonceNotFoundError:{code:"nonce_not_found",desc:"nonce not found"},authTimeNotFoundError:{code:"auth_time_not_found",desc:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information."},maxAgeTranspiredError:{code:"max_age_transpired",desc:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication."},multipleMatchingTokens:{code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},multipleMatchingAccounts:{code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},multipleMatchingAppMetadata:{code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},tokenRequestCannotBeMade:{code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},appendEmptyScopeError:{code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},removeEmptyScopeError:{code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},appendScopeSetError:{code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},emptyInputScopeSetError:{code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},DeviceCodePollingCancelled:{code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},DeviceCodeExpired:{code:"device_code_expired",desc:"Device code is expired."},DeviceCodeUnknownError:{code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},NoAccountInSilentRequest:{code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},invalidCacheRecord:{code:"invalid_cache_record",desc:"Cache record object was null or undefined."},invalidCacheEnvironment:{code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},noAccountFound:{code:"no_account_found",desc:"No account found in cache for given key."},CachePluginError:{code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},noCryptoObj:{code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},unexpectedAccountType:{code:"unexpected_account_type",desc:"Unexpected account type."},unexpectedCredentialType:{code:"unexpected_credential_type",desc:"Unexpected credential type."},invalidAssertion:{code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},invalidClientCredential:{code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},tokenRefreshRequired:{code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},userTimeoutReached:{code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},tokenClaimsRequired:{code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},noAuthorizationCodeFromServer:{code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},bindingKeyNotRemovedError:{code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},logoutNotSupported:{code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},keyIdMissing:{code:"key_id_missing",desc:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},userCanceledError:{code:"user_canceled",desc:"User canceled the flow."}},Zr=(function(r){function e(t,n){return t=r.call(this,t,n)||this,t.name="ClientAuthError",Object.setPrototypeOf(t,e.prototype),t}return bA(e,r),e.createClientInfoDecodingError=function(t){return new e(wr.clientInfoDecodingError.code,wr.clientInfoDecodingError.desc+" Failed with error: "+t)},e.createClientInfoEmptyError=function(){return new e(wr.clientInfoEmptyError.code,""+wr.clientInfoEmptyError.desc)},e.createTokenParsingError=function(t){return new e(wr.tokenParsingError.code,wr.tokenParsingError.desc+" Failed with error: "+t)},e.createTokenNullOrEmptyError=function(t){return new e(wr.nullOrEmptyToken.code,wr.nullOrEmptyToken.desc+" Raw Token Value: "+t)},e.createEndpointDiscoveryIncompleteError=function(t){return new e(wr.endpointResolutionError.code,wr.endpointResolutionError.desc+" Detail: "+t)},e.createNetworkError=function(t,n){return new e(wr.networkError.code,wr.networkError.desc+" | Fetch client threw: "+n+" | Attempted to reach: "+t.split("?")[0])},e.createUnableToGetOpenidConfigError=function(t){return new e(wr.unableToGetOpenidConfigError.code,wr.unableToGetOpenidConfigError.desc+" Attempted to retrieve endpoints from: "+t)},e.createHashNotDeserializedError=function(t){return new e(wr.hashNotDeserialized.code,wr.hashNotDeserialized.desc+" Given Object: "+t)},e.createInvalidStateError=function(t,n){return new e(wr.invalidStateError.code,wr.invalidStateError.desc+" Invalid State: "+t+", Root Err: "+n)},e.createStateMismatchError=function(){return new e(wr.stateMismatchError.code,wr.stateMismatchError.desc)},e.createStateNotFoundError=function(t){return new e(wr.stateNotFoundError.code,wr.stateNotFoundError.desc+":  "+t)},e.createNonceMismatchError=function(){return new e(wr.nonceMismatchError.code,wr.nonceMismatchError.desc)},e.createAuthTimeNotFoundError=function(){return new e(wr.authTimeNotFoundError.code,wr.authTimeNotFoundError.desc)},e.createMaxAgeTranspiredError=function(){return new e(wr.maxAgeTranspiredError.code,wr.maxAgeTranspiredError.desc)},e.createNonceNotFoundError=function(t){return new e(wr.nonceNotFoundError.code,wr.nonceNotFoundError.desc+":  "+t)},e.createMultipleMatchingTokensInCacheError=function(){return new e(wr.multipleMatchingTokens.code,wr.multipleMatchingTokens.desc+".")},e.createMultipleMatchingAccountsInCacheError=function(){return new e(wr.multipleMatchingAccounts.code,wr.multipleMatchingAccounts.desc)},e.createMultipleMatchingAppMetadataInCacheError=function(){return new e(wr.multipleMatchingAppMetadata.code,wr.multipleMatchingAppMetadata.desc)},e.createTokenRequestCannotBeMadeError=function(){return new e(wr.tokenRequestCannotBeMade.code,wr.tokenRequestCannotBeMade.desc)},e.createAppendEmptyScopeToSetError=function(t){return new e(wr.appendEmptyScopeError.code,wr.appendEmptyScopeError.desc+" Given Scope: "+t)},e.createRemoveEmptyScopeFromSetError=function(t){return new e(wr.removeEmptyScopeError.code,wr.removeEmptyScopeError.desc+" Given Scope: "+t)},e.createAppendScopeSetError=function(t){return new e(wr.appendScopeSetError.code,wr.appendScopeSetError.desc+" Detail Error: "+t)},e.createEmptyInputScopeSetError=function(){return new e(wr.emptyInputScopeSetError.code,""+wr.emptyInputScopeSetError.desc)},e.createDeviceCodeCancelledError=function(){return new e(wr.DeviceCodePollingCancelled.code,""+wr.DeviceCodePollingCancelled.desc)},e.createDeviceCodeExpiredError=function(){return new e(wr.DeviceCodeExpired.code,""+wr.DeviceCodeExpired.desc)},e.createDeviceCodeUnknownError=function(){return new e(wr.DeviceCodeUnknownError.code,""+wr.DeviceCodeUnknownError.desc)},e.createNoAccountInSilentRequestError=function(){return new e(wr.NoAccountInSilentRequest.code,""+wr.NoAccountInSilentRequest.desc)},e.createNullOrUndefinedCacheRecord=function(){return new e(wr.invalidCacheRecord.code,wr.invalidCacheRecord.desc)},e.createInvalidCacheEnvironmentError=function(){return new e(wr.invalidCacheEnvironment.code,wr.invalidCacheEnvironment.desc)},e.createNoAccountFoundError=function(){return new e(wr.noAccountFound.code,wr.noAccountFound.desc)},e.createCachePluginError=function(){return new e(wr.CachePluginError.code,""+wr.CachePluginError.desc)},e.createNoCryptoObjectError=function(t){return new e(wr.noCryptoObj.code,""+wr.noCryptoObj.desc+t)},e.createInvalidCacheTypeError=function(){return new e(wr.invalidCacheType.code,""+wr.invalidCacheType.desc)},e.createUnexpectedAccountTypeError=function(){return new e(wr.unexpectedAccountType.code,""+wr.unexpectedAccountType.desc)},e.createUnexpectedCredentialTypeError=function(){return new e(wr.unexpectedCredentialType.code,""+wr.unexpectedCredentialType.desc)},e.createInvalidAssertionError=function(){return new e(wr.invalidAssertion.code,""+wr.invalidAssertion.desc)},e.createInvalidCredentialError=function(){return new e(wr.invalidClientCredential.code,""+wr.invalidClientCredential.desc)},e.createRefreshRequiredError=function(){return new e(wr.tokenRefreshRequired.code,wr.tokenRefreshRequired.desc)},e.createUserTimeoutReachedError=function(){return new e(wr.userTimeoutReached.code,wr.userTimeoutReached.desc)},e.createTokenClaimsRequiredError=function(){return new e(wr.tokenClaimsRequired.code,wr.tokenClaimsRequired.desc)},e.createNoAuthCodeInServerResponseError=function(){return new e(wr.noAuthorizationCodeFromServer.code,wr.noAuthorizationCodeFromServer.desc)},e.createBindingKeyNotRemovedError=function(){return new e(wr.bindingKeyNotRemovedError.code,wr.bindingKeyNotRemovedError.desc)},e.createLogoutNotSupportedError=function(){return new e(wr.logoutNotSupported.code,wr.logoutNotSupported.desc)},e.createKeyIdMissingError=function(){return new e(wr.keyIdMissing.code,wr.keyIdMissing.desc)},e.createNoNetworkConnectivityError=function(){return new e(wr.noNetworkConnectivity.code,wr.noNetworkConnectivity.desc)},e.createUserCanceledError=function(){return new e(wr.userCanceledError.code,wr.userCanceledError.desc)},e})(fn),Yr=(function(){function r(){}return r.decodeAuthToken=function(e){if(r.isEmpty(e))throw Zr.createTokenNullOrEmptyError(e);var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Zr.createTokenParsingError("Given token is malformed: "+JSON.stringify(e));return{header:t[1],JWSPayload:t[2],JWSSig:t[3]}},r.isEmpty=function(e){return e===void 0||!e||e.length===0},r.isEmptyObj=function(e){if(e&&!r.isEmpty(e))try{var t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0},r.startsWith=function(e,t){return e.indexOf(t)===0},r.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},r.queryStringToObject=function(i){function t(a){return decodeURIComponent(a.replace(/\+/g," "))}var n={},i=i.split("&");return i.forEach(function(a){var o;a.trim()&&(o=(a=a.split(/=(.+)/g,2))[0],a=a[1],o)&&a&&(n[t(o)]=t(a))}),n},r.trimArrayEntries=function(e){return e.map(function(t){return t.trim()})},r.removeEmptyStringsFromArray=function(e){return e.filter(function(t){return!r.isEmpty(t)})},r.jsonParseHelper=function(e){try{return JSON.parse(e)}catch{return null}},r.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},r})(),iQ=((function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(fc=fc||{}),(function(){function r(e,t,n){this.level=fc.Info,e=e||r.createDefaultLoggerOptions(),this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level=typeof e.logLevel=="number"?e.logLevel:fc.Info,this.correlationId=e.correlationId||vt.EMPTY_STRING,this.packageName=t||vt.EMPTY_STRING,this.packageVersion=n||vt.EMPTY_STRING}return r.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:fc.Info}},r.prototype.clone=function(e,t,n){return new r({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)},r.prototype.logMessage=function(e,t){var n;t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii||(n=new Date().toUTCString(),n=(Yr.isEmpty(t.correlationId)?Yr.isEmpty(this.correlationId)?"["+n+"]":"["+n+"] : ["+this.correlationId+"]":"["+n+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+fc[t.logLevel]+" - "+e,this.executeCallback(t.logLevel,n,t.containsPii||!1))},r.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},r.prototype.error=function(e,t){this.logMessage(e,{logLevel:fc.Error,containsPii:!1,correlationId:t||vt.EMPTY_STRING})},r.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:fc.Error,containsPii:!0,correlationId:t||vt.EMPTY_STRING})},r.prototype.warning=function(e,t){this.logMessage(e,{logLevel:fc.Warning,containsPii:!1,correlationId:t||vt.EMPTY_STRING})},r.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:fc.Warning,containsPii:!0,correlationId:t||vt.EMPTY_STRING})},r.prototype.info=function(e,t){this.logMessage(e,{logLevel:fc.Info,containsPii:!1,correlationId:t||vt.EMPTY_STRING})},r.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:fc.Info,containsPii:!0,correlationId:t||vt.EMPTY_STRING})},r.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:fc.Verbose,containsPii:!1,correlationId:t||vt.EMPTY_STRING})},r.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:fc.Verbose,containsPii:!0,correlationId:t||vt.EMPTY_STRING})},r.prototype.trace=function(e,t){this.logMessage(e,{logLevel:fc.Trace,containsPii:!1,correlationId:t||vt.EMPTY_STRING})},r.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:fc.Trace,containsPii:!0,correlationId:t||vt.EMPTY_STRING})},r.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},r})()),rse="@azure/msal-common",aQ="13.3.1",ri=((function(r){r[r.None=0]="None",r.AzurePublic="https://login.microsoftonline.com",r.AzurePpe="https://login.windows-ppe.net",r.AzureChina="https://login.chinacloudapi.cn",r.AzureGermany="https://login.microsoftonline.de",r.AzureUsGovernment="https://login.microsoftonline.us"})(bS=bS||{}),{redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},claimsRequestParsingError:{code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},authorityUriInsecure:{code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},urlParseError:{code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},urlEmptyError:{code:"empty_url_error",desc:"URL was empty or null."},emptyScopesError:{code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},clientIdSingleScopeError:{code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},invalidPrompt:{code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},invalidClaimsRequest:{code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},tokenRequestEmptyError:{code:"token_request_empty",desc:"Token request was empty and not found in cache."},logoutRequestEmptyError:{code:"logout_request_empty",desc:"The logout request was null or undefined."},invalidCodeChallengeMethod:{code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},invalidCodeChallengeParams:{code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},invalidCloudDiscoveryMetadata:{code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},invalidAuthorityMetadata:{code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},untrustedAuthority:{code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},invalidAzureCloudInstance:{code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},missingSshJwk:{code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},missingSshKid:{code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},missingNonceAuthenticationHeader:{code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},invalidAuthenticationHeader:{code:"invalid_authentication_header",desc:"Invalid authentication header provided"},authorityMismatch:{code:"authority_mismatch",desc:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."}}),_o=(function(r){function e(t,n){return t=r.call(this,t,n)||this,t.name="ClientConfigurationError",Object.setPrototypeOf(t,e.prototype),t}return bA(e,r),e.createRedirectUriEmptyError=function(){return new e(ri.redirectUriNotSet.code,ri.redirectUriNotSet.desc)},e.createPostLogoutRedirectUriEmptyError=function(){return new e(ri.postLogoutUriNotSet.code,ri.postLogoutUriNotSet.desc)},e.createClaimsRequestParsingError=function(t){return new e(ri.claimsRequestParsingError.code,ri.claimsRequestParsingError.desc+" Given value: "+t)},e.createInsecureAuthorityUriError=function(t){return new e(ri.authorityUriInsecure.code,ri.authorityUriInsecure.desc+" Given URI: "+t)},e.createUrlParseError=function(t){return new e(ri.urlParseError.code,ri.urlParseError.desc+" Given Error: "+t)},e.createUrlEmptyError=function(){return new e(ri.urlEmptyError.code,ri.urlEmptyError.desc)},e.createEmptyScopesArrayError=function(){return new e(ri.emptyScopesError.code,""+ri.emptyScopesError.desc)},e.createClientIdSingleScopeError=function(t){return new e(ri.clientIdSingleScopeError.code,ri.clientIdSingleScopeError.desc+" Given Scopes: "+t)},e.createInvalidPromptError=function(t){return new e(ri.invalidPrompt.code,ri.invalidPrompt.desc+" Given value: "+t)},e.createInvalidClaimsRequestError=function(){return new e(ri.invalidClaimsRequest.code,ri.invalidClaimsRequest.desc)},e.createEmptyLogoutRequestError=function(){return new e(ri.logoutRequestEmptyError.code,ri.logoutRequestEmptyError.desc)},e.createEmptyTokenRequestError=function(){return new e(ri.tokenRequestEmptyError.code,ri.tokenRequestEmptyError.desc)},e.createInvalidCodeChallengeMethodError=function(){return new e(ri.invalidCodeChallengeMethod.code,ri.invalidCodeChallengeMethod.desc)},e.createInvalidCodeChallengeParamsError=function(){return new e(ri.invalidCodeChallengeParams.code,ri.invalidCodeChallengeParams.desc)},e.createInvalidCloudDiscoveryMetadataError=function(){return new e(ri.invalidCloudDiscoveryMetadata.code,ri.invalidCloudDiscoveryMetadata.desc)},e.createInvalidAuthorityMetadataError=function(){return new e(ri.invalidAuthorityMetadata.code,ri.invalidAuthorityMetadata.desc)},e.createUntrustedAuthorityError=function(){return new e(ri.untrustedAuthority.code,ri.untrustedAuthority.desc)},e.createInvalidAzureCloudInstanceError=function(){return new e(ri.invalidAzureCloudInstance.code,ri.invalidAzureCloudInstance.desc)},e.createMissingSshJwkError=function(){return new e(ri.missingSshJwk.code,ri.missingSshJwk.desc)},e.createMissingSshKidError=function(){return new e(ri.missingSshKid.code,ri.missingSshKid.desc)},e.createMissingNonceAuthenticationHeadersError=function(){return new e(ri.missingNonceAuthenticationHeader.code,ri.missingNonceAuthenticationHeader.desc)},e.createInvalidAuthenticationHeaderError=function(t,n){return new e(ri.invalidAuthenticationHeader.code,ri.invalidAuthenticationHeader.desc+". Invalid header: "+t+". Details: "+n)},e.createAuthorityMismatchError=function(){return new e(ri.authorityMismatch.code,ri.authorityMismatch.desc)},e})(Zr),qu=(function(){function r(n){var t=this,n=n?Yr.trimArrayEntries(SM(n)):[],n=n?Yr.removeEmptyStringsFromArray(n):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(function(i){return t.scopes.add(i)})}return r.fromString=function(e){return new r((e||vt.EMPTY_STRING).split(" "))},r.createSearchScopes=function(e){return e=new r(e),e.containsOnlyOIDCScopes()?e.removeScope(vt.OFFLINE_ACCESS_SCOPE):e.removeOIDCScopes(),e},r.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw _o.createEmptyScopesArrayError()},r.prototype.containsScope=function(e){var t=new r(this.printScopesLowerCase().split(" "));return!Yr.isEmpty(e)&&t.scopes.has(e.toLowerCase())},r.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(function(n){return t.containsScope(n)})},r.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return y$.forEach(function(n){e.containsScope(n)&&(t+=1)}),this.scopes.size===t},r.prototype.appendScope=function(e){Yr.isEmpty(e)||this.scopes.add(e.trim())},r.prototype.appendScopes=function(e){var t=this;try{e.forEach(function(n){return t.appendScope(n)})}catch(n){throw Zr.createAppendScopeSetError(n)}},r.prototype.removeScope=function(e){if(Yr.isEmpty(e))throw Zr.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},r.prototype.removeOIDCScopes=function(){var e=this;y$.forEach(function(t){e.scopes.delete(t)})},r.prototype.unionScopeSets=function(e){var t;if(e)return t=new Set,e.scopes.forEach(function(n){return t.add(n.toLowerCase())}),this.scopes.forEach(function(n){return t.add(n.toLowerCase())}),t;throw Zr.createEmptyInputScopeSetError()},r.prototype.intersectingScopeSets=function(n){if(!n)throw Zr.createEmptyInputScopeSetError();n.containsOnlyOIDCScopes()||n.removeOIDCScopes();var t=this.unionScopeSets(n),n=n.getScopeCount(),i=this.getScopeCount();return t.size<i+n},r.prototype.getScopeCount=function(){return this.scopes.size},r.prototype.asArray=function(){var e=[];return this.scopes.forEach(function(t){return e.push(t)}),e},r.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):vt.EMPTY_STRING},r.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},r})();function HP(r,e){if(Yr.isEmpty(r))throw Zr.createClientInfoEmptyError();try{var t=e.base64Decode(r);return JSON.parse(t)}catch(n){throw Zr.createClientInfoDecodingError(n.message)}}function Qb(r){if(Yr.isEmpty(r))throw Zr.createClientInfoDecodingError("Home account ID was empty.");return r=r.split(Ql.CLIENT_INFO_SEPARATOR,2),{uid:r[0],utid:r.length<2?vt.EMPTY_STRING:r[1]}}(function(r){r[r.Default=0]="Default",r[r.Adfs=1]="Adfs",r[r.Dsts=2]="Dsts",r[r.Ciam=3]="Ciam"})(wh=wh||{});var nu=(function(){function r(){}return r.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(Ql.CACHE_KEY_SEPARATOR).toLowerCase()},r.prototype.generateAccountKey=function(){return r.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},r.prototype.generateType=function(){switch(this.authorityType){case Vm.ADFS_ACCOUNT_TYPE:return tg.ADFS;case Vm.MSAV1_ACCOUNT_TYPE:return tg.MSA;case Vm.MSSTS_ACCOUNT_TYPE:return tg.MSSTS;case Vm.GENERIC_ACCOUNT_TYPE:return tg.GENERIC;default:throw Zr.createUnexpectedAccountTypeError()}},r.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},r.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||vt.EMPTY_STRING,e.tenantId||vt.EMPTY_STRING].join(Ql.CACHE_KEY_SEPARATOR).toLowerCase()},r.createAccount=function(f,t,n,i,a,o,s,c){var A=new r,f=(A.authorityType=Vm.MSSTS_ACCOUNT_TYPE,A.clientInfo=f,A.homeAccountId=t,A.nativeAccountId=c,s||i&&i.getPreferredCache());if(f)return A.environment=f,A.realm=((t=n?.claims)==null?void 0:t.tid)||vt.EMPTY_STRING,n&&(A.idTokenClaims=n.claims,A.localAccountId=((c=n?.claims)==null?void 0:c.oid)||((s=n?.claims)==null?void 0:s.sub)||vt.EMPTY_STRING,f=(i=n?.claims)==null?void 0:i.preferred_username,c=(t=n?.claims)!=null&&t.emails?n.claims.emails[0]:null,A.username=f||c||vt.EMPTY_STRING,A.name=(s=n?.claims)==null?void 0:s.name),A.cloudGraphHostName=a,A.msGraphHost=o,A;throw Zr.createInvalidCacheEnvironmentError()},r.createGenericAccount=function(c,t,n,i,a,o){var s=new r,c=(s.authorityType=n&&n.authorityType===wh.Adfs?Vm.ADFS_ACCOUNT_TYPE:Vm.GENERIC_ACCOUNT_TYPE,s.homeAccountId=c,s.realm=vt.EMPTY_STRING,o||n&&n.getPreferredCache());if(c)return t&&(s.localAccountId=((o=t?.claims)==null?void 0:o.oid)||((n=t?.claims)==null?void 0:n.sub)||vt.EMPTY_STRING,s.username=((o=t?.claims)==null?void 0:o.upn)||vt.EMPTY_STRING,s.name=((n=t?.claims)==null?void 0:n.name)||vt.EMPTY_STRING,s.idTokenClaims=t?.claims),s.environment=c,s.cloudGraphHostName=i,s.msGraphHost=a,s;throw Zr.createInvalidCacheEnvironmentError()},r.generateHomeAccountId=function(e,t,n,i,a){var o=(o=a?.claims)!=null&&o.sub?a.claims.sub:vt.EMPTY_STRING;if(t!==wh.Adfs&&t!==wh.Dsts){if(e)try{var s=HP(e,i);if(!Yr.isEmpty(s.uid)&&!Yr.isEmpty(s.utid))return""+s.uid+Ql.CLIENT_INFO_SEPARATOR+s.utid}catch{}n.verbose("No client info in response")}return o},r.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},r.accountInfoIsEqual=function(e,t,n){var i,a;return!(!e||!t)&&(a=!0,n&&(n=e.idTokenClaims||{},i=t.idTokenClaims||{},a=n.iat===i.iat&&n.nonce===i.nonce),e.homeAccountId===t.homeAccountId)&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&a},r})(),nm=(function(){function r(e,t){if(Yr.isEmpty(e))throw Zr.createTokenNullOrEmptyError(e);this.rawToken=e,this.claims=r.extractTokenClaims(e,t)}return r.extractTokenClaims=function(e,t){e=Yr.decodeAuthToken(e);try{var n=e.JWSPayload,i=t.base64Decode(n);return JSON.parse(i)}catch(a){throw Zr.createTokenParsingError(a)}},r.checkMaxAge=function(e,t){if(t===0||Date.now()-3e5>e+t)throw Zr.createMaxAgeTranspiredError()},r})(),iA=(function(){function r(e,t,n){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(rse,aQ)}return r.prototype.getAllAccounts=function(){var e=this,t=this.getAccountKeys();return t.length<1||(t=t.reduce(function(n,i){return i=e.getAccount(i),i&&n.push(i),n},[])).length<1?[]:t.map(function(n){return e.getAccountInfoFromEntity(n)})},r.prototype.getAccountInfoFilteredBy=function(e){return e=this.getAccountsFilteredBy(e),0<e.length?this.getAccountInfoFromEntity(e[0]):null},r.prototype.getAccountInfoFromEntity=function(t){var t=t.getAccountInfo(),n=this.getIdToken(t);return n&&(t.idToken=n.secret,t.idTokenClaims=new nm(n.secret,this.cryptoImpl).claims),t},r.prototype.saveCacheRecord=function(e){return ii(this,void 0,void 0,function(){return ai(this,function(t){switch(t.label){case 0:if(e)return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];throw Zr.createNullOrUndefinedCacheRecord();case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}})})},r.prototype.saveAccessToken=function(e){return ii(this,void 0,void 0,function(){var t,n,i,a,o=this;return ai(this,function(s){switch(s.label){case 0:return t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=qu.fromString(e.target),a=[],n.accessToken.forEach(function(c){var A;o.accessTokenKeyMatchesFilter(c,t,!1)&&(A=o.getAccessTokenCredential(c))&&o.credentialMatchesFilter(A,t)&&qu.fromString(A.target).intersectingScopeSets(i)&&a.push(o.removeAccessToken(c))}),[4,Promise.all(a)];case 1:return s.sent(),this.setAccessTokenCredential(e),[2]}})})},r.prototype.getAccountsFilteredBy=function(e){var t=this,n=this.getAccountKeys(),i=[];return n.forEach(function(a){!t.isAccountKey(a,e.homeAccountId,e.realm)||!(a=t.getAccount(a))||e.homeAccountId&&!t.matchHomeAccountId(a,e.homeAccountId)||e.localAccountId&&!t.matchLocalAccountId(a,e.localAccountId)||e.username&&!t.matchUsername(a,e.username)||e.environment&&!t.matchEnvironment(a,e.environment)||e.realm&&!t.matchRealm(a,e.realm)||e.nativeAccountId&&!t.matchNativeAccountId(a,e.nativeAccountId)||i.push(a)}),i},r.prototype.isAccountKey=function(e,t,n){return!(e.split(Ql.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))},r.prototype.isCredentialKey=function(e){if(e.split(Ql.CACHE_KEY_SEPARATOR).length<6||(e=e.toLowerCase(),e.indexOf(Mn.ID_TOKEN.toLowerCase())===-1&&e.indexOf(Mn.ACCESS_TOKEN.toLowerCase())===-1&&e.indexOf(Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&e.indexOf(Mn.REFRESH_TOKEN.toLowerCase())===-1))return!1;if(-1<e.indexOf(Mn.REFRESH_TOKEN.toLowerCase())){var t=""+Mn.REFRESH_TOKEN+Ql.CACHE_KEY_SEPARATOR+this.clientId+Ql.CACHE_KEY_SEPARATOR,n=""+Mn.REFRESH_TOKEN+Ql.CACHE_KEY_SEPARATOR+OE+Ql.CACHE_KEY_SEPARATOR;if(e.indexOf(t.toLowerCase())===-1&&e.indexOf(n.toLowerCase())===-1)return!1}else if(e.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0},r.prototype.credentialMatchesFilter=function(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===Ca.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))},r.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},r.prototype.getAppMetadataFilteredByInternal=function(e,t){var n=this,i=this.getKeys(),a={};return i.forEach(function(o){var s;!n.isAppMetadata(o)||!(s=n.getAppMetadata(o))||e&&!n.matchEnvironment(s,e)||t&&!n.matchClientId(s,t)||(a[o]=s)}),a},r.prototype.getAuthorityMetadataByAlias=function(e){var t=this,n=this.getAuthorityMetadataKeys(),i=null;return n.forEach(function(a){t.isAuthorityMetadata(a)&&a.indexOf(t.clientId)!==-1&&(a=t.getAuthorityMetadata(a))&&a.aliases.indexOf(e)!==-1&&(i=a)}),i},r.prototype.removeAllAccounts=function(){return ii(this,void 0,void 0,function(){var e,t,n=this;return ai(this,function(i){switch(i.label){case 0:return e=this.getAccountKeys(),t=[],e.forEach(function(a){t.push(n.removeAccount(a))}),[4,Promise.all(t)];case 1:return i.sent(),[2]}})})},r.prototype.removeAccount=function(e){return ii(this,void 0,void 0,function(){var t;return ai(this,function(n){switch(n.label){case 0:if(t=this.getAccount(e))return[4,this.removeAccountContext(t)];throw Zr.createNoAccountFoundError();case 1:return n.sent(),this.removeItem(e),[2]}})})},r.prototype.removeAccountContext=function(e){return ii(this,void 0,void 0,function(){var t,n,i,a=this;return ai(this,function(o){switch(o.label){case 0:return t=this.getTokenKeys(),n=e.generateAccountId(),i=[],t.idToken.forEach(function(s){s.indexOf(n)===0&&a.removeIdToken(s)}),t.accessToken.forEach(function(s){s.indexOf(n)===0&&i.push(a.removeAccessToken(s))}),t.refreshToken.forEach(function(s){s.indexOf(n)===0&&a.removeRefreshToken(s)}),[4,Promise.all(i)];case 1:return o.sent(),[2]}})})},r.prototype.removeAccessToken=function(e){return ii(this,void 0,void 0,function(){var t;return ai(this,function(n){switch(n.label){case 0:if(!(t=this.getAccessTokenCredential(e)))return[2];if(t.credentialType.toLowerCase()!==Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==Ca.POP)return[3,4];if(!(t=t.keyId))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(t)];case 2:return n.sent(),[3,4];case 3:throw n.sent(),Zr.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e)]}})})},r.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach(function(t){e.isAppMetadata(t)&&e.removeItem(t)}),!0},r.prototype.readCacheRecord=function(s,o,n){var c=this.getTokenKeys(),i=this.readAccountFromCache(s),a=this.getIdToken(s,c),o=this.getAccessToken(s,o,c),s=this.getRefreshToken(s,!1,c),c=this.readAppMetadataFromCache(n);return i&&a&&(i.idTokenClaims=new nm(a.secret,this.cryptoImpl).claims),{account:i,idToken:a,accessToken:o,refreshToken:s,appMetadata:c}},r.prototype.readAccountFromCache=function(e){return e=nu.generateAccountCacheKey(e),this.getAccount(e)},r.prototype.getIdToken=function(i,a){var n=this,i=(this.commonLogger.trace("CacheManager - getIdToken called"),{homeAccountId:i.homeAccountId,environment:i.environment,credentialType:Mn.ID_TOKEN,clientId:this.clientId,realm:i.tenantId}),i=this.getIdTokensByFilter(i,a),a=i.length;return a<1?(this.commonLogger.info("CacheManager:getIdToken - No token found"),null):1<a?(this.commonLogger.info("CacheManager:getIdToken - Multiple id tokens found, clearing them"),i.forEach(function(o){n.removeIdToken(o.generateCredentialKey())}),null):(this.commonLogger.info("CacheManager:getIdToken - Returning id token"),i[0])},r.prototype.getIdTokensByFilter=function(e,i){var n=this,i=i&&i.idToken||this.getTokenKeys().idToken,a=[];return i.forEach(function(o){n.idTokenKeyMatchesFilter(o,xa({clientId:n.clientId},e))&&(o=n.getIdTokenCredential(o))&&n.credentialMatchesFilter(o,e)&&a.push(o)}),a},r.prototype.idTokenKeyMatchesFilter=function(e,t){return e=e.toLowerCase(),!(t.clientId&&e.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&e.indexOf(t.homeAccountId.toLowerCase())===-1)},r.prototype.removeIdToken=function(e){this.removeItem(e)},r.prototype.removeRefreshToken=function(e){this.removeItem(e)},r.prototype.getAccessToken=function(f,t,n){var i=this,a=(this.commonLogger.trace("CacheManager - getAccessToken called"),qu.createSearchScopes(t.scopes)),o=t.authenticationScheme||Ca.BEARER,c=o&&o.toLowerCase()!==Ca.BEARER.toLowerCase()?Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:Mn.ACCESS_TOKEN,s={homeAccountId:f.homeAccountId,environment:f.environment,credentialType:c,clientId:this.clientId,realm:f.tenantId,target:a,tokenType:o,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},c=n&&n.accessToken||this.getTokenKeys().accessToken,A=[],f=(c.forEach(function(y){i.accessTokenKeyMatchesFilter(y,s,!0)&&(y=i.getAccessTokenCredential(y))&&i.credentialMatchesFilter(y,s)&&A.push(y)}),A.length);return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):1<f?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),A.forEach(function(y){i.removeAccessToken(y.generateCredentialKey())}),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),A[0])},r.prototype.accessTokenKeyMatchesFilter=function(e,t,n){var i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target)for(var a=t.target.asArray(),o=0;o<a.length;o++){if(n&&!i.includes(a[o].toLowerCase()))return!1;if(!n&&i.includes(a[o].toLowerCase()))return!0}return!0},r.prototype.getAccessTokensByFilter=function(e){var t=this,n=this.getTokenKeys(),i=[];return n.accessToken.forEach(function(a){t.accessTokenKeyMatchesFilter(a,e,!0)&&(a=t.getAccessTokenCredential(a))&&t.credentialMatchesFilter(a,e)&&i.push(a)}),i},r.prototype.getRefreshToken=function(s,a,n){var i=this,a=(this.commonLogger.trace("CacheManager - getRefreshToken called"),a?OE:void 0),o={homeAccountId:s.homeAccountId,environment:s.environment,credentialType:Mn.REFRESH_TOKEN,clientId:this.clientId,familyId:a},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];return s.forEach(function(A){i.refreshTokenKeyMatchesFilter(A,o)&&(A=i.getRefreshTokenCredential(A))&&i.credentialMatchesFilter(A,o)&&c.push(A)}),c.length<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])},r.prototype.refreshTokenKeyMatchesFilter=function(e,t){return e=e.toLowerCase(),!(t.familyId&&e.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&e.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&e.indexOf(t.homeAccountId.toLowerCase())===-1)},r.prototype.readAppMetadataFromCache=function(n){var n={environment:n,clientId:this.clientId},t=this.getAppMetadataFilteredBy(n),n=Object.keys(t).map(function(a){return t[a]}),i=n.length;if(i<1)return null;if(1<i)throw Zr.createMultipleMatchingAppMetadataInCacheError();return n[0]},r.prototype.isAppMetadataFOCI=function(e){return e=this.readAppMetadataFromCache(e),!(!e||e.familyId!==OE)},r.prototype.matchHomeAccountId=function(e,t){return!(typeof e.homeAccountId!="string"||t!==e.homeAccountId)},r.prototype.matchLocalAccountId=function(e,t){return!(typeof e.localAccountId!="string"||t!==e.localAccountId)},r.prototype.matchUsername=function(e,t){return!(typeof e.username!="string"||t.toLowerCase()!==e.username.toLowerCase())},r.prototype.matchUserAssertionHash=function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)},r.prototype.matchEnvironment=function(e,t){return t=this.getAuthorityMetadataByAlias(t),!!(t&&-1<t.aliases.indexOf(e.environment))},r.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},r.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},r.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},r.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},r.prototype.matchNativeAccountId=function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)},r.prototype.matchTarget=function(e,t){return!(e.credentialType!==Mn.ACCESS_TOKEN&&e.credentialType!==Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&qu.fromString(e.target).containsScopeSet(t)},r.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},r.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},r.prototype.isAppMetadata=function(e){return e.indexOf(g6)!==-1},r.prototype.isAuthorityMetadata=function(e){return e.indexOf(ME.CACHE_KEY)!==-1},r.prototype.generateAuthorityMetadataCacheKey=function(e){return ME.CACHE_KEY+"-"+this.clientId+"-"+e},r.toObject=function(e,t){for(var n in t)e[n]=t[n];return e},r})(),HGe=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return bA(e,r),e.prototype.setAccount=function(){throw fn.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},e.prototype.getAccount=function(){throw fn.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},e.prototype.setIdTokenCredential=function(){throw fn.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getIdTokenCredential=function(){throw fn.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setAccessTokenCredential=function(){throw fn.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getAccessTokenCredential=function(){throw fn.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setRefreshTokenCredential=function(){throw fn.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getRefreshTokenCredential=function(){throw fn.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setAppMetadata=function(){throw fn.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAppMetadata=function(){throw fn.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.setServerTelemetry=function(){throw fn.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},e.prototype.getServerTelemetry=function(){throw fn.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},e.prototype.setAuthorityMetadata=function(){throw fn.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAuthorityMetadata=function(){throw fn.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAuthorityMetadataKeys=function(){throw fn.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},e.prototype.setThrottlingCache=function(){throw fn.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},e.prototype.getThrottlingCache=function(){throw fn.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},e.prototype.removeItem=function(){throw fn.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},e.prototype.containsKey=function(){throw fn.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},e.prototype.getKeys=function(){throw fn.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},e.prototype.getAccountKeys=function(){throw fn.createUnexpectedError("Storage interface - getAccountKeys() has not been implemented for the cacheStorage interface.")},e.prototype.getTokenKeys=function(){throw fn.createUnexpectedError("Storage interface - getTokenKeys() has not been implemented for the cacheStorage interface.")},e.prototype.clear=function(){return ii(this,void 0,void 0,function(){return ai(this,function(t){throw fn.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},e.prototype.updateCredentialCacheKey=function(){throw fn.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},e})(iA),zGe=300,nse={tokenRenewalOffsetSeconds:zGe,preventCorsPreflight:!1},qGe={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:fc.Info,correlationId:vt.EMPTY_STRING},KGe={claimsBasedCachingEnabled:!0},VGe={sendGetRequestAsync:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return ii(this,void 0,void 0,function(){return ai(this,function(r){throw fn.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},GGe={sku:vt.SKU,version:aQ,cpu:vt.EMPTY_STRING,os:vt.EMPTY_STRING},$Ge={clientSecret:vt.EMPTY_STRING,clientAssertion:void 0},YGe={azureCloudInstance:bS.None,tenant:""+vt.DEFAULT_COMMON_TENANT},WGe={application:{appName:"",appVersion:""}};function ZGe(C){var e=C.authOptions,t=C.systemOptions,x=C.loggerOptions,n=C.cacheOptions,i=C.storageInterface,a=C.networkInterface,o=C.cryptoInterface,s=C.clientCredentials,c=C.libraryInfo,A=C.telemetry,f=C.serverTelemetryManager,y=C.persistencePlugin,C=C.serializableCache,x=xa(xa({},qGe),x);return{authOptions:XGe(e),systemOptions:xa(xa({},nse),t),loggerOptions:x,cacheOptions:xa(xa({},KGe),n),storageInterface:i||new HGe(e.clientId,QP,new iQ(x)),networkInterface:a||VGe,cryptoInterface:o||QP,clientCredentials:s||$Ge,libraryInfo:xa(xa({},GGe),c),telemetry:xa(xa({},WGe),A),serverTelemetryManager:f||null,persistencePlugin:y||null,serializableCache:C||null}}function XGe(r){return xa({clientCapabilities:[],azureCloudOptions:YGe,skipAuthorityMetadataCache:!1},r)}var ud,Wt,zP,$D,D_=(function(r){function e(t,n,i){return t=r.call(this,t,n,i)||this,t.name="ServerError",Object.setPrototypeOf(t,e.prototype),t}return bA(e,r),e})(fn),qP=(function(){function r(){}return r.generateThrottlingStorageKey=function(e){return LE.THROTTLING_PREFIX+"."+JSON.stringify(e)},r.preProcess=function(e,i){var n,i=r.generateThrottlingStorageKey(i),a=e.getThrottlingCache(i);if(a){if(!(a.throttleTime<Date.now()))throw new D_(((n=a.errorCodes)==null?void 0:n.join(" "))||vt.EMPTY_STRING,a.errorMessage,a.subError);e.removeItem(i)}},r.postProcess=function(e,t,n){(r.checkResponseStatus(n)||r.checkResponseForRetryAfter(n))&&(n={throttleTime:r.calculateThrottleTime(parseInt(n.headers[Ad.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror},e.setThrottlingCache(r.generateThrottlingStorageKey(t),n))},r.checkResponseStatus=function(e){return e.status===429||500<=e.status&&e.status<600},r.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(Ad.RETRY_AFTER)&&(e.status<200||300<=e.status)},r.calculateThrottleTime=function(t){var t=t<=0?0:t,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||LE.DEFAULT_THROTTLE_TIME_SECONDS),n+LE.DEFAULT_MAX_THROTTLE_TIME_SECONDS))},r.removeThrottle=function(e,t,n,i){t={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:i,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(t),e.removeItem(i)},r})(),JGe=(function(){function r(e,t){this.networkClient=e,this.cacheManager=t}return r.prototype.sendPostRequest=function(e,t,n){return ii(this,void 0,void 0,function(){var i,a;return ai(this,function(o){switch(o.label){case 0:qP.preProcess(this.cacheManager,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,n)];case 2:return i=o.sent(),[3,4];case 3:throw(a=o.sent())instanceof fn?a:Zr.createNetworkError(t,a);case 4:return qP.postProcess(this.cacheManager,e,i),[2,i]}})})},r})(),N0=((function(r){r.HOME_ACCOUNT_ID="home_account_id",r.UPN="UPN"})(ud=ud||{}),(function(){function r(){}return r.validateRedirectUri=function(e){if(Yr.isEmpty(e))throw _o.createRedirectUriEmptyError()},r.validatePrompt=function(e){var t,n=[];for(t in Vu)n.push(Vu[t]);if(n.indexOf(e)<0)throw _o.createInvalidPromptError(e)},r.validateClaims=function(e){try{JSON.parse(e)}catch{throw _o.createInvalidClaimsRequestError()}},r.validateCodeChallengeParams=function(e,t){if(Yr.isEmpty(e)||Yr.isEmpty(t))throw _o.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},r.validateCodeChallengeMethod=function(e){if([v$.PLAIN,v$.S256].indexOf(e)<0)throw _o.createInvalidCodeChallengeMethodError()},r.sanitizeEQParams=function(e,t){return e?(t.forEach(function(n,i){e[i]&&delete e[i]}),Object.fromEntries(Object.entries(e).filter(function(n){return n[1]!==""}))):{}},r})()),RE=(function(){function r(){this.parameters=new Map}return r.prototype.addResponseTypeCode=function(){this.parameters.set(fi.RESPONSE_TYPE,encodeURIComponent(vt.CODE_RESPONSE_TYPE))},r.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(fi.RESPONSE_TYPE,encodeURIComponent(vt.TOKEN_RESPONSE_TYPE+" "+vt.ID_TOKEN_RESPONSE_TYPE))},r.prototype.addResponseMode=function(e){this.parameters.set(fi.RESPONSE_MODE,encodeURIComponent(e||UP.QUERY))},r.prototype.addNativeBroker=function(){this.parameters.set(fi.NATIVE_BROKER,encodeURIComponent("1"))},r.prototype.addScopes=function(e,t){t=(t=t===void 0?!0:t)?SM(e||[],pT):e||[],e=new qu(t),this.parameters.set(fi.SCOPE,encodeURIComponent(e.printScopes()))},r.prototype.addClientId=function(e){this.parameters.set(fi.CLIENT_ID,encodeURIComponent(e))},r.prototype.addRedirectUri=function(e){N0.validateRedirectUri(e),this.parameters.set(fi.REDIRECT_URI,encodeURIComponent(e))},r.prototype.addPostLogoutRedirectUri=function(e){N0.validateRedirectUri(e),this.parameters.set(fi.POST_LOGOUT_URI,encodeURIComponent(e))},r.prototype.addIdTokenHint=function(e){this.parameters.set(fi.ID_TOKEN_HINT,encodeURIComponent(e))},r.prototype.addDomainHint=function(e){this.parameters.set(NE.DOMAIN_HINT,encodeURIComponent(e))},r.prototype.addLoginHint=function(e){this.parameters.set(NE.LOGIN_HINT,encodeURIComponent(e))},r.prototype.addCcsUpn=function(e){this.parameters.set(Ad.CCS_HEADER,encodeURIComponent("UPN:"+e))},r.prototype.addCcsOid=function(e){this.parameters.set(Ad.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},r.prototype.addSid=function(e){this.parameters.set(NE.SID,encodeURIComponent(e))},r.prototype.addClaims=function(e,t){e=this.addClientCapabilitiesToClaims(e,t),N0.validateClaims(e),this.parameters.set(fi.CLAIMS,encodeURIComponent(e))},r.prototype.addCorrelationId=function(e){this.parameters.set(fi.CLIENT_REQUEST_ID,encodeURIComponent(e))},r.prototype.addLibraryInfo=function(e){this.parameters.set(fi.X_CLIENT_SKU,e.sku),this.parameters.set(fi.X_CLIENT_VER,e.version),e.os&&this.parameters.set(fi.X_CLIENT_OS,e.os),e.cpu&&this.parameters.set(fi.X_CLIENT_CPU,e.cpu)},r.prototype.addApplicationTelemetry=function(e){e!=null&&e.appName&&this.parameters.set(fi.X_APP_NAME,e.appName),e!=null&&e.appVersion&&this.parameters.set(fi.X_APP_VER,e.appVersion)},r.prototype.addPrompt=function(e){N0.validatePrompt(e),this.parameters.set(""+fi.PROMPT,encodeURIComponent(e))},r.prototype.addState=function(e){Yr.isEmpty(e)||this.parameters.set(fi.STATE,encodeURIComponent(e))},r.prototype.addNonce=function(e){this.parameters.set(fi.NONCE,encodeURIComponent(e))},r.prototype.addCodeChallengeParams=function(e,t){if(N0.validateCodeChallengeParams(e,t),!e||!t)throw _o.createInvalidCodeChallengeParamsError();this.parameters.set(fi.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(fi.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},r.prototype.addAuthorizationCode=function(e){this.parameters.set(fi.CODE,encodeURIComponent(e))},r.prototype.addDeviceCode=function(e){this.parameters.set(fi.DEVICE_CODE,encodeURIComponent(e))},r.prototype.addRefreshToken=function(e){this.parameters.set(fi.REFRESH_TOKEN,encodeURIComponent(e))},r.prototype.addCodeVerifier=function(e){this.parameters.set(fi.CODE_VERIFIER,encodeURIComponent(e))},r.prototype.addClientSecret=function(e){this.parameters.set(fi.CLIENT_SECRET,encodeURIComponent(e))},r.prototype.addClientAssertion=function(e){Yr.isEmpty(e)||this.parameters.set(fi.CLIENT_ASSERTION,encodeURIComponent(e))},r.prototype.addClientAssertionType=function(e){Yr.isEmpty(e)||this.parameters.set(fi.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},r.prototype.addOboAssertion=function(e){this.parameters.set(fi.OBO_ASSERTION,encodeURIComponent(e))},r.prototype.addRequestTokenUse=function(e){this.parameters.set(fi.REQUESTED_TOKEN_USE,encodeURIComponent(e))},r.prototype.addGrantType=function(e){this.parameters.set(fi.GRANT_TYPE,encodeURIComponent(e))},r.prototype.addClientInfo=function(){this.parameters.set(QGe,"1")},r.prototype.addExtraQueryParameters=function(e){var t=this,n=N0.sanitizeEQParams(e,this.parameters);Object.keys(n).forEach(function(i){t.parameters.set(i,e[i])})},r.prototype.addClientCapabilitiesToClaims=function(e,t){var n;if(e)try{n=JSON.parse(e)}catch{throw _o.createInvalidClaimsRequestError()}else n={};return t&&0<t.length&&(n.hasOwnProperty(Fb.ACCESS_TOKEN)||(n[Fb.ACCESS_TOKEN]={}),n[Fb.ACCESS_TOKEN][Fb.XMS_CC]={values:t}),JSON.stringify(n)},r.prototype.addUsername=function(e){this.parameters.set(jP.username,encodeURIComponent(e))},r.prototype.addPassword=function(e){this.parameters.set(jP.password,encodeURIComponent(e))},r.prototype.addPopToken=function(e){Yr.isEmpty(e)||(this.parameters.set(fi.TOKEN_TYPE,Ca.POP),this.parameters.set(fi.REQ_CNF,encodeURIComponent(e)))},r.prototype.addSshJwk=function(e){Yr.isEmpty(e)||(this.parameters.set(fi.TOKEN_TYPE,Ca.SSH),this.parameters.set(fi.REQ_CNF,encodeURIComponent(e)))},r.prototype.addServerTelemetry=function(e){this.parameters.set(fi.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(fi.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},r.prototype.addThrottling=function(){this.parameters.set(fi.X_MS_LIB_CAPABILITY,LE.X_MS_LIB_CAPABILITY_VALUE)},r.prototype.addLogoutHint=function(e){this.parameters.set(fi.LOGOUT_HINT,encodeURIComponent(e))},r.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach(function(t,n){e.push(n+"="+t)}),e.join("&")},r})(),oQ=(function(){function r(e,t){this.config=ZGe(e),this.logger=new iQ(this.config.loggerOptions,rse,aQ),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new JGe(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}return r.prototype.createTokenRequestHeaders=function(e){var t={};if(t[Ad.CONTENT_TYPE]=vt.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ud.HOME_ACCOUNT_ID:try{var n=Qb(e.credential);t[Ad.CCS_HEADER]="Oid:"+n.uid+"@"+n.utid}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case ud.UPN:t[Ad.CCS_HEADER]="UPN: "+e.credential}return t},r.prototype.executePostToTokenEndpoint=function(e,t,n,i){return ii(this,void 0,void 0,function(){var a;return ai(this,function(o){switch(o.label){case 0:return[4,this.networkManager.sendPostRequest(i,e,{body:t,headers:n})];case 1:return a=o.sent(),this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,a]}})})},r.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw Zr.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},r.prototype.createTokenQueryParameters=function(e){var t=new RE;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},r})(),sQ=(function(){function r(){}return r.prototype.generateAccountId=function(){return r.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},r.prototype.generateCredentialId=function(){return r.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},r.prototype.generateTarget=function(){return r.generateTargetForCacheKey(this.target)},r.prototype.generateCredentialKey=function(){return r.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},r.prototype.generateType=function(){switch(this.credentialType){case Mn.ID_TOKEN:return tg.ID_TOKEN;case Mn.ACCESS_TOKEN:case Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:return tg.ACCESS_TOKEN;case Mn.REFRESH_TOKEN:return tg.REFRESH_TOKEN;default:throw Zr.createUnexpectedCredentialTypeError()}},r.generateCredentialCacheKey=function(e,t,n,i,a,o,s,c,A){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(n,i,a,s),this.generateTargetForCacheKey(o),this.generateClaimsHashForCacheKey(A),this.generateSchemeForCacheKey(c)].join(Ql.CACHE_KEY_SEPARATOR).toLowerCase()},r.generateAccountIdForCacheKey=function(e,t){return[e,t].join(Ql.CACHE_KEY_SEPARATOR).toLowerCase()},r.generateCredentialIdForCacheKey=function(e,t,n,i){return[e,e===Mn.REFRESH_TOKEN&&i||t,n||vt.EMPTY_STRING].join(Ql.CACHE_KEY_SEPARATOR).toLowerCase()},r.generateTargetForCacheKey=function(e){return(e||vt.EMPTY_STRING).toLowerCase()},r.generateClaimsHashForCacheKey=function(e){return(e||vt.EMPTY_STRING).toLowerCase()},r.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==Ca.BEARER.toLowerCase()?e.toLowerCase():vt.EMPTY_STRING},r})(),X0=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return bA(e,r),e.createIdTokenEntity=function(t,n,i,a,o){var s=new e;return s.credentialType=Mn.ID_TOKEN,s.homeAccountId=t,s.environment=n,s.clientId=a,s.secret=i,s.realm=o,s},e.isIdTokenEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")&&t.credentialType===Mn.ID_TOKEN},e})(sQ),Wd=(function(){function r(){}return r.nowSeconds=function(){return Math.round(new Date().getTime()/1e3)},r.isTokenExpired=function(e,t){return(Number(e)||0)<r.nowSeconds()+t},r.wasClockTurnedBack=function(e){return Number(e)>r.nowSeconds()},r.delay=function(e,t){return new Promise(function(n){return setTimeout(function(){return n(t)},e)})},r})(),J0=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return bA(e,r),e.createAccessTokenEntity=function(q,n,i,a,o,s,c,A,f,y,C,x,k,N,M){var D,H=new e,q=(H.homeAccountId=q,H.credentialType=Mn.ACCESS_TOKEN,H.secret=i,Wd.nowSeconds());if(H.cachedAt=q.toString(),H.expiresOn=c.toString(),H.extendedExpiresOn=A.toString(),y&&(H.refreshOn=y.toString()),H.environment=n,H.clientId=a,H.realm=o,H.target=s,H.userAssertionHash=x,H.tokenType=Yr.isEmpty(C)?Ca.BEARER:C,N&&(H.requestedClaims=N,H.requestedClaimsHash=M),((q=H.tokenType)==null?void 0:q.toLowerCase())!==Ca.BEARER.toLowerCase())switch(H.credentialType=Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME,H.tokenType){case Ca.POP:var $=nm.extractTokenClaims(i,f);if((D=$?.cnf)==null||!D.kid)throw Zr.createTokenClaimsRequiredError();H.keyId=$.cnf.kid;break;case Ca.SSH:H.keyId=k}return H},e.isAccessTokenEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")&&t.hasOwnProperty("target")&&(t.credentialType===Mn.ACCESS_TOKEN||t.credentialType===Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME)},e})(sQ),Hb=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return bA(e,r),e.createRefreshTokenEntity=function(t,n,i,a,o,s){var c=new e;return c.clientId=a,c.credentialType=Mn.REFRESH_TOKEN,c.environment=n,c.homeAccountId=t,c.secret=i,c.userAssertionHash=s,o&&(c.familyId=o),c},e.isRefreshTokenEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")&&t.credentialType===Mn.REFRESH_TOKEN},e})(sQ),b$=["interaction_required","consent_required","login_required"],e3e=["message_only","additional_action","basic_action","user_password_expired","consent_required"],zb={noTokensFoundError:{code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},native_account_unavailable:{code:"native_account_unavailable",desc:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."}},$d=(function(r){function e(t,n,i,a,o,s,c){return t=r.call(this,t,n,i)||this,Object.setPrototypeOf(t,e.prototype),t.timestamp=a||vt.EMPTY_STRING,t.traceId=o||vt.EMPTY_STRING,t.correlationId=s||vt.EMPTY_STRING,t.claims=c||vt.EMPTY_STRING,t.name="InteractionRequiredAuthError",t}return bA(e,r),e.isInteractionRequiredError=function(a,n,o){var a=!!a&&-1<b$.indexOf(a),o=!!o&&-1<e3e.indexOf(o),s=!!n&&b$.some(function(c){return-1<n.indexOf(c)});return a||s||o},e.createNoTokensFoundError=function(){return new e(zb.noTokensFoundError.code,zb.noTokensFoundError.desc)},e.createNativeAccountUnavailableError=function(){return new e(zb.native_account_unavailable.code,zb.native_account_unavailable.desc)},e})(fn),KP=function(r,e,t,n,i){this.account=r||null,this.idToken=e||null,this.accessToken=t||null,this.refreshToken=n||null,this.appMetadata=i||null},fg=(function(){function r(){}return r.setRequestState=function(e,t,n){return e=r.generateLibraryState(e,n),Yr.isEmpty(t)?e:""+e+vt.RESOURCE_DELIM+t},r.generateLibraryState=function(e,t){var n;if(e)return n={id:e.createNewGuid()},t&&(n.meta=t),t=JSON.stringify(n),e.base64Encode(t);throw Zr.createNoCryptoObjectError("generateLibraryState")},r.parseRequestState=function(e,t){if(!e)throw Zr.createNoCryptoObjectError("parseRequestState");if(Yr.isEmpty(t))throw Zr.createInvalidStateError(t,"Null, undefined or empty state");try{var n=t.split(vt.RESOURCE_DELIM),i=n[0],a=1<n.length?n.slice(1).join(vt.RESOURCE_DELIM):vt.EMPTY_STRING,o=e.base64Decode(i),s=JSON.parse(o);return{userRequestState:Yr.isEmpty(a)?vt.EMPTY_STRING:a,libraryState:s}}catch(c){throw Zr.createInvalidStateError(t,c)}},r})(),Xi=(function(){function r(e){if(this._urlString=e,Yr.isEmpty(this._urlString))throw _o.createUrlEmptyError();Yr.isEmpty(this.getHash())&&(this._urlString=r.canonicalizeUri(e))}return Object.defineProperty(r.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),r.canonicalizeUri=function(e){var t;return e&&(t=e.toLowerCase(),Yr.endsWith(t,"?")?t=t.slice(0,-1):Yr.endsWith(t,"?/")&&(t=t.slice(0,-2)),Yr.endsWith(t,"/")||(t+="/"),t)},r.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(t){throw _o.createUrlParseError(t)}if(!e.HostNameAndPort||!e.PathSegments)throw _o.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw _o.createInsecureAuthorityUriError(this.urlString)},r.appendQueryString=function(e,t){return Yr.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},r.removeHashFromUrl=function(e){return r.canonicalizeUri(e.split("#")[0])},r.prototype.replaceTenantPath=function(e){var t=this.getUrlComponents(),n=t.PathSegments;return!e||n.length===0||n[0]!==y_.COMMON&&n[0]!==y_.ORGANIZATIONS||(n[0]=e),r.constructAuthorityUriFromObject(t)},r.prototype.getHash=function(){return r.parseHash(this.urlString)},r.prototype.getUrlComponents=function(){var e,t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(t);if(t)return e=(e=(t={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]}).AbsolutePath.split("/")).filter(function(n){return n&&0<n.length}),t.PathSegments=e,!Yr.isEmpty(t.QueryString)&&t.QueryString.endsWith("/")&&(t.QueryString=t.QueryString.substring(0,t.QueryString.length-1)),t;throw _o.createUrlParseError("Given url string: "+this.urlString)},r.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),t=e.match(t);if(t)return t[2];throw _o.createUrlParseError("Given url string: "+e)},r.getAbsoluteUrl=function(e,t){return e[0]===vt.FORWARD_SLASH?(t=new r(t).getUrlComponents()).Protocol+"//"+t.HostNameAndPort+e:e},r.parseHash=function(e){var t=e.indexOf("#"),n=e.indexOf("#/");return-1<n?e.substring(n+2):-1<t?e.substring(t+1):vt.EMPTY_STRING},r.parseQueryString=function(e){var t=e.indexOf("?"),n=e.indexOf("/?");return-1<n?e.substring(n+2):-1<t?e.substring(t+1):vt.EMPTY_STRING},r.constructAuthorityUriFromObject=function(e){return new r(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))},r.getDeserializedHash=function(n){if(Yr.isEmpty(n))return{};var t=r.parseHash(n),n=Yr.queryStringToObject(Yr.isEmpty(t)?n:t);if(n)return n;throw Zr.createHashNotDeserializedError(JSON.stringify(n))},r.getDeserializedQueryString=function(n){if(Yr.isEmpty(n))return{};var t=r.parseQueryString(n),n=Yr.queryStringToObject(Yr.isEmpty(t)?n:t);if(n)return n;throw Zr.createHashNotDeserializedError(JSON.stringify(n))},r.hashContainsKnownProperties=function(e){return!(Yr.isEmpty(e)||e.indexOf("=")<0||!((e=r.getDeserializedHash(e)).code||e.error_description||e.error||e.state))},r})(),t3e=((function(r){r.AcquireTokenByCode="acquireTokenByCode",r.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",r.AcquireTokenSilent="acquireTokenSilent",r.AcquireTokenSilentAsync="acquireTokenSilentAsync",r.AcquireTokenPopup="acquireTokenPopup",r.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",r.CryptoOptsSignJwt="cryptoOptsSignJwt",r.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",r.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",r.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",r.SsoSilent="ssoSilent",r.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",r.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",r.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",r.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",r.BrokerHandhshake="brokerHandshake",r.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",r.AcquireTokenByBroker="acquireTokenByBroker",r.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",r.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",r.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",r.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",r.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",r.AcquireTokenFromCache="acquireTokenFromCache",r.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",r.InitializeBaseRequest="initializeBaseRequest",r.InitializeSilentRequest="initializeSilentRequest",r.InitializeClientApplication="initializeClientApplication",r.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",r.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",r.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",r.SilentHandlerLoadFrame="silentHandlerLoadFrame",r.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",r.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",r.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",r.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",r.GetAuthCodeUrl="getAuthCodeUrl",r.HandleCodeResponseFromServer="handleCodeResponseFromServer",r.HandleCodeResponseFromHash="handleCodeResponseFromHash",r.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",r.AuthClientAcquireToken="authClientAcquireToken",r.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",r.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",r.AuthClientCreateQueryString="authClientCreateQueryString",r.PopTokenGenerateCnf="popTokenGenerateCnf",r.PopTokenGenerateKid="popTokenGenerateKid",r.HandleServerTokenResponse="handleServerTokenResponse",r.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",r.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",r.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",r.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",r.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",r.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",r.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",r.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",r.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",r.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",r.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",r.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",r.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",r.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",r.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",r.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",r.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake",r.ClearTokensAndKeysWithClaims="clearTokensAndKeysWithClaims"})(Wt=Wt||{}),(function(r){r[r.NotStarted=0]="NotStarted",r[r.InProgress=1]="InProgress",r[r.Completed=2]="Completed"})(zP=zP||{}),new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"])),Dw=((function(r){r.SW="sw",r.UHW="uhw"})($D=$D||{}),(function(){function r(e,t){this.cryptoUtils=e,this.performanceClient=t}return r.prototype.generateCnf=function(e){var t;return ii(this,void 0,void 0,function(){var n,i;return ai(this,function(a){switch(a.label){case 0:return(t=this.performanceClient)!=null&&t.addQueueMeasurement(Wt.PopTokenGenerateCnf,e.correlationId),(t=this.performanceClient)!=null&&t.setPreQueueTime(Wt.PopTokenGenerateKid,e.correlationId),[4,this.generateKid(e)];case 1:return i=a.sent(),n=this.cryptoUtils.base64Encode(JSON.stringify(i)),i={kid:i.kid,reqCnfString:n},[4,this.cryptoUtils.hashString(n)];case 2:return[2,(i.reqCnfHash=a.sent(),i)]}})})},r.prototype.generateKid=function(e){var t;return ii(this,void 0,void 0,function(){return ai(this,function(n){switch(n.label){case 0:return(t=this.performanceClient)!=null&&t.addQueueMeasurement(Wt.PopTokenGenerateKid,e.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:n.sent(),xms_ksl:$D.SW}]}})})},r.prototype.signPopToken=function(e,t,n){return ii(this,void 0,void 0,function(){return ai(this,function(i){return[2,this.signPayload(e,t,n)]})})},r.prototype.signPayload=function(e,t,n,i){return ii(this,void 0,void 0,function(){var a,o,s,c;return ai(this,function(A){switch(A.label){case 0:return a=n.resourceRequestMethod,c=n.resourceRequestUri,o=n.shrClaims,s=n.shrNonce,c=c?new Xi(c):void 0,c=c?.getUrlComponents(),[4,this.cryptoUtils.signJwt(xa({at:e,ts:Wd.nowSeconds(),m:a?.toUpperCase(),u:c?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:c?.AbsolutePath,q:c!=null&&c.QueryString?[[],c.QueryString]:void 0,client_claims:o||void 0},i),t,n.correlationId)];case 1:return[2,A.sent()]}})})},r})()),y6=(function(){function r(){}return r.prototype.generateAppMetadataKey=function(){return r.generateAppMetadataCacheKey(this.environment,this.clientId)},r.generateAppMetadataCacheKey=function(e,t){return[g6,e,t].join(Ql.CACHE_KEY_SEPARATOR).toLowerCase()},r.createAppMetadataEntity=function(e,t,n){var i=new r;return i.clientId=e,i.environment=t,n&&(i.familyId=n),i},r.isAppMetadataEntity=function(e,t){return!!t&&e.indexOf(g6)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")},r})(),r3e=(function(){function r(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(r.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),r})(),VP=(function(){function r(e,t,n,i,a,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=i,this.serializableCache=a,this.persistencePlugin=o,this.performanceClient=s}return r.prototype.validateServerAuthorizationCodeResponse=function(e,t,n){if(!e.state||!t)throw e.state?Zr.createStateNotFoundError("Cached State"):Zr.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw Zr.createStateMismatchError();if(e.error||e.error_description||e.suberror)throw $d.isInteractionRequiredError(e.error,e.error_description,e.suberror)?new $d(e.error||vt.EMPTY_STRING,e.error_description,e.suberror,e.timestamp||vt.EMPTY_STRING,e.trace_id||vt.EMPTY_STRING,e.correlation_id||vt.EMPTY_STRING,e.claims||vt.EMPTY_STRING):new D_(e.error||vt.EMPTY_STRING,e.error_description,e.suberror);e.client_info&&HP(e.client_info,n)},r.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if($d.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new $d(e.error,e.error_description,e.suberror,e.timestamp||vt.EMPTY_STRING,e.trace_id||vt.EMPTY_STRING,e.correlation_id||vt.EMPTY_STRING,e.claims||vt.EMPTY_STRING);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new D_(e.error,t,e.suberror)}},r.prototype.handleServerTokenResponse=function(e,t,n,i,a,o,s,c,A){var f;return ii(this,void 0,void 0,function(){var y,C,x,k,N;return ai(this,function(M){switch(M.label){case 0:if((f=this.performanceClient)!=null&&f.addQueueMeasurement(Wt.HandleServerTokenResponse,e.correlation_id),e.id_token){if(y=new nm(e.id_token||vt.EMPTY_STRING,this.cryptoObj),a&&!Yr.isEmpty(a.nonce)&&y.claims.nonce!==a.nonce)throw Zr.createNonceMismatchError();if(i.maxAge||i.maxAge===0){if(!(x=y.claims.auth_time))throw Zr.createAuthTimeNotFoundError();nm.checkMaxAge(x,i.maxAge)}}this.homeAccountIdentifier=nu.generateHomeAccountId(e.client_info||vt.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,y),a&&a.state&&(C=fg.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||i.sshKid||void 0,x=this.generateCacheRecord(e,t,n,i,y,o,a),M.label=1;case 1:return M.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),k=new r3e(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(k)]):[3,3];case 2:M.sent(),M.label=3;case 3:return!s||c||!x.account||(N=x.account.generateAccountKey(),this.cacheStorage.getAccount(N))?[4,this.cacheStorage.saveCacheRecord(x)]:(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,r.generateAuthenticationResult(this.cryptoObj,t,x,!1,i,y,C,void 0,A)]);case 4:return M.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&k?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(k)]):[3,7];case 6:M.sent(),M.label=7;case 7:return[7];case 8:return[2,r.generateAuthenticationResult(this.cryptoObj,t,x,!1,i,y,C,e,A)]}})})},r.prototype.generateCacheRecord=function(e,t,n,i,M,o,k){var c,A,f=t.getPreferredCache();if(Yr.isEmpty(f))throw Zr.createInvalidCacheEnvironmentError();!Yr.isEmpty(e.id_token)&&M&&(c=X0.createIdTokenEntity(this.homeAccountIdentifier,f,e.id_token||vt.EMPTY_STRING,this.clientId,M.claims.tid||vt.EMPTY_STRING),A=this.generateAccountEntity(e,M,t,k));var y,C,x,k=null,N=(Yr.isEmpty(e.access_token)||(y=e.scope?qu.fromString(e.scope):new qu(i.scopes||[]),x=(C=n+((typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0))+((typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0),n=(N=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0)&&0<N?n+N:void 0,k=J0.createAccessTokenEntity(this.homeAccountIdentifier,f,e.access_token||vt.EMPTY_STRING,this.clientId,M?M.claims.tid||vt.EMPTY_STRING:t.tenant,y.printScopes(),C,x,this.cryptoObj,n,e.token_type,o,e.key_id,i.claims,i.requestedClaimsHash)),null),M=(Yr.isEmpty(e.refresh_token)||(N=Hb.createRefreshTokenEntity(this.homeAccountIdentifier,f,e.refresh_token||vt.EMPTY_STRING,this.clientId,e.foci,o)),null);return Yr.isEmpty(e.foci)||(M=y6.createAppMetadataEntity(this.clientId,f,e.foci)),new KP(A,c,k,N,M)},r.prototype.generateAccountEntity=function(e,t,n,s){var a=n.authorityType,o=s?s.cloud_graph_host_name:vt.EMPTY_STRING,s=s?s.msgraph_host:vt.EMPTY_STRING;if(a===wh.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),nu.createGenericAccount(this.homeAccountIdentifier,t,n,o,s);if(Yr.isEmpty(e.client_info)&&n.protocolMode==="AAD")throw Zr.createClientInfoEmptyError();return e.client_info?nu.createAccount(e.client_info,this.homeAccountIdentifier,t,n,o,s):nu.createGenericAccount(this.homeAccountIdentifier,t,n,o,s)},r.generateAuthenticationResult=function(e,t,n,i,a,o,s,c,A){var f;return ii(this,void 0,void 0,function(){var y,C,x,k,N,M,D,H;return ai(this,function(q){switch(q.label){case 0:if(y=vt.EMPTY_STRING,C=[],x=null,N=vt.EMPTY_STRING,!n.accessToken)return[3,4];if(n.accessToken.tokenType!==Ca.POP)return[3,2];if(D=new Dw(e),M=n.accessToken,H=M.secret,M=M.keyId)return[4,D.signPopToken(H,M,a)];throw Zr.createKeyIdMissingError();case 1:return y=q.sent(),[3,3];case 2:y=n.accessToken.secret,q.label=3;case 3:C=qu.fromString(n.accessToken.target).asArray(),x=new Date(1e3*Number(n.accessToken.expiresOn)),k=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),q.label=4;case 4:return n.appMetadata&&(N=n.appMetadata.familyId===OE?OE:vt.EMPTY_STRING),D=o?.claims.oid||o?.claims.sub||vt.EMPTY_STRING,H=o?.claims.tid||vt.EMPTY_STRING,c!=null&&c.spa_accountid&&n.account&&(n.account.nativeAccountId=c?.spa_accountid),[2,{authority:t.canonicalAuthority,uniqueId:D,tenantId:H,scopes:C,account:n.account?n.account.getAccountInfo():null,idToken:o?o.rawToken:vt.EMPTY_STRING,idTokenClaims:o?o.claims:{},accessToken:y,fromCache:i,expiresOn:x,correlationId:a.correlationId,requestId:A||vt.EMPTY_STRING,extExpiresOn:k,familyId:N,tokenType:((f=n.accessToken)==null?void 0:f.tokenType)||vt.EMPTY_STRING,state:s?s.userRequestState:vt.EMPTY_STRING,cloudGraphHostName:((f=n.account)==null?void 0:f.cloudGraphHostName)||vt.EMPTY_STRING,msGraphHost:((f=n.account)==null?void 0:f.msGraphHost)||vt.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}]}})})},r})(),ise=(function(r){function e(t,n){return t=r.call(this,t,n)||this,t.includeRedirectUri=!0,t}return bA(e,r),e.prototype.getAuthCodeUrl=function(t){var n;return ii(this,void 0,void 0,function(){var i;return ai(this,function(a){switch(a.label){case 0:return(n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.GetAuthCodeUrl,t.correlationId),(n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.AuthClientCreateQueryString,t.correlationId),[4,this.createAuthCodeUrlQueryString(t)];case 1:return i=a.sent(),[2,Xi.appendQueryString(this.authority.authorizationEndpoint,i)]}})})},e.prototype.acquireToken=function(t,n){var i,a;return ii(this,void 0,void 0,function(){var o,s,c,A,f,y=this;return ai(this,function(C){switch(C.label){case 0:if(t&&t.code)return(i=this.performanceClient)!=null&&i.addQueueMeasurement(Wt.AuthClientAcquireToken,t.correlationId),o=(i=this.performanceClient)==null?void 0:i.startMeasurement("AuthCodeClientAcquireToken",t.correlationId),this.logger.info("in acquireToken call in auth-code client"),s=Wd.nowSeconds(),(i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.AuthClientExecuteTokenRequest,t.correlationId),[4,this.executeTokenRequest(this.authority,t)];throw Zr.createTokenRequestCannotBeMadeError();case 1:return c=C.sent(),A=(i=c.headers)==null?void 0:i[Ad.X_MS_REQUEST_ID],(f=(a=c.headers)==null?void 0:a[Ad.X_MS_HTTP_VERSION])&&o!=null&&o.addStaticFields({httpVerAuthority:f}),(f=new VP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient)).validateTokenResponse(c.body),(a=this.performanceClient)!=null&&a.setPreQueueTime(Wt.HandleServerTokenResponse,t.correlationId),[2,f.handleServerTokenResponse(c.body,this.authority,s,t,n,void 0,void 0,void 0,A).then(function(x){return o?.endMeasurement({success:!0}),x}).catch(function(x){throw y.logger.verbose("Error in fetching token in ACC",t.correlationId),o?.endMeasurement({errorCode:x.errorCode,subErrorCode:x.subError,success:!1}),x})]}})})},e.prototype.handleFragmentResponse=function(a,n){var i=new VP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),a=new Xi(a),a=Xi.getDeserializedHash(a.getHash());if(i.validateServerAuthorizationCodeResponse(a,n,this.cryptoUtils),a.code)return xa(xa({},a),{code:a.code});throw Zr.createNoAuthCodeInServerResponseError()},e.prototype.getLogoutUri=function(t){if(t)return t=this.createLogoutUrlQueryString(t),Xi.appendQueryString(this.authority.endSessionEndpoint,t);throw _o.createEmptyLogoutRequestError()},e.prototype.executeTokenRequest=function(t,n){var i;return ii(this,void 0,void 0,function(){var a,o,s,c,A;return ai(this,function(f){switch(f.label){case 0:return(i=this.performanceClient)!=null&&i.addQueueMeasurement(Wt.AuthClientExecuteTokenRequest,n.correlationId),(i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.AuthClientCreateTokenRequestBody,n.correlationId),a=this.createTokenQueryParameters(n),a=Xi.appendQueryString(t.tokenEndpoint,a),[4,this.createTokenRequestBody(n)];case 1:if(o=f.sent(),c=void 0,n.clientInfo)try{s=HP(n.clientInfo,this.cryptoUtils),c={credential:""+s.uid+Ql.CLIENT_INFO_SEPARATOR+s.utid,type:ud.HOME_ACCOUNT_ID}}catch(y){this.logger.verbose("Could not parse client info for CCS Header: "+y)}return c=this.createTokenRequestHeaders(c||n.ccsCredential),A={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:n.scopes,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},[2,this.executePostToTokenEndpoint(a,o,c,A)]}})})},e.prototype.createTokenRequestBody=function(t){var n;return ii(this,void 0,void 0,function(){var i,a,o,s,c,A;return ai(this,function(f){switch(f.label){case 0:return(n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.AuthClientCreateTokenRequestBody,t.correlationId),(i=new RE).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?i.addRedirectUri(t.redirectUri):N0.validateRedirectUri(t.redirectUri),i.addScopes(t.scopes),i.addAuthorizationCode(t.code),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&i.addServerTelemetry(this.serverTelemetryManager),t.codeVerifier&&i.addCodeVerifier(t.codeVerifier),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(a=this.config.clientCredentials.clientAssertion,i.addClientAssertion(a.assertion),i.addClientAssertionType(a.assertionType)),i.addGrantType(FP.AUTHORIZATION_CODE_GRANT),i.addClientInfo(),t.authenticationScheme!==Ca.POP?[3,2]:(a=new Dw(this.cryptoUtils,this.performanceClient),(n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.PopTokenGenerateCnf,t.correlationId),[4,a.generateCnf(t)]);case 1:return o=f.sent(),i.addPopToken(o.reqCnfString),[3,3];case 2:if(t.authenticationScheme===Ca.SSH){if(!t.sshJwk)throw _o.createMissingSshJwkError();i.addSshJwk(t.sshJwk)}f.label=3;case 3:if(o=t.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(o),(!Yr.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&0<this.config.authOptions.clientCapabilities.length)&&i.addClaims(t.claims,this.config.authOptions.clientCapabilities),s=void 0,t.clientInfo)try{c=HP(t.clientInfo,this.cryptoUtils),s={credential:""+c.uid+Ql.CLIENT_INFO_SEPARATOR+c.utid,type:ud.HOME_ACCOUNT_ID}}catch(y){this.logger.verbose("Could not parse client info for CCS Header: "+y)}else s=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case ud.HOME_ACCOUNT_ID:try{c=Qb(s.credential),i.addCcsOid(c)}catch(y){this.logger.verbose("Could not parse home account ID for CCS Header: "+y)}break;case ud.UPN:i.addCcsUpn(s.credential)}return t.tokenBodyParameters&&i.addExtraQueryParameters(t.tokenBodyParameters),!t.enableSpaAuthorizationCode||t.tokenBodyParameters&&t.tokenBodyParameters[fi.RETURN_SPA_CODE]||i.addExtraQueryParameters(((A={})[fi.RETURN_SPA_CODE]="1",A)),[2,i.createQueryString()]}})})},e.prototype.createAuthCodeUrlQueryString=function(t){var n;return ii(this,void 0,void 0,function(){var i,a,o,s;return ai(this,function(c){switch(c.label){case 0:if((n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.AuthClientCreateQueryString,t.correlationId),(i=new RE).addClientId(this.config.authOptions.clientId),a=SM(t.scopes||[],t.extraScopesToConsent||[]),i.addScopes(a),i.addRedirectUri(t.redirectUri),a=t.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(a),i.addResponseMode(t.responseMode),i.addResponseTypeCode(),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addClientInfo(),t.codeChallenge&&t.codeChallengeMethod&&i.addCodeChallengeParams(t.codeChallenge,t.codeChallengeMethod),t.prompt&&i.addPrompt(t.prompt),t.domainHint&&i.addDomainHint(t.domainHint),t.prompt!==Vu.SELECT_ACCOUNT)if(t.sid&&t.prompt===Vu.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),i.addSid(t.sid);else if(t.account){if(a=this.extractAccountSid(t.account),s=this.extractLoginHint(t.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),i.addLoginHint(s);try{o=Qb(t.account.homeAccountId),i.addCcsOid(o)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&t.prompt===Vu.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),i.addSid(a);try{o=Qb(t.account.homeAccountId),i.addCcsOid(o)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),i.addLoginHint(t.loginHint),i.addCcsUpn(t.loginHint);else if(t.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),i.addLoginHint(t.account.username);try{o=Qb(t.account.homeAccountId),i.addCcsOid(o)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),i.addLoginHint(t.loginHint),i.addCcsUpn(t.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&i.addNonce(t.nonce),t.state&&i.addState(t.state),(!Yr.isEmpty(t.claims)||this.config.authOptions.clientCapabilities&&0<this.config.authOptions.clientCapabilities.length)&&i.addClaims(t.claims,this.config.authOptions.clientCapabilities),t.extraQueryParameters&&i.addExtraQueryParameters(t.extraQueryParameters),t.nativeBroker?(i.addNativeBroker(),t.authenticationScheme!==Ca.POP?[3,2]:[4,new Dw(this.cryptoUtils).generateCnf(t)]):[3,2];case 1:s=c.sent(),i.addPopToken(s.reqCnfString),c.label=2;case 2:return[2,i.createQueryString()]}})})},e.prototype.createLogoutUrlQueryString=function(t){var n=new RE;return t.postLogoutRedirectUri&&n.addPostLogoutRedirectUri(t.postLogoutRedirectUri),t.correlationId&&n.addCorrelationId(t.correlationId),t.idTokenHint&&n.addIdTokenHint(t.idTokenHint),t.state&&n.addState(t.state),t.logoutHint&&n.addLogoutHint(t.logoutHint),t.extraQueryParameters&&n.addExtraQueryParameters(t.extraQueryParameters),n.createQueryString()},e.prototype.extractAccountSid=function(t){return((t=t.idTokenClaims)==null?void 0:t.sid)||null},e.prototype.extractLoginHint=function(t){return((t=t.idTokenClaims)==null?void 0:t.login_hint)||null},e})(oQ),ase=(function(r){function e(t,n){return r.call(this,t,n)||this}return bA(e,r),e.prototype.acquireToken=function(t){var n,i,a;return ii(this,void 0,void 0,function(){var o,s,c,A,f,y=this;return ai(this,function(C){switch(C.label){case 0:return(n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.RefreshTokenClientAcquireToken,t.correlationId),o=(n=this.performanceClient)==null?void 0:n.startMeasurement(Wt.RefreshTokenClientAcquireToken,t.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",t.correlationId),s=Wd.nowSeconds(),(n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.RefreshTokenClientExecuteTokenRequest,t.correlationId),[4,this.executeTokenRequest(t,this.authority)];case 1:return c=C.sent(),A=(n=c.headers)==null?void 0:n[Ad.X_MS_HTTP_VERSION],o?.addStaticFields({refreshTokenSize:((i=c.body.refresh_token)==null?void 0:i.length)||0}),A&&o!=null&&o.addStaticFields({httpVerToken:A}),A=(i=c.headers)==null?void 0:i[Ad.X_MS_REQUEST_ID],(f=new VP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(c.body),(a=this.performanceClient)!=null&&a.setPreQueueTime(Wt.HandleServerTokenResponse,t.correlationId),[2,f.handleServerTokenResponse(c.body,this.authority,s,t,void 0,void 0,!0,t.forceCache,A).then(function(x){return o?.endMeasurement({success:!0}),x}).catch(function(x){throw y.logger.verbose("Error in fetching refresh token",t.correlationId),o?.endMeasurement({errorCode:x.errorCode,subErrorCode:x.subError,success:!1}),x})]}})})},e.prototype.acquireTokenByRefreshToken=function(t){var n,i;return ii(this,void 0,void 0,function(){var a,o;return ai(this,function(s){if(!t)throw _o.createEmptyTokenRequestError();if((i=this.performanceClient)!=null&&i.addQueueMeasurement(Wt.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),!t.account)throw Zr.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(t.account.environment))try{return(n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId),[2,this.acquireTokenWithCachedRefreshToken(t,!0)]}catch(c){if(a=c instanceof $d&&c.errorCode===zb.noTokensFoundError.code,o=c instanceof D_&&c.errorCode===_$.INVALID_GRANT_ERROR&&c.subError===_$.CLIENT_MISMATCH_ERROR,a||o)return(i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId),[2,this.acquireTokenWithCachedRefreshToken(t,!1)];throw c}return(i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId),[2,this.acquireTokenWithCachedRefreshToken(t,!1)]})})},e.prototype.acquireTokenWithCachedRefreshToken=function(t,n){var i;return ii(this,void 0,void 0,function(){var a,o;return ai(this,function(s){if((i=this.performanceClient)!=null&&i.addQueueMeasurement(Wt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId),a=(i=this.performanceClient)==null?void 0:i.startMeasurement(Wt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",t.correlationId),o=this.cacheManager.getRefreshToken(t.account,n))return a?.endMeasurement({success:!0}),o=xa(xa({},t),{refreshToken:o.secret,authenticationScheme:t.authenticationScheme||Ca.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:ud.HOME_ACCOUNT_ID}}),(i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.RefreshTokenClientAcquireToken,t.correlationId),[2,this.acquireToken(o)];throw a?.discardMeasurement(),$d.createNoTokensFoundError()})})},e.prototype.executeTokenRequest=function(t,n){var i;return ii(this,void 0,void 0,function(){var a,o,s,c,A;return ai(this,function(f){switch(f.label){case 0:return(i=this.performanceClient)!=null&&i.addQueueMeasurement(Wt.RefreshTokenClientExecuteTokenRequest,t.correlationId),a=(i=this.performanceClient)==null?void 0:i.startMeasurement(Wt.RefreshTokenClientExecuteTokenRequest,t.correlationId),(i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.RefreshTokenClientCreateTokenRequestBody,t.correlationId),o=this.createTokenQueryParameters(t),o=Xi.appendQueryString(n.tokenEndpoint,o),[4,this.createTokenRequestBody(t)];case 1:return s=f.sent(),c=this.createTokenRequestHeaders(t.ccsCredential),A={clientId:this.config.authOptions.clientId,authority:n.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[2,this.executePostToTokenEndpoint(o,s,c,A).then(function(y){return a?.endMeasurement({success:!0}),y}).catch(function(y){throw a?.endMeasurement({success:!1}),y})]}})})},e.prototype.createTokenRequestBody=function(t){var n;return ii(this,void 0,void 0,function(){var i,a,o,s;return ai(this,function(c){switch(c.label){case 0:return(n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.RefreshTokenClientCreateTokenRequestBody,t.correlationId),o=t.correlationId,i=(n=this.performanceClient)==null?void 0:n.startMeasurement(Wt.BaseClientCreateTokenRequestHeaders,o),(a=new RE).addClientId(this.config.authOptions.clientId),a.addScopes(t.scopes),a.addGrantType(FP.REFRESH_TOKEN_GRANT),a.addClientInfo(),a.addLibraryInfo(this.config.libraryInfo),a.addApplicationTelemetry(this.config.telemetry.application),a.addThrottling(),this.serverTelemetryManager&&a.addServerTelemetry(this.serverTelemetryManager),a.addCorrelationId(o),a.addRefreshToken(t.refreshToken),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(o=this.config.clientCredentials.clientAssertion,a.addClientAssertion(o.assertion),a.addClientAssertionType(o.assertionType)),t.authenticationScheme!==Ca.POP?[3,2]:(o=new Dw(this.cryptoUtils,this.performanceClient),(n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.PopTokenGenerateCnf,t.correlationId),[4,o.generateCnf(t)]);case 1:return o=c.sent(),a.addPopToken(o.reqCnfString),[3,3];case 2:if(t.authenticationScheme===Ca.SSH){if(!t.sshJwk)throw i?.endMeasurement({success:!1}),_o.createMissingSshJwkError();a.addSshJwk(t.sshJwk)}c.label=3;case 3:if((!Yr.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&0<this.config.authOptions.clientCapabilities.length)&&a.addClaims(t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case ud.HOME_ACCOUNT_ID:try{s=Qb(t.ccsCredential.credential),a.addCcsOid(s)}catch(A){this.logger.verbose("Could not parse home account ID for CCS Header: "+A)}break;case ud.UPN:a.addCcsUpn(t.ccsCredential.credential)}return i?.endMeasurement({success:!0}),[2,a.createQueryString()]}})})},e})(oQ),n3e=(function(r){function e(t,n){return r.call(this,t,n)||this}return bA(e,r),e.prototype.acquireToken=function(t){return ii(this,void 0,void 0,function(){var n;return ai(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.acquireCachedToken(t)];case 1:return[2,i.sent()];case 2:if((n=i.sent())instanceof Zr&&n.errorCode===wr.tokenRefreshRequired.code)return[2,new ase(this.config,this.performanceClient).acquireTokenByRefreshToken(t)];throw n;case 3:return[2]}})})},e.prototype.acquireCachedToken=function(t){var n,i,a;return ii(this,void 0,void 0,function(){var o;return ai(this,function(s){switch(s.label){case 0:if(!t)throw _o.createEmptyTokenRequestError();if(t.forceRefresh)throw(n=this.serverTelemetryManager)!=null&&n.setCacheOutcome(Gy.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),Zr.createRefreshRequiredError();if(!this.config.cacheOptions.claimsBasedCachingEnabled&&!Yr.isEmptyObj(t.claims))throw(n=this.serverTelemetryManager)!=null&&n.setCacheOutcome(Gy.CLAIMS_REQUESTED_CACHE_SKIPPED),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because claims-based caching is disabled and claims were requested."),Zr.createRefreshRequiredError();if(!t.account)throw Zr.createNoAccountInSilentRequestError();if(o=t.authority||this.authority.getPreferredCache(),!(o=this.cacheManager.readCacheRecord(t.account,t,o)).accessToken)throw(i=this.serverTelemetryManager)!=null&&i.setCacheOutcome(Gy.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Zr.createRefreshRequiredError();if(Wd.wasClockTurnedBack(o.accessToken.cachedAt)||Wd.isTokenExpired(o.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw(i=this.serverTelemetryManager)!=null&&i.setCacheOutcome(Gy.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),Zr.createRefreshRequiredError();if(o.accessToken.refreshOn&&Wd.isTokenExpired(o.accessToken.refreshOn,0))throw(a=this.serverTelemetryManager)!=null&&a.setCacheOutcome(Gy.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),Zr.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(o,t)];case 1:return[2,s.sent()]}})})},e.prototype.generateResultFromCacheRecord=function(t,n){return ii(this,void 0,void 0,function(){var i,a;return ai(this,function(o){switch(o.label){case 0:if(t.idToken&&(i=new nm(t.idToken.secret,this.config.cryptoInterface)),n.maxAge||n.maxAge===0){if(!(a=i?.claims.auth_time))throw Zr.createAuthTimeNotFoundError();nm.checkMaxAge(a,n.maxAge)}return[4,VP.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,n,i)];case 1:return[2,o.sent()]}})})},e})(oQ);function i3e(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}var wS,ose={endpointMetadata:{"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},instanceDiscoveryMetadata:{"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}}},w$=ose.endpointMetadata,x$=ose.instanceDiscoveryMetadata,v6=((function(r){r.AAD="AAD",r.OIDC="OIDC"})(wS=wS||{}),(function(){function r(){this.expiresAt=Wd.nowSeconds()+ME.REFRESH_TIME_SECONDS}return r.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},r.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t,this.jwks_uri=e.jwks_uri},r.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},r.prototype.resetExpiresAt=function(){this.expiresAt=Wd.nowSeconds()+ME.REFRESH_TIME_SECONDS},r.prototype.isExpired=function(){return this.expiresAt<=Wd.nowSeconds()},r.isAuthorityMetadataEntity=function(e,t){return!!t&&e.indexOf(ME.CACHE_KEY)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")},r})());function a3e(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}function o3e(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}var rg,pl,Rp,la,Pp,qb,yo,ln,C$,E$,cA,Jn,Fy,s3e=(function(){function r(e,t,n){this.networkInterface=e,this.performanceClient=t,this.correlationId=n}return r.prototype.detectRegion=function(e,t){var n,i;return ii(this,void 0,void 0,function(){var a,o,s,c;return ai(this,function(A){switch(A.label){case 0:if((n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.RegionDiscoveryDetectRegion,this.correlationId),a=e)return[3,8];o=r.IMDS_OPTIONS,A.label=1;case 1:return A.trys.push([1,6,,7]),(n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(vt.IMDS_VERSION,o)];case 2:return(s=A.sent()).status===jb.httpSuccess&&(a=s.body,t.region_source=Uy.IMDS),s.status!==jb.httpBadRequest?[3,5]:((i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(o)]);case 3:return(s=A.sent())?((i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(s,o)]):(t.region_source=Uy.FAILED_AUTO_DETECTION,[2,null]);case 4:(c=A.sent()).status===jb.httpSuccess&&(a=c.body,t.region_source=Uy.IMDS),A.label=5;case 5:return[3,7];case 6:return A.sent(),t.region_source=Uy.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:t.region_source=Uy.ENVIRONMENT_VARIABLE,A.label=9;case 9:return a||(t.region_source=Uy.FAILED_AUTO_DETECTION),[2,a||null]}})})},r.prototype.getRegionFromIMDS=function(e,t){var n;return ii(this,void 0,void 0,function(){return ai(this,function(i){return(n=this.performanceClient)!=null&&n.addQueueMeasurement(Wt.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(vt.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,vt.IMDS_TIMEOUT)]})})},r.prototype.getCurrentVersion=function(e){var t;return ii(this,void 0,void 0,function(){var n;return ai(this,function(i){switch(i.label){case 0:(t=this.performanceClient)!=null&&t.addQueueMeasurement(Wt.RegionDiscoveryGetCurrentVersion,this.correlationId),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(vt.IMDS_ENDPOINT+"?format=json",e)];case 2:return(n=i.sent()).status===jb.httpBadRequest&&n.body&&n.body["newest-versions"]&&0<n.body["newest-versions"].length?[2,n.body["newest-versions"][0]]:[2,null];case 3:return i.sent(),[2,null];case 4:return[2]}})})},r.IMDS_OPTIONS={headers:{Metadata:"true"}},r})(),xS=(function(){function r(e,t,n,i,a,o,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=o,this.correlationId=s,this.regionDiscovery=new s3e(t,this.performanceClient,this.correlationId)}return r.prototype.getAuthorityType=function(e){if(e.HostNameAndPort.endsWith(vt.CIAM_AUTH_URL))return wh.Ciam;if(e=e.PathSegments,e.length)switch(e[0].toLowerCase()){case vt.ADFS:return wh.Adfs;case vt.DSTS:return wh.Dsts}return wh.Default},Object.defineProperty(r.prototype,"authorityType",{get:function(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new Xi(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(this.metadata.end_session_endpoint)return this.replacePath(this.metadata.end_session_endpoint);throw Zr.createLogoutNotSupportedError()}throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"jwksUri",{get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),r.prototype.canReplaceTenant=function(e){return e.PathSegments.length===1&&!r.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===wh.Default&&this.protocolMode===wS.AAD},r.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},r.prototype.replacePath=function(e){var t=this,n=e,i=new Xi(this.metadata.canonical_authority).getUrlComponents(),a=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(o,s){var c=a[s];s===0&&t.canReplaceTenant(i)&&c!==(s=new Xi(t.metadata.authorization_endpoint).getUrlComponents().PathSegments[0])&&(t.logger.verbose("Replacing tenant domain name "+c+" with id "+s),c=s),o!==c&&(n=n.replace("/"+c+"/","/"+o+"/"))}),this.replaceTenant(n)},Object.defineProperty(r.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===wh.Adfs||this.authorityType===wh.Dsts||this.protocolMode===wS.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),r.prototype.discoveryComplete=function(){return!!this.metadata},r.prototype.resolveEndpointsAsync=function(){var e;return ii(this,void 0,void 0,function(){var t,n,i;return ai(this,function(a){switch(a.label){case 0:return(e=this.performanceClient)!=null&&e.addQueueMeasurement(Wt.AuthorityResolveEndpointsAsync,this.correlationId),(t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(t=new v6).updateCanonicalAuthority(this.canonicalAuthority),(e=this.performanceClient)!=null&&e.setPreQueueTime(Wt.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(t)];case 1:return n=a.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network),(e=this.performanceClient)!=null&&e.setPreQueueTime(Wt.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(t)];case 2:return i=a.sent(),n!==Ud.CACHE&&i!==Ud.CACHE&&(t.resetExpiresAt(),t.updateCanonicalAuthority(this.canonicalAuthority)),i=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache),this.cacheManager.setAuthorityMetadata(i,t),this.metadata=t,[2]}})})},r.prototype.updateEndpointMetadata=function(e){var t,n,i;return ii(this,void 0,void 0,function(){var a,o;return ai(this,function(s){switch(s.label){case 0:return(t=this.performanceClient)!=null&&t.addQueueMeasurement(Wt.AuthorityUpdateEndpointMetadata,this.correlationId),(a=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(a,!1),[2,Ud.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,Ud.CACHE]:((t=this.performanceClient)!=null&&t.setPreQueueTime(Wt.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(a=s.sent())?(t=this.authorityOptions.azureRegionConfiguration)!=null&&t.azureRegion?((n=this.performanceClient)!=null&&n.setPreQueueTime(Wt.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(a)]):[3,3]:[3,4];case 2:a=s.sent(),s.label=3;case 3:return e.updateEndpointMetadata(a,!0),[2,Ud.NETWORK];case 4:return!(o=this.getEndpointMetadataFromHardcodedValues())||this.authorityOptions.skipAuthorityMetadataCache?[3,7]:(n=this.authorityOptions.azureRegionConfiguration)!=null&&n.azureRegion?((i=this.performanceClient)!=null&&i.setPreQueueTime(Wt.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(o)]):[3,6];case 5:o=s.sent(),s.label=6;case 6:return e.updateEndpointMetadata(o,!1),[2,Ud.HARDCODED_VALUES];case 7:throw Zr.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},r.prototype.isAuthoritySameType=function(e){return new Xi(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},r.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw _o.createInvalidAuthorityMetadataError()}return null},r.prototype.getEndpointMetadataFromNetwork=function(){var e;return ii(this,void 0,void 0,function(){var t,n;return ai(this,function(i){switch(i.label){case 0:(e=this.performanceClient)!=null&&e.addQueueMeasurement(Wt.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),t={},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,t)];case 2:return[2,i3e((n=i.sent()).body)?n.body:null];case 3:return i.sent(),[2,null];case 4:return[2]}})})},r.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in w$?w$[this.canonicalAuthority]:null},r.prototype.updateMetadataWithRegionalInformation=function(e){var t;return ii(this,void 0,void 0,function(){var n;return ai(this,function(i){switch(i.label){case 0:return(t=this.performanceClient)!=null&&t.addQueueMeasurement(Wt.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),(n=(t=this.authorityOptions.azureRegionConfiguration)==null?void 0:t.azureRegion)?n!==vt.AZURE_REGION_AUTO_DISCOVER_FLAG?(this.regionDiscoveryMetadata.region_outcome=PE.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,[2,r.replaceWithRegionalInformation(e,n)]):((t=this.performanceClient)!=null&&t.setPreQueueTime(Wt.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion((t=this.authorityOptions.azureRegionConfiguration)==null?void 0:t.environmentRegion,this.regionDiscoveryMetadata)]):[3,2];case 1:if(n=i.sent())return this.regionDiscoveryMetadata.region_outcome=PE.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,[2,r.replaceWithRegionalInformation(e,n)];this.regionDiscoveryMetadata.region_outcome=PE.AUTO_DETECTION_REQUESTED_FAILED,i.label=2;case 2:return[2,e]}})})},r.prototype.updateCloudDiscoveryMetadata=function(e){var t;return ii(this,void 0,void 0,function(){var n,i;return ai(this,function(a){switch(a.label){case 0:return(t=this.performanceClient)!=null&&t.addQueueMeasurement(Wt.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||vt.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||vt.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(e.canonical_authority||vt.NOT_APPLICABLE)),(n=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),e.updateCloudDiscoveryMetadata(n,!1),[2,Ud.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),i=e.isExpired(),this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!i?(this.logger.verbose("Found metadata in the cache."),[2,Ud.CACHE]):(i&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),(t=this.performanceClient)!=null&&t.setPreQueueTime(Wt.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(n=a.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),e.updateCloudDiscoveryMetadata(n,!0),[2,Ud.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(i=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),e.updateCloudDiscoveryMetadata(i,!1),[2,Ud.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),_o.createUntrustedAuthorityError()}})})},r.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityType===wh.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),r.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=r.getCloudDiscoveryMetadataFromNetworkResponse(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),_o.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),r.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},r.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var e;return ii(this,void 0,void 0,function(){var t,n,i,a,o,s;return ai(this,function(c){switch(c.label){case 0:(e=this.performanceClient)!=null&&e.addQueueMeasurement(Wt.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),t=""+vt.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",n={},i=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t,n)];case 2:if(s=c.sent(),o=a=void 0,a3e(s.body))a=s.body,o=a.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+a.tenant_discovery_endpoint);else{if(!o3e(s.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+s.status),(a=s.body).error===vt.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+a.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+a.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=r.getCloudDiscoveryMetadataFromNetworkResponse(o,this.hostnameAndPort),[3,4];case 3:return(s=c.sent())instanceof fn?this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: `+s.errorCode+`
Error Description: `+s.errorMessage):this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: `+s.name+`
Error Description: `+s.message),[2,null];case 4:return i||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),i=r.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,i]}})})},r.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in x$?x$[this.canonicalAuthority]:null},r.prototype.isInKnownAuthorities=function(){var e=this;return 0<this.authorityOptions.knownAuthorities.filter(function(t){return Xi.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort}).length},r.generateAuthority=function(e,t){var n;return t&&t.azureCloudInstance!==bS.None&&(n=t.tenant||vt.DEFAULT_COMMON_TENANT,n=t.azureCloudInstance+"/"+n+"/"),n||e},r.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},r.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(-1<i.aliases.indexOf(t))return i}return null},r.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw Zr.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},r.prototype.isAlias=function(e){return-1<this.metadata.aliases.indexOf(e)},r.isPublicCloudAuthority=function(e){return 0<=vt.KNOWN_PUBLIC_CLOUDS.indexOf(e)},r.buildRegionalAuthorityString=function(i,t,n){var i=new Xi(i),o=(i.validateAsUri(),i.getUrlComponents()),a=t+"."+o.HostNameAndPort,o=(this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=t+"."+vt.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX),Xi.constructAuthorityUriFromObject(xa(xa({},i.getUrlComponents()),{HostNameAndPort:a})).urlString);return n?o+"?"+n:o},r.replaceWithRegionalInformation=function(e,t){return e.authorization_endpoint=r.buildRegionalAuthorityString(e.authorization_endpoint,t),e.token_endpoint=r.buildRegionalAuthorityString(e.token_endpoint,t,vt.REGIONAL_AUTH_NON_MSI_QUERY_STRING),e.end_session_endpoint&&(e.end_session_endpoint=r.buildRegionalAuthorityString(e.end_session_endpoint,t)),e},r.transformCIAMAuthority=function(n){var t=n.endsWith(vt.FORWARD_SLASH)?n:""+n+vt.FORWARD_SLASH,n=new Xi(n).getUrlComponents();return t=n.PathSegments.length===0&&n.HostNameAndPort.endsWith(vt.CIAM_AUTH_URL)?""+t+n.HostNameAndPort.split(".")[0]+vt.AAD_TENANT_DOMAIN_SUFFIX:t},r.reservedTenantDomains=new Set(["{tenant}","{tenantid}",y_.COMMON,y_.CONSUMERS,y_.ORGANIZATIONS]),r})(),GP=(function(){function r(){}return r.createDiscoveredInstance=function(e,t,n,i,a,o,s){return ii(this,void 0,void 0,function(){var c,A;return ai(this,function(f){switch(f.label){case 0:o?.addQueueMeasurement(Wt.AuthorityFactoryCreateDiscoveredInstance,s),c=xS.transformCIAMAuthority(e),c=r.createInstance(c,t,n,i,a,o,s),f.label=1;case 1:return f.trys.push([1,3,,4]),o?.setPreQueueTime(Wt.AuthorityResolveEndpointsAsync,s),[4,c.resolveEndpointsAsync()];case 2:return f.sent(),[2,c];case 3:throw A=f.sent(),Zr.createEndpointDiscoveryIncompleteError(A);case 4:return[2]}})})},r.createInstance=function(e,t,n,i,a,o,s){if(Yr.isEmpty(e))throw _o.createUrlEmptyError();return new xS(e,t,n,i,a,o,s)},r})(),$P=(function(){function r(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return r.isServerTelemetryEntity=function(n,t){var n=n.indexOf($c.CACHE_KEY)===0,i=!0;return t&&(i=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&i},r})(),S$=(function(){function r(){}return r.isThrottlingEntity=function(i,t){var n=!1,i=(i&&(n=i.indexOf(LE.THROTTLING_PREFIX)===0),!0);return t&&(i=t.hasOwnProperty("throttleTime")),n&&i},r})(),l3e={sendGetRequestAsync:function(){return Promise.reject(fn.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(fn.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},FI={missingKidError:{code:"missing_kid_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided."},missingAlgError:{code:"missing_alg_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."}},T$=(function(r){function e(t,n){return t=r.call(this,t,n)||this,t.name="JoseHeaderError",Object.setPrototypeOf(t,e.prototype),t}return bA(e,r),e.createMissingKidError=function(){return new e(FI.missingKidError.code,FI.missingKidError.desc)},e.createMissingAlgError=function(){return new e(FI.missingAlgError.code,FI.missingAlgError.desc)},e})(fn),c3e=(function(){function r(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}return r.getShrHeaderString=function(e){if(!e.kid)throw T$.createMissingKidError();if(e.alg)return e=new r({typ:e.typ||m6.Pop,kid:e.kid,alg:e.alg}),JSON.stringify(e);throw T$.createMissingAlgError()},r})(),u3e=(function(){function r(e,t){this.cacheOutcome=Gy.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||vt.EMPTY_STRING,this.wrapperVer=e.wrapperVer||vt.EMPTY_STRING,this.telemetryCacheKey=$c.CACHE_KEY+Ql.CACHE_KEY_SEPARATOR+e.clientId}return r.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+$c.VALUE_SEPARATOR+this.cacheOutcome,e=[this.wrapperSKU,this.wrapperVer].join($c.VALUE_SEPARATOR),t=[t,this.getRegionDiscoveryFields()].join($c.VALUE_SEPARATOR);return[$c.SCHEMA_VERSION,t,e].join($c.CATEGORY_SEPARATOR)},r.prototype.generateLastRequestHeaderValue=function(){var e=this.getLastRequests(),a=r.maxErrorsToSend(e),t=e.failedRequests.slice(0,2*a).join($c.VALUE_SEPARATOR),n=e.errors.slice(0,a).join($c.VALUE_SEPARATOR),i=e.errors.length,a=[i,a<i?$c.OVERFLOW_TRUE:$c.OVERFLOW_FALSE].join($c.VALUE_SEPARATOR);return[$c.SCHEMA_VERSION,e.cacheHits,t,n,a].join($c.CATEGORY_SEPARATOR)},r.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=$c.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),Yr.isEmpty(e.subError)?Yr.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push($c.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},r.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},r.prototype.getLastRequests=function(){var e=new $P;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},r.prototype.clearTelemetryCache=function(){var e,t=this.getLastRequests(),n=r.maxErrorsToSend(t);n===t.errors.length?this.cacheManager.removeItem(this.telemetryCacheKey):((e=new $P).failedRequests=t.failedRequests.slice(2*n),e.errors=t.errors.slice(n),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e))},r.maxErrorsToSend=function(e){for(var t=0,n=0,i=e.errors.length,a=0;a<i;a++){var o=e.failedRequests[2*a]||vt.EMPTY_STRING,s=e.failedRequests[2*a+1]||vt.EMPTY_STRING,c=e.errors[a]||vt.EMPTY_STRING;if(!((n+=o.toString().length+s.toString().length+c.length+3)<$c.MAX_LAST_HEADER_BYTES))break;t+=1}return t},r.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||vt.EMPTY_STRING),e.push(this.regionSource||vt.EMPTY_STRING),e.push(this.regionOutcome||vt.EMPTY_STRING),e.join(",")},r.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},r.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},r})(),sse=(function(){function r(e,t,n,i,a,o){this.authority=t,this.libraryName=i,this.libraryVersion=a,this.applicationTelemetry=o,this.clientId=e,this.logger=n,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return r.prototype.startPerformanceMeasurement=function(e,t){return{}},r.prototype.startPerformanceMeasuremeant=function(e,t){return{}},r.prototype.getIntFields=function(){return t3e},r.prototype.getPreQueueTime=function(e,t){var n=this.preQueueTimeByCorrelationId.get(t);if(n){if(n.name===e)return n.time;this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+e+", unable to add queue measurement")}else this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+t+", unable to add queue measurement")},r.prototype.calculateQueuedTime=function(e,t){return e<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+e),0):t<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+t),0):t<e?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):t-e},r.prototype.addQueueMeasurement=function(e,t,n,i){if(t){if(n===0)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+e+" is "+n);else if(!n)return void this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+e);n={eventName:e,queueTime:n,manuallyCompleted:i},i=this.queueMeasurements.get(t),i?(i.push(n),this.queueMeasurements.set(t,i)):(this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+t+" to queue measurements"),this.queueMeasurements.set(t,[n])),this.preQueueTimeByCorrelationId.delete(t)}else this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+e+", cannot add queue measurement")},r.prototype.startMeasurement=function(e,t){var n=this,i=t||this.generateId(),a=(t||this.logger.info("PerformanceClient: No correlation id provided for "+e+", generating",i),this.logger.trace("PerformanceClient: Performance measurement started for "+e,i),this.startPerformanceMeasuremeant(e,i)),o=(a.startMeasurement(),{eventId:this.generateId(),status:zP.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:i,appName:(t=this.applicationTelemetry)==null?void 0:t.appName,appVersion:(e=this.applicationTelemetry)==null?void 0:e.appVersion});return this.cacheEventByCorrelationId(o),{endMeasurement:function(s){return n.endMeasurement(xa(xa({},o),s),a)},discardMeasurement:function(){return n.discardMeasurements(o.correlationId)},addStaticFields:function(s){return n.addStaticFields(s,o.correlationId)},increment:function(s){return n.increment(s,o.correlationId)},measurement:a,event:o}},r.prototype.endMeasurement=function(e,t){var n,i,a,o,s,c=this,A=this.eventsByCorrelationId.get(e.correlationId);return A?(i={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0},(n=e.eventId===A.eventId)?(i=this.getQueueInfo(e.correlationId),this.discardCache(A.correlationId)):(a=A.incompleteSubMeasurements)!=null&&a.delete(e.eventId),t?.endMeasurement(),(a=t?.flushMeasurement())?(this.logger.trace("PerformanceClient: Performance measurement ended for "+e.name+": "+a+" ms",e.correlationId),n?(o=xa(xa({},A),e),s=0,(t=o.incompleteSubMeasurements)!=null&&t.forEach(function(f){c.logger.trace("PerformanceClient: Incomplete submeasurement "+f.name+" found for "+e.name,o.correlationId),s++}),o.incompleteSubMeasurements=void 0,o=xa(xa({},o),{durationMs:Math.round(a),queuedTimeMs:i.totalQueueTime,queuedCount:i.totalQueueCount,queuedManuallyCompletedCount:i.manuallyCompletedCount,status:zP.Completed,incompleteSubsCount:s}),this.truncateIntegralFields(o,this.getIntFields()),this.emitEvents([o],e.correlationId),o):(A[e.name+"DurationMs"]=Math.floor(a),xa({},A))):(this.logger.trace("PerformanceClient: Performance measurement not taken",A.correlationId),null)):(this.logger.trace("PerformanceClient: Measurement not found for "+e.eventId,e.correlationId),null)},r.prototype.addStaticFields=function(e,t){this.logger.trace("PerformanceClient: Updating static fields");var n=this.eventsByCorrelationId.get(t);n?this.eventsByCorrelationId.set(t,xa(xa({},n),e)):this.logger.trace("PerformanceClient: Event not found for",t)},r.prototype.increment=function(e,t){this.logger.trace("PerformanceClient: Updating counters");var n=this.eventsByCorrelationId.get(t);if(n)for(var i in e)n.hasOwnProperty(i)||(n[i]=0),n[i]+=e[i];else this.logger.trace("PerformanceClient: Event not found for",t)},r.prototype.cacheEventByCorrelationId=function(e){var t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" added/updated",e.correlationId),t.incompleteSubMeasurements=t.incompleteSubMeasurements||new Map,t.incompleteSubMeasurements.set(e.eventId,{name:e.name,startTimeMs:e.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" started",e.correlationId),this.eventsByCorrelationId.set(e.correlationId,xa({},e)))},r.prototype.getQueueInfo=function(e){var t=this.queueMeasurements.get(e),n=(t||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+e),0),i=0,a=0;return t?.forEach(function(o){n+=o.queueTime,i++,a+=o.manuallyCompleted?1:0}),{totalQueueTime:n,totalQueueCount:i,manuallyCompletedCount:a}},r.prototype.discardMeasurements=function(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e)},r.prototype.discardCache=function(e){this.discardMeasurements(e),this.logger.trace("PerformanceClient: QueueMeasurements discarded",e),this.queueMeasurements.delete(e),this.logger.trace("PerformanceClient: Pre-queue times discarded",e),this.preQueueTimeByCorrelationId.delete(e)},r.prototype.addPerformanceCallback=function(e){var t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+t),t},r.prototype.removePerformanceCallback=function(e){var t=this.callbacks.delete(e);return t?this.logger.verbose("PerformanceClient: Performance callback "+e+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+e+" not removed."),t},r.prototype.emitEvents=function(e,t){var n=this;this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach(function(i,a){n.logger.trace("PerformanceClient: Emitting event to callback "+a,t),i.apply(null,[e])})},r.prototype.truncateIntegralFields=function(e,t){t.forEach(function(n){n in e&&typeof e[n]=="number"&&(e[n]=Math.floor(e[n]))})},r})(),B$=(function(){function r(){}return r.prototype.startMeasurement=function(){},r.prototype.endMeasurement=function(){},r.prototype.flushMeasurement=function(){return null},r})(),h3e=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return bA(e,r),e.prototype.generateId=function(){return"callback-id"},e.prototype.startPerformanceMeasuremeant=function(){return new B$},e.prototype.startPerformanceMeasurement=function(){return new B$},e.prototype.calculateQueuedTime=function(t,n){return 0},e.prototype.addQueueMeasurement=function(t,n,i){},e.prototype.setPreQueueTime=function(t,n){},e})(sse),br={pkceNotGenerated:{code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},cryptoDoesNotExist:{code:"crypto_nonexistent",desc:"The crypto object or function is not available."},httpMethodNotImplementedError:{code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},emptyNavigateUriError:{code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},hashEmptyError:{code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors."},hashDoesNotContainStateError:{code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},hashDoesNotContainKnownPropertiesError:{code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors."},unableToParseStateError:{code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},stateInteractionTypeMismatchError:{code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},interactionInProgress:{code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},popupWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},emptyWindowError:{code:"empty_window_error",desc:"window.open returned null or undefined window object."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},monitorPopupTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},monitorIframeTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},redirectInIframeError:{code:"redirect_in_iframe",desc:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},blockTokenRequestsInHiddenIframeError:{code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},blockAcquireTokenInPopupsError:{code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},iframeClosedPrematurelyError:{code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},silentLogoutUnsupportedError:{code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},noAccountError:{code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},silentPromptValueError:{code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'."},noTokenRequestCacheError:{code:"no_token_request_cache_error",desc:"No token request found in cache."},unableToParseTokenRequestCacheError:{code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},noCachedAuthorityError:{code:"no_cached_authority_error",desc:"No cached authority found."},authRequestNotSet:{code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},notInBrowserEnvironment:{code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},databaseNotOpen:{code:"database_not_open",desc:"Database is not open!"},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},postRequestFailed:{code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},getRequestFailed:{code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},failedToParseNetworkResponse:{code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},unableToLoadTokenError:{code:"unable_to_load_token",desc:"Error loading token to cache."},signingKeyNotFoundInStorage:{code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},authCodeRequired:{code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},authCodeOrNativeAccountRequired:{code:"auth_code_or_nativeAccountId_required",desc:"An authorization code or nativeAccountId must be provided to this flow."},spaCodeAndNativeAccountPresent:{code:"spa_code_and_nativeAccountId_present",desc:"Request cannot contain both spa code and native account id."},databaseUnavailable:{code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},unableToAcquireTokenFromNativePlatform:{code:"unable_to_acquire_token_from_native_platform",desc:"Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors."},nativeHandshakeTimeout:{code:"native_handshake_timeout",desc:"Timed out while attempting to establish connection to browser extension"},nativeExtensionNotInstalled:{code:"native_extension_not_installed",desc:"Native extension is not installed. If you think this is a mistake call the initialize function."},nativeConnectionNotEstablished:{code:"native_connection_not_established",desc:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors."},nativeBrokerCalledBeforeInitialize:{code:"native_broker_called_before_initialize",desc:"You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors."},nativePromptNotSupported:{code:"native_prompt_not_supported",desc:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow."}},qr=(function(r){function e(t,n){return t=r.call(this,t,n)||this,Object.setPrototypeOf(t,e.prototype),t.name="BrowserAuthError",t}return su(e,r),e.createPkceNotGeneratedError=function(t){return new e(br.pkceNotGenerated.code,br.pkceNotGenerated.desc+" Detail:"+t)},e.createCryptoNotAvailableError=function(t){return new e(br.cryptoDoesNotExist.code,br.cryptoDoesNotExist.desc+" Detail:"+t)},e.createHttpMethodNotImplementedError=function(t){return new e(br.httpMethodNotImplementedError.code,br.httpMethodNotImplementedError.desc+" Given Method: "+t)},e.createEmptyNavigationUriError=function(){return new e(br.emptyNavigateUriError.code,br.emptyNavigateUriError.desc)},e.createEmptyHashError=function(t){return new e(br.hashEmptyError.code,br.hashEmptyError.desc+" Given Url: "+t)},e.createHashDoesNotContainStateError=function(){return new e(br.hashDoesNotContainStateError.code,br.hashDoesNotContainStateError.desc)},e.createHashDoesNotContainKnownPropertiesError=function(){return new e(br.hashDoesNotContainKnownPropertiesError.code,br.hashDoesNotContainKnownPropertiesError.desc)},e.createUnableToParseStateError=function(){return new e(br.unableToParseStateError.code,br.unableToParseStateError.desc)},e.createStateInteractionTypeMismatchError=function(){return new e(br.stateInteractionTypeMismatchError.code,br.stateInteractionTypeMismatchError.desc)},e.createInteractionInProgressError=function(){return new e(br.interactionInProgress.code,br.interactionInProgress.desc)},e.createPopupWindowError=function(t){var n=br.popupWindowError.desc,n=Yr.isEmpty(t)?n:n+" Details: "+t;return new e(br.popupWindowError.code,n)},e.createEmptyWindowCreatedError=function(){return new e(br.emptyWindowError.code,br.emptyWindowError.desc)},e.createUserCancelledError=function(){return new e(br.userCancelledError.code,br.userCancelledError.desc)},e.createMonitorPopupTimeoutError=function(){return new e(br.monitorPopupTimeoutError.code,br.monitorPopupTimeoutError.desc)},e.createMonitorIframeTimeoutError=function(){return new e(br.monitorIframeTimeoutError.code,br.monitorIframeTimeoutError.desc)},e.createRedirectInIframeError=function(t){return new e(br.redirectInIframeError.code,br.redirectInIframeError.desc+" (window.parent !== window) => "+t)},e.createBlockReloadInHiddenIframeError=function(){return new e(br.blockTokenRequestsInHiddenIframeError.code,br.blockTokenRequestsInHiddenIframeError.desc)},e.createBlockAcquireTokenInPopupsError=function(){return new e(br.blockAcquireTokenInPopupsError.code,br.blockAcquireTokenInPopupsError.desc)},e.createIframeClosedPrematurelyError=function(){return new e(br.iframeClosedPrematurelyError.code,br.iframeClosedPrematurelyError.desc)},e.createSilentLogoutUnsupportedError=function(){return new e(br.silentLogoutUnsupportedError.code,br.silentLogoutUnsupportedError.desc)},e.createNoAccountError=function(){return new e(br.noAccountError.code,br.noAccountError.desc)},e.createSilentPromptValueError=function(t){return new e(br.silentPromptValueError.code,br.silentPromptValueError.desc+" Given value: "+t)},e.createUnableToParseTokenRequestCacheError=function(){return new e(br.unableToParseTokenRequestCacheError.code,br.unableToParseTokenRequestCacheError.desc)},e.createNoTokenRequestCacheError=function(){return new e(br.noTokenRequestCacheError.code,br.noTokenRequestCacheError.desc)},e.createAuthRequestNotSetError=function(){return new e(br.authRequestNotSet.code,br.authRequestNotSet.desc)},e.createNoCachedAuthorityError=function(){return new e(br.noCachedAuthorityError.code,br.noCachedAuthorityError.desc)},e.createInvalidCacheTypeError=function(){return new e(br.invalidCacheType.code,""+br.invalidCacheType.desc)},e.createNonBrowserEnvironmentError=function(){return new e(br.notInBrowserEnvironment.code,br.notInBrowserEnvironment.desc)},e.createDatabaseNotOpenError=function(){return new e(br.databaseNotOpen.code,br.databaseNotOpen.desc)},e.createNoNetworkConnectivityError=function(){return new e(br.noNetworkConnectivity.code,br.noNetworkConnectivity.desc)},e.createPostRequestFailedError=function(t,n){return new e(br.postRequestFailed.code,br.postRequestFailed.desc+" | Network client threw: "+t+" | Attempted to reach: "+n.split("?")[0])},e.createGetRequestFailedError=function(t,n){return new e(br.getRequestFailed.code,br.getRequestFailed.desc+" | Network client threw: "+t+" | Attempted to reach: "+n.split("?")[0])},e.createFailedToParseNetworkResponseError=function(t){return new e(br.failedToParseNetworkResponse.code,br.failedToParseNetworkResponse.desc+" | Attempted to reach: "+t.split("?")[0])},e.createUnableToLoadTokenError=function(t){return new e(br.unableToLoadTokenError.code,br.unableToLoadTokenError.desc+" | "+t)},e.createSigningKeyNotFoundInStorageError=function(t){return new e(br.signingKeyNotFoundInStorage.code,br.signingKeyNotFoundInStorage.desc+" | No match found for KeyId: "+t)},e.createAuthCodeRequiredError=function(){return new e(br.authCodeRequired.code,br.authCodeRequired.desc)},e.createAuthCodeOrNativeAccountIdRequiredError=function(){return new e(br.authCodeOrNativeAccountRequired.code,br.authCodeOrNativeAccountRequired.desc)},e.createSpaCodeAndNativeAccountIdPresentError=function(){return new e(br.spaCodeAndNativeAccountPresent.code,br.spaCodeAndNativeAccountPresent.desc)},e.createDatabaseUnavailableError=function(){return new e(br.databaseUnavailable.code,br.databaseUnavailable.desc)},e.createUnableToAcquireTokenFromNativePlatformError=function(){return new e(br.unableToAcquireTokenFromNativePlatform.code,br.unableToAcquireTokenFromNativePlatform.desc)},e.createNativeHandshakeTimeoutError=function(){return new e(br.nativeHandshakeTimeout.code,br.nativeHandshakeTimeout.desc)},e.createNativeExtensionNotInstalledError=function(){return new e(br.nativeExtensionNotInstalled.code,br.nativeExtensionNotInstalled.desc)},e.createNativeConnectionNotEstablishedError=function(){return new e(br.nativeConnectionNotEstablished.code,br.nativeConnectionNotEstablished.desc)},e.createNativeBrokerCalledBeforeInitialize=function(){return new e(br.nativeBrokerCalledBeforeInitialize.code,br.nativeBrokerCalledBeforeInitialize.desc)},e.createNativePromptParameterNotSupportedError=function(){return new e(br.nativePromptNotSupported.code,br.nativePromptNotSupported.desc)},e})(fn),Ff={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},lE={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},I$=((function(r){r.HandshakeRequest="Handshake",r.HandshakeResponse="HandshakeResponse",r.GetToken="GetToken",r.Response="Response"})(rg=rg||{}),(function(r){r.LocalStorage="localStorage",r.SessionStorage="sessionStorage",r.MemoryStorage="memoryStorage"})(pl=pl||{}),(function(r){r.GET="GET",r.POST="POST"})(Rp=Rp||{}),(function(r){r.AUTHORITY="authority",r.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",r.SESSION_STATE="session.state",r.REQUEST_STATE="request.state",r.NONCE_IDTOKEN="nonce.id_token",r.ORIGIN_URI="request.origin",r.RENEW_STATUS="token.renew.status",r.URL_HASH="urlHash",r.REQUEST_PARAMS="request.params",r.SCOPES="scopes",r.INTERACTION_STATUS_KEY="interaction.status",r.CCS_CREDENTIAL="ccs.credential",r.CORRELATION_ID="request.correlationId",r.NATIVE_REQUEST="request.native",r.REDIRECT_CONTEXT="request.redirect.context"})(la=la||{}),(function(r){r.ACCOUNT_KEYS="msal.account.keys",r.TOKEN_KEYS="msal.token.keys"})(Pp=Pp||{}),(function(r){r.WRAPPER_SKU="wrapper.sku",r.WRAPPER_VER="wrapper.version"})(qb=qb||{}),(function(r){r[r.acquireTokenRedirect=861]="acquireTokenRedirect",r[r.acquireTokenPopup=862]="acquireTokenPopup",r[r.ssoSilent=863]="ssoSilent",r[r.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",r[r.handleRedirectPromise=865]="handleRedirectPromise",r[r.acquireTokenByCode=866]="acquireTokenByCode",r[r.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",r[r.logout=961]="logout",r[r.logoutPopup=962]="logoutPopup"})(yo=yo||{}),(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(ln=ln||{}),(function(r){r.Startup="startup",r.Login="login",r.Logout="logout",r.AcquireToken="acquireToken",r.SsoSilent="ssoSilent",r.HandleRedirect="handleRedirect",r.None="none"})(C$=C$||{}),{scopes:pT}),Uw="jwk",_6=((function(r){r.React="@azure/msal-react",r.Angular="@azure/msal-angular"})(E$=E$||{}),"msal.db"),A3e=1,d3e=_6+".keys",nA=((function(r){r[r.Default=0]="Default",r[r.AccessToken=1]="AccessToken",r[r.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",r[r.RefreshToken=3]="RefreshToken",r[r.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",r[r.Skip=5]="Skip"})(cA=cA||{}),{redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},entropyNotProvided:{code:"entropy_not_provided",desc:"The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option."}}),YP=(function(r){function e(t,n){return t=r.call(this,t,n)||this,t.name="BrowserConfigurationAuthError",Object.setPrototypeOf(t,e.prototype),t}return su(e,r),e.createRedirectUriEmptyError=function(){return new e(nA.redirectUriNotSet.code,nA.redirectUriNotSet.desc)},e.createPostLogoutRedirectUriEmptyError=function(){return new e(nA.postLogoutUriNotSet.code,nA.postLogoutUriNotSet.desc)},e.createStorageNotSupportedError=function(t){return new e(nA.storageNotSupportedError.code,nA.storageNotSupportedError.desc+" Given Location: "+t)},e.createRedirectCallbacksNotSetError=function(){return new e(nA.noRedirectCallbacksSet.code,nA.noRedirectCallbacksSet.desc)},e.createStubPcaInstanceCalledError=function(){return new e(nA.stubPcaInstanceCalled.code,nA.stubPcaInstanceCalled.desc)},e.createInMemoryRedirectUnavailableError=function(){return new e(nA.inMemRedirectUnavailable.code,nA.inMemRedirectUnavailable.desc)},e.createEntropyNotProvided=function(){return new e(nA.entropyNotProvided.code,nA.entropyNotProvided.desc)},e})(fn),k$=(function(){function r(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return r.prototype.validateWindowStorage=function(e){if(e!==pl.LocalStorage&&e!==pl.SessionStorage||!window[e])throw YP.createStorageNotSupportedError(e)},r.prototype.getItem=function(e){return this.windowStorage.getItem(e)},r.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},r.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},r.prototype.getKeys=function(){return Object.keys(this.windowStorage)},r.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},r})(),b6=(function(){function r(){this.cache=new Map}return r.prototype.getItem=function(e){return this.cache.get(e)||null},r.prototype.setItem=function(e,t){this.cache.set(e,t)},r.prototype.removeItem=function(e){this.cache.delete(e)},r.prototype.getKeys=function(){var e=[];return this.cache.forEach(function(t,n){e.push(n)}),e},r.prototype.containsKey=function(e){return this.cache.has(e)},r.prototype.clear=function(){this.cache.clear()},r})(),lse=(function(){function r(){}return r.extractBrowserRequestState=function(e,t){if(Yr.isEmpty(t))return null;try{return fg.parseRequestState(e,t).libraryState.meta}catch(n){throw Zr.createInvalidStateError(t,n)}},r.parseServerResponseFromHash=function(e){return e?(e=new Xi(e),Xi.getDeserializedHash(e.getHash())):{}},r})(),w6=(function(r){function e(t,n,i,a){return t=r.call(this,t,i,a)||this,t.COOKIE_LIFE_MULTIPLIER=864e5,t.cacheConfig=n,t.logger=a,t.internalStorage=new b6,t.browserStorage=t.setupBrowserStorage(t.cacheConfig.cacheLocation),t.temporaryCacheStorage=t.setupTemporaryCacheStorage(t.cacheConfig.temporaryCacheLocation,t.cacheConfig.cacheLocation),n.cacheMigrationEnabled&&(t.migrateCacheEntries(),t.createKeyMaps()),t}return su(e,r),e.prototype.setupBrowserStorage=function(t){switch(t){case pl.LocalStorage:case pl.SessionStorage:try{return new k$(t)}catch(n){this.logger.verbose(n);break}}return this.cacheConfig.cacheLocation=pl.MemoryStorage,new b6},e.prototype.setupTemporaryCacheStorage=function(t,n){switch(n){case pl.LocalStorage:case pl.SessionStorage:try{return new k$(t||pl.SessionStorage)}catch(i){return this.logger.verbose(i),this.internalStorage}case pl.MemoryStorage:default:return this.internalStorage}},e.prototype.migrateCacheEntries=function(){var t=this,n=vt.CACHE_PREFIX+"."+Dl.ID_TOKEN,i=vt.CACHE_PREFIX+"."+Dl.CLIENT_INFO,a=vt.CACHE_PREFIX+"."+Dl.ERROR,o=vt.CACHE_PREFIX+"."+Dl.ERROR_DESC,s=[this.browserStorage.getItem(n),this.browserStorage.getItem(i),this.browserStorage.getItem(a),this.browserStorage.getItem(o)];[Dl.ID_TOKEN,Dl.CLIENT_INFO,Dl.ERROR,Dl.ERROR_DESC].forEach(function(c,A){return t.migrateCacheEntry(c,s[A])})},e.prototype.migrateCacheEntry=function(t,n){n&&this.setTemporaryCache(t,n,!0)},e.prototype.createKeyMaps=function(){var t=this,n=(this.logger.trace("BrowserCacheManager - createKeyMaps called."),this.getItem(Pp.ACCOUNT_KEYS)),i=this.getItem(Pp.TOKEN_KEYS+"."+this.clientId);n&&i?this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration."):this.browserStorage.getKeys().forEach(function(a){var o;if(t.isCredentialKey(a)&&(o=t.getItem(a))){var s,c,A=t.validateAndParseJson(o);if(A&&A.hasOwnProperty("credentialType"))switch(A.credentialType){case Mn.ID_TOKEN:if(X0.isIdTokenEntity(A))return t.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),t.logger.tracePii("BrowserCacheManager:createKeyMaps - idToken with key: "+a+" found, saving key to token key map"),c=iA.toObject(new X0,A),c=t.updateCredentialCacheKey(a,c),void t.addTokenKey(c,Mn.ID_TOKEN);t.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),t.logger.tracePii("BrowserCacheManager:createKeyMaps - failed idToken validation on key: "+a);break;case Mn.ACCESS_TOKEN:case Mn.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(J0.isAccessTokenEntity(A))return t.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),t.logger.tracePii("BrowserCacheManager:createKeyMaps - accessToken with key: "+a+" found, saving key to token key map"),s=iA.toObject(new J0,A),c=t.updateCredentialCacheKey(a,s),void t.addTokenKey(c,Mn.ACCESS_TOKEN);t.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),t.logger.tracePii("BrowserCacheManager:createKeyMaps - failed accessToken validation on key: "+a);break;case Mn.REFRESH_TOKEN:if(Hb.isRefreshTokenEntity(A))return t.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),t.logger.tracePii("BrowserCacheManager:createKeyMaps - refreshToken with key: "+a+" found, saving key to token key map"),s=iA.toObject(new Hb,A),c=t.updateCredentialCacheKey(a,s),void t.addTokenKey(c,Mn.REFRESH_TOKEN);t.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),t.logger.tracePii("BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: "+a)}}t.isAccountKey(a)&&(o=t.getItem(a))&&(o=t.validateAndParseJson(o))&&nu.isAccountEntity(o)&&(t.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),t.logger.tracePii("BrowserCacheManager:createKeyMaps - account with key: "+a+" found, saving key to account key map"),t.addAccountKeyToMap(a))})},e.prototype.validateAndParseJson=function(t){try{var n=JSON.parse(t);return n&&typeof n=="object"?n:null}catch{return null}},e.prototype.getItem=function(t){return this.browserStorage.getItem(t)},e.prototype.setItem=function(t,n){this.browserStorage.setItem(t,n)},e.prototype.getAccount=function(t){this.logger.trace("BrowserCacheManager.getAccount called");var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&nu.isAccountEntity(n)?iA.toObject(new nu,n):(this.removeAccountKeyFromMap(t),null)},e.prototype.setAccount=function(t){this.logger.trace("BrowserCacheManager.setAccount called");var n=t.generateAccountKey();this.setItem(n,JSON.stringify(t)),this.addAccountKeyToMap(n)},e.prototype.getAccountKeys=function(){this.logger.trace("BrowserCacheManager.getAccountKeys called");var t=this.getItem(Pp.ACCOUNT_KEYS);return t?JSON.parse(t):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])},e.prototype.addAccountKeyToMap=function(t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: "+t);var n=this.getAccountKeys();n.indexOf(t)===-1?(n.push(t),this.setItem(Pp.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")},e.prototype.removeAccountKeyFromMap=function(i){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: "+i);var n=this.getAccountKeys(),i=n.indexOf(i);-1<i?(n.splice(i,1),this.setItem(Pp.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")},e.prototype.removeAccount=function(t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return r.prototype.removeAccount.call(this,t),this.removeAccountKeyFromMap(t),[2]})})},e.prototype.removeIdToken=function(t){r.prototype.removeIdToken.call(this,t),this.removeTokenKey(t,Mn.ID_TOKEN)},e.prototype.removeAccessToken=function(t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return r.prototype.removeAccessToken.call(this,t),this.removeTokenKey(t,Mn.ACCESS_TOKEN),[2]})})},e.prototype.removeRefreshToken=function(t){r.prototype.removeRefreshToken.call(this,t),this.removeTokenKey(t,Mn.REFRESH_TOKEN)},e.prototype.getTokenKeys=function(){this.logger.trace("BrowserCacheManager.getTokenKeys called");var t=this.getItem(Pp.TOKEN_KEYS+"."+this.clientId);if(t){if(t=this.validateAndParseJson(t),t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}},e.prototype.addTokenKey=function(t,n){this.logger.trace("BrowserCacheManager addTokenKey called");var i=this.getTokenKeys();switch(n){case Mn.ID_TOKEN:i.idToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(t));break;case Mn.ACCESS_TOKEN:i.accessToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),i.accessToken.push(t));break;case Mn.REFRESH_TOKEN:i.refreshToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(t));break;default:this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: "+n),Zr.createUnexpectedCredentialTypeError()}this.setItem(Pp.TOKEN_KEYS+"."+this.clientId,JSON.stringify(i))},e.prototype.removeTokenKey=function(t,n){this.logger.trace("BrowserCacheManager removeTokenKey called");var i=this.getTokenKeys();switch(n){case Mn.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: "+t+" from map");var a=i.idToken.indexOf(t);-1<a?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),i.idToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Mn.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: "+t+" from map"),a=i.accessToken.indexOf(t),-1<a?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),i.accessToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Mn.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: "+t+" from map"),a=i.refreshToken.indexOf(t),-1<a?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),i.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: "+n),Zr.createUnexpectedCredentialTypeError()}this.setItem(Pp.TOKEN_KEYS+"."+this.clientId,JSON.stringify(i))},e.prototype.getIdTokenCredential=function(t){var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&X0.isIdTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),iA.toObject(new X0,n)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,Mn.ID_TOKEN),null)},e.prototype.setIdTokenCredential=function(t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var n=t.generateCredentialKey();this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,Mn.ID_TOKEN)},e.prototype.getAccessTokenCredential=function(t){var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&J0.isAccessTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),iA.toObject(new J0,n)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,Mn.ACCESS_TOKEN),null)},e.prototype.setAccessTokenCredential=function(t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var n=t.generateCredentialKey();this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,Mn.ACCESS_TOKEN)},e.prototype.getRefreshTokenCredential=function(t){var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&Hb.isRefreshTokenEntity(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),iA.toObject(new Hb,n)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,Mn.REFRESH_TOKEN),null)},e.prototype.setRefreshTokenCredential=function(t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var n=t.generateCredentialKey();this.setItem(n,JSON.stringify(t)),this.addTokenKey(n,Mn.REFRESH_TOKEN)},e.prototype.getAppMetadata=function(t){var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&y6.isAppMetadataEntity(t,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),iA.toObject(new y6,n)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},e.prototype.setAppMetadata=function(t){this.logger.trace("BrowserCacheManager.setAppMetadata called");var n=t.generateAppMetadataKey();this.setItem(n,JSON.stringify(t))},e.prototype.getServerTelemetry=function(t){var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&$P.isServerTelemetryEntity(t,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),iA.toObject(new $P,n)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},e.prototype.setServerTelemetry=function(t,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(n))},e.prototype.getAuthorityMetadata=function(t){var n=this.internalStorage.getItem(t);return n?(n=this.validateAndParseJson(n))&&v6.isAuthorityMetadataEntity(t,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),iA.toObject(new v6,n)):null:(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null)},e.prototype.getAuthorityMetadataKeys=function(){var t=this;return this.internalStorage.getKeys().filter(function(n){return t.isAuthorityMetadata(n)})},e.prototype.setWrapperMetadata=function(t,n){this.internalStorage.setItem(qb.WRAPPER_SKU,t),this.internalStorage.setItem(qb.WRAPPER_VER,n)},e.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(qb.WRAPPER_SKU)||vt.EMPTY_STRING,this.internalStorage.getItem(qb.WRAPPER_VER)||vt.EMPTY_STRING]},e.prototype.setAuthorityMetadata=function(t,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(n))},e.prototype.getActiveAccount=function(){var t=this.generateCacheKey(Dl.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(t);return t?(t=this.validateAndParseJson(t))?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:t.homeAccountId,localAccountId:t.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema"),t=this.generateCacheKey(Dl.ACTIVE_ACCOUNT),(t=this.getItem(t))?(t=this.getAccountInfoByFilter({localAccountId:t})[0]||null)?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(t),t):null:(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null))},e.prototype.setActiveAccount=function(t){var n,i=this.generateCacheKey(Dl.ACTIVE_ACCOUNT_FILTERS),a=this.generateCacheKey(Dl.ACTIVE_ACCOUNT);t?(this.logger.verbose("setActiveAccount: Active account set"),n={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId},this.browserStorage.setItem(i,JSON.stringify(n)),this.browserStorage.setItem(a,t.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(i),this.browserStorage.removeItem(a))},e.prototype.getAccountInfoByFilter=function(t){var n=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+n.length+" accounts found"),n.filter(function(i){return!(t.username&&t.username.toLowerCase()!==i.username.toLowerCase()||t.homeAccountId&&t.homeAccountId!==i.homeAccountId||t.localAccountId&&t.localAccountId!==i.localAccountId||t.tenantId&&t.tenantId!==i.tenantId||t.environment&&t.environment!==i.environment)})},e.prototype.getAccountInfoByHints=function(t,n){var i=this.getAllAccounts().filter(function(a){var o;return n?(o=a.idTokenClaims&&a.idTokenClaims.sid,n===o):!!t&&t===a.username});if(i.length===1)return i[0];if(1<i.length)throw Zr.createMultipleMatchingAccountsInCacheError();return null},e.prototype.getThrottlingCache=function(t){var n=this.getItem(t);return(n=n&&this.validateAndParseJson(n))&&S$.isThrottlingEntity(t,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),iA.toObject(new S$,n)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},e.prototype.setThrottlingCache=function(t,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(n))},e.prototype.getTemporaryCache=function(t,n){return n=n?this.generateCacheKey(t):t,this.cacheConfig.storeAuthStateInCookie&&(t=this.getItemCookie(n),t)?(this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),t):(t=this.temporaryCacheStorage.getItem(n),t?(this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),t):this.cacheConfig.cacheLocation===pl.LocalStorage&&(t=this.browserStorage.getItem(n),t)?(this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),t):(this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null))},e.prototype.setTemporaryCache=function(t,n,i){i=i?this.generateCacheKey(t):t,this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(i,n))},e.prototype.removeItem=function(t){this.browserStorage.removeItem(t),this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(t))},e.prototype.containsKey=function(t){return this.browserStorage.containsKey(t)||this.temporaryCacheStorage.containsKey(t)},e.prototype.getKeys=function(){return nQ(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},e.prototype.clear=function(){return fr(this,void 0,void 0,function(){var t=this;return pr(this,function(n){switch(n.label){case 0:return[4,this.removeAllAccounts()];case 1:return n.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(i){!t.browserStorage.containsKey(i)&&!t.temporaryCacheStorage.containsKey(i)||i.indexOf(vt.CACHE_PREFIX)===-1&&i.indexOf(t.clientId)===-1||t.removeItem(i)}),this.internalStorage.clear(),[2]}})})},e.prototype.clearTokensAndKeysWithClaims=function(){return fr(this,void 0,void 0,function(){var t,n,i=this;return pr(this,function(a){switch(a.label){case 0:return this.logger.trace("BrowserCacheManager.clearTokensAndKeysWithClaims called"),t=this.getTokenKeys(),n=[],t.accessToken.forEach(function(o){var s=i.getAccessTokenCredential(o);s!=null&&s.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&n.push(i.removeAccessToken(o))}),[4,Promise.all(n)];case 1:return a.sent(),0<n.length&&this.logger.warning(n.length+" access tokens with claims in the cache keys have been removed from the cache."),[2]}})})},e.prototype.setItemCookie=function(t,n,i){t=encodeURIComponent(t)+"="+encodeURIComponent(n)+";path=/;SameSite=Lax;",i&&(t+="expires="+this.getCookieExpirationTime(i)+";"),this.cacheConfig.secureCookies&&(t+="Secure;"),document.cookie=t},e.prototype.getItemCookie=function(t){for(var n=encodeURIComponent(t)+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var o=i[a];o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(n)===0)return decodeURIComponent(o.substring(n.length,o.length))}return vt.EMPTY_STRING},e.prototype.clearMsalCookies=function(){var t=this,n=vt.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(i){for(;i.charAt(0)===" ";)i=i.substring(1);var a;i.indexOf(n)===0&&(a=i.split("=")[0],t.clearItemCookie(a))})},e.prototype.clearItemCookie=function(t){this.setItemCookie(t,vt.EMPTY_STRING,-1)},e.prototype.getCookieExpirationTime=function(t){var n=new Date;return new Date(n.getTime()+t*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},e.prototype.getCache=function(){return this.browserStorage},e.prototype.setCache=function(){},e.prototype.generateCacheKey=function(t){return this.validateAndParseJson(t)?JSON.stringify(t):Yr.startsWith(t,vt.CACHE_PREFIX)||Yr.startsWith(t,Dl.ADAL_ID_TOKEN)?t:vt.CACHE_PREFIX+"."+this.clientId+"."+t},e.prototype.generateAuthorityKey=function(t){return t=fg.parseRequestState(this.cryptoImpl,t).libraryState.id,this.generateCacheKey(la.AUTHORITY+"."+t)},e.prototype.generateNonceKey=function(t){return t=fg.parseRequestState(this.cryptoImpl,t).libraryState.id,this.generateCacheKey(la.NONCE_IDTOKEN+"."+t)},e.prototype.generateStateKey=function(t){return t=fg.parseRequestState(this.cryptoImpl,t).libraryState.id,this.generateCacheKey(la.REQUEST_STATE+"."+t)},e.prototype.getCachedAuthority=function(n){var n=this.generateStateKey(n),n=this.getTemporaryCache(n);return n?(n=this.generateAuthorityKey(n),this.getTemporaryCache(n)):null},e.prototype.updateCacheEntries=function(t,n,i,a,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var s,c=this.generateStateKey(t),c=(this.setTemporaryCache(c,t,!1),this.generateNonceKey(t)),c=(this.setTemporaryCache(c,n,!1),this.generateAuthorityKey(t));this.setTemporaryCache(c,i,!1),o?(s={credential:o.homeAccountId,type:ud.HOME_ACCOUNT_ID},this.setTemporaryCache(la.CCS_CREDENTIAL,JSON.stringify(s),!0)):Yr.isEmpty(a)||(s={credential:a,type:ud.UPN},this.setTemporaryCache(la.CCS_CREDENTIAL,JSON.stringify(s),!0))},e.prototype.resetRequestCache=function(t){var n=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),Yr.isEmpty(t)||this.getKeys().forEach(function(i){i.indexOf(t)!==-1&&n.removeItem(i)}),t&&(this.removeItem(this.generateStateKey(t)),this.removeItem(this.generateNonceKey(t)),this.removeItem(this.generateAuthorityKey(t))),this.removeItem(this.generateCacheKey(la.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(la.ORIGIN_URI)),this.removeItem(this.generateCacheKey(la.URL_HASH)),this.removeItem(this.generateCacheKey(la.CORRELATION_ID)),this.removeItem(this.generateCacheKey(la.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(la.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},e.prototype.cleanRequestByState=function(t){this.logger.trace("BrowserCacheManager.cleanRequestByState called"),t&&(t=this.generateStateKey(t),t=this.temporaryCacheStorage.getItem(t),this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+t),this.resetRequestCache(t||vt.EMPTY_STRING)),this.clearMsalCookies()},e.prototype.cleanRequestByInteractionType=function(t){var n=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(i){var a;i.indexOf(la.REQUEST_STATE)!==-1&&(i=n.temporaryCacheStorage.getItem(i))&&(a=lse.extractBrowserRequestState(n.cryptoImpl,i))&&a.interactionType===t&&(n.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+i),n.resetRequestCache(i))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},e.prototype.cacheCodeRequest=function(t,n){this.logger.trace("BrowserCacheManager.cacheCodeRequest called"),n=n.base64Encode(JSON.stringify(t)),this.setTemporaryCache(la.REQUEST_PARAMS,n,!0)},e.prototype.getCachedRequest=function(t,n){this.logger.trace("BrowserCacheManager.getCachedRequest called");var i=this.getTemporaryCache(la.REQUEST_PARAMS,!0);if(!i)throw qr.createNoTokenRequestCacheError();if(n=this.validateAndParseJson(n.base64Decode(i)),!n)throw qr.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(la.REQUEST_PARAMS)),Yr.isEmpty(n.authority)){if(i=this.generateAuthorityKey(t),t=this.getTemporaryCache(i),!t)throw qr.createNoCachedAuthorityError();n.authority=t}return n},e.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var t=this.getTemporaryCache(la.NATIVE_REQUEST,!0);return t?this.validateAndParseJson(t)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},e.prototype.isInteractionInProgress=function(t){var n=this.getInteractionInProgress();return t?n===this.clientId:!!n},e.prototype.getInteractionInProgress=function(){var t=vt.CACHE_PREFIX+"."+la.INTERACTION_STATUS_KEY;return this.getTemporaryCache(t,!1)},e.prototype.setInteractionInProgress=function(t){var n=vt.CACHE_PREFIX+"."+la.INTERACTION_STATUS_KEY;if(t){if(this.getInteractionInProgress())throw qr.createInteractionInProgressError();this.setTemporaryCache(n,this.clientId,!1)}else this.getInteractionInProgress()===this.clientId&&this.removeItem(n)},e.prototype.getLegacyLoginHint=function(){var t=this.getTemporaryCache(Dl.ADAL_ID_TOKEN),n=(t&&(this.browserStorage.removeItem(Dl.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved.")),this.getTemporaryCache(Dl.ID_TOKEN,!0)),n=(n&&(this.removeItem(this.generateCacheKey(Dl.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved")),n||t);if(n){if(t=new nm(n,this.cryptoImpl),t.claims&&t.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),t.claims.preferred_username;if(t.claims&&t.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),t.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},e.prototype.updateCredentialCacheKey=function(t,n){var i=n.generateCredentialKey();if(t!==i){var a=this.getItem(t);if(a)return this.removeItem(t),this.setItem(i,a),this.logger.verbose("Updated an outdated "+n.credentialType+" cache key"),i;this.logger.error("Attempted to update an outdated "+n.credentialType+" cache key but no item matching the outdated key was found in storage")}return t},e.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(la.REDIRECT_CONTEXT,!0)},e.prototype.setRedirectRequestContext=function(t){this.setTemporaryCache(la.REDIRECT_CONTEXT,t,!0)},e})(iA),f3e=function(r,e){var t={cacheLocation:pl.MemoryStorage,temporaryCacheLocation:pl.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0};return new w6(r,t,QP,e)},YD="@azure/msal-browser",DE="2.38.3",p3e=(function(){function r(){}return r.prototype.sendGetRequestAsync=function(e,t){return fr(this,void 0,void 0,function(){var n,i,a;return pr(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(e,{method:Rp.GET,headers:this.getFetchHeaders(t)})];case 1:return n=o.sent(),[3,3];case 2:throw i=o.sent(),window.navigator.onLine?qr.createGetRequestFailedError(i,e):qr.createNoNetworkConnectivityError();case 3:return o.trys.push([3,5,,6]),a={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 4:return[2,(a.body=o.sent(),a.status=n.status,a)];case 5:throw o.sent(),qr.createFailedToParseNetworkResponseError(e);case 6:return[2]}})})},r.prototype.sendPostRequestAsync=function(e,t){return fr(this,void 0,void 0,function(){var n,i,a,o;return pr(this,function(s){switch(s.label){case 0:n=t&&t.body||vt.EMPTY_STRING,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(e,{method:Rp.POST,headers:this.getFetchHeaders(t),body:n})];case 2:return i=s.sent(),[3,4];case 3:throw a=s.sent(),window.navigator.onLine?qr.createPostRequestFailedError(a,e):qr.createNoNetworkConnectivityError();case 4:return s.trys.push([4,6,,7]),o={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 5:return[2,(o.body=s.sent(),o.status=i.status,o)];case 6:throw s.sent(),qr.createFailedToParseNetworkResponseError(e);case 7:return[2]}})})},r.prototype.getFetchHeaders=function(e){var t,n=new Headers;return e&&e.headers&&(t=e.headers,Object.keys(t).forEach(function(i){n.append(i,t[i])})),n},r.prototype.getHeaderDict=function(e){var t={};return e.forEach(function(n,i){t[i]=n}),t},r})(),m3e=(function(){function r(){}return r.prototype.sendGetRequestAsync=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,this.sendRequestAsync(e,Rp.GET,t)]})})},r.prototype.sendPostRequestAsync=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,this.sendRequestAsync(e,Rp.POST,t)]})})},r.prototype.sendRequestAsync=function(e,t,n){var i=this;return new Promise(function(a,o){var s=new XMLHttpRequest;if(s.open(t,e,!0),i.setXhrHeaders(s,n),s.onload=function(){(s.status<200||300<=s.status)&&(t===Rp.POST?o(qr.createPostRequestFailedError("Failed with status "+s.status,e)):o(qr.createGetRequestFailedError("Failed with status "+s.status,e)));try{var c=JSON.parse(s.responseText),A={headers:i.getHeaderDict(s),body:c,status:s.status};a(A)}catch{o(qr.createFailedToParseNetworkResponseError(e))}},s.onerror=function(){window.navigator.onLine?t===Rp.POST?o(qr.createPostRequestFailedError("Failed with status "+s.status,e)):o(qr.createGetRequestFailedError("Failed with status "+s.status,e)):o(qr.createNoNetworkConnectivityError())},t===Rp.POST&&n&&n.body)s.send(n.body);else{if(t!==Rp.GET)throw qr.createHttpMethodNotImplementedError(t);s.send()}})},r.prototype.setXhrHeaders=function(e,t){var n;t&&t.headers&&(n=t.headers,Object.keys(n).forEach(function(i){e.setRequestHeader(i,n[i])}))},r.prototype.getHeaderDict=function(t){var t=t.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};return t.forEach(function(o){var o=o.split(": "),a=o.shift(),o=o.join(": ");a&&o&&(n[a]=o)}),n},r})(),xs=(function(){function r(){}return r.clearHash=function(e){e.location.hash=vt.EMPTY_STRING,typeof e.history.replaceState=="function"&&e.history.replaceState(null,vt.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},r.replaceHash=function(e){e=e.split("#"),e.shift(),window.location.hash=0<e.length?e.join("#"):vt.EMPTY_STRING},r.isInIframe=function(){return window.parent!==window},r.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(Ff.POPUP_NAME_PREFIX+".")===0},r.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},r.getHomepage=function(){var e=new Xi(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},r.getBrowserNetworkClient=function(){return new(window.fetch&&window.Headers?p3e:m3e)},r.blockReloadInHiddenIframes=function(){if(Xi.hashContainsKnownProperties(window.location.hash)&&r.isInIframe())throw qr.createBlockReloadInHiddenIframeError()},r.blockRedirectInIframe=function(e,t){var n=r.isInIframe();if(e===ln.Redirect&&n&&!t)throw qr.createRedirectInIframeError(n)},r.blockAcquireTokenInPopups=function(){if(r.isInPopup())throw qr.createBlockAcquireTokenInPopupsError()},r.blockNonBrowserEnvironment=function(e){if(!e)throw qr.createNonBrowserEnvironmentError()},r.blockNativeBrokerCalledBeforeInitialized=function(e,t){if(e&&!t)throw qr.createNativeBrokerCalledBeforeInitialize()},r.detectIEOrEdge=function(){var n=window.navigator.userAgent,e=n.indexOf("MSIE "),t=n.indexOf("Trident/"),n=n.indexOf("Edge/");return 0<e||0<t||0<n},r})(),cse=(function(){function r(e,t,n,i,a,o,s,c,A){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=a,this.navigationClient=o,this.nativeMessageHandler=c,this.correlationId=A||this.browserCrypto.createNewGuid(),this.logger=i.clone(Ff.MSAL_SKU,DE,this.correlationId),this.performanceClient=s}return r.prototype.clearCacheOnLogout=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(t){switch(t.label){case 0:if(!e)return[3,5];nu.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(nu.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},r.prototype.initializeBaseRequest=function(e,t){return fr(this,void 0,void 0,function(){var n,i,a;return pr(this,function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.InitializeBaseRequest,e.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),n=e.authority||this.config.auth.authority,t?[4,this.validateRequestAuthority(n,t)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(i=nQ(e&&e.scopes||[]),(i=hn(hn({},e),{correlationId:this.correlationId,authority:n,scopes:i})).authenticationScheme){if(i.authenticationScheme===Ca.SSH){if(!e.sshJwk)throw _o.createMissingSshJwkError();if(!e.sshKid)throw _o.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+i.authenticationScheme+'" as configured in Auth request')}else i.authenticationScheme=Ca.BEARER,this.logger.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);return this.config.cache.claimsBasedCachingEnabled&&e.claims&&!Yr.isEmptyObj(e.claims)?(a=i,[4,this.browserCrypto.hashString(e.claims)]):[3,4];case 3:a.requestedClaimsHash=o.sent(),o.label=4;case 4:return[2,i]}})})},r.prototype.getRedirectUri=function(e){return this.logger.verbose("getRedirectUri called"),e=e||this.config.auth.redirectUri||xs.getCurrentUri(),Xi.getAbsoluteUrl(e,xs.getCurrentUri())},r.prototype.validateRequestAuthority=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){switch(n.label){case 0:return[4,this.getDiscoveredAuthority(e)];case 1:if(n.sent().isAlias(t.environment))return[2];throw _o.createAuthorityMismatchError()}})})},r.prototype.initializeServerTelemetryManager=function(e,t){return this.logger.verbose("initializeServerTelemetryManager called"),e={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]},new u3e(e,this.browserStorage)},r.prototype.getDiscoveredAuthority=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){switch(n.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,GP.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t,this.logger)]):[3,2];case 1:return[2,n.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,GP.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t,this.logger)];case 3:return[2,n.sent()]}})})},r})(),hx=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return su(e,r),e.prototype.initializeAuthorizationCodeRequest=function(t){return fr(this,void 0,void 0,function(){var n,i;return pr(this,function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.StandardInteractionClientInitializeAuthorizationCodeRequest,t.correlationId),this.logger.verbose("initializeAuthorizationRequest called",t.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return n=a.sent(),i=hn(hn({},t),{redirectUri:t.redirectUri,code:vt.EMPTY_STRING,codeVerifier:n.verifier}),t.codeChallenge=n.challenge,t.codeChallengeMethod=vt.S256_CODE_CHALLENGE_METHOD,[2,i]}})})},e.prototype.initializeLogoutRequest=function(t){this.logger.verbose("initializeLogoutRequest called",t?.correlationId);var n,i=hn({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},t);return t?t.logoutHint?this.logger.verbose("logoutHint has already been set in logoutRequest"):t.account?(n=this.getLogoutHintFromIdTokenClaims(t.account))&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),i.logoutHint=n):this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set"):this.logger.verbose("logoutHint will not be set since no logout request was configured"),t&&t.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",i.correlationId):t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",i.correlationId),i.postLogoutRedirectUri=Xi.getAbsoluteUrl(t.postLogoutRedirectUri,xs.getCurrentUri())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",i.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",i.correlationId),i.postLogoutRedirectUri=Xi.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,xs.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",i.correlationId),i.postLogoutRedirectUri=Xi.getAbsoluteUrl(xs.getCurrentUri(),xs.getCurrentUri())),i},e.prototype.getLogoutHintFromIdTokenClaims=function(t){if(t=t.idTokenClaims,t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},e.prototype.createAuthCodeClient=function(t,n,i){return fr(this,void 0,void 0,function(){var a;return pr(this,function(o){switch(o.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(t,n,i)];case 1:return a=o.sent(),[2,new ise(a,this.performanceClient)]}})})},e.prototype.getClientConfiguration=function(t,n,i){return fr(this,void 0,void 0,function(){var a,o;return pr(this,function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(n,i)];case 1:return a=s.sent(),o=this.config.system.loggerOptions,[2,{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:o.loggerCallback,piiLoggingEnabled:o.piiLoggingEnabled,logLevel:o.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Ff.MSAL_SKU,version:DE,cpu:vt.EMPTY_STRING,os:vt.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},e.prototype.validateAndExtractStateFromHash=function(t,n,i){if(this.logger.verbose("validateAndExtractStateFromHash called",i),!t.state)throw qr.createHashDoesNotContainStateError();var a=lse.extractBrowserRequestState(this.browserCrypto,t.state);if(!a)throw qr.createUnableToParseStateError();if(a.interactionType!==n)throw qr.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",i),t.state},e.prototype.getDiscoveredAuthority=function(t,n){var i;return fr(this,void 0,void 0,function(){var a,o,s;return pr(this,function(c){switch(c.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),a=(i=this.performanceClient)==null?void 0:i.startMeasurement(Wt.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=t||this.config.auth.authority,s=xS.generateAuthority(s,n||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(Wt.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,GP.createDiscoveredInstance(s,this.config.system.networkClient,this.browserStorage,o,this.logger,this.performanceClient,this.correlationId).then(function(A){return a.endMeasurement({success:!0}),A}).catch(function(A){throw a.endMeasurement({errorCode:A.errorCode,subErrorCode:A.subError,success:!1}),A})];case 1:return[2,c.sent()]}})})},e.prototype.initializeAuthorizationRequest=function(t,n){return fr(this,void 0,void 0,function(){var i,a,o,s,c;return pr(this,function(A){switch(A.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),i=this.getRedirectUri(t.redirectUri),a={interactionType:n},a=fg.setRequestState(this.browserCrypto,t&&t.state||vt.EMPTY_STRING,a),this.performanceClient.setPreQueueTime(Wt.InitializeBaseRequest,this.correlationId),s=[{}],[4,this.initializeBaseRequest(t)];case 1:return o=hn.apply(void 0,[hn.apply(void 0,s.concat([A.sent()])),{redirectUri:i,state:a,nonce:t.nonce||this.browserCrypto.createNewGuid(),responseMode:UP.FRAGMENT}]),(c=t.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+c.homeAccountId,this.correlationId),o.account=c),Yr.isEmpty(o.loginHint)&&!c&&(c=this.browserStorage.getLegacyLoginHint())&&(o.loginHint=c),[2,o]}})})},e})(cse),lQ=(function(){function r(e,t,n,i,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=i,this.performanceClient=a}return r.prototype.handleCodeResponseFromHash=function(e,t,n,i){return fr(this,void 0,void 0,function(){var a,o;return pr(this,function(s){if(this.performanceClient.addQueueMeasurement(Wt.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),Yr.isEmpty(e))throw qr.createEmptyHashError(e);if(a=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(a)))throw Zr.createStateNotFoundError("Cached State");try{o=this.authModule.handleFragmentResponse(e,a)}catch(c){throw c instanceof D_&&c.subError===br.userCancelledError.code?qr.createUserCancelledError():c}return this.performanceClient.setPreQueueTime(Wt.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(o,t,n,i)]})})},r.prototype.handleCodeResponseFromServer=function(e,t,n,i,a){return a===void 0&&(a=!0),fr(this,void 0,void 0,function(){var o,s,c;return pr(this,function(A){switch(A.label){case 0:if(this.performanceClient.addQueueMeasurement(Wt.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),o=this.browserStorage.generateStateKey(t),o=this.browserStorage.getTemporaryCache(o))return s=this.browserStorage.generateNonceKey(o),s=this.browserStorage.getTemporaryCache(s),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(Wt.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,n,i)]):[3,2];throw Zr.createStateNotFoundError("Cached State");case 1:A.sent(),A.label=2;case 2:return a&&(e.nonce=s||void 0),e.state=o,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(c=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=c),this.performanceClient.setPreQueueTime(Wt.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return c=A.sent(),this.browserStorage.cleanRequestByState(t),[2,c]}})})},r.prototype.updateTokenEndpointAuthority=function(e,t,n){return fr(this,void 0,void 0,function(){var i;return pr(this,function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),i="https://"+e+"/"+t.tenant+"/",[4,GP.createDiscoveredInstance(i,n,this.browserStorage,t.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return i=a.sent(),this.authModule.updateAuthority(i),[2]}})})},r.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(la.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},r})(),N$=(function(r){function e(t,n,i,a,o,s){return t=r.call(this,t,n,i,a,s)||this,t.browserCrypto=o,t}return su(e,r),e.prototype.initiateAuthRequest=function(t,n){return fr(this,void 0,void 0,function(){var i;return pr(this,function(a){switch(a.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),Yr.isEmpty(t)?[3,7]:(n.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(la.ORIGIN_URI,n.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(la.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+t),i={apiId:yo.acquireTokenRedirect,timeout:n.redirectTimeout,noHistory:!1},typeof n.onRedirectNavigate!="function"?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),n.onRedirectNavigate(t)===!1?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,n.navigationClient.navigateExternal(t,i)])));case 1:return a.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,n.navigationClient.navigateExternal(t,i)];case 5:return a.sent(),[2];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),qr.createEmptyNavigationUriError();case 8:return[2]}})})},e.prototype.handleCodeResponseFromHash=function(t,n,i,a){return fr(this,void 0,void 0,function(){var o,s,c,A;return pr(this,function(f){switch(f.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),Yr.isEmpty(t))throw qr.createEmptyHashError(t);if(this.browserStorage.setInteractionInProgress(!1),o=this.browserStorage.generateStateKey(n),!(o=this.browserStorage.getTemporaryCache(o)))throw Zr.createStateNotFoundError("Cached State");try{s=this.authModule.handleFragmentResponse(t,o)}catch(y){throw y instanceof D_&&y.subError===br.userCancelledError.code?qr.createUserCancelledError():y}return c=this.browserStorage.generateNonceKey(o),c=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=s.code,s.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(s.cloud_instance_host_name,i,a)]:[3,2];case 1:f.sent(),f.label=2;case 2:return s.nonce=c||void 0,s.state=o,s.client_info?this.authCodeRequest.clientInfo=s.client_info:(A=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=A),[4,this.authModule.acquireToken(this.authCodeRequest,s)];case 3:return A=f.sent(),this.browserStorage.cleanRequestByState(n),[2,A]}})})},e})(lQ),DC=((function(r){r.INITIALIZE_START="msal:initializeStart",r.INITIALIZE_END="msal:initializeEnd",r.ACCOUNT_ADDED="msal:accountAdded",r.ACCOUNT_REMOVED="msal:accountRemoved",r.LOGIN_START="msal:loginStart",r.LOGIN_SUCCESS="msal:loginSuccess",r.LOGIN_FAILURE="msal:loginFailure",r.ACQUIRE_TOKEN_START="msal:acquireTokenStart",r.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",r.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",r.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",r.SSO_SILENT_START="msal:ssoSilentStart",r.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",r.SSO_SILENT_FAILURE="msal:ssoSilentFailure",r.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",r.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",r.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",r.HANDLE_REDIRECT_START="msal:handleRedirectStart",r.HANDLE_REDIRECT_END="msal:handleRedirectEnd",r.POPUP_OPENED="msal:popupOpened",r.LOGOUT_START="msal:logoutStart",r.LOGOUT_SUCCESS="msal:logoutSuccess",r.LOGOUT_FAILURE="msal:logoutFailure",r.LOGOUT_END="msal:logoutEnd",r.RESTORE_FROM_BFCACHE="msal:restoreFromBFCache"})(Jn=Jn||{}),(function(r){r.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",r.USER_CANCEL="USER_CANCEL",r.NO_NETWORK="NO_NETWORK",r.TRANSIENT_ERROR="TRANSIENT_ERROR",r.PERSISTENT_ERROR="PERSISTENT_ERROR",r.DISABLED="DISABLED",r.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"})(Fy=Fy||{}),{extensionError:{code:"ContentError"},userSwitch:{code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},tokensNotFoundInCache:{code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"}}),Hp=(function(r){function e(t,n,i){return t=r.call(this,t,n)||this,Object.setPrototypeOf(t,e.prototype),t.name="NativeAuthError",t.ext=i,t}return su(e,r),e.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==Fy.PERSISTENT_ERROR&&this.ext.status!==Fy.DISABLED)||this.errorCode===DC.extensionError.code},e.createError=function(t,n,i){if(i&&i.status)switch(i.status){case Fy.ACCOUNT_UNAVAILABLE:return $d.createNativeAccountUnavailableError();case Fy.USER_INTERACTION_REQUIRED:return new $d(t,n);case Fy.USER_CANCEL:return qr.createUserCancelledError();case Fy.NO_NETWORK:return qr.createNoNetworkConnectivityError()}return new e(t,n,i)},e.createUserSwitchError=function(){return new e(DC.userSwitch.code,DC.userSwitch.desc)},e.createTokensNotFoundInCacheError=function(){return new e(DC.tokensNotFoundInCache.code,DC.tokensNotFoundInCache.desc)},e})(fn),use=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return su(e,r),e.prototype.acquireToken=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o;return pr(this,function(s){switch(s.label){case 0:return n=this.performanceClient.startMeasurement(Wt.SilentCacheClientAcquireToken,t.correlationId),a=this.initializeServerTelemetryManager(yo.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(a,t.authority,t.azureCloudOptions)];case 1:i=s.sent(),this.logger.verbose("Silent auth client created"),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,i.acquireCachedToken(t)];case 3:return a=s.sent(),n.endMeasurement({success:!0,fromCache:!0}),[2,a];case 4:throw(o=s.sent())instanceof qr&&o.errorCode===br.signingKeyNotFoundInStorage.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),n.endMeasurement({errorCode:o instanceof fn&&o.errorCode||void 0,subErrorCode:o instanceof fn&&o.subError||void 0,success:!1}),o;case 5:return[2]}})})},e.prototype.logout=function(){return Promise.reject(qr.createSilentLogoutUnsupportedError())},e.prototype.createSilentFlowClient=function(t,n,i){return fr(this,void 0,void 0,function(){var a;return pr(this,function(o){switch(o.label){case 0:return this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(t,n,i)];case 1:return a=o.sent(),[2,new n3e(a,this.performanceClient)]}})})},e.prototype.initializeSilentRequest=function(t,n){return fr(this,void 0,void 0,function(){var i;return pr(this,function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(Wt.InitializeBaseRequest,this.correlationId),i=[hn({},t)],[4,this.initializeBaseRequest(t,n)];case 1:return[2,hn.apply(void 0,[hn.apply(void 0,i.concat([a.sent()])),{account:n,forceRefresh:t.forceRefresh||!1}])]}})})},e})(hx),mw=(function(r){function e(t,n,i,a,o,s,c,A,f,y,C,x){return n=r.call(this,t,n,i,a,o,s,A,f,x)||this,n.apiId=c,n.accountId=y,n.nativeMessageHandler=f,n.nativeStorageManager=C,n.silentCacheClient=new use(t,n.nativeStorageManager,i,a,o,s,A,f,x),n}return su(e,r),e.prototype.acquireToken=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s;return pr(this,function(c){switch(c.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),n=this.performanceClient.startMeasurement(Wt.NativeInteractionClientAcquireToken,t.correlationId),i=Wd.nowSeconds(),[4,this.initializeNativeRequest(t)];case 1:a=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,a)];case 3:return o=c.sent(),n.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,o];case 4:return c.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return o={method:rg.GetToken,request:a},[4,this.nativeMessageHandler.sendMessage(o)];case 6:return s=c.sent(),s=this.validateNativeResponse(s),[2,this.handleNativeResponse(s,a,i).then(function(A){return n.endMeasurement({success:!0,isNativeBroker:!0,requestId:A.requestId}),A}).catch(function(A){throw n.endMeasurement({success:!1,errorCode:A.errorCode,subErrorCode:A.subError,isNativeBroker:!0}),A})]}})})},e.prototype.createSilentCacheRequest=function(t,n){return{authority:t.authority,correlationId:this.correlationId,scopes:qu.fromString(t.scope).asArray(),account:n,forceRefresh:!1}},e.prototype.acquireTokensFromCache=function(t,n){return fr(this,void 0,void 0,function(){var i,a;return pr(this,function(o){switch(o.label){case 0:if(!t)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Zr.createNoAccountFoundError();if(!(i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t})))throw Zr.createNoAccountFoundError();o.label=1;case 1:return o.trys.push([1,3,,4]),a=this.createSilentCacheRequest(n,i),[4,this.silentCacheClient.acquireToken(a)];case 2:return[2,o.sent()];case 3:throw o.sent();case 4:return[2]}})})},e.prototype.acquireTokenRedirect=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s;return pr(this,function(c){switch(c.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(t)];case 1:n=c.sent(),i={method:rg.GetToken,request:n},c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(i)];case 3:return a=c.sent(),this.validateNativeResponse(a),[3,5];case 4:if((a=c.sent())instanceof Hp&&a.isFatal())throw a;return[3,5];case 5:return this.browserStorage.setTemporaryCache(la.NATIVE_REQUEST,JSON.stringify(n),!0),o={apiId:yo.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri),[4,this.navigationClient.navigateExternal(s,o)];case 6:return c.sent(),[2]}})})},e.prototype.handleRedirectPromise=function(){return fr(this,void 0,void 0,function(){var t,n,i,a;return pr(this,function(o){switch(o.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(t=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];n=t.prompt,t=g$(t,["prompt"]),n&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(la.NATIVE_REQUEST)),n={method:rg.GetToken,request:t},i=Wd.nowSeconds(),o.label=1;case 1:return o.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(n)];case 2:return a=o.sent(),this.validateNativeResponse(a),a=this.handleNativeResponse(a,t,i),this.browserStorage.setInteractionInProgress(!1),[2,a];case 3:throw a=o.sent(),this.browserStorage.setInteractionInProgress(!1),a;case 4:return[2]}})})},e.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},e.prototype.handleNativeResponse=function(t,n,i){return fr(this,void 0,void 0,function(){var a,o,s,c;return pr(this,function(A){switch(A.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),t.account.id!==n.accountId)throw Hp.createUserSwitchError();return[4,this.getDiscoveredAuthority(n.authority)];case 1:return c=A.sent(),s=c.getPreferredCache(),a=this.createIdTokenObj(t),o=this.createHomeAccountIdentifier(t,a),s=this.createAccountEntity(t,o,a,s),[4,this.generateAuthenticationResult(t,n,a,s,c.canonicalAuthority,i)];case 2:return c=A.sent(),this.cacheAccount(s),this.cacheNativeTokens(t,n,o,s,a,c.accessToken,c.tenantId,i),[2,c]}})})},e.prototype.createIdTokenObj=function(t){return new nm(t.id_token||vt.EMPTY_STRING,this.browserCrypto)},e.prototype.createHomeAccountIdentifier=function(t,n){return nu.generateHomeAccountId(t.client_info||vt.EMPTY_STRING,wh.Default,this.logger,this.browserCrypto,n)},e.prototype.createAccountEntity=function(t,n,i,a){return nu.createAccount(t.client_info,n,i,void 0,void 0,void 0,a,t.account.id)},e.prototype.generateScopes=function(t,n){return t.scope?qu.fromString(t.scope):qu.fromString(n.scope)},e.prototype.generatePopAccessToken=function(t,n){return fr(this,void 0,void 0,function(){var i,a;return pr(this,function(o){switch(o.label){case 0:if(n.tokenType!==Ca.POP)return[3,2];if(t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,t.shr];if(i=new Dw(this.browserCrypto),a={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce},n.keyId)return[4,i.signPopToken(t.access_token,n.keyId,a)];throw Zr.createKeyIdMissingError();case 1:return[2,o.sent()];case 2:return[2,t.access_token]}})})},e.prototype.generateAuthenticationResult=function(t,n,i,a,o,s){return fr(this,void 0,void 0,function(){var c,A,f,y,C,x;return pr(this,function(k){switch(k.label){case 0:return c=this.addTelemetryFromNativeResponse(t),A=t.scope?qu.fromString(t.scope):qu.fromString(n.scope),y=t.account.properties||{},f=y.UID||i.claims.oid||i.claims.sub||vt.EMPTY_STRING,y=y.TenantId||i.claims.tid||vt.EMPTY_STRING,[4,this.generatePopAccessToken(t,n)];case 1:return C=k.sent(),x=n.tokenType===Ca.POP?Ca.POP:Ca.BEARER,[2,{authority:o,uniqueId:f,tenantId:y,scopes:A.asArray(),account:a.getAccountInfo(),idToken:t.id_token,idTokenClaims:i.claims,accessToken:C,fromCache:!!c&&this.isResponseFromCache(c),expiresOn:new Date(1e3*Number(s+t.expires_in)),tokenType:x,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0}]}})})},e.prototype.cacheAccount=function(t){var n=this;this.browserStorage.setAccount(t),this.browserStorage.removeAccountContext(t).catch(function(i){n.logger.error("Error occurred while removing account context from browser storage. "+i)})},e.prototype.cacheNativeTokens=function(C,n,x,a,o,k,c,y){var f=X0.createIdTokenEntity(x,n.authority,C.id_token||vt.EMPTY_STRING,n.clientId,o.claims.tid||vt.EMPTY_STRING),y=y+(n.tokenType===Ca.POP?vt.SHR_NONCE_VALIDITY:(typeof C.expires_in=="string"?parseInt(C.expires_in,10):C.expires_in)||0),C=this.generateScopes(C,n),x=J0.createAccessTokenEntity(x,n.authority,k,n.clientId,o?o.claims.tid||vt.EMPTY_STRING:c,C.printScopes(),y,0,this.browserCrypto),k=new KP(a,f,x);this.nativeStorageManager.saveCacheRecord(k)},e.prototype.addTelemetryFromNativeResponse=function(t){return t=this.getMATSFromResponse(t),t?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null},e.prototype.validateNativeResponse=function(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Hp.createUnexpectedError("Response missing expected properties.")},e.prototype.getMATSFromResponse=function(t){if(t.properties.MATS)try{return JSON.parse(t.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},e.prototype.isResponseFromCache=function(t){return t.is_cached===void 0?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached},e.prototype.initializeNativeRequest=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s,c=this;return pr(this,function(A){switch(A.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),n=t.authority||this.config.auth.authority,t.account?[4,this.validateRequestAuthority(n,t.account)]:[3,2];case 1:A.sent(),A.label=2;case 2:return(o=new Xi(n)).validateAsUri(),s=t.scopes,a=g$(t,["scopes"]),(s=new qu(s||[])).appendScopes(pT),i=function(){switch(c.apiId){case yo.ssoSilent:case yo.acquireTokenSilent_silentFlow:return c.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Vu.NONE}if(t.prompt)switch(t.prompt){case Vu.NONE:case Vu.CONSENT:case Vu.LOGIN:return c.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t.prompt;default:throw c.logger.trace("initializeNativeRequest: prompt = "+t.prompt+" is not compatible with native flow"),qr.createNativePromptParameterNotSupportedError()}else c.logger.trace("initializeNativeRequest: prompt was not provided")},a=hn(hn({},a),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:o.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:i(),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:hn(hn(hn({},t.extraQueryParameters),t.tokenQueryParameters),{telemetry:lE.MATS_TELEMETRY}),extendedExpiryToken:!1}),t.authenticationScheme!==Ca.POP?[3,4]:(o={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},[4,new Dw(this.browserCrypto).generateCnf(o)]);case 3:s=A.sent(),a.reqCnf=s.reqCnfString,a.keyId=s.kid,A.label=4;case 4:return[2,a]}})})},e})(cse),v_=(function(){function r(e,t,n,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(Wt.NativeMessageHandlerHandshake)}return r.prototype.sendMessage=function(e){return fr(this,void 0,void 0,function(){var t,n=this;return pr(this,function(i){return this.logger.trace("NativeMessageHandler - sendMessage called."),t={channel:lE.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:e},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(t)),this.messageChannel.port1.postMessage(t),[2,new Promise(function(a,o){n.resolvers.set(t.responseId,{resolve:a,reject:o})})]})})},r.createProvider=function(e,t,n){return fr(this,void 0,void 0,function(){var i,a;return pr(this,function(o){switch(o.label){case 0:e.trace("NativeMessageHandler - createProvider called."),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,(i=new r(e,t,n,lE.PREFERRED_EXTENSION_ID)).sendHandshakeRequest()];case 2:return o.sent(),[2,i];case 3:return o.sent(),[4,(a=new r(e,t,n)).sendHandshakeRequest()];case 4:return o.sent(),[2,a];case 5:return[2]}})})},r.prototype.sendHandshakeRequest=function(){return fr(this,void 0,void 0,function(){var e,t=this;return pr(this,function(n){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),e={channel:lE.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:rg.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(i){t.onChannelMessage(i)},window.postMessage(e,window.origin,[this.messageChannel.port2]),[2,new Promise(function(i,a){t.handshakeResolvers.set(e.responseId,{resolve:i,reject:a}),t.timeoutId=window.setTimeout(function(){window.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),t.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),a(qr.createNativeHandshakeTimeoutError()),t.handshakeResolvers.delete(e.responseId)},t.handshakeTimeoutMs)})]})})},r.prototype.onWindowMessage=function(e){this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window||!(e=e.data).channel||e.channel!==lE.CHANNEL_ID||e.extensionId&&e.extensionId!==this.extensionId||e.body.method===rg.HandshakeRequest&&(this.logger.verbose(e.extensionId?"Extension with id: "+e.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),e=this.handshakeResolvers.get(e.responseId))&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),e.reject(qr.createNativeExtensionNotInstalledError()))},r.prototype.onChannelMessage=function(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var t=e.data,n=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{var a=t.body.method;if(a===rg.Response){if(n){var o=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(o)),o.status!=="Success")n.reject(Hp.createError(o.code,o.description,o.ext));else{if(!o.result)throw fn.createUnexpectedError("Event does not contain result.");o.result.code&&o.result.description?n.reject(Hp.createError(o.result.code,o.result.description,o.result.ext)):n.resolve(o.result)}this.resolvers.delete(t.responseId)}}else a===rg.HandshakeResponse&&i&&(clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId))}catch(s){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+s.toString()),this.logger.errorPii("Unable to parse "+e),n?n.reject(s):i&&i.reject(s)}},r.prototype.getExtensionId=function(){return this.extensionId},r.prototype.getExtensionVersion=function(){return this.extensionVersion},r.isNativeAvailable=function(e,t,n,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Ca.BEARER:case Ca.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},r})(),g3e=(function(r){function e(t,n,i,a,o,s,c,A,f,y){return t=r.call(this,t,n,i,a,o,s,c,f,y)||this,t.nativeStorage=A,t}return su(e,r),e.prototype.acquireToken=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s,c,A,f=this;return pr(this,function(y){switch(y.label){case 0:return this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationRequest,t.correlationId),[4,this.initializeAuthorizationRequest(t,ln.Redirect)];case 1:n=y.sent(),this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||vt.EMPTY_STRING,n.account||null),i=this.initializeServerTelemetryManager(yo.acquireTokenRedirect),a=function(C){C.persisted&&(f.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),f.browserStorage.cleanRequestByState(n.state),f.eventHandler.emitEvent(Jn.RESTORE_FROM_BFCACHE,ln.Redirect))},y.label=2;case 2:return y.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationCodeRequest,t.correlationId),[4,this.initializeAuthorizationCodeRequest(n)];case 3:return o=y.sent(),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(i,n.authority,n.azureCloudOptions)];case 4:return c=y.sent(),this.logger.verbose("Auth code client created"),s=new N$(c,this.browserStorage,o,this.logger,this.browserCrypto,this.performanceClient),[4,c.getAuthCodeUrl(hn(hn({},n),{nativeBroker:v_.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}))];case 5:return c=y.sent(),A=this.getRedirectStartPage(t.redirectStartPage),this.logger.verbosePii("Redirect start page: "+A),window.addEventListener("pageshow",a),[4,s.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:A,onRedirectNavigate:t.onRedirectNavigate})];case 6:return[2,y.sent()];case 7:throw(A=y.sent())instanceof fn&&A.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",a),i.cacheFailedRequest(A),this.browserStorage.cleanRequestByState(n.state),A;case 8:return[2]}})})},e.prototype.handleRedirectPromise=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s,c,A,f,y,C;return pr(this,function(x){switch(x.label){case 0:n=this.initializeServerTelemetryManager(yo.handleRedirectPromise),x.label=1;case 1:if(x.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(i=this.getRedirectResponseHash(t||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ln.Redirect),[2,null];a=void 0;try{o=Xi.getDeserializedHash(i),a=this.validateAndExtractStateFromHash(o,ln.Redirect),this.logger.verbose("State extracted from hash")}catch(k){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+k),this.browserStorage.cleanRequestByInteractionType(ln.Redirect),[2,null]}return s=this.browserStorage.getTemporaryCache(la.ORIGIN_URI,!0)||vt.EMPTY_STRING,c=Xi.removeHashFromUrl(s),y=Xi.removeHashFromUrl(window.location.href),c===y&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(i,a,n)]):[3,3];case 2:return c=x.sent(),-1<s.indexOf("#")&&xs.replaceHash(s),[2,c];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(i,a,n)]);case 4:return xs.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(la.URL_HASH,i,!0),A={apiId:yo.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},f=!0,s&&s!=="null"?[3,6]:(y=xs.getHomepage(),this.browserStorage.setTemporaryCache(la.ORIGIN_URI,y,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(y,A)]));case 5:return f=x.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+s),[4,this.navigationClient.navigateInternal(s,A)];case 7:f=x.sent(),x.label=8;case 8:if(!f)return[2,this.handleHash(i,a,n)];x.label=9;case 9:return[2,null];case 10:throw(C=x.sent())instanceof fn&&C.setCorrelationId(this.correlationId),n.cacheFailedRequest(C),this.browserStorage.cleanRequestByInteractionType(ln.Redirect),C;case 11:return[2]}})})},e.prototype.getRedirectResponseHash=function(t){return this.logger.verbose("getRedirectResponseHash called"),Xi.hashContainsKnownProperties(t)?(xs.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash")):(t=this.browserStorage.getTemporaryCache(la.URL_HASH,!0),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(la.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash")),t},e.prototype.handleHash=function(t,n,i){return fr(this,void 0,void 0,function(){var a,o,s,c=this;return pr(this,function(A){switch(A.label){case 0:if(a=this.browserStorage.getCachedRequest(n,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(o=Xi.getDeserializedHash(t)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),this.nativeMessageHandler)return o=new mw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,o.accountId,this.nativeStorage,a.correlationId),s=fg.parseRequestState(this.browserCrypto,n).userRequestState,[2,o.acquireToken(hn(hn({},a),{state:s,prompt:void 0})).finally(function(){c.browserStorage.cleanRequestByState(n)})];throw qr.createNativeConnectionNotEstablishedError()}if(o=this.browserStorage.getCachedAuthority(n))return this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientCreateAuthCodeClient,a.correlationId),[4,this.createAuthCodeClient(i,o)];throw qr.createNoCachedAuthorityError();case 1:return s=A.sent(),this.logger.verbose("Auth code client created"),qP.removeThrottle(this.browserStorage,this.config.auth.clientId,a),[4,new N$(s,this.browserStorage,a,this.logger,this.browserCrypto,this.performanceClient).handleCodeResponseFromHash(t,n,s.authority,this.networkClient)];case 2:return[2,A.sent()]}})})},e.prototype.logout=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s;return pr(this,function(c){switch(c.label){case 0:this.logger.verbose("logoutRedirect called"),n=this.initializeLogoutRequest(t),i=this.initializeServerTelemetryManager(yo.logout),c.label=1;case 1:return c.trys.push([1,10,,11]),this.eventHandler.emitEvent(Jn.LOGOUT_START,ln.Redirect,t),[4,this.clearCacheOnLogout(n.account)];case 2:return c.sent(),a={apiId:yo.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientCreateAuthCodeClient,n.correlationId),[4,this.createAuthCodeClient(i,t&&t.authority)];case 3:return o=c.sent(),this.logger.verbose("Auth code client created"),o=o.getLogoutUri(n),this.eventHandler.emitEvent(Jn.LOGOUT_SUCCESS,ln.Redirect,n),t&&typeof t.onRedirectNavigate=="function"?t.onRedirectNavigate(o)===!1?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(o,a)]):[3,7];case 4:return c.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),c.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(o,a)];case 8:return c.sent(),[2];case 9:return[3,11];case 10:throw(s=c.sent())instanceof fn&&s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),this.eventHandler.emitEvent(Jn.LOGOUT_FAILURE,ln.Redirect,null,s),this.eventHandler.emitEvent(Jn.LOGOUT_END,ln.Redirect),s;case 11:return this.eventHandler.emitEvent(Jn.LOGOUT_END,ln.Redirect),[2]}})})},e.prototype.getRedirectStartPage=function(t){return t=t||window.location.href,Xi.getAbsoluteUrl(t,xs.getCurrentUri())},e})(hx),y3e=(function(r){function e(t,n,i,a,o,s,c,A,f,y){return t=r.call(this,t,n,i,a,o,s,c,f,y)||this,t.unloadWindow=t.unloadWindow.bind(t),t.nativeStorage=A,t}return su(e,r),e.prototype.acquireToken=function(t){try{var n,i=this.generatePopupName(t.scopes||pT,t.authority||this.config.auth.authority),a=t.popupWindowAttributes||{};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,i,a)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n=this.openSizedPopup("about:blank",i,a),this.acquireTokenPopupAsync(t,i,a,n))}catch(o){return Promise.reject(o)}},e.prototype.logout=function(t){try{this.logger.verbose("logoutPopup called");var n,i=this.initializeLogoutRequest(t),a=this.generateLogoutPopupName(i),o=t&&t.authority,s=t&&t.mainWindowRedirectUri,c=t?.popupWindowAttributes||{};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(i,a,c,o,void 0,s)):(this.logger.verbose("asyncPopup set to false, opening popup"),n=this.openSizedPopup("about:blank",a,c),this.logoutPopupAsync(i,a,c,o,n,s))}catch(A){return Promise.reject(A)}},e.prototype.acquireTokenPopupAsync=function(t,n,i,a){return fr(this,void 0,void 0,function(){var o,s,c,A,f,y,C,x,k,N,M,D=this;return pr(this,function(H){switch(H.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),o=this.initializeServerTelemetryManager(yo.acquireTokenPopup),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationRequest,t.correlationId),[4,this.initializeAuthorizationRequest(t,ln.Popup)];case 1:s=H.sent(),this.browserStorage.updateCacheEntries(s.state,s.nonce,s.authority,s.loginHint||vt.EMPTY_STRING,s.account||null),H.label=2;case 2:return H.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationCodeRequest,t.correlationId),[4,this.initializeAuthorizationCodeRequest(s)];case 3:return c=H.sent(),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(o,s.authority,s.azureCloudOptions)];case 4:return A=H.sent(),this.logger.verbose("Auth code client created"),y=v_.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme),f=void 0,y&&(f=this.performanceClient.startMeasurement(Wt.FetchAccountIdWithNativeBroker,t.correlationId)),[4,A.getAuthCodeUrl(hn(hn({},s),{nativeBroker:y}))];case 5:return y=H.sent(),C=new lQ(A,this.browserStorage,c,this.logger,this.performanceClient),x={popup:a,popupName:n,popupWindowAttributes:i},x=this.initiateAuthRequest(y,x),this.eventHandler.emitEvent(Jn.POPUP_OPENED,ln.Popup,{popupWindow:x},null),[4,this.monitorPopupForHash(x)];case 6:if(x=H.sent(),M=Xi.getDeserializedHash(x),k=this.validateAndExtractStateFromHash(M,ln.Popup,s.correlationId),qP.removeThrottle(this.browserStorage,this.config.auth.clientId,c),M.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),f&&f.endMeasurement({success:!0,isNativeBroker:!0}),this.nativeMessageHandler)return M=new mw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,M.accountId,this.nativeStorage,s.correlationId),N=fg.parseRequestState(this.browserCrypto,k).userRequestState,[2,M.acquireToken(hn(hn({},s),{state:N,prompt:void 0})).finally(function(){D.browserStorage.cleanRequestByState(k)})];throw qr.createNativeConnectionNotEstablishedError()}return[4,C.handleCodeResponseFromHash(x,k,A.authority,this.networkClient)];case 7:return[2,H.sent()];case 8:throw M=H.sent(),a&&a.close(),M instanceof fn&&M.setCorrelationId(this.correlationId),o.cacheFailedRequest(M),this.browserStorage.cleanRequestByState(s.state),M;case 9:return[2]}})})},e.prototype.logoutPopupAsync=function(t,n,i,a,o,s){return fr(this,void 0,void 0,function(){var c,A,f;return pr(this,function(y){switch(y.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Jn.LOGOUT_START,ln.Popup,t),c=this.initializeServerTelemetryManager(yo.logoutPopup),y.label=1;case 1:return y.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(t.account)];case 2:return y.sent(),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(c,a)];case 3:return A=y.sent(),this.logger.verbose("Auth code client created"),A=A.getLogoutUri(t),this.eventHandler.emitEvent(Jn.LOGOUT_SUCCESS,ln.Popup,t),A=this.openPopup(A,{popupName:n,popupWindowAttributes:i,popup:o}),this.eventHandler.emitEvent(Jn.POPUP_OPENED,ln.Popup,{popupWindow:A},null),[4,this.waitForLogoutPopup(A)];case 4:return y.sent(),s?(A={apiId:yo.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=Xi.getAbsoluteUrl(s,xs.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+f),this.navigationClient.navigateInternal(f,A)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw f=y.sent(),o&&o.close(),f instanceof fn&&f.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Jn.LOGOUT_FAILURE,ln.Popup,null,f),this.eventHandler.emitEvent(Jn.LOGOUT_END,ln.Popup),c.cacheFailedRequest(f),f;case 6:return this.eventHandler.emitEvent(Jn.LOGOUT_END,ln.Popup),[2]}})})},e.prototype.initiateAuthRequest=function(t,n){if(Yr.isEmpty(t))throw this.logger.error("Navigate url is empty"),qr.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+t),this.openPopup(t,n)},e.prototype.monitorPopupForHash=function(t){var n=this;return new Promise(function(i,a){var o=n.config.system.windowHashTimeout/n.config.system.pollIntervalMilliseconds,s=0,c=(n.logger.verbose("PopupHandler.monitorPopupForHash - polling started"),setInterval(function(){if(t.closed)n.logger.error("PopupHandler.monitorPopupForHash - window closed"),n.cleanPopup(),clearInterval(c),a(qr.createUserCancelledError());else{var A=vt.EMPTY_STRING,f=vt.EMPTY_STRING;try{A=t.location.href,f=t.location.hash}catch{}Yr.isEmpty(A)||A==="about:blank"||(n.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),s++,f?(n.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(c),n.cleanPopup(t),Xi.hashContainsKnownProperties(f)?(n.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),i(f)):(n.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),n.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+f),a(qr.createHashDoesNotContainKnownPropertiesError()))):o<s&&(n.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(c),a(qr.createMonitorPopupTimeoutError())))}},n.config.system.pollIntervalMilliseconds))})},e.prototype.waitForLogoutPopup=function(t){var n=this;return new Promise(function(i){n.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var a=setInterval(function(){t.closed&&(n.logger.error("PopupHandler.waitForLogoutPopup - window closed"),n.cleanPopup(),clearInterval(a),i());var o=vt.EMPTY_STRING;try{o=t.location.href}catch{}Yr.isEmpty(o)||o==="about:blank"||(n.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(a),n.cleanPopup(t),i())},n.config.system.pollIntervalMilliseconds)})},e.prototype.openPopup=function(t,n){try{var i=void 0;if(n.popup?(i=n.popup,this.logger.verbosePii("Navigating popup window to: "+t),i.location.assign(t)):n.popup===void 0&&(this.logger.verbosePii("Opening popup window to: "+t),i=this.openSizedPopup(t,n.popupName,n.popupWindowAttributes)),i)return i.focus&&i.focus(),this.currentWindow=i,window.addEventListener("beforeunload",this.unloadWindow),i;throw qr.createEmptyWindowCreatedError()}catch(a){throw this.logger.error("error opening popup "+a.message),this.browserStorage.setInteractionInProgress(!1),qr.createPopupWindowError(a.toString())}},e.prototype.openSizedPopup=function(t,n,C){var a=window.screenLeft||window.screenX,o=window.screenTop||window.screenY,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,A=(A=C.popupSize)==null?void 0:A.width,f=(f=C.popupSize)==null?void 0:f.height,y=(y=C.popupPosition)==null?void 0:y.top,C=(C=C.popupPosition)==null?void 0:C.left;return(!A||A<0||s<A)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),A=Ff.POPUP_WIDTH),(!f||f<0||c<f)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),f=Ff.POPUP_HEIGHT),(!y||y<0||c<y)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),y=Math.max(0,c/2-Ff.POPUP_HEIGHT/2+o)),(!C||C<0||s<C)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),C=Math.max(0,s/2-Ff.POPUP_WIDTH/2+a)),window.open(t,n,"width="+A+", height="+f+", top="+y+", left="+C+", scrollbars=yes")},e.prototype.unloadWindow=function(t){this.browserStorage.cleanRequestByInteractionType(ln.Popup),this.currentWindow&&this.currentWindow.close(),t.preventDefault()},e.prototype.cleanPopup=function(t){t&&t.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},e.prototype.generatePopupName=function(t,n){return Ff.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+t.join("-")+"."+n+"."+this.correlationId},e.prototype.generateLogoutPopupName=function(t){return t=t.account&&t.account.homeAccountId,Ff.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+t+"."+this.correlationId},e})(hx),v3e=(function(){function r(){}return r.prototype.navigateInternal=function(e,t){return r.defaultNavigateWindow(e,t)},r.prototype.navigateExternal=function(e,t){return r.defaultNavigateWindow(e,t)},r.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(function(n){setTimeout(function(){n(!0)},t.timeout)})},r})(),_3e=6e4,x6=6e3,b3e=3e4,w3e=2e3;function x3e(i,s){var t=i.auth,n=i.cache,c=i.system,i=i.telemetry,a={clientId:vt.EMPTY_STRING,authority:""+vt.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:vt.EMPTY_STRING,authorityMetadata:vt.EMPTY_STRING,redirectUri:vt.EMPTY_STRING,postLogoutRedirectUri:vt.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:wS.AAD,azureCloudOptions:{azureCloudInstance:bS.None,tenant:vt.EMPTY_STRING},skipAuthorityMetadataCache:!1},o={cacheLocation:pl.SessionStorage,temporaryCacheLocation:pl.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!n||n.cacheLocation!==pl.LocalStorage),claimsBasedCachingEnabled:!0},A={loggerCallback:function(){},logLevel:fc.Info,piiLoggingEnabled:!1},s=hn(hn({},nse),{loggerOptions:A,networkClient:s?xs.getBrowserNetworkClient():l3e,navigationClient:new v3e,loadFrameTimeout:0,windowHashTimeout:c?.loadFrameTimeout||_3e,iframeHashTimeout:c?.loadFrameTimeout||x6,navigateFrameWait:s&&xs.detectIEOrEdge()?500:0,redirectNavigationTimeout:b3e,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:c?.nativeBrokerHandshakeTimeout||w3e,pollIntervalMilliseconds:Ff.DEFAULT_POLL_INTERVAL_MS,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),c=hn(hn({},c),{loggerOptions:c?.loggerOptions||A}),A={application:{appName:vt.EMPTY_STRING,appVersion:vt.EMPTY_STRING}};return{auth:hn(hn({},a),t),cache:hn(hn({},o),n),system:hn(hn({},s),c),telemetry:hn(hn({},A),i)}}var jI,hse=(function(r){function e(t,n,i,a,o,s){return t=r.call(this,t,n,i,a,s)||this,t.navigateFrameWait=o.navigateFrameWait,t.pollIntervalMilliseconds=o.pollIntervalMilliseconds,t}return su(e,r),e.prototype.initiateAuthRequest=function(t){return fr(this,void 0,void 0,function(){return pr(this,function(n){switch(n.label){case 0:if(this.performanceClient.addQueueMeasurement(Wt.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),Yr.isEmpty(t))throw this.logger.info("Navigate url is empty"),qr.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(Wt.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(t)]):[3,2];case 1:return[2,n.sent()];case 2:return[2,this.loadFrameSync(t)]}})})},e.prototype.monitorIframeForHash=function(t,n){var i=this;return this.performanceClient.addQueueMeasurement(Wt.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise(function(a,o){n<x6&&i.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+n+"ms) than the default ("+x6+"ms). This may result in timeouts.");var s=window.performance.now()+n,c=setInterval(function(){if(window.performance.now()>s)i.removeHiddenIframe(t),clearInterval(c),o(qr.createMonitorIframeTimeoutError());else{var A=vt.EMPTY_STRING,f=t.contentWindow;try{A=f?f.location.href:vt.EMPTY_STRING}catch{}Yr.isEmpty(A)||(A=f?f.location.hash:vt.EMPTY_STRING,Xi.hashContainsKnownProperties(A)&&(i.removeHiddenIframe(t),clearInterval(c),a(A)))}},i.pollIntervalMilliseconds)})},e.prototype.loadFrame=function(t){var n=this;return this.performanceClient.addQueueMeasurement(Wt.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise(function(i,a){var o=n.createHiddenIframe();setTimeout(function(){o?(o.src=t,i(o)):a("Unable to load iframe")},n.navigateFrameWait)})},e.prototype.loadFrameSync=function(t){var n=this.createHiddenIframe();return n.src=t,n},e.prototype.createHiddenIframe=function(){var t=document.createElement("iframe");return t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(t),t},e.prototype.removeHiddenIframe=function(t){document.body===t.parentNode&&document.body.removeChild(t)},e})(lQ),C3e=(function(r){function e(t,n,i,a,o,s,c,A,f,y,C){return t=r.call(this,t,n,i,a,o,s,A,y,C)||this,t.apiId=c,t.nativeStorage=f,t}return su(e,r),e.prototype.acquireToken=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o;return pr(this,function(s){switch(s.label){case 0:if(this.performanceClient.addQueueMeasurement(Wt.SilentIframeClientAcquireToken,t.correlationId),this.logger.verbose("acquireTokenByIframe called"),n=this.performanceClient.startMeasurement(Wt.SilentIframeClientAcquireToken,t.correlationId),Yr.isEmpty(t.loginHint)&&Yr.isEmpty(t.sid)&&(!t.account||Yr.isEmpty(t.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),t.prompt&&t.prompt!==Vu.NONE&&t.prompt!==Vu.NO_SESSION)throw n.endMeasurement({success:!1}),qr.createSilentPromptValueError(t.prompt);return this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationRequest,t.correlationId),[4,this.initializeAuthorizationRequest(hn(hn({},t),{prompt:t.prompt||Vu.NONE}),ln.Silent)];case 1:i=s.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||vt.EMPTY_STRING,i.account||null),a=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientCreateAuthCodeClient,t.correlationId),[4,this.createAuthCodeClient(a,i.authority,i.azureCloudOptions)];case 3:return o=s.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(Wt.SilentIframeClientTokenHelper,t.correlationId),[4,this.silentTokenHelper(o,i).then(function(c){return n.endMeasurement({success:!0,fromCache:!1,requestId:c.requestId}),c})];case 4:return[2,s.sent()];case 5:throw(o=s.sent())instanceof fn&&o.setCorrelationId(this.correlationId),a.cacheFailedRequest(o),this.browserStorage.cleanRequestByState(i.state),n.endMeasurement({errorCode:o instanceof fn&&o.errorCode||void 0,subErrorCode:o instanceof fn&&o.subError||void 0,success:!1}),o;case 6:return[2]}})})},e.prototype.logout=function(){return Promise.reject(qr.createSilentLogoutUnsupportedError())},e.prototype.silentTokenHelper=function(t,n){return fr(this,void 0,void 0,function(){var i,a,o,s,c,A,f,y=this;return pr(this,function(C){switch(C.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.SilentIframeClientTokenHelper,n.correlationId),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationCodeRequest,n.correlationId),[4,this.initializeAuthorizationCodeRequest(n)];case 1:return i=C.sent(),this.performanceClient.setPreQueueTime(Wt.GetAuthCodeUrl,n.correlationId),[4,t.getAuthCodeUrl(hn(hn({},n),{nativeBroker:v_.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme)}))];case 2:return o=C.sent(),a=new hse(t,this.browserStorage,i,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(Wt.SilentHandlerInitiateAuthRequest,n.correlationId),[4,a.initiateAuthRequest(o)];case 3:return o=C.sent(),this.performanceClient.setPreQueueTime(Wt.SilentHandlerMonitorIframeForHash,n.correlationId),[4,a.monitorIframeForHash(o,this.config.system.iframeHashTimeout)];case 4:if(s=C.sent(),A=Xi.getDeserializedHash(s),c=this.validateAndExtractStateFromHash(A,ln.Silent,i.correlationId),A.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),this.nativeMessageHandler)return A=new mw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,A.accountId,this.browserStorage,this.correlationId),f=fg.parseRequestState(this.browserCrypto,c).userRequestState,[2,A.acquireToken(hn(hn({},n),{state:f,prompt:n.prompt||Vu.NONE})).finally(function(){y.browserStorage.cleanRequestByState(c)})];throw qr.createNativeConnectionNotEstablishedError()}return this.performanceClient.setPreQueueTime(Wt.HandleCodeResponseFromHash,n.correlationId),[2,a.handleCodeResponseFromHash(s,c,t.authority,this.networkClient)]}})})},e})(hx),E3e=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return su(e,r),e.prototype.acquireToken=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s,c=this;return pr(this,function(A){switch(A.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.SilentRefreshClientAcquireToken,t.correlationId),this.performanceClient.setPreQueueTime(Wt.InitializeBaseRequest,t.correlationId),i=[hn({},t)],[4,this.initializeBaseRequest(t,t.account)];case 1:return n=hn.apply(void 0,i.concat([A.sent()])),a=this.performanceClient.startMeasurement(Wt.SilentRefreshClientAcquireToken,n.correlationId),o=this.initializeServerTelemetryManager(yo.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(o,n.authority,n.azureCloudOptions)];case 2:return s=A.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(Wt.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),[2,s.acquireTokenByRefreshToken(n).then(function(f){return a.endMeasurement({success:!0,fromCache:f.fromCache,requestId:f.requestId}),f}).catch(function(f){throw f instanceof fn&&f.setCorrelationId(c.correlationId),o.cacheFailedRequest(f),a.endMeasurement({errorCode:f.errorCode,subErrorCode:f.subError,success:!1}),f})]}})})},e.prototype.logout=function(){return Promise.reject(qr.createSilentLogoutUnsupportedError())},e.prototype.createRefreshTokenClient=function(t,n,i){return fr(this,void 0,void 0,function(){var a;return pr(this,function(o){switch(o.label){case 0:return this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(t,n,i)];case 1:return a=o.sent(),[2,new ase(a,this.performanceClient)]}})})},e})(hx),S3e=(function(){function r(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return r.prototype.addEventCallback=function(e){var t;return typeof window<"u"?(t=this.browserCrypto.createNewGuid(),this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t):null},r.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},r.prototype.enableAccountStorageEvents=function(){typeof window<"u"&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},r.prototype.disableAccountStorageEvents=function(){typeof window<"u"&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},r.prototype.emitEvent=function(e,t,n,i){var a,o=this;typeof window<"u"&&(a={eventType:e,interactionType:t||null,payload:n||null,error:i||null,timestamp:Date.now()},this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach(function(s,c){o.logger.verbose("Emitting event to callback "+c+": "+e),s.apply(null,[a])}))},r.prototype.handleAccountCacheChange=function(e){try{var t,n,i=e.newValue||e.oldValue;i&&typeof(t=JSON.parse(i))=="object"&&nu.isAccountEntity(t)&&(n=iA.toObject(new nu,t).getAccountInfo(),!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(Jn.ACCOUNT_ADDED,void 0,n)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(Jn.ACCOUNT_REMOVED,void 0,n)))}catch{}},r})(),Uu=(function(){function r(){}return r.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},r})(),Ase=(function(){function r(e){this.cryptoObj=e}return r.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,Uu.decimalToHex(e[0])+Uu.decimalToHex(e[1])+Uu.decimalToHex(e[2])+Uu.decimalToHex(e[3])+"-"+Uu.decimalToHex(e[4])+Uu.decimalToHex(e[5])+"-"+Uu.decimalToHex(e[6])+Uu.decimalToHex(e[7])+"-"+Uu.decimalToHex(e[8])+Uu.decimalToHex(e[9])+"-"+Uu.decimalToHex(e[10])+Uu.decimalToHex(e[11])+Uu.decimalToHex(e[12])+Uu.decimalToHex(e[13])+Uu.decimalToHex(e[14])+Uu.decimalToHex(e[15])}catch{for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="0123456789abcdef",i=0,a=vt.EMPTY_STRING,o=0;o<36;o++)t[o]!=="-"&&t[o]!=="4"&&(i=16*Math.random()|0),a+=t[o]==="x"?n[i]:t[o]==="y"?n[i=i&3|8]:t[o];return a}},r.prototype.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},r})(),pg=(function(){function r(){}return r.stringToUtf8Arr=function(e){for(var t,n=0,i=e.length,a=0;a<i;a++)n+=(t=e.charCodeAt(a))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var o=new Uint8Array(n),s=0,c=0;s<n;c++)(t=e.charCodeAt(c))<128?o[s++]=t:(t<2048?o[s++]=192+(t>>>6):(t<65536?o[s++]=224+(t>>>12):(t<2097152?o[s++]=240+(t>>>18):(t<67108864?o[s++]=248+(t>>>24):(o[s++]=252+(t>>>30),o[s++]=128+(t>>>24&63)),o[s++]=128+(t>>>18&63)),o[s++]=128+(t>>>12&63)),o[s++]=128+(t>>>6&63)),o[s++]=128+(63&t));return o},r.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return t},r.utf8ArrToString=function(e){for(var t,n=vt.EMPTY_STRING,i=e.length,a=0;a<i;a++)t=e[a],n+=String.fromCharCode(251<t&&t<254&&a+5<i?1073741824*(t-252)+(e[++a]-128<<24)+(e[++a]-128<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:247<t&&t<252&&a+4<i?(t-248<<24)+(e[++a]-128<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:239<t&&t<248&&a+3<i?(t-240<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:223<t&&t<240&&a+2<i?(t-224<<12)+(e[++a]-128<<6)+e[++a]-128:191<t&&t<224&&a+1<i?(t-192<<6)+e[++a]-128:t);return n},r.getSortedObjectString=function(e){return JSON.stringify(e,Object.keys(e).sort())},r})(),dse=(function(){function r(){}return r.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,vt.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},r.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,vt.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},r.prototype.encode=function(e){return e=pg.stringToUtf8Arr(e),this.base64EncArr(e)},r.prototype.base64EncArr=function(e){for(var t,n=(3-e.length%3)%3,i=vt.EMPTY_STRING,a=e.length,o=0,s=0;s<a;s++)o|=e[s]<<(16>>>(t=s%3)&24),t!=2&&e.length-s!=1||(i+=String.fromCharCode(this.uint6ToB64(o>>>18&63),this.uint6ToB64(o>>>12&63),this.uint6ToB64(o>>>6&63),this.uint6ToB64(63&o)),o=0);return n==0?i:i.substring(0,i.length-n)+(n==1?"=":"==")},r.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:e===62?43:e===63?47:65},r})(),T3e=(function(){function r(){}return r.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}return e=this.base64DecToArr(t),pg.utf8ArrToString(e)},r.prototype.base64DecToArr=function(e,t){for(var n,i=e.replace(/[^A-Za-z0-9\+\/]/g,vt.EMPTY_STRING),a=i.length,o=t?Math.ceil((3*a+1>>>2)/t)*t:3*a+1>>>2,s=new Uint8Array(o),c=void 0,A=0,f=0,y=0;y<a;y++)if(n=3&y,A|=this.b64ToUint6(i.charCodeAt(y))<<18-6*n,n==3||a-y==1){for(c=0;c<3&&f<o;c++,f++)s[f]=A>>>(16>>>c&24)&255;A=0}return s},r.prototype.b64ToUint6=function(e){return 64<e&&e<91?e-65:96<e&&e<123?e-71:47<e&&e<58?e+4:e===43?62:e===47?63:0},r})(),B3e=32,I3e=(function(){function r(e){this.base64Encode=new dse,this.cryptoObj=e}return r.prototype.generateCodes=function(){return fr(this,void 0,void 0,function(){var e,t;return pr(this,function(n){switch(n.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=n.sent(),[2,{verifier:e,challenge:t}]}})})},r.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(B3e);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(t){throw qr.createPkceNotGeneratedError(t)}},r.prototype.generateCodeChallengeFromVerifier=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=n.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw t=n.sent(),qr.createPkceNotGeneratedError(t);case 3:return[2]}})})},r})(),k3e=(function(){function r(){}return r.prototype.getRandomValues=function(e){return window.crypto.getRandomValues(e)},r.prototype.generateKey=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,window.crypto.subtle.generateKey(e,t,n)]})})},r.prototype.exportKey=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(t){return[2,window.crypto.subtle.exportKey(Uw,e)]})})},r.prototype.importKey=function(e,t,n,i){return fr(this,void 0,void 0,function(){return pr(this,function(a){return[2,window.crypto.subtle.importKey(Uw,e,t,n,i)]})})},r.prototype.sign=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,window.crypto.subtle.sign(e,t,n)]})})},r.prototype.digest=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,window.crypto.subtle.digest(e,t)]})})},r})(),N3e=(function(){function r(){}return r.prototype.initPrng=function(e){return window.msrCrypto.initPrng(nQ(e))},r.prototype.getRandomValues=function(e){return window.msrCrypto.getRandomValues(e)},r.prototype.generateKey=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,window.msrCrypto.subtle.generateKey(e,t,n)]})})},r.prototype.exportKey=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(t){return[2,window.msrCrypto.subtle.exportKey(Uw,e)]})})},r.prototype.importKey=function(e,t,n,i){return fr(this,void 0,void 0,function(){return pr(this,function(a){return[2,window.msrCrypto.subtle.importKey(Uw,e,t,n,i)]})})},r.prototype.sign=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,window.msrCrypto.subtle.sign(e,t,n)]})})},r.prototype.digest=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,window.msrCrypto.subtle.digest(e,t)]})})},r})(),P3e=(function(){function r(){}return r.prototype.getRandomValues=function(e){return window.msCrypto.getRandomValues(e)},r.prototype.generateKey=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,new Promise(function(a,o){var s=window.msCrypto.subtle.generateKey(e,t,n);s.addEventListener("complete",function(c){a(c.target.result)}),s.addEventListener("error",function(c){o(c)})})]})})},r.prototype.exportKey=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(t){return[2,new Promise(function(n,i){var a=window.msCrypto.subtle.exportKey(Uw,e);a.addEventListener("complete",function(o){var s=o.target.result,s=pg.utf8ArrToString(new Uint8Array(s)).replace(/\r/g,vt.EMPTY_STRING).replace(/\n/g,vt.EMPTY_STRING).replace(/\t/g,vt.EMPTY_STRING).split(" ").join(vt.EMPTY_STRING).replace("\0",vt.EMPTY_STRING);try{n(JSON.parse(s))}catch(c){i(c)}}),a.addEventListener("error",function(o){i(o)})})]})})},r.prototype.importKey=function(e,t,n,i){return fr(this,void 0,void 0,function(){var a,o;return pr(this,function(s){return a=pg.getSortedObjectString(e),o=pg.stringToArrayBuffer(a),[2,new Promise(function(c,A){var f=window.msCrypto.subtle.importKey(Uw,o,t,n,i);f.addEventListener("complete",function(y){c(y.target.result)}),f.addEventListener("error",function(y){A(y)})})]})})},r.prototype.sign=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,new Promise(function(a,o){var s=window.msCrypto.subtle.sign(e,t,n);s.addEventListener("complete",function(c){a(c.target.result)}),s.addEventListener("error",function(c){o(c)})})]})})},r.prototype.digest=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,new Promise(function(i,a){var o=window.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",function(s){i(s.target.result)}),o.addEventListener("error",function(s){a(s)})})]})})},r})(),O3e="RSASSA-PKCS1-v1_5",P$="SHA-256",M3e=2048,L3e=new Uint8Array([1,0,1]),fse=(function(){function r(e,t){if(this.logger=e,this.cryptoOptions=t,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new k3e;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new P3e;else{if(!this.hasMsrCrypto()||(e=this.cryptoOptions)==null||!e.useMsrCrypto)throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),qr.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new N3e}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),(t=this.cryptoOptions)==null||!t.entropy)throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),YP.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:O3e,hash:P$,modulusLength:M3e,publicExponent:L3e}}return r.prototype.hasIECrypto=function(){return"msCrypto"in window},r.prototype.hasBrowserCrypto=function(){return"crypto"in window},r.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},r.prototype.sha256Digest=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){return t=pg.stringToUtf8Arr(e),[2,this.subtleCrypto.digest({name:P$},t)]})})},r.prototype.getRandomValues=function(e){return this.subtleCrypto.getRandomValues(e)},r.prototype.generateKeyPair=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,e,t)]})})},r.prototype.exportJwk=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(t){return[2,this.subtleCrypto.exportKey(e)]})})},r.prototype.importJwk=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){return[2,this.subtleCrypto.importKey(e,this.keygenAlgorithmOptions,t,n)]})})},r.prototype.sign=function(e,t){return fr(this,void 0,void 0,function(){return pr(this,function(n){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,e,t)]})})},r})(),R3e=(function(){function r(){this.dbName=_6,this.version=A3e,this.tableName=d3e,this.dbOpen=!1}return r.prototype.open=function(){return fr(this,void 0,void 0,function(){var e=this;return pr(this,function(t){return[2,new Promise(function(n,i){var a=window.indexedDB.open(e.dbName,e.version);a.addEventListener("upgradeneeded",function(o){o.target.result.createObjectStore(e.tableName)}),a.addEventListener("success",function(o){e.db=o.target.result,e.dbOpen=!0,n()}),a.addEventListener("error",function(){return i(qr.createDatabaseUnavailableError())})})]})})},r.prototype.closeConnection=function(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)},r.prototype.validateDbIsOpen=function(){return fr(this,void 0,void 0,function(){return pr(this,function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}})})},r.prototype.getItem=function(e){return fr(this,void 0,void 0,function(){var t=this;return pr(this,function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise(function(i,a){if(!t.db)return a(qr.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",function(s){t.closeConnection(),i(s.target.result)}),o.addEventListener("error",function(s){t.closeConnection(),a(s)})})]}})})},r.prototype.setItem=function(e,t){return fr(this,void 0,void 0,function(){var n=this;return pr(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(a,o){if(!n.db)return o(qr.createDatabaseNotOpenError());var s=n.db.transaction([n.tableName],"readwrite").objectStore(n.tableName).put(t,e);s.addEventListener("success",function(){n.closeConnection(),a()}),s.addEventListener("error",function(c){n.closeConnection(),o(c)})})]}})})},r.prototype.removeItem=function(e){return fr(this,void 0,void 0,function(){var t=this;return pr(this,function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise(function(i,a){if(!t.db)return a(qr.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",function(){t.closeConnection(),i()}),o.addEventListener("error",function(s){t.closeConnection(),a(s)})})]}})})},r.prototype.getKeys=function(){return fr(this,void 0,void 0,function(){var e=this;return pr(this,function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise(function(n,i){if(!e.db)return i(qr.createDatabaseNotOpenError());var a=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();a.addEventListener("success",function(o){e.closeConnection(),n(o.target.result)}),a.addEventListener("error",function(o){e.closeConnection(),i(o)})})]}})})},r.prototype.containsKey=function(e){return fr(this,void 0,void 0,function(){var t=this;return pr(this,function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise(function(i,a){if(!t.db)return a(qr.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",function(s){t.closeConnection(),i(s.target.result===1)}),o.addEventListener("error",function(s){t.closeConnection(),a(s)})})]}})})},r.prototype.deleteDatabase=function(){return fr(this,void 0,void 0,function(){return pr(this,function(e){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(t,n){var i=window.indexedDB.deleteDatabase(_6);i.addEventListener("success",function(){return t(!0)}),i.addEventListener("blocked",function(){return t(!0)}),i.addEventListener("error",function(){return n(!1)})})]})})},r})(),O$=(function(){function r(e,t){this.inMemoryCache=new b6,this.indexedDBCache=new R3e,this.logger=e,this.storeName=t}return r.prototype.handleDatabaseAccessError=function(e){if(!(e instanceof qr&&e.errorCode===br.databaseUnavailable.code))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},r.prototype.getItem=function(e){return fr(this,void 0,void 0,function(){var t,n;return pr(this,function(i){switch(i.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,i.sent()];case 3:return n=i.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}})})},r.prototype.setItem=function(e,t){return fr(this,void 0,void 0,function(){var n;return pr(this,function(i){switch(i.label){case 0:this.inMemoryCache.setItem(e,t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2]}})})},r.prototype.removeItem=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){switch(n.label){case 0:this.inMemoryCache.removeItem(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}})})},r.prototype.getKeys=function(){return fr(this,void 0,void 0,function(){var e,t;return pr(this,function(n){switch(n.label){case 0:if((e=this.inMemoryCache.getKeys()).length!==0)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,n.sent()];case 3:return t=n.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}})})},r.prototype.containsKey=function(e){return fr(this,void 0,void 0,function(){var t,n;return pr(this,function(i){switch(i.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,i.sent()];case 3:return n=i.sent(),this.handleDatabaseAccessError(n),[3,4];case 4:return[2,t]}})})},r.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},r.prototype.clearPersistent=function(){return fr(this,void 0,void 0,function(){var e;return pr(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(e=t.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,e];case 2:return e=t.sent(),this.handleDatabaseAccessError(e),[2,!1];case 3:return[2]}})})},r})(),D3e=((function(r){r.asymmetricKeys="asymmetricKeys",r.symmetricKeys="symmetricKeys"})(jI=jI||{}),(function(){function r(e){this.logger=e,this.asymmetricKeys=new O$(this.logger,jI.asymmetricKeys),this.symmetricKeys=new O$(this.logger,jI.symmetricKeys)}return r.prototype.clear=function(){return fr(this,void 0,void 0,function(){var e;return pr(this,function(t){switch(t.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return t.sent(),[2,!0];case 3:return(e=t.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+e.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},r})()),U3e=(function(){function r(e,t,n){this.logger=e,this.browserCrypto=new fse(this.logger,n),this.b64Encode=new dse,this.b64Decode=new T3e,this.guidGenerator=new Ase(this.browserCrypto),this.pkceGenerator=new I3e(this.browserCrypto),this.cache=new D3e(this.logger),this.performanceClient=t}return r.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},r.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},r.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},r.prototype.generatePkceCodes=function(){return fr(this,void 0,void 0,function(){return pr(this,function(e){return[2,this.pkceGenerator.generateCodes()]})})},r.prototype.getPublicKeyThumbprint=function(e){var t;return fr(this,void 0,void 0,function(){var n,i,a,o,s;return pr(this,function(c){switch(c.label){case 0:return n=(t=this.performanceClient)==null?void 0:t.startMeasurement(Wt.CryptoOptsGetPublicKeyThumbprint,e.correlationId),[4,this.browserCrypto.generateKeyPair(r.EXTRACTABLE,r.POP_KEY_USAGES)];case 1:return i=c.sent(),[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return o=c.sent(),o={e:o.e,kty:o.kty,n:o.n},o=pg.getSortedObjectString(o),[4,this.hashString(o)];case 3:return a=c.sent(),[4,this.browserCrypto.exportJwk(i.privateKey)];case 4:return o=c.sent(),[4,this.browserCrypto.importJwk(o,!1,["sign"])];case 5:return s=c.sent(),[4,this.cache.asymmetricKeys.setItem(a,{privateKey:s,publicKey:i.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri})];case 6:return c.sent(),n&&n.endMeasurement({success:!0}),[2,a]}})})},r.prototype.removeTokenBindingKey=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}})})},r.prototype.clearKeystore=function(){return fr(this,void 0,void 0,function(){return pr(this,function(e){switch(e.label){case 0:return[4,this.cache.clear()];case 1:return[2,e.sent()]}})})},r.prototype.signJwt=function(e,t,n){var i;return fr(this,void 0,void 0,function(){var a,o,s,c,A,f;return pr(this,function(y){switch(y.label){case 0:return a=(i=this.performanceClient)==null?void 0:i.startMeasurement(Wt.CryptoOptsSignJwt,n),[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(o=y.sent())return[4,this.browserCrypto.exportJwk(o.publicKey)];throw qr.createSigningKeyNotFoundInStorageError(t);case 2:return A=y.sent(),s=pg.getSortedObjectString(A),c=this.b64Encode.urlEncode(JSON.stringify({kid:t})),c=c3e.getShrHeaderString({kid:c,alg:A.alg}),A=this.b64Encode.urlEncode(c),e.cnf={jwk:JSON.parse(s)},c=this.b64Encode.urlEncode(JSON.stringify(e)),s=A+"."+c,A=pg.stringToArrayBuffer(s),[4,this.browserCrypto.sign(o.privateKey,A)];case 3:return c=y.sent(),A=this.b64Encode.urlEncodeArr(new Uint8Array(c)),f=s+"."+A,a&&a.endMeasurement({success:!0}),[2,f]}})})},r.prototype.hashString=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){switch(n.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=n.sent(),t=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(t)]}})})},r.POP_KEY_USAGES=["sign","verify"],r.EXTRACTABLE=!0,r})(),M$=(function(){function r(e,t){this.correlationId=t,this.measureName=r.makeMeasureName(e,t),this.startMark=r.makeStartMark(e,t),this.endMark=r.makeEndMark(e,t)}return r.makeMeasureName=function(e,t){return"msal.measure."+e+"."+t},r.makeStartMark=function(e,t){return"msal.start."+e+"."+t},r.makeEndMark=function(e,t){return"msal.end."+e+"."+t},r.supportsBrowserPerformance=function(){return typeof window<"u"&&window.performance!==void 0&&typeof window.performance.mark=="function"&&typeof window.performance.measure=="function"&&typeof window.performance.clearMarks=="function"&&typeof window.performance.clearMeasures=="function"&&typeof window.performance.getEntriesByName=="function"},r.flushMeasurements=function(e,t){if(r.supportsBrowserPerformance())try{t.forEach(function(n){n=r.makeMeasureName(n.name,e),0<window.performance.getEntriesByName(n,"measure").length&&(window.performance.clearMeasures(n),window.performance.clearMarks(r.makeStartMark(n,e)),window.performance.clearMarks(r.makeEndMark(n,e)))})}catch{}},r.prototype.startMeasurement=function(){if(r.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},r.prototype.endMeasurement=function(){if(r.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},r.prototype.flushMeasurement=function(){if(r.supportsBrowserPerformance())try{var e,t=window.performance.getEntriesByName(this.measureName,"measure");if(0<t.length)return e=t[0].duration,window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),e}catch{}return null},r})(),F3e=(function(r){function e(t,n,i,a,o,s,c){return t=r.call(this,t,n,i,a,o,s)||this,t.browserCrypto=new fse(t.logger,c),t.guidGenerator=new Ase(t.browserCrypto),t}return su(e,r),e.prototype.startPerformanceMeasuremeant=function(t,n){return new M$(t,n)},e.prototype.generateId=function(){return this.guidGenerator.generateGuid()},e.prototype.getPageVisibility=function(){var t;return((t=document.visibilityState)==null?void 0:t.toString())||null},e.prototype.deleteIncompleteSubMeasurements=function(t){var n=this.eventsByCorrelationId.get(t.event.correlationId),i=n&&n.eventId===t.event.eventId,a=[];i&&n!=null&&n.incompleteSubMeasurements&&n.incompleteSubMeasurements.forEach(function(o){a.push(hn({},o))}),0<a.length&&M$.flushMeasurements(t.event.correlationId,a)},e.prototype.supportsBrowserPerformanceNow=function(){return typeof window<"u"&&window.performance!==void 0&&typeof window.performance.now=="function"},e.prototype.startMeasurement=function(t,n){var i=this,a=this.getPageVisibility(),o=r.prototype.startMeasurement.call(this,t,n);return hn(hn({},o),{endMeasurement:function(s){return s=o.endMeasurement(hn({startPageVisibility:a,endPageVisibility:i.getPageVisibility()},s)),i.deleteIncompleteSubMeasurements(o),s},discardMeasurement:function(){o.discardMeasurement(),i.deleteIncompleteSubMeasurements(o),o.measurement.flushMeasurement()}})},e.prototype.setPreQueueTime=function(t,n){var i;this.supportsBrowserPerformanceNow()?n?((i=this.preQueueTimeByCorrelationId.get(n))&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+i.name+" found",n),this.addQueueMeasurement(i.name,n,void 0,!0)),this.preQueueTimeByCorrelationId.set(n,{name:t,time:window.performance.now()})):this.logger.trace("BrowserPerformanceClient: correlationId for "+t+" not provided, unable to set telemetry queue time"):this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+t)},e.prototype.addQueueMeasurement=function(t,n,i,a){if(this.supportsBrowserPerformanceNow())if(n){var o,s=r.prototype.getPreQueueTime.call(this,t,n);if(s)return o=window.performance.now(),i=i||r.prototype.calculateQueuedTime.call(this,s,o),r.prototype.addQueueMeasurement.call(this,t,n,i,a)}else this.logger.trace("BrowserPerformanceClient: correlationId for "+t+" not provided, unable to add queue measurement");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+t)},e})(sse),j3e=(function(){function r(e,t,n,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=n,this.cryptoObj=i}return r.prototype.loadExternalTokens=function(e,t,n){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw qr.createUnableToLoadTokenError("Please ensure server response includes id token.");var i=new nm(t.id_token,this.cryptoObj);if(e.account)var a=this.loadAccount(i,e.account.environment,void 0,void 0,e.account.homeAccountId),o=new KP(a,this.loadIdToken(i,a.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,a.homeAccountId,e.account.environment,e.account.tenantId,n),this.loadRefreshToken(e,t,a.homeAccountId,e.account.environment));else{if(!e.authority)throw qr.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var c=xS.generateAuthority(e.authority,e.azureCloudOptions),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=new xS(c,this.config.system.networkClient,this.storage,s,this.logger);if(n.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),a=this.loadAccount(i,c.hostnameAndPort,n.clientInfo,c.authorityType);else{if(!t.client_info)throw qr.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),a=this.loadAccount(i,c.hostnameAndPort,t.client_info,c.authorityType)}o=new KP(a,this.loadIdToken(i,a.homeAccountId,c.hostnameAndPort,c.tenant),this.loadAccessToken(e,t,a.homeAccountId,c.hostnameAndPort,c.tenant,n),this.loadRefreshToken(e,t,a.homeAccountId,c.hostnameAndPort))}return this.generateAuthenticationResult(e,i,o,c)},r.prototype.loadAccount=function(e,t,n,i,a){var o;if(a?o=a:i!==void 0&&n&&(o=nu.generateHomeAccountId(n,i,this.logger,this.cryptoObj,e)),!o)throw qr.createUnableToLoadTokenError("Unexpected missing homeAccountId");if(a=n?nu.createAccount(n,o,e,void 0,void 0,void 0,t):nu.createGenericAccount(o,e,void 0,void 0,void 0,t),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(a),a;throw qr.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},r.prototype.loadIdToken=function(e,t,n,i){if(t=X0.createIdTokenEntity(t,n,e.rawToken,this.config.auth.clientId,i),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(t),t;throw qr.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},r.prototype.loadAccessToken=function(s,t,f,i,a,A){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in)throw qr.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!A.extendedExpiresOn)throw qr.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var s=new qu(s.scopes).printScopes(),c=A.expiresOn||t.expires_in+new Date().getTime()/1e3,A=A.extendedExpiresOn,f=J0.createAccessTokenEntity(f,i,t.access_token,this.config.auth.clientId,a,s,c,A,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(f),f;throw qr.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},r.prototype.loadRefreshToken=function(e,t,n,i){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;if(n=Hb.createRefreshTokenEntity(n,i,t.refresh_token,this.config.auth.clientId),this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(n),n;throw qr.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},r.prototype.generateAuthenticationResult=function(e,t,n,i){var a,o=vt.EMPTY_STRING,s=[],c=null,A=(n!=null&&n.accessToken&&(o=n.accessToken.secret,s=qu.fromString(n.accessToken.target).asArray(),c=new Date(1e3*Number(n.accessToken.expiresOn)),a=new Date(1e3*Number(n.accessToken.extendedExpiresOn))),t?.claims.oid||t?.claims.sub||vt.EMPTY_STRING),f=t?.claims.tid||vt.EMPTY_STRING;return{authority:i?i.canonicalAuthority:vt.EMPTY_STRING,uniqueId:A,tenantId:f,scopes:s,account:n!=null&&n.account?n.account.getAccountInfo():null,idToken:t?t.rawToken:vt.EMPTY_STRING,idTokenClaims:t?t.claims:{},accessToken:o,fromCache:!0,expiresOn:c,correlationId:e.correlationId||vt.EMPTY_STRING,requestId:vt.EMPTY_STRING,extExpiresOn:a,familyId:vt.EMPTY_STRING,tokenType:((i=n?.accessToken)==null?void 0:i.tokenType)||vt.EMPTY_STRING,state:vt.EMPTY_STRING,cloudGraphHostName:((A=n?.account)==null?void 0:A.cloudGraphHostName)||vt.EMPTY_STRING,msGraphHost:((f=n?.account)==null?void 0:f.msGraphHost)||vt.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},r})(),Q3e=(function(r){function e(t){return t=r.call(this,t)||this,t.includeRedirectUri=!1,t}return su(e,r),e})(ise),H3e=(function(r){function e(t,n,i,a,o,s,c,A,f,y){return t=r.call(this,t,n,i,a,o,s,A,f,y)||this,t.apiId=c,t}return su(e,r),e.prototype.acquireToken=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o;return pr(this,function(s){switch(s.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),t.code)return this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientInitializeAuthorizationRequest,t.correlationId),[4,this.initializeAuthorizationRequest(t,ln.Silent)];throw qr.createAuthCodeRequiredError();case 1:n=s.sent(),this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||vt.EMPTY_STRING,n.account||null),i=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,4,,5]),a=hn(hn({},n),{code:t.code}),this.performanceClient.setPreQueueTime(Wt.StandardInteractionClientGetClientConfiguration,t.correlationId),[4,this.getClientConfiguration(i,n.authority)];case 3:return o=s.sent(),o=new Q3e(o),this.logger.verbose("Auth code client created"),[2,new hse(o,this.browserStorage,a,this.logger,this.config.system,this.performanceClient).handleCodeResponseFromServer({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},n.state,o.authority,this.networkClient,!1)];case 4:throw(o=s.sent())instanceof fn&&o.setCorrelationId(this.correlationId),i.cacheFailedRequest(o),this.browserStorage.cleanRequestByState(n.state),o;case 5:return[2]}})})},e.prototype.logout=function(){return Promise.reject(qr.createSilentLogoutUnsupportedError())},e})(hx),z3e=(function(){function r(e){this.isBrowserEnvironment=typeof window<"u",this.config=x3e(e,this.isBrowserEnvironment),this.initialized=!1,this.logger=new iQ(this.config.system.loggerOptions,YD,DE),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new F3e(this.config.auth.clientId,this.config.auth.authority,this.logger,YD,DE,this.config.telemetry.application,this.config.system.cryptoOptions):new h3e(this.config.auth.clientId,this.config.auth.authority,this.logger,YD,DE,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new U3e(this.logger,this.performanceClient,this.config.system.cryptoOptions):QP,this.eventHandler=new S3e(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new w6(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):f3e(this.config.auth.clientId,this.logger),e={cacheLocation:pl.MemoryStorage,temporaryCacheLocation:pl.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!0},this.nativeInternalStorage=new w6(this.config.auth.clientId,e,this.browserCrypto,this.logger),this.tokenCache=new j3e(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return r.prototype.initialize=function(){return fr(this,void 0,void 0,function(){var e,t,n,i,a;return pr(this,function(o){switch(o.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(e=this.config.system.allowNativeBroker,t=this.performanceClient.startMeasurement(Wt.InitializeClientApplication),this.eventHandler.emitEvent(Jn.INITIALIZE_START),!e)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),n=this,[4,v_.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return n.nativeExtensionProvider=o.sent(),[3,4];case 3:return i=o.sent(),this.logger.verbose(i),[3,4];case 4:return this.config.cache.claimsBasedCachingEnabled?[3,6]:(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),a=this.performanceClient.startMeasurement(Wt.ClearTokensAndKeysWithClaims),[4,this.browserStorage.clearTokensAndKeysWithClaims()]);case 5:o.sent(),a.endMeasurement({success:!0}),o.label=6;case 6:return this.initialized=!0,this.eventHandler.emitEvent(Jn.INITIALIZE_END),t.endMeasurement({allowNativeBroker:e,success:!0}),[2]}})})},r.prototype.handleRedirectPromise=function(e){return fr(this,void 0,void 0,function(){var t,n,i,a,o,s=this;return pr(this,function(c){return this.logger.verbose("handleRedirectPromise called"),xs.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t=this.getAllAccounts(),this.isBrowserEnvironment?(n=e||vt.EMPTY_STRING,(i=this.redirectResponse.get(n))===void 0?(this.eventHandler.emitEvent(Jn.HANDLE_REDIRECT_START,ln.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),a=void 0,a=o&&v_.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),new mw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId).handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),o=this.browserStorage.getTemporaryCache(la.CORRELATION_ID,!0)||vt.EMPTY_STRING,this.createRedirectClient(o).handleRedirectPromise(e)),i=a.then(function(A){return A&&(t.length<s.getAllAccounts().length?(s.eventHandler.emitEvent(Jn.LOGIN_SUCCESS,ln.Redirect,A),s.logger.verbose("handleRedirectResponse returned result, login success")):(s.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_SUCCESS,ln.Redirect,A),s.logger.verbose("handleRedirectResponse returned result, acquire token success"))),s.eventHandler.emitEvent(Jn.HANDLE_REDIRECT_END,ln.Redirect),A}).catch(function(A){throw 0<t.length?s.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_FAILURE,ln.Redirect,null,A):s.eventHandler.emitEvent(Jn.LOGIN_FAILURE,ln.Redirect,null,A),s.eventHandler.emitEvent(Jn.HANDLE_REDIRECT_END,ln.Redirect),A}),this.redirectResponse.set(n,i)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,i]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},r.prototype.acquireTokenRedirect=function(e){return fr(this,void 0,void 0,function(){var t,n,i=this;return pr(this,function(a){return t=this.getRequestCorrelationId(e),this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(ln.Redirect),(n=0<this.getAllAccounts().length)?this.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_START,ln.Redirect,e):this.eventHandler.emitEvent(Jn.LOGIN_START,ln.Redirect,e),[2,(this.nativeExtensionProvider&&this.canUseNative(e)?new mw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireTokenRedirect(e).catch(function(o){if(o instanceof Hp&&o.isFatal())return i.nativeExtensionProvider=void 0,i.createRedirectClient(e.correlationId).acquireToken(e);if(o instanceof $d)return i.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),i.createRedirectClient(e.correlationId).acquireToken(e);throw i.browserStorage.setInteractionInProgress(!1),o}):this.createRedirectClient(e.correlationId).acquireToken(e)).catch(function(o){throw n?i.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_FAILURE,ln.Redirect,null,o):i.eventHandler.emitEvent(Jn.LOGIN_FAILURE,ln.Redirect,null,o),o})]})})},r.prototype.acquireTokenPopup=function(e){var t=this,n=this.getRequestCorrelationId(e),i=this.performanceClient.startMeasurement(Wt.AcquireTokenPopup,n);try{this.logger.verbose("acquireTokenPopup called",n),this.preflightBrowserEnvironmentCheck(ln.Popup)}catch(o){return Promise.reject(o)}var a=this.getAllAccounts();return 0<a.length?this.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_START,ln.Popup,e):this.eventHandler.emitEvent(Jn.LOGIN_START,ln.Popup,e),(this.canUseNative(e)?this.acquireTokenNative(e,yo.acquireTokenPopup).then(function(o){return t.browserStorage.setInteractionInProgress(!1),i.endMeasurement({success:!0,isNativeBroker:!0,requestId:o.requestId}),o}).catch(function(o){if(o instanceof Hp&&o.isFatal())return t.nativeExtensionProvider=void 0,t.createPopupClient(e.correlationId).acquireToken(e);if(o instanceof $d)return t.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createPopupClient(e.correlationId).acquireToken(e);throw t.browserStorage.setInteractionInProgress(!1),o}):this.createPopupClient(e.correlationId).acquireToken(e)).then(function(o){return a.length<t.getAllAccounts().length?t.eventHandler.emitEvent(Jn.LOGIN_SUCCESS,ln.Popup,o):t.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_SUCCESS,ln.Popup,o),i.addStaticFields({accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length}),i.endMeasurement({success:!0,requestId:o.requestId}),o}).catch(function(o){return 0<a.length?t.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_FAILURE,ln.Popup,null,o):t.eventHandler.emitEvent(Jn.LOGIN_FAILURE,ln.Popup,null,o),i.endMeasurement({errorCode:o.errorCode,subErrorCode:o.subError,success:!1}),Promise.reject(o)})},r.prototype.trackPageVisibilityWithMeasurement=function(){var e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))},r.prototype.ssoSilent=function(e){var t;return fr(this,void 0,void 0,function(){var n,i,a=this;return pr(this,function(o){return n=this.getRequestCorrelationId(e),i=hn(hn({},e),{prompt:e.prompt,correlationId:n}),this.preflightBrowserEnvironmentCheck(ln.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Wt.SsoSilent,n),(t=this.ssoSilentMeasurement)!=null&&t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(Jn.SSO_SILENT_START,ln.Silent,i),[2,(this.canUseNative(i)?this.acquireTokenNative(i,yo.ssoSilent).catch(function(s){if(s instanceof Hp&&s.isFatal())return a.nativeExtensionProvider=void 0,a.createSilentIframeClient(i.correlationId).acquireToken(i);throw s}):this.createSilentIframeClient(i.correlationId).acquireToken(i)).then(function(s){var c;return a.eventHandler.emitEvent(Jn.SSO_SILENT_SUCCESS,ln.Silent,s),(c=a.ssoSilentMeasurement)!=null&&c.addStaticFields({accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length}),(c=a.ssoSilentMeasurement)!=null&&c.endMeasurement({success:!0,isNativeBroker:s.fromNativeBroker,requestId:s.requestId}),s}).catch(function(s){var c;throw a.eventHandler.emitEvent(Jn.SSO_SILENT_FAILURE,ln.Silent,null,s),(c=a.ssoSilentMeasurement)!=null&&c.endMeasurement({errorCode:s.errorCode,subErrorCode:s.subError,success:!1}),s}).finally(function(){document.removeEventListener("visibilitychange",a.trackPageVisibilityWithMeasurement)})]})})},r.prototype.acquireTokenByCode=function(e){return fr(this,void 0,void 0,function(){var t,n,i,a,o=this;return pr(this,function(s){t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(ln.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_BY_CODE_START,ln.Silent,e),n=this.performanceClient.startMeasurement(Wt.AcquireTokenByCode,e.correlationId);try{if(e.code&&e.nativeAccountId)throw qr.createSpaCodeAndNativeAccountIdPresentError();if(e.code)return i=e.code,(a=this.hybridAuthCodeResponses.get(i))?(this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId),n.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),a=this.acquireTokenByCodeAsync(hn(hn({},e),{correlationId:t})).then(function(c){return o.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ln.Silent,c),o.hybridAuthCodeResponses.delete(i),n.addStaticFields({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),n.endMeasurement({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),c}).catch(function(c){throw o.hybridAuthCodeResponses.delete(i),o.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_BY_CODE_FAILURE,ln.Silent,null,c),n.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c}),this.hybridAuthCodeResponses.set(i,a)),[2,a];if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return[2,this.acquireTokenNative(e,yo.acquireTokenByCode,e.nativeAccountId).catch(function(c){throw c instanceof Hp&&c.isFatal()&&(o.nativeExtensionProvider=void 0),c})];throw qr.createUnableToAcquireTokenFromNativePlatformError()}throw qr.createAuthCodeOrNativeAccountIdRequiredError()}catch(c){throw this.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_BY_CODE_FAILURE,ln.Silent,null,c),n.endMeasurement({errorCode:c instanceof fn&&c.errorCode||void 0,subErrorCode:c instanceof fn&&c.subError||void 0,success:!1}),c}return[2]})})},r.prototype.acquireTokenByCodeAsync=function(e){var t;return fr(this,void 0,void 0,function(){var n=this;return pr(this,function(i){switch(i.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Wt.AcquireTokenByCodeAsync,e.correlationId),(t=this.acquireTokenByCodeAsyncMeasurement)!=null&&t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),[4,this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(function(a){var o;return(o=n.acquireTokenByCodeAsyncMeasurement)!=null&&o.endMeasurement({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId}),a}).catch(function(a){var o;throw(o=n.acquireTokenByCodeAsyncMeasurement)!=null&&o.endMeasurement({errorCode:a.errorCode,subErrorCode:a.subError,success:!1}),a}).finally(function(){document.removeEventListener("visibilitychange",n.trackPageVisibilityWithMeasurement)})];case 1:return[2,i.sent()]}})})},r.prototype.acquireTokenFromCache=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){switch(this.performanceClient.addQueueMeasurement(Wt.AcquireTokenFromCache,t.correlationId),n.cacheLookupPolicy){case cA.Default:case cA.AccessToken:case cA.AccessTokenAndRefreshToken:return[2,e.acquireToken(t)];default:throw Zr.createRefreshRequiredError()}return[2]})})},r.prototype.acquireTokenByRefreshToken=function(e,t){return fr(this,void 0,void 0,function(){var n;return pr(this,function(i){switch(this.performanceClient.addQueueMeasurement(Wt.AcquireTokenByRefreshToken,e.correlationId),t.cacheLookupPolicy){case cA.Default:case cA.AccessTokenAndRefreshToken:case cA.RefreshToken:case cA.RefreshTokenAndNetwork:return n=this.createSilentRefreshClient(e.correlationId),this.performanceClient.setPreQueueTime(Wt.SilentRefreshClientAcquireToken,e.correlationId),[2,n.acquireToken(e)];default:throw Zr.createRefreshRequiredError()}return[2]})})},r.prototype.acquireTokenBySilentIframe=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){return this.performanceClient.addQueueMeasurement(Wt.AcquireTokenBySilentIframe,e.correlationId),t=this.createSilentIframeClient(e.correlationId),this.performanceClient.setPreQueueTime(Wt.SilentIframeClientAcquireToken,e.correlationId),[2,t.acquireToken(e)]})})},r.prototype.logout=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){return t=this.getRequestCorrelationId(e),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),[2,this.logoutRedirect(hn({correlationId:t},e))]})})},r.prototype.logoutRedirect=function(e){return fr(this,void 0,void 0,function(){var t;return pr(this,function(n){return t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(ln.Redirect),[2,this.createRedirectClient(t).logout(e)]})})},r.prototype.logoutPopup=function(e){try{var t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(ln.Popup),this.createPopupClient(t).logout(e)}catch(n){return Promise.reject(n)}},r.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},r.prototype.getAccountByUsername=function(e){var t;return this.logger.trace("getAccountByUsername called"),e?(t=this.browserStorage.getAccountInfoFilteredBy({username:e}))?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: "+e),t):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null):(this.logger.warning("getAccountByUsername: No username provided"),null)},r.prototype.getAccountByHomeId=function(e){var t;return this.logger.trace("getAccountByHomeId called"),e?(t=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e}))?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: "+e),t):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null):(this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null)},r.prototype.getAccountByLocalId=function(e){var t;return this.logger.trace("getAccountByLocalId called"),e?(t=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e}))?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: "+e),t):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null):(this.logger.warning("getAccountByLocalId: No localAccountId provided"),null)},r.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},r.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},r.prototype.preflightBrowserEnvironmentCheck=function(e,t){if(t===void 0&&(t=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),xs.blockNonBrowserEnvironment(this.isBrowserEnvironment),xs.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),xs.blockReloadInHiddenIframes(),xs.blockAcquireTokenInPopups(),xs.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e===ln.Redirect&&this.config.cache.cacheLocation===pl.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw YP.createInMemoryRedirectUnavailableError();e!==ln.Redirect&&e!==ln.Popup||this.preflightInteractiveRequest(t)},r.prototype.preflightInteractiveRequest=function(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),xs.blockReloadInHiddenIframes(),e&&this.browserStorage.setInteractionInProgress(!0)},r.prototype.acquireTokenNative=function(e,t,n){return fr(this,void 0,void 0,function(){return pr(this,function(i){if(this.logger.trace("acquireTokenNative called"),this.nativeExtensionProvider)return[2,new mw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)];throw qr.createNativeConnectionNotEstablishedError()})})},r.prototype.canUseNative=function(e,t){if(this.logger.trace("canUseNative called"),!v_.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Vu.NONE:case Vu.CONSENT:case Vu.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+e.prompt+" is not compatible with native flow, returning false"),!1}return!(!t&&!this.getNativeAccountId(e)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},r.prototype.getNativeAccountId=function(e){return e=e.account||this.browserStorage.getAccountInfoByHints(e.loginHint,e.sid)||this.getActiveAccount(),e&&e.nativeAccountId||""},r.prototype.createPopupClient=function(e){return new y3e(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},r.prototype.createRedirectClient=function(e){return new g3e(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},r.prototype.createSilentIframeClient=function(e){return new C3e(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},r.prototype.createSilentCacheClient=function(e){return new use(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},r.prototype.createSilentRefreshClient=function(e){return new E3e(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},r.prototype.createSilentAuthCodeClient=function(e){return new H3e(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,yo.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)},r.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},r.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},r.prototype.addPerformanceCallback=function(e){return this.performanceClient.addPerformanceCallback(e)},r.prototype.removePerformanceCallback=function(e){return this.performanceClient.removePerformanceCallback(e)},r.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},r.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},r.prototype.getTokenCache=function(){return this.tokenCache},r.prototype.getLogger=function(){return this.logger},r.prototype.setLogger=function(e){this.logger=e},r.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},r.prototype.setNavigationClient=function(e){this.navigationClient=e},r.prototype.getConfiguration=function(){return this.config},r.prototype.getRequestCorrelationId=function(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():vt.EMPTY_STRING},r})(),q3e=(function(r){function e(t){return t=r.call(this,t)||this,t.astsAsyncMeasurement=void 0,t.activeSilentTokenRequests=new Map,t.trackPageVisibility=t.trackPageVisibility.bind(t),t}return su(e,r),e.prototype.loginRedirect=function(t){return fr(this,void 0,void 0,function(){var n;return pr(this,function(i){return n=this.getRequestCorrelationId(t),this.logger.verbose("loginRedirect called",n),[2,this.acquireTokenRedirect(hn({correlationId:n},t||I$))]})})},e.prototype.loginPopup=function(t){var n=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup(hn({correlationId:n},t||I$))},e.prototype.acquireTokenSilent=function(t){return fr(this,void 0,void 0,function(){var n,i,a,o,s,c=this;return pr(this,function(A){if(n=this.getRequestCorrelationId(t),(i=this.performanceClient.startMeasurement(Wt.AcquireTokenSilent,n)).addStaticFields({cacheLookupPolicy:t.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(ln.Silent),this.logger.verbose("acquireTokenSilent called",n),s=t.account||this.getActiveAccount())return o={clientId:this.config.auth.clientId,authority:t.authority||vt.EMPTY_STRING,scopes:t.scopes,homeAccountIdentifier:s.homeAccountId,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},a=JSON.stringify(o),(o=this.activeSilentTokenRequests.get(a))===void 0?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.setPreQueueTime(Wt.AcquireTokenSilentAsync,n),s=this.acquireTokenSilentAsync(hn(hn({},t),{correlationId:n}),s).then(function(f){return c.activeSilentTokenRequests.delete(a),i.addStaticFields({accessTokenSize:f.accessToken.length,idTokenSize:f.idToken.length}),i.endMeasurement({success:!0,fromCache:f.fromCache,isNativeBroker:f.fromNativeBroker,cacheLookupPolicy:t.cacheLookupPolicy,requestId:f.requestId}),f}).catch(function(f){throw c.activeSilentTokenRequests.delete(a),i.endMeasurement({errorCode:f.errorCode,subErrorCode:f.subError,success:!1}),f}),this.activeSilentTokenRequests.set(a,s),[2,s]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),i.discardMeasurement(),[2,o]);throw qr.createNoAccountError()})})},e.prototype.trackPageVisibility=function(){this.astsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},e.prototype.acquireTokenSilentAsync=function(t,n){var i;return fr(this,void 0,void 0,function(){var a,o,s,c,A=this;return pr(this,function(f){switch(f.label){case 0:return this.performanceClient.addQueueMeasurement(Wt.AcquireTokenSilentAsync,t.correlationId),this.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_START,ln.Silent,t),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(Wt.AcquireTokenSilentAsync,t.correlationId),(i=this.astsAsyncMeasurement)!=null&&i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),v_.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme)&&n.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),a=hn(hn({},t),{account:n}),a=this.acquireTokenNative(a,yo.acquireTokenSilent_silentFlow).catch(function(y){return fr(A,void 0,void 0,function(){return pr(this,function(C){if(y instanceof Hp&&y.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(t.correlationId).acquireToken(t)];throw y})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),o=this.createSilentCacheClient(t.correlationId),this.performanceClient.setPreQueueTime(Wt.InitializeSilentRequest,t.correlationId),[4,o.initializeSilentRequest(t,n)];case 2:s=f.sent(),c=hn(hn({},t),{cacheLookupPolicy:t.cacheLookupPolicy||cA.Default}),this.performanceClient.setPreQueueTime(Wt.AcquireTokenFromCache,s.correlationId),a=this.acquireTokenFromCache(o,s,c).catch(function(y){if(c.cacheLookupPolicy===cA.AccessToken)throw y;return xs.blockReloadInHiddenIframes(),A.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_NETWORK_START,ln.Silent,s),A.performanceClient.setPreQueueTime(Wt.AcquireTokenByRefreshToken,s.correlationId),A.acquireTokenByRefreshToken(s,c).catch(function(C){var x=C instanceof D_,k=C instanceof $d,N=C.errorCode===zb.noTokensFoundError.code,M=C.errorCode===Ff.INVALID_GRANT_ERROR;if(x&&M&&!k&&c.cacheLookupPolicy!==cA.AccessTokenAndRefreshToken&&c.cacheLookupPolicy!==cA.RefreshToken||c.cacheLookupPolicy===cA.Skip||N)return A.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",t.correlationId),A.performanceClient.setPreQueueTime(Wt.AcquireTokenBySilentIframe,s.correlationId),A.acquireTokenBySilentIframe(s);throw C})}),f.label=3;case 3:return[2,a.then(function(y){var C;return A.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_SUCCESS,ln.Silent,y),(C=A.astsAsyncMeasurement)!=null&&C.endMeasurement({success:!0,fromCache:y.fromCache,isNativeBroker:y.fromNativeBroker,requestId:y.requestId}),y}).catch(function(y){var C;throw A.eventHandler.emitEvent(Jn.ACQUIRE_TOKEN_FAILURE,ln.Silent,null,y),(C=A.astsAsyncMeasurement)!=null&&C.endMeasurement({errorCode:y.errorCode,subErrorCode:y.subError,success:!1}),y}).finally(function(){document.removeEventListener("visibilitychange",A.trackPageVisibility)})]}})})},e})(z3e);function C6(r){this.message=r}C6.prototype=new Error,C6.prototype.name="InvalidCharacterError";var L$=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(r){var e=String(r).replace(/=+$/,"");if(e.length%4==1)throw new C6("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,a=0,o="";n=e.charAt(a++);~n&&(t=i%4?64*t+n:n,i++%4)&&(o+=String.fromCharCode(255&t>>(-2*i&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function K3e(r){var e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(L$(e).replace(/(.)/g,function(t,n){return n=n.charCodeAt(0).toString(16).toUpperCase(),"%"+(n=n.length<2?"0"+n:n)}))}catch{return L$(e)}}function WP(r){this.message=r}function V3e(r,e){if(typeof r!="string")throw new WP("Invalid token specified");e=(e=e||{}).header===!0?0:1;try{return JSON.parse(K3e(r.split(".")[e]))}catch(t){throw new WP("Invalid token specified: "+t.message)}}WP.prototype=new Error,WP.prototype.name="InvalidTokenError";var G3e=(function(){function r(e){var t=this,n=(this.fallbackStorage={},this._triggerTokenFetch=function(i){return i===void 0&&(i=!1),new Promise(function(a,o){typeof t.options.getToken!="function"?o(new Error("Token cannot be ".concat(i?"fetched":"renewed"," because getToken was not set or is not a function."))):t.options.getToken(function(s){try{var c=t._getTokenExpiry(s)-r.constants.tokenRefreshClockSkew;t._storeToken(s),t._setTimeoutTokenFetch(c),a()}catch{o(new Error("Invalid token returned by getToken function"))}},function(s){o(s)},t.map)})},this._setTimeoutTokenFetch=function(i){clearTimeout(t.tokenTimeOutHandle),t.tokenTimeOutHandle=setTimeout(t._triggerTokenFetch,Math.min(1e3*i,2147483647))},e.getServiceOptions());this.options=n.authOptions,this.sessionId=n.sessionId,this.map=e}return r.prototype.initialize=function(){var e=this;return this.initPromise||(this.initPromise=new Promise(function(t,n){if(e.options.authType===no.subscriptionKey)t();else if(e.options.authType===no.aad)e.options.authContext=e.options.authContext||r.getDefaultAuthContext(e.options),e.options.authContext.handleRedirectPromise().then(function(){setTimeout(function(){return e._loginAndAcquireTokenForAAD(t,n)})}).catch(function(a){n(new Error("Error logging in the AAD users: "+a))});else if(e.options.authType===no.anonymous)t(e._triggerTokenFetch(!0));else if(e.options.authType===no.sas){if(e.options.sasToken){var i=-1;try{i=e._getTokenExpiry(e.options.sasToken)}catch{return void n(new Error("An invalid sasToken was provided."))}if(i>r.constants.tokenRefreshClockSkew)return e._storeToken(e.options.sasToken),e._setTimeoutTokenFetch(i-r.constants.tokenRefreshClockSkew),void t()}t(e._triggerTokenFetch())}else n(new Error("An invalid authentication type was specified."))})),this.initPromise},r.prototype.dispose=function(){this.tokenTimeOutHandle&&(clearTimeout(this.tokenTimeOutHandle),this.tokenTimeOutHandle=null)},r.getDefaultAuthContext=function(e){if(!e.aadAppId)throw new Error("No AAD app ID was specified.");if(e.aadTenant)return this.defaultAuthContext||(this.defaultAuthContext=new q3e({auth:{authority:"".concat(e.aadInstance||Gf.aadInstance).concat(e.aadTenant),clientId:e.aadAppId},cache:{cacheLocation:this.constants.preferredCacheLocation}})),this.defaultAuthContext;throw new Error("No AAD tenant was specified.")},r.prototype._loginAndAcquireTokenForAAD=function(e,t){var n=((n=this.options.authContext)==null?void 0:n.getAllAccounts())||[];n.length===0?(this.options.authContext.loginRedirect(),e()):(this.options.authContext.setActiveAccount(n[0]),this._acquireTokenForAAD(e,t))},r.prototype._acquireTokenForAAD=function(e,t){var n=this,i={scopes:[Yn.aadResourceId]};this.options.authContext.acquireTokenSilent(i).then(function(a){n._saveItem(r.constants.storage.tokenKey,a.accessToken);var o={map:n.map,type:r.constants.events.tokenAcquired},o=(n.map.events.invoke(r.constants.events.tokenAcquired,o),clearTimeout(n.tokenTimeOutHandle),new Date(a.expiresOn).getTime()-Date.now());n.tokenTimeOutHandle=setTimeout(function(){return n._acquireTokenForAAD()},o),e?.()}).catch(function(a){if(a instanceof $d)return n.options.authContext.acquireTokenRedirect(i),e?.();t?.(a)})},r.prototype.getAuthType=function(){return this.options.authType},r.prototype.getClientId=function(){return this.options.clientId},r.prototype.getToken=function(){if(this.options.authType===no.aad)return this._getItem(r.constants.storage.tokenKey);if(this.options.authType!==no.anonymous&&this.options.authType!==no.sas)return this.options.authType===no.subscriptionKey?this.options.subscriptionKey:void 0;var e=this._getItem(r.constants.storage.tokenKey);if(e){var t=this._getTokenExpiry(e);if(t<300&&0<t)this._triggerTokenFetch();else if(t<=0)throw this._saveItem(r.constants.storage.tokenKey,""),new Error(r.constants.errors.tokenExpired)}else this._triggerTokenFetch();return e},r.prototype._getTokenExpiry=function(t){var t=V3e(t).exp,n=this._getCurrentTime();return 0<t-n?t-n:-1},r.prototype._storeToken=function(e){this._saveItem(r.constants.storage.tokenKey,e),e={map:this.map,type:r.constants.events.tokenAcquired},this.map.events.invoke(r.constants.events.tokenAcquired,e)},r.prototype._saveItem=function(e,t){return this._supportsLocalStorage()?localStorage.setItem(e,t):this._supportsSessionStorage()?sessionStorage.setItem(e,t):this.fallbackStorage[e]=t,!0},r.prototype._getItem=function(e){return this._supportsLocalStorage()?localStorage.getItem(e):this._supportsSessionStorage()?sessionStorage.getItem(e):e in this.fallbackStorage?this.fallbackStorage[e]:null},r.prototype._supportsLocalStorage=function(){try{return window.localStorage?(window.localStorage.setItem(r.constants.storage.testStorageKey,"A"),window.localStorage.getItem(r.constants.storage.testStorageKey)==="A"&&(window.localStorage.removeItem(r.constants.storage.testStorageKey),!window.localStorage.getItem(r.constants.storage.testStorageKey))):!1}catch{return!1}},r.prototype._supportsSessionStorage=function(){try{return window.sessionStorage?(window.sessionStorage.setItem(r.constants.storage.testStorageKey,"A"),window.sessionStorage.getItem(r.constants.storage.testStorageKey)==="A"&&(window.sessionStorage.removeItem(r.constants.storage.testStorageKey),!window.sessionStorage.getItem(r.constants.storage.testStorageKey))):!1}catch{return!1}},r.prototype._getCurrentTime=function(){return Math.round(new Date().getTime()/1e3)},r.prototype.signRequest=function(e){e.headers=e.headers||{},e.headers[Yn.sessionIdHeaderName]=this.sessionId,e.headers[Yn.msOriginHeaderName]=Yn.msOriginHeaderValue,e.headers[Yn.mapAgentHeaderName]="MapControl/".concat(Qy," (Web)");var t=this.getToken();switch(this.options.authType){case no.aad:case no.anonymous:e.headers[Yn.msClientIdHeaderName]=this.options.clientId,e.headers[Yn.authorizationHeaderName]=Yn.authorizationTokenPrefix+t;break;case no.sas:e.headers[Yn.authorizationHeaderName]=Yn.jwtSasPrefix+t;break;case no.subscriptionKey:e.headers["subscription-key"]=t;break;default:throw new Error("An invalid authentication type was specified")}return e},r.constants={preferredCacheLocation:"localStorage",storage:{tokenKey:"access.token.key",testStorageKey:"testStorage"},events:{tokenAcquired:"tokenacquired"},tokenExpiresIn:3599,tokenRefreshClockSkew:300,errors:{tokenExpired:"Token Expired, Try again"}},r})(),R$=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$3e=(function(){function r(e){for(var t in this.map=e,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("atlas-control-container"),kh){var n;kh.hasOwnProperty(t)&&((n=document.createElement("div")).classList.add(kh[t]),n.classList.add("subcontrol-container"),this.controlContainer.appendChild(n))}this.map.getMapContainer().appendChild(this.controlContainer),this.controls=new Set}return r.prototype.add=function(e,t){var n,i;if(Array.isArray(e))try{for(var a=R$(e),o=a.next();!o.done;o=a.next()){var s=o.value;this._add(s,t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else this._add(e,t)},r.prototype.getControls=function(){return Array.from(this.controls)},r.prototype.remove=function(e){var t,n;if(Array.isArray(e))try{for(var i=R$(e),a=i.next();!a.done;a=i.next()){var o=a.value;this._remove(o)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}else this._remove(e)},r.prototype._add=function(i,a){this.controls.add(i);var n=new CLe().merge(a),i=i.onAdd(this.map,a),a=this.controlContainer.getElementsByClassName(n.position);if(!(0<a.length))throw new Error("Control position ".concat(n.position," does not exist."));a.item(0).appendChild(i)},r.prototype._remove=function(e){e.onRemove(),this.controls.delete(e)},r})(),Tb=window&&window.__assign||function(){return(Tb=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},Y3e=(function(){function r(e){this.callbacks=new cd,this.map=e}return r.prototype.addCallback=function(e,t,n,i,a){var o,s,c=this;if(i)o=function(x){var f=x.lngLat?new ru(x.lngLat.lng,x.lngLat.lat):void 0,y=x.point?[x.point.x,x.point.y]:void 0,C=x.features?x.features.map(function(k){return new zf(k.geometry,k.properties,k.id)}):[],x={type:x.type,originalEvent:x.originalEvent,position:f,coordinate:y,features:C};n(x)};else switch(e){case"data":case"sourcedata":case"styledata":o=function(A){A=Tb(Tb({dataType:A.dataType},A.dataType==="source"&&Tb(Tb(Tb({isSourceLoaded:A.isSourceLoaded},A.sourceDataType&&{sourceDataType:A.sourceDataType}),{source:c.map.sources.getById(A.sourceId)}),A.tile&&{tile:{id:{x:A.tile.tileID.canonical.x,y:A.tile.tileID.canonical.y,z:A.tile.tileID.canonical.z},size:A.tile.tileSize,state:A.tile.state}})),{map:c.map,type:A.type}),a&&c.map.events._removeListener(e,t,n),n(A)};break;case"error":o=function(A){A={error:A.error,map:c.map,type:A.type},a&&c.map.events._removeListener(e,t,n),n(A)};break;case"touchstart":case"touchend":case"touchmove":case"touchcancel":o=function(A){if(A.originalEvent){if(A.originalEvent===s)return;s=A.originalEvent}var k=A.point?new iu(A.point.x,A.point.y):void 0,f=A.points?A.points.map(function(N){return new iu(N.x,N.y)}):[],y=A.lngLat?new ru(A.lngLat.lng,A.lngLat.lat):void 0,C=A.lngLats?A.lngLats.map(function(N){return new ru(N.lng,N.lat)}):[],x=y?c.map.layers.getRenderedShapes(new qf(y),t?[t]:void 0):[],k={map:c.map,originalEvent:A.originalEvent,pixel:k,pixels:f,position:y,positions:C,shapes:x,layerId:t||void 0,preventDefault:function(){return A.preventDefault()},type:A.type};a&&c.map.events._removeListener(e,t,n),n(k)};break;case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"click":case"dblclick":case"mouseout":case"mouseenter":case"mouseleave":case"contextmenu":o=function(A){if(A.originalEvent){if(A.originalEvent===s)return;s=A.originalEvent}var C=A.lngLat?new ru(A.lngLat.lng,A.lngLat.lat):void 0,f=A.point?new iu(A.point.x,A.point.y):void 0,y=C?c.map.layers.getRenderedShapes(new qf(C),t?[t]:void 0):[],C={map:c.map,originalEvent:A.originalEvent,position:C,pixel:f,preventDefault:function(){return A.preventDefault()},shapes:y,layerId:t||void 0,type:A.type};a&&c.map.events._removeListener(e,t,n),n(C)};break;case"styleimagemissing":o=function(A){a&&c.map.events._removeListener(e,t,n),n(A.id)};break;case"wheel":o=function(A){if(A.originalEvent){if(A.originalEvent===s)return;s=A.originalEvent}var f={map:c.map,originalEvent:A.originalEvent,preventDefault:function(){return A.preventDefault()},type:A.type};a&&c.map.events._removeListener(e,t,n),n(f)};break;case"resize":o=function(A){var f,y={map:c.map,type:A.type};for(f in A)f!=="type"&&f!=="target"&&(y[f]=A[f]);a&&c.map.events._removeListener(e,t,n),n(y)};break;default:o=function(A){var f={map:c.map,type:A.type};A.originalEvent&&(f.originalEvent=A.originalEvent),a&&c.map.events._removeListener(e,t,n),n(f)}}this.callbacks.has(t)||this.callbacks.set(t,new cd),this.callbacks.get(t).has(e)||this.callbacks.get(t).set(e,new Map),this.callbacks.get(t).get(e).set(n,[o,a])},r.prototype.removeCallback=function(e,t,n){this.callbacks.has(t)&&this.callbacks.get(t).has(e)&&this.callbacks.get(t).get(e).has(n)&&this.callbacks.get(t).get(e).delete(n)},r.prototype.getModifiedCallback=function(e,t,n){if(this.callbacks.has(t)&&this.callbacks.get(t).has(e)&&this.callbacks.get(t).get(e).has(n))return this.callbacks.get(t).get(e).get(n)[0]},r.prototype.getLayerCallbacks=function(e){if(this.callbacks.has(e))return this.callbacks.get(e)},r.prototype.getEventCallbacks=function(e,t){if(this.callbacks.has(t)&&(t=this.callbacks.get(t),t.has(e)))return t.get(e)},r})(),w0=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WD=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},D$=["maxzoomchanged","minzoomchanged","mapconfigurationchanged"],W3e=(function(){function r(e){this.map=e,this.mapCallbackHandler=new Y3e(this.map)}return r.prototype.add=function(e,t,n){var i,a;if(typeof t=="function")this._addGlobalListener(e,t,!1,!1);else{t=Array.isArray(t)?t:[t];try{for(var o=w0(t),s=o.next();!s.done;s=o.next()){var c=s.value;c instanceof No&&No._isMBoxEvent(e)?this._addLayerListener(e,c,n,!1,!1):c._addEventListener(e,n,!1)}}catch(A){i={error:A}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}},r.prototype.addOnce=function(e,t,n){typeof t=="function"?this._addGlobalListener(e,t,!1,!0):t instanceof No&&No._isMBoxEvent(e)?this._addLayerListener(e,t,n,!1,!0):t._addEventListener(e,n,!0)},r.prototype._addLegacy=function(e,t,n){typeof t=="function"?this._addGlobalListener(e,t,!0,!1):this._addLayerListener(e,t,n,!0,!1)},r.prototype._addLayerListener=function(e,f,n,i,a){var o,s,c,A,f=f instanceof No?f.getId():f,y=this.map.layers.getLayerById(f),C=this.mapCallbackHandler.getModifiedCallback(e,f,n);if(C&&y)try{for(var x=w0(y._getLayerIds()),k=x.next();!k.done;k=x.next()){var N=k.value;this.map._getMap().off(e,N,C)}}catch(H){o={error:H}}finally{try{k&&!k.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(this.mapCallbackHandler.addCallback(e,f,n,i,a),y){C=this.mapCallbackHandler.getModifiedCallback(e,f,n);try{for(var M=w0(y._getLayerIds()),D=M.next();!D.done;D=M.next())N=D.value,this.map._getMap().on(e,N,C)}catch(H){c={error:H}}finally{try{D&&!D.done&&(A=M.return)&&A.call(M)}finally{if(c)throw c.error}}}},r.prototype._addGlobalListener=function(e,t,n,i){var a,o,s,c;D$.includes(e)?this.map._addEventListener(e,t,i):(a=this.mapCallbackHandler.getModifiedCallback(e,"",t),this.mapCallbackHandler.addCallback(e,"",t,n,i),o=this.mapCallbackHandler.getModifiedCallback(e,"",t),e==="load"&&this.map._isLoaded()?(s={type:"load",map:this.map},setTimeout(function(){return o(s)})):e==="ready"?this.map._isReady()&&(c={type:"ready",map:this.map},setTimeout(function(){return o(c)})):(a&&this.map._getMap().off(e,a),this.map._getMap().on(e,o)))},r.prototype.invoke=function(e,t,n){if(n===void 0)this._invokeListeners(e,"",t);else if(t instanceof No&&No._isMBoxEvent(e))this._invokeListeners(e,t.getId(),n);else{if(!(t instanceof Hg))throw new Error("The invoke target is invalid.");t._invokeEvent(e,n)}},r.prototype._invokeListeners=function(e,t,n){var i=this,a=new cd(this.mapCallbackHandler.getEventCallbacks(e,t));a?a.forEach(function(o,s){o=WD(o,2),o[0],o[1]&&i._removeListener(e,t,s),s(n)}):e==="error"&&console.error("error"in n?n.error:n)},r.prototype.remove=function(e,t,n){var i,a;if(typeof t=="function")this._removeListener(e,"",t);else{t=Array.isArray(t)?t:[t];try{for(var o=w0(t),s=o.next();!s.done;s=o.next()){var c=s.value;c instanceof No&&No._isMBoxEvent(e)?this._removeListener(e,c,n):c?._removeEventListener(e,n)}}catch(A){i={error:A}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}},r.prototype._removeLegacy=function(e,t,n){typeof t=="function"?this._removeListener(e,"",t):this._removeListener(e,t,n)},r.prototype._removeListener=function(e,t,n){var i,a;if(D$.includes(e))this.map._removeEventListener(e,n);else{var t=t instanceof No?t.getId():t,o=this.mapCallbackHandler.getModifiedCallback(e,t,n);if(o)if(t){var s=this.map.layers.getLayerById(t);if(s)try{for(var c=w0(s._getLayerIds()),A=c.next();!A.done;A=c.next()){var f=A.value;this.map._getMap().off(e,f,o)}}catch(C){i={error:C}}finally{try{A&&!A.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}else this.map._getMap().off(e,o);this.mapCallbackHandler.removeCallback(e,t,n)}},r.prototype._enableLayerEvents=function(e){var t=this,n=this.mapCallbackHandler.getLayerCallbacks(e.getId());n&&n.forEach(function(i,a){i.forEach(function(o){var s,c,A=WD(o,1)[0];try{for(var f=w0(e._getLayerIds()),y=f.next();!y.done;y=f.next()){var C=y.value;t.map._getMap().on(a,C,A)}}catch(x){s={error:x}}finally{try{y&&!y.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}})})},r.prototype._disableLayerEvents=function(e){var t=this,n=this.mapCallbackHandler.getLayerCallbacks(e.getId());n&&n.forEach(function(i,a){i.forEach(function(o){var s,c,A=WD(o,1)[0];try{for(var f=w0(e._getLayerIds()),y=f.next();!y.done;y=f.next()){var C=y.value;t.map._getMap().off(a,C,A)}}catch(x){s={error:x}}finally{try{y&&!y.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}})})},r})(),U$=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z3e=(function(){function r(e){this.markers=new Set,this.map=e}return r.prototype.add=function(e,t){var n,i;if(Array.isArray(e))try{for(var a=U$(e),o=a.next();!o.done;o=a.next()){var s=o.value;this._addMarker(s,t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else this._addMarker(e,t)},r.prototype._addMarker=function(e,t){e._addToMap(this.map,t),this.markers.add(e)},r.prototype.getMarkers=function(){return Array.from(this.markers)},r.prototype.remove=function(e){var t,n;if(Array.isArray(e))try{for(var i=U$(e),a=i.next();!a.done;a=i.next()){var o=a.value;this._removeMarker(o)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}else this._removeMarker(e)},r.prototype._removeMarker=function(e){var t=this;e instanceof c8?(e._removeFromMap(),this.markers.delete(e)):this.markers.forEach(function(n){n._getId()===e&&(n._removeFromMap(),t.markers.delete(n))})},r.prototype.clear=function(){var e=this;this.markers.forEach(function(t){t._removeFromMap(),e.markers.delete(t)})},r})(),X3e=(function(){function r(e){this.userImages=new cd,this.imageLoadTimeout=5e3,this.map=e}return r.prototype.add=function(e,t,n){var i=this;return new Promise(function(a,o){var s,c,A;i.userImages.has(e)?a():t instanceof HTMLImageElement||t instanceof ImageData?(i.map._getMap().addImage(e,t,n),i.userImages.set(e,{image:t,meta:n}),a()):typeof t=="string"&&(c=void 0,c=/<svg/i.test(t)&&!/^data:/i.test(t)?"data:image/svg+xml;base64,"+window.btoa(t):t,A=!1,i.map._sendRequest(c,"Image").then(function(f){return A?void 0:f.blob()}).then(function(f){var y;!A&&f&&(clearTimeout(s),(y=new Image).onload=function(){i.map._getMap().addImage(e,y,n),i.userImages.set(e,{image:y,meta:n}),a()},y.onerror=y.onabort=function(){o("Failed to load image into HTML element.")},y.src=URL.createObjectURL(f))}).catch(function(){A||(clearTimeout(s),o("Failed to load image into HTML element."))}),s=setTimeout(function(){A=!0,o("Failed to load image within specified timeout: ".concat(i.imageLoadTimeout," ms."))},i.imageLoadTimeout))})},r.prototype.clear=function(){var e=this;this.userImages.forEach(function(t,n){e.map._getMap().removeImage(n)}),this.userImages.clear()},r.prototype.getImageIds=function(){var e=[];return this.userImages.forEach(function(t,n){e.push(n)}),e},r.prototype.createFromTemplate=function(e,t,n,i,a){return n=n||"#1A73AA",i=i||"#fff",t=(t=Xre(t,a)).replace(/{color}/g,n).replace(/{secondaryColor}/g,i).replace(/{text}/g,""),this.add(e,t)},r.prototype.hasImage=function(e){return this.userImages.has(e)},r.prototype.remove=function(e){this.map._getMap().removeImage(e),this.userImages.delete(e)},r.prototype._restoreImages=function(){var e=this;this.userImages.forEach(function(t,n){e.map._getMap().hasImage(n)||e.map._getMap().addImage(n,t.image,t.meta)})},r})(),J3e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),e$e=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oy=(function(r){function e(t,n){return n=r.call(this,n)||this,n.layers=t,n}return J3e(e,r),e.prototype.getOptions=function(){return{}},e.prototype.setOptions=function(t){},e.prototype._buildLayers=function(){return this.layers},e.prototype._getLayerIds=function(){return this.layers.map(function(t){return t.id})},e.prototype._getSourceIds=function(){var t,n,i=new Set;try{for(var a=e$e(this.layers),o=a.next();!o.done;o=a.next()){var s=o.value;"source"in s&&typeof s.source=="string"?i.add(s.source):"source"in s&&s.source&&i.add(s.id)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e.prototype._updateLayoutProperty=function(t,n,i,a){var o;Nh(n,i)||(o=this.map._getMap(),this.layers.forEach(function(s){o.getLayer(s.id)?o.setLayoutProperty(s.id,t,a||n):console.warn("Could not update layout property ".concat(t," for layer ").concat(s.id," to ").concat(a||n))}))},e})(No),Hm=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t$e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},r$e=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},n$e=(function(){function r(e){this.layerIndex=[],this.userLayers=[],this.map=e}return r.prototype.add=function(e,t){var n,i,a=t instanceof No?t.getId():t;if(Array.isArray(e))try{for(var o=Hm(e),s=o.next();!s.done;s=o.next()){var c=s.value;this._addLayer(c,a)}}catch(A){n={error:A}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}else this._addLayer(e,a)},r.prototype._addLayer=function(e,t){if(!(this.map._isReady()||e instanceof Oy))throw new Error("The layer '".concat(e.getId(),"' could not be added to the map because ")+"the map is not ready. Please use a ready event listener to guarantee the map is ready before adding a layer to it.");var n,i,a,o;t!==e.getId()&&this.layerIndex.find(function(s){return t===s.getId()})?this._getMapboxLayerExists(e)?(i=this.layerIndex.findIndex(function(s){return s.getId()===e.getId()}),a=this.userLayers.findIndex(function(s){return s.layer.getId()===e.getId()}),this._removeMapboxLayers(e),this._addMapboxLayers(e,t),(o=this.layerIndex[i])&&this.map.events._disableLayerEvents(o),this.map.events._enableLayerEvents(e),this.layerIndex.splice(i,1),n=this.layerIndex.findIndex(function(s){return s.getId()===t}),this.layerIndex.splice(n,0,e),e instanceof Oy||(this.userLayers[a]={layer:e,before:t}),o&&o.onRemove()):(this._addMapboxLayers(e,t),this.map.events._enableLayerEvents(e),n=this.layerIndex.findIndex(function(s){return s.getId()===t}),this.layerIndex.splice(n,0,e),e instanceof Oy||this.userLayers.push({layer:e,before:t})):(i=this.layerIndex.findIndex(function(s){return s.getId()===e.getId()}),a=this.userLayers.findIndex(function(s){return s.layer.getId()===e.getId()}),0<=i&&0<=a?(o=this.layerIndex[i],this._removeMapboxLayers(o),this._addMapboxLayers(e,i+1),this.map.events._disableLayerEvents(o),this.map.events._enableLayerEvents(e),(this.layerIndex[i]=e)instanceof Oy||(this.userLayers[a]={layer:e,before:void 0}),o.onRemove()):(this._addMapboxLayers(e),this.map.events._enableLayerEvents(e),this.layerIndex.push(e),e instanceof Oy||this.userLayers.push({layer:e,before:t}))),e.onAdd(this.map)},r.prototype._addMapboxLayers=function(e,t){var n,i;if(!(e instanceof HN)||e.getOptions().tileUrl){if(!(e instanceof Oy)){e instanceof yE&&(this.map._getMap().addSource(e._getSourceId(),e._buildSource()),this.map.sources.setSourceState(e._getSourceWrapper()));var a=this._getMapboxBefore(t);try{for(var o=Hm(e._buildLayers()),s=o.next();!s.done;s=o.next()){var c=s.value;this.map._getMap().addLayer(c,a)}}catch(A){n={error:A}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}this.map.events._enableLayerEvents(e)}},r.prototype._removeMapboxLayers=function(e,t){var n,i;if(e instanceof Oy&&!t)this.map.events._disableLayerEvents(e);else{try{for(var a=Hm(e._getLayerIds()),o=a.next();!o.done;o=a.next()){var s=o.value;this.map._getMap().getLayer(s)&&this.map._getMap().removeLayer(s)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.map.events._disableLayerEvents(e),e instanceof yE&&this.map._getMap().getSource(e._getSourceId())&&this.map._getMap().removeSource(e._getSourceId())}},r.prototype._getMapboxLayerExists=function(e){var t=this,n=!1;return typeof e=="string"?!!(e=this.layerIndex.find(function(i){return i.getId()===e})):(e._getLayerIds().forEach(function(i){t.map._getMap().getLayer(i)&&(n=!0)}),n)},r.prototype._getMapboxBefore=function(e){var t,n,i,a;if(typeof e=="string"){var o=this.layerIndex.find(function(x){return x.getId()===e});if(!o)return;try{for(var s=Hm(o._getLayerIds()),c=s.next();!c.done;c=s.next()){var A=c.value;if(this.map._getMap().getLayer(A))return A}}catch(x){t={error:x}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}e=this.layerIndex.findIndex(function(x){return x.getId()===e})+1}for(var f=e;f<this.layerIndex.length;f++)try{i=void 0;for(var y=Hm(this.layerIndex[f]._getLayerIds()),C=y.next();!C.done;C=y.next())if(A=C.value,this.map._getMap().getLayer(A))return A}catch(x){i={error:x}}finally{try{C&&!C.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}},r.prototype.clear=function(){for(var e=this.layerIndex.length-1;0<=e;e--){var t=this.layerIndex[e];t&&(this._removeMapboxLayers(t,!0),this.layerIndex.splice(e,1),t.onRemove())}this.userLayers=[]},r.prototype.getLayerById=function(e){var t=this.layerIndex.find(function(n){return n.getId()===e});if(t)return t},r.prototype.getLayers=function(){return this.layerIndex.slice(0)},r.prototype._getSourceIds=function(){var e,t,n=new Set;try{for(var i=Hm(this.layerIndex),a=i.next();!a.done;a=i.next())a.value._getSourceIds().forEach(function(o){return n.add(o)})}catch(o){e={error:o}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},r.prototype._getUserLayers=function(){return Array.from(this.userLayers)},r.prototype.move=function(e,t){var n=e instanceof No?e.getId():e,i=t instanceof No?t.getId():t;if(!this.layerIndex.find(function(a){return a.getId()===n}))throw new Error("The layer '".concat(n,"' has not been added to the map and cannot be moved."));t=this.layerIndex.findIndex(function(a){return a.getId()===n}),this._moveMapboxLayers(this.layerIndex[t],i),e=this.layerIndex[t],this.layerIndex.splice(t,1),t=this.layerIndex.findIndex(function(a){return a.getId()===i}),-1<t?this.layerIndex.splice(t,0,e):this.layerIndex.push(e),t=this.userLayers.find(function(a){return a.layer.getId()===n}),t&&(t.before=i)},r.prototype._moveMapboxLayers=function(e,t){var n,i,a=this._getMapboxBefore(t);try{for(var o=Hm(e._getLayerIds()),s=o.next();!s.done;s=o.next()){var c=s.value;this.map._getMap().moveLayer(c,a)}}catch(A){n={error:A}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},r.prototype.getRenderedShapes=function(e,t,n){var i,a,o,s=this;if(e=e||[-180,-85.0511,180,85.0511],Array.isArray(e)?e.length===4||e.length===6?o=this.map.positionsToPixels([Ii.getSouthWest(e),Ii.getNorthEast(e)]):e.length!==2&&e.length!==3||(o=this.map.positionsToPixels([e])[0]):o=this.map.positionsToPixels([e.coordinates])[0],t){t=Array.isArray(t)?t:[t];var c=[],A=this;try{for(var f=Hm(t),y=f.next();!y.done;y=f.next())(function(k){var x=k instanceof No?k.getId():k,k=A.layerIndex.findIndex(function(N){return N.getId()===x});if(!(-1<k))throw new Error("The layer '".concat(x,"' has not been added to the map ")+"and its rendered features cannot be retrieved.");c.push.apply(c,r$e([],t$e(A.layerIndex[k]._getLayerIds().filter(function(N){return!!s.map._getMap().getLayer(N)})),!1))})(y.value)}catch(C){i={error:C}}finally{try{y&&!y.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}}return e=this.map._getMap().queryRenderedFeatures(o,{layers:c,filter:n}),this.map.sources._mapFeaturesToShapes(e)},r.prototype.remove=function(e){var t,n;if(Array.isArray(e))try{for(var i=Hm(e),a=i.next();!a.done;a=i.next()){var o=a.value;this._removeLayer(o)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}else this._removeLayer(e)},r.prototype._removeLayer=function(e){var t=e instanceof No?e.getId():e,i=this.layerIndex.findIndex(function(a){return a.getId()===t});if(i==-1)throw new Error("The layer '".concat(t,"' has not been added to the map and cannot be removed."));var n=this.layerIndex[i],i=(this._removeMapboxLayers(n),this.layerIndex.splice(i,1),this.userLayers.findIndex(function(a){return a.layer.getId()===t}));i!=-1&&this.userLayers.splice(i,1),e instanceof yE&&this.map.sources.unsetSourceState(e._getSourceId()),n.onRemove()},r})(),F$=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i$e=(function(){function r(e){var t=this;this._onDrag=function(n){var i,a;n.type==="mousemove"?(i=n.clientX,a=n.clientY):n.type==="touchmove"&&(i=n.touches[0].clientX,a=n.touches[0].clientY),t.draggedPopups.forEach(function(o){o._dragToPixel([i,a])})},this._onUp=function(){t.map.getMapContainer().removeEventListener("mousemove",t._onDrag),t.map.getMapContainer().removeEventListener("touchmove",t._onDrag),t.map.getMapContainer().removeEventListener("mouseup",t._onUp),t.map.getMapContainer().removeEventListener("touchend",t._onUp),t.draggedPopups.forEach(function(n){t.draggedPopups.delete(n),n._onUp()})},this.map=e,this.popups=new Set,this.draggedPopups=new Set}return r.prototype.add=function(e){var t,n;e=Array.isArray(e)?e:[e];try{for(var i=F$(e),a=i.next();!a.done;a=i.next()){var o=a.value;this.popups.has(o)||(this.popups.add(o),o.attach(this.map))}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.clear=function(){var e=this;this.popups.forEach(function(t){e.popups.delete(t),t.remove()})},r.prototype.remove=function(e){var t,n;e=Array.isArray(e)?e:[e];try{for(var i=F$(e),a=i.next();!a.done;a=i.next()){var o=a.value;this.popups.has(o)&&(this.popups.delete(o),o.remove())}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.getPopups=function(){return Array.from(this.popups)},r.prototype._getCollectionDiv=function(){var e=this.map.getMapContainer().querySelector(".".concat(r.Css.collection));return e||((e=document.createElement("div")).classList.add(r.Css.collection),e.setAttribute("aria-label","Map Information"),this.map.getMapContainer().appendChild(e)),e},r.prototype._addDraggedPopup=function(e){this.draggedPopups.size===0&&(this.map.getMapContainer().addEventListener("mousemove",this._onDrag),this.map.getMapContainer().addEventListener("touchmove",this._onDrag),this.map.getMapContainer().addEventListener("mouseup",this._onUp),this.map.getMapContainer().addEventListener("touchend",this._onUp)),this.draggedPopups.add(e)},r.Css={collection:"popup-collection-container"},r})(),ZD=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a$e=(function(){function r(e){this.map=e,this.sources=new cd}return r.prototype.add=function(e,t){var n,i;if(t===void 0&&(t=!0),Array.isArray(e))try{for(var a=ZD(e),o=a.next();!o.done;o=a.next()){var s=o.value;this._addSource(s,t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else this._addSource(e,t)},r.prototype.getRenderedShapes=function(e,t,n){return e=typeof e=="string"?e:e.getId(),n=this.map._getMap().querySourceFeatures(e,{sourceLayer:n,filter:t}),this.map.sources._mapFeaturesToShapes(n,!0,this.sources.get(e))},r.prototype.getFeatureState=function(e,t,n){return e=typeof e=="string"?e:e instanceof Oo?e.getId():e.id,t=typeof t=="string"?t:t.getId(),this.map._getMap().getFeatureState({id:e,source:t,sourceLayer:n})},r.prototype.removeFeatureState=function(e,t,n,i){e=typeof e=="string"?e:e instanceof Oo?e.getId():e.id,t=typeof t=="string"?t:t.getId(),this.map._getMap().removeFeatureState({id:e,source:t,sourceLayer:n},i)},r.prototype.setFeatureState=function(e,t,n,i){e=typeof e=="string"?e:e instanceof Oo?e.getId():e.id,t=typeof t=="string"?t:t.getId(),this.map._getMap().setFeatureState({id:e,source:t,sourceLayer:i},n)},r.prototype._buildSources=function(){var e={};return this.sources.forEach(function(t){e[t.getId()]=t._buildSource()}),e},r.prototype.clear=function(){var e=this;this.sources.forEach(function(t){e.remove(t)})},r.prototype.getById=function(e){return this.sources.get(e)},r.prototype.getSources=function(){return Array.from(this.sources.values())},r.prototype.isSourceLoaded=function(e){return e=e instanceof wo?e.getId():e,this.map._getMap().isSourceLoaded(e)},r.prototype.remove=function(e,t){var n,i;if(t===void 0&&(t=!0),Array.isArray(e))try{for(var a=ZD(e),o=a.next();!o.done;o=a.next()){var s=o.value;this._removeSource(s,t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}else this._removeSource(e,t)},r.prototype.setSourceState=function(e,t){t===void 0&&(t=!0),this.sources.set(e.getId(),e),e._setMap(this.map,t)},r.prototype.unsetSourceState=function(e){this.sources.has(e)&&(this.sources.get(e)._setMap(null),this.sources.delete(e))},r.prototype._removeSource=function(e,t){if(e=e instanceof wo?e.getId():e,!this.sources.has(e))throw new Error("'".concat(e,"' is not added to the map"));if(this.map._getMap().getSource(e)&&t&&this.map._getMap().removeSource(e),this.map._getMap().getSource(e)&&t)throw new Error("One or more layers have a dependency on the source '".concat(e,"'"));this.unsetSourceState(e)},r.prototype._addSource=function(e,t){if(this.sources.has(e.getId())){if(t)throw new Error("'".concat(e.getId(),"' is already added to the map"));this.unsetSourceState(e.getId())}if(t){if(!this.map._isReady())throw new Error("The source '".concat(e.getId(),"' could not be added to the map because ")+"the map is not ready. Please use a ready event listener to guarantee the map is ready before adding a source to it.");this.map._getMap().addSource(e.getId(),e._buildSource())}this.setSourceState(e)},r.prototype._mapFeaturesToShapes=function(e,t,n){var i,a,o=[];try{for(var s=ZD(e),c=s.next();!c.done;c=s.next()){var A=c.value;if((n||typeof A.source=="string")&&typeof A.properties[Oo._shapeIdPropName]=="string"){var f=n||this.sources.get(A.source);if(f instanceof nd){var y=f.getShapeById(A.properties[Oo._shapeIdPropName]);if(y instanceof Oo){o.push(y);continue}}}t||o.push(A)}}catch(C){i={error:C}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return o},r.prototype._syncSources=function(e){var t=this;e?(Object.keys(e).map(function(n){var i,a=e[n];switch(a.type){case"vector":case"raster":case"raster-dem":i=new uie(n,{name:n,tiles:a.tiles,type:a.type,url:a.url,tileSize:"tileSize"in a?a.tileSize:void 0});break;case"canvas":i=new aie(n,a);break;case"geojson":var o=new nd(n,{maxZoom:a.maxzoom,cluster:a.cluster,clusterRadius:a.clusterRadius,tolerance:a.tolerance,lineMetrics:a.lineMetrics,clusterProperties:a.clusterProperties,buffer:a.buffer,clusterMinPoints:a.clusterMinPoints,generateId:a.generateId,promoteId:a.promoteId,filter:a.filter});typeof a.data!="string"&&a.data!==void 0&&o._addNoUpdate(a.data),i=o;break;case"image":i=new l8(n,a);break;case"video":i=new sie(n,a);break;default:i=new oie(n,a)}return i}).forEach(function(n){var i=t.sources.get(n.getId()),a=i&&n._isDeepEqual(i);!a&&i&&t.unsetSourceState(i.getId()),t.setSourceState(n,!a)}),Array.from(this.sources.keys()).filter(function(n){return!(n in e)}).forEach(function(n){return t.unsetSourceState(n)})):console.warn("syncSources called with no style sources which is unexpected.")},r})(),o$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),s$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.duration=1e3,t.type="jump",t}return o$e(e,r),e})(ao),l$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),c$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.bottom=0,t.left=0,t.right=0,t.top=0,t}return l$e(e,r),e})(ao),u$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),h$e=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A$e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},d$e=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},f$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.bounds=[-180,-89,180,90],t.maxBounds=void 0,t.maxZoom=20,t.offset=new iu(0,0),t.padding=new c$e,t}return u$e(e,r),e.prototype.merge=function(){for(var t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];try{for(var o=h$e(i),s=o.next();!s.done;s=o.next()){var c=s.value;c&&typeof c.padding=="number"&&(c.padding={top:c.padding,bottom:c.padding,left:c.padding,right:c.padding})}}catch(A){t={error:A}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.prototype.merge.apply(this,d$e([],A$e(i),!1))},e})(ao),p$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),m$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoom=1,t.center=new ru(0,0),t.centerOffset=new iu(0,0),t.bearing=0,t.pitch=0,t.minZoom=1,t.maxZoom=20,t.minPitch=0,t.maxPitch=60,t.maxBounds=void 0,t}return p$e(e,r),e})(ao),g$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),mT=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.name=void 0,t.before=void 0,t.minZoom=1,t.maxZoom=20,t.overwrite=!1,t.opacity=1,t}return g$e(e,r),e})(ao),y$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),v$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.color="rgba(0,0,0,.5)",t.outlineColor="#000",t.radius=1,t.outlineWidth=5,t.name="default-circles",t}return y$e(e,r),e})(mT),_$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),b$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cap="butt",t.join="miter",t.name="default-linestrings",t.color="#000",t.width=1,t}return _$e(e,r),e})(mT),w$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),x$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.iconSize=1,t.fontSize=14,t.fontColor="#000",t.textFont="SegoeUi-Regular",t.cluster=!0,t.clusterIcon=void 0,t.textOffset=[0,0],t.name="default-pins",t.icon="pin-darkblue",t.title="",t}return w$e(e,r),e})(mT),C$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),E$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.color="rgba(0,0,0,.5)",t.outlineColor="#000",t.name="default-polygons",t}return C$e(e,r),e})(mT),S$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),T$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.name="default-raster",t}return S$e(e,r),e})(mT),B$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),I$e=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.anchor="map",t.color="#FFFFFF",t.intensity=.5,t.position=[1.15,210,30],t}return B$e(e,r),e})(ao),k$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),N$e=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P$e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},O$e=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},j$=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.antialias=void 0,t.autoResize=!0,t.language=Fre(),t.light=new I$e,t.preserveDrawingBuffer=!1,t.progressiveLoading=!1,t.progressiveLoadingInitialLayerGroups=["base"],t.renderWorldCopies=!0,t.showBuildingModels=!1,t.showFeedbackLink=!0,t.showLogo=!0,t.showLabels=!0,t.customAttribution=void 0,t.showTileBoundaries=!1,t.style=void 0,t.view=Hre(),t.userRegion=t.view,t.styleOverrides=void 0,t.customStyleTransform=void 0,t}return k$e(e,r),e.prototype.merge=function(){for(var t,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];try{for(var o=N$e(i),s=o.next();!s.done;s=o.next()){var c=s.value;c&&(c.hasOwnProperty("view")?c.userRegion=c.view:c.hasOwnProperty("userRegion")&&(c.view=c.userRegion),typeof c.language=="string")&&(c.language=DN.getCode(c.language))}}catch(A){t={error:A}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.prototype.merge.apply(this,O$e([],P$e(i),!1))},e})(ao),M$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),CS=window&&window.__assign||function(){return(CS=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},L$e=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UC=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},FC=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},XD=function(r){return r.length==0?void 0:r.slice(1).reduce(function(e,t){return function(n,i){return n=e(n,i),CS(CS({},n),t(n.url,i))}},r[0])},JD=(function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.authOptions=Pre(),t.disableTelemetry=!0,t["disable-telemetry"]=t.disableTelemetry,t.domain=qj(),t.staticAssetsDomain=Ore(),t.styleDefinitionsPath=Mre(),t.styleDefinitionsVersion=Lre(),t.styleAPIVersion=Rre(),t.mapConfiguration=void 0,t.styleSet=void 0,t.enableAccessibility=!0,t["enable-accessibility"]=t.enableAccessibility,t.enableAccessibilityLocationFallback=!0,t.maxParallelImageRequests=Ure(),t.refreshExpiredTiles=!0,t.subscriptionKey=Qre(),t["subscription-key"]=t.subscriptionKey,t.sessionId=jre(),t["session-id"]=t.sessionId,t._transformers=[],t.transformRequest=void 0,t.workerCount=Dre(),t.fadeDuration=300,t.localIdeographFontFamily="sans-serif",t.validateStyle=!1,t}return M$e(e,r),e.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.styleDefinitionsVersion;try{for(var a=L$e(t),o=a.next();!o.done;o=a.next()){var s=o.value;s&&(s.authOptions?typeof s.authOptions.subscriptionKey=="string"&&(s.subscriptionKey=s["subscription-key"]=s.authOptions.subscriptionKey):typeof s.subscriptionKey=="string"?(s["subscription-key"]=s.subscriptionKey,s.authOptions={authType:no.subscriptionKey,subscriptionKey:s.subscriptionKey}):typeof s["subscription-key"]=="string"&&(s.subscriptionKey=s["subscription-key"],s.authOptions={authType:no.subscriptionKey,subscriptionKey:s["subscription-key"]}),typeof s.sessionId=="string"?s["session-id"]=s.sessionId:typeof s["session-id"]=="string"&&(s.sessionId=s["session-id"]),typeof s.disableTelemetry=="boolean"?s["disable-telemetry"]=s.disableTelemetry:typeof s["disable-telemetry"]=="boolean"&&(s.disableTelemetry=s["disable-telemetry"]),typeof s.enableAccessibility=="boolean"?s["enable-accessibility"]=s.enableAccessibility:typeof s["enable-accessibility"]=="boolean"&&(s.enableAccessibility=s["enable-accessibility"]))}}catch(C){A={error:C}}finally{try{o&&!o.done&&(f=a.return)&&f.call(a)}finally{if(A)throw A.error}}var c=this._transformers,f=t?t.filter(function(C){return C!==void 0}).reduce(function(C,x){return FC(FC([],UC(C),!1),UC(x._transformers||[]),!1)},[]):[],A=r.prototype.merge.apply(this,FC([],UC(t),!1)),f=(A.authOptions.authType!==no.subscriptionKey&&(A["subscription-key"]=A.subscriptionKey=void 0),A.styleSet!==void 0&&A.mapConfiguration===void 0&&(A.mapConfiguration=A.styleSet),A.mapConfiguration&&typeof A.mapConfiguration!="string"&&(A.mapConfiguration=CS(CS({},A.mapConfiguration),{defaultConfiguration:A.mapConfiguration.defaultConfiguration||A.mapConfiguration.defaultStyle,configurations:A.mapConfiguration.configurations||A.mapConfiguration.styles})),this._transformers=FC(FC([],UC(c||[]),!1),UC(f.filter(function(C){return!c.includes(C)})),!1),this.transformRequest&&!this._transformers.includes(this.transformRequest)&&this._transformers.push(this.transformRequest),new Date(Date.UTC(2023,0))),y=new Date(this.styleDefinitionsVersion);return(isNaN(y.getTime())||y.getTime()<f.getTime())&&(console.warn("Style definition version ".concat(this.styleDefinitionsVersion," is invalid or deprecated, style definition version is unchanged (").concat(i,")")),this.styleDefinitionsVersion=i),this.transformRequest=XD(this._transformers),A},e.prototype.addTransformer=function(t){this._transformers||(this._transformers=[]),this._transformers.push(t),this.transformRequest=XD(this._transformers)},e.prototype.removeTransformer=function(t){this._transformers&&(this._transformers=this._transformers.filter(function(n){return t!==n}),this.transformRequest=XD(this._transformers))},e._cloneCustomizer=function(t){if(typeof t=="object")return Object.assign({},t)},e})(ao),R$e=(function(){function r(){}return r.getLayerGroup=function(e){return typeof e!="string"&&e.metadata&&e.metadata["microsoft.maps:layerGroup"]?e.metadata["microsoft.maps:layerGroup"]:(e=typeof e!="string"?e.id:e).startsWith("microsoft.")&&4<=(e=e.split(".")).length?e[3]:void 0},r})(),QI=(function(){function r(e){var t=this;this.isHijacked=function(){return t._hijackedToResolve!==void 0||t._hijackedToReject!==void 0},this.isResolved=function(){return t._hijackedToResolve!==void 0||t._toResolve!==void 0},this.isRejected=function(){return t._hijackedToReject!==void 0||t._toReject!==void 0},this.resultIfResolved=function(){return t._hijackedToResolve||t._toResolve},this.errorIfRejected=function(){return t._hijackedToReject||t._toReject},this._thenResolver=function(n,i){var a;t._hijackedToResolve?n(t._hijackedToResolve):t._hijackedToReject?i(t._hijackedToReject):(a=t.origin,t.origin.then(function(o){t.isHijacked()||(a!==t.origin?t._thenResolver(n,i):(t._toResolve=o,n(o)))}).catch(function(o){t.isHijacked()||(a!==t.origin?t._thenResolver(n,i):(t._toReject=o,i(o)))}))},this.origin=e,this[Symbol.toStringTag]=this.origin[Symbol.toStringTag]}return r.resolve=function(e){return new r(Promise.resolve(e))},r.reject=function(e){return new r(Promise.reject(e))},r.prototype.then=function(e,t){var n=this;return new Promise(function(i,a){n._resolve=i,n._reject=a,n._thenResolver(i,a)}).then(e,t)},r.prototype.catch=function(e){var t=this;return new Promise(function(n,i){t._resolve=n,t._reject=i,t._thenResolver(n,i)}).catch(e)},r.prototype.finally=function(e){var t=this;return new Promise(function(n,i){t._resolve=n,t._reject=i,t._thenResolver(n,i)}).finally(e)},r.prototype.hijackAndResolve=function(e){this._hijackedToResolve=e,this._resolve&&this._resolve(e)},r.prototype.hijackAndReject=function(e){this._hijackedToReject=e,this._reject&&this._reject(e)},r.prototype.switchWith=function(e){this.origin=e,this._toResolve=void 0,this._toReject=void 0},r})(),Q$={road:"Road",satellite:"Satellite",satellite_road_labels:"Hybrid",grayscale_dark:"Grayscale (Dark)",grayscale_light:"Grayscale (Light)",night:"Night",road_shaded_relief:"Terra",blank:"Blank",blank_accessible:"Blank (Accessible)",high_contrast_dark:"High contrast (Dark)",high_contrast_light:"High contrast (Light)"},Df=window&&window.__assign||function(){return(Df=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},e2=window&&window.__awaiter||function(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,e||[])).next())})},t2=window&&window.__generator||function(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a=o&&f[o=0]?0:a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},Sy=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},r2=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},D$e=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HI={countryRegion:"cr|bv:0",adminDistrict:"ad|bv:0",adminDistrict2:"ds|bv:0",buildingFootprint:"bld|v:0_adr|lv:0",roadDetails:"g|rasterDetailsVisible:0"},U$e=(function(){function r(e,t){var n=this;this.definitions=function(){var i=n.initPromise||n.initStyleset();return i},this.indoorState=void 0,this.preservedPreindoorMapConfiguration=void 0,this._progressiveLoadingState={mapStyle:void 0,pendingVisibilityChange:void 0},this._deferLayerGroupVisibilities=function(i,a){var o,s,c,A,f=a.filter(function(y){return y in i});f.length!==0&&(o=n.map._getMap(),s=o.getZoom(),c=n.map.getStyle().style,n._progressiveLoadingState.pendingVisibilityChange&&(n.map.events.remove("load",n._progressiveLoadingState.pendingVisibilityChange),n._progressiveLoadingState.pendingVisibilityChange=null),n._progressiveLoadingState.mapStyle=c,(A=Object.entries(i).reduce(function(y,k){var k=Sy(k,2),x=k[0],k=k[1],N=f.includes(x);return r2(r2([],Sy(y),!1),Sy(k.filter(function(M){if(M.type==="custom")return!1;if(N){if(typeof M.maxzoom=="number"&&typeof M.minzoom=="number"){if(s<=M.maxzoom&&s>=M.minzoom)return!1}else if(typeof M.minzoom=="number"){if(s>=M.minzoom)return!1}else if(typeof M.maxzoom!="number"||s<=M.maxzoom)return!1}return((M=M.layout)==null?void 0:M.visibility)!=="none"})),!1)},[])).forEach(function(y){y.layout=y.layout||{},y.layout.visibility="none"}),n._progressiveLoadingState.pendingVisibilityChange=function(){n._progressiveLoadingState.pendingVisibilityChange=null;var y=n.map.getStyle().style;c===y&&(A.forEach(function(C){C.layout.visibility="visible",o.setLayoutProperty(C.id,"visibility","visible")}),(y=n.map.copyrightDelegate)!=null)&&y.reloadAttribution()},n.map.events.addOnce("load",n._progressiveLoadingState.pendingVisibilityChange))},this._onStyleData=function(i){n.map.events.invoke("stylechanged",{style:i.name,map:n.map,type:"stylechanged"})},this._lookUp=function(i){var a,o,A=n.definitions(),s=A.errorIfRejected(),c=A.resultIfResolved();if(s||!c)return null;var A=c.configurations,f=void 0;try{for(var y=D$e(A),C=y.next();!C.done;C=y.next()){var x=C.value;if(x.name===i.style)return x;x.name===c.defaultConfiguration&&(f=f||x)}}catch(k){a={error:k}}finally{try{C&&!C.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return f=f||A[0]},this._lookUpAsync=function(i){return e2(n,void 0,void 0,function(){var a;return t2(this,function(o){switch(o.label){case 0:return[4,this.definitions()];case 1:return a=o.sent(),[2,a.configurations.find(function(s){return s.name===(i.style||a.defaultConfiguration)})||a.configurations.find(function(s){return s.name===a.defaultConfiguration})||a.configurations[0]]}})})},this.map=e,this.serviceOptions=t}return r.prototype.updateIndoorState=function(e,t){var n,i,a=this,o=this.map.styles.getMapConfiguration();o?(this.preservedPreindoorMapConfiguration=o,n=this.map.getStyle().style?"".concat(this.map.getStyle().style,"_indoor").concat(e==="dark"?"_dark":"","_tileset_").concat(t):void 0,this.map.styles.setMapConfiguration("defaultIndoor_".concat(t),o==="microsoft-maps:default"?n:void 0)):(i=((o=this.indoorState)==null?void 0:o.tilesetId)!==t,this.indoorState={tilesetId:t,theme:e},this.initStyleset(),this.definitions().then(function(s){var A=(a.map.getStyle().style||s.defaultConfiguration).replace("_indoor_dark","").replace("_indoor",""),c="".concat(A,"_indoor"),A=s.configurations.find(function(f){return f.name.startsWith(c)});A&&a.map.setStyle({style:A.name},!i)}))},r.prototype.unsetIndoorState=function(){var e=this,t=this.preservedPreindoorMapConfiguration;t?this.map.styles.setMapConfiguration(t):(this.indoorState=void 0,this.initStyleset(),this.definitions().then(function(n){var i=e.map.getStyle().style;i.includes("_indoor")&&i.split("_indoor")[0]?e.map.setStyle({style:i.split("_indoor")[0]}):e.map.setStyle({style:void 0})}))},r.prototype.initStyleset=function(){var e,t=this;return e=this.serviceOptions.mapConfiguration?typeof this.serviceOptions.mapConfiguration=="string"?(e=this.map.authentication?this.map.authentication.initialize():Promise.resolve(),new QI(e.then(function(){return t._request(t.serviceOptions.domain,"".concat(Yn.styleResourcePath,"/mapconfigurations/metadata/").concat(t.serviceOptions.mapConfiguration),"StyleDefinitions").then(function(n){return Df(Df({},n),{defaultConfiguration:n.defaultConfiguration||n.defaultStyle,configurations:n.configurations||n.styles})})}))):QI.resolve(this.serviceOptions.mapConfiguration):(e=this.map.authentication?this.map.authentication.initialize():Promise.resolve(),new QI(e.then(function(){return t._request(t.serviceOptions.staticAssetsDomain,"".concat(Yn.stylePath,"/").concat(Yn.styleResourcePath),"StyleDefinitions",{version:t.serviceOptions.styleDefinitionsVersion,mcv:Qy.replace(/\./g,"")}).then(function(n){return{version:isNaN(n.version)?0:parseFloat(n.version),defaultConfiguration:n.defaultStyle,configurations:n.styles.filter(function(i){return t.indoorState?t.indoorState.theme==="auto"?i.name.endsWith(i.theme==="dark"?"_indoor_dark":"_indoor"):i.name.endsWith(t.indoorState.theme==="dark"?"_indoor_dark":"_indoor"):!i.name.includes("indoor")}).map(function(i){return{copyright:i.copyright.join(" "),name:i.name,displayName:(function(a){return a=t.indoorState&&a.includes("_indoor")?a.split("_indoor")[0]:a,a in Q$?Q$[a]:a})(i.name),theme:i.theme,thumbnail:new Kp({domain:t.serviceOptions.staticAssetsDomain,path:i.thumbnail,protocol:"https"}).toString(),url:new Kp({domain:t.serviceOptions.staticAssetsDomain,path:"".concat(Yn.stylePath,"/").concat(Yn.styleResourcePath,"/").concat(i.name),queryParams:{styleVersion:n.version!==void 0&&n.version!==null?n.version:t.serviceOptions.styleDefinitionsVersion,mcv:Qy.replace(/\./g,"")},protocol:"https"}).toString()}})}})}))),this.initPromise&&this.initPromise.switchWith(e),this.initPromise=e,this.initPromise.then(function(n){return t.map._invokeEvent("mapconfigurationchanged",n)}),this.initPromise},r.prototype.getStyle=function(e){if(e=this._lookUp(e),!e)throw Error("Style definition is not available.");if(e.url)return e.url;if(e.style)return e.style;throw Error("Style definition neither contains URL nor style object.")},r.prototype.deriveNewStyleAndLayerGroups=function(e,t){for(var n,i,a=this.map.getStyle(),o=this.map.getTraffic(),s={},c=0;c<t.layers.length;c++){var A=t.layers[c],f=R$e.getLayerGroup(A);f?(s[f]||(s[f]=[]),s[f].push(A),a.showBuildingModels||A.type!=="fill-extrusion"?A.type==="fill-extrusion"&&(A.layout=(n=A.layout)!=null?n:{},A.layout.visibility="visible"):(A.layout=(n=A.layout)!=null?n:{},A.layout.visibility="none"),o.flow!=="none"&&f&&f==="traffic_".concat(o.flow)&&A.type=="line"&&(A.layout=(i=A.layout)!=null?i:{},A.layout.visibility="visible"),f!=="labels"&&f!=="labels_places"&&f!=="labels_indoor"||A.type!=="symbol"||(a.showLabels&&((i=A.layout)==null?void 0:i.visibility)!=="none"?(A.layout=(f=A.layout)!=null?f:{},A.layout.visibility="visible"):(A.layout=(f=A.layout)!=null?f:{},A.layout.visibility="none"))):s[A.id]=[A]}return[t,s]},r.prototype.injectUserLayersIntoStyle=function(e,t,n){return e?this.map.layers._getUserLayers().reduce(function(i,a){var o,s,c,A;return a.layer instanceof hie||(o=((s=(s=n?.[a.before])==null?void 0:s[0])==null?void 0:s.id)||a.before,s=e.layers.find(function(f){return f.id===a.layer.getId()}),-1<(c=t.layers.findIndex(function(f){return f.id===a.layer.getId()}))&&t.layers.splice(c,1),s&&(c=new Set(Array.from(a.layer._getSourceIds()).map(function(f){var y;return!i.sources[f]&&(y=e.sources[f])?{source:y,id:f}:void 0}).filter(function(f){return f!==void 0})),-1<(A=o?i.layers.findIndex(function(f){return f.id===o}):-1)?i.layers.splice(A,0,s):i.layers.push(s),c.forEach(function(C){var y=C.source,C=C.id;i.sources[C]=y}))),i},Df({},t)):t},r.prototype.setStyle=function(e,t){var n=this,i=(t===void 0&&(t=!0),this._lookUp(e));if(!i)throw Error("Style definition ".concat(e.style," is not available."));if(!i.url&&!i.style)throw Error("Style definition neither contains URL nor style object.");var a,o,s,c=function(){return n._onStyleData(i)},A=function(){n.map.events.remove("styledata",c),n.map.events.addOnce("styledata",c)},f=e&&e.customStyleTransform?function(C,x){return C=e.customStyleTransform(C,x),A(),C}:function(M,k){var D=Df(Df({},k),{layers:r2([],Sy(k.layers),!1),sources:Df({},k.sources)}),N=e.progressiveLoading&&!n.map._isLoaded(),k=(N&&Array.isArray(k?.layers)&&((D=Df({},k)).layers=D.layers.map(function(H){var q=Df({},H);return H.layout&&(q.layout=Df({},H.layout)),q})),Sy(n.deriveNewStyleAndLayerGroups(M,D),2)),D=k[0],k=k[1],N=(N&&(N=e.progressiveLoadingInitialLayerGroups,Array.isArray(N))&&0<N.length&&n._deferLayerGroupVisibilities(k,N),n.injectUserLayersIntoStyle(M,D,k)),M=Object.entries(k).map(function($){var $=Sy($,2),q=$[0],$=$[1];return n._buildFundamentalLayerFrom($,q)}),D=n.map.layers._getUserLayers().reduce(function(H,q){var $=q.before?H.findIndex(function(ce){return ce.getId()===q.before}):-1;return-1<$?H.splice($,0,q.layer):H.push(q.layer),H},M);return n.map.layers.layerIndex=D,n.map.sources._syncSources(N.sources),A(),N},y=i.url;y&&e!=null&&e.styleOverrides&&(a=new URL(y),o=new URLSearchParams(a.search),0<(s=Object.entries(e?.styleOverrides).filter(function(k){var k=Sy(k,2),x=k[0],k=k[1];return x in HI&&(HI[x].includes("bv")&&k?.borderVisible===!1||!HI[x].includes("bv")&&k?.visible===!1)}).map(function(x){var x=Sy(x,2),k=x[0];return x[1],HI[k]})).length)&&(o.set("st",s.join("_")),a.search=o.toString(),y=a.toString()),this.map._getMap().setStyle(y||i.style,{diff:t,validate:this.serviceOptions.validateStyle,transformStyle:f})},r.prototype.getTheme=function(e){if(e=this._lookUp(e),e)return e.theme.toLowerCase()},r.prototype.getThemeAsync=function(e){return e2(this,void 0,void 0,function(){return t2(this,function(t){switch(t.label){case 0:return[4,this._lookUpAsync(e)];case 1:return[2,t.sent().theme]}})})},r.prototype.setMapConfiguration=function(e,t){var n=this;typeof(this.serviceOptions.mapConfiguration=e)=="string"?this.initStyleset():this.initPromise?this.initPromise.hijackAndResolve(e):this.initPromise=QI.resolve(e),this.definitions().then(function(i){var a=i.defaultConfiguration;i.configurations.find(function(o){return o.name===t})&&(a=t),n.map.setStyle({style:a})})},r.prototype.getMapConfiguration=function(){return this.serviceOptions.mapConfiguration},r.prototype.setStyleSet=function(e){this.updateIndoorState(e==="indoor_dark"?"dark":"light",null)},r.prototype.getStyleSet=function(){return this.indoorState!==void 0?this.indoorState.theme==="dark"?"indoor_dark":"indoor":"base"},r.prototype.clearStyleSet=function(){this.unsetIndoorState()},r.prototype._buildFundamentalLayerFrom=function(e,t){if(e&&0<e.length)return(e=new Oy(e,t)).onAdd(this.map),e;throw new Error("Unable to construct fundamental map layer for ID: ".concat(t,"."))},r.prototype._transformStyleRequest=function(e,t){e.includes(Yn.domainPlaceHolder)&&(t.url=t.url.replace(Yn.domainPlaceHolder,this.serviceOptions.domain)),e.includes(Yn.stylePathHolder)&&(t.url=t.url.replace(Yn.stylePathHolder,Yn.stylePath)),e.includes(Yn.styleResourcePlaceholder)&&(t.url=t.url.replace(Yn.styleResourcePlaceholder,Yn.styleResourcePath)),(t.url.toLocaleLowerCase().includes(this.serviceOptions.domain.toLocaleLowerCase())||t.url.toLocaleLowerCase().includes(this.serviceOptions.staticAssetsDomain.toLocaleLowerCase()))&&((e=new URL(t.url)).searchParams.get(Yn.apiVersionQueryParameter)||(e.searchParams.set(Yn.apiVersionQueryParameter,this.serviceOptions.styleAPIVersion),t.url=e.href),(e=this.map.authentication)!=null&&e.signRequest(t),this._deleteAuthTokenForStaticAssets(t))},r.prototype._request=function(e,t,n,i){var a;return i===void 0&&(i={}),e2(this,void 0,void 0,function(){var o,s;return t2(this,function(c){switch(c.label){case 0:return s={url:new Kp({protocol:"https",domain:e,path:t,queryParams:Df(((s={})[Yn.apiVersionQueryParameter]=this.serviceOptions.styleAPIVersion,s),i)}).toString()},typeof this.serviceOptions.transformRequest=="function"&&n&&(s=this.serviceOptions.transformRequest(s.url,n)),(a=this.map.authentication)!=null&&a.signRequest(s),this._deleteAuthTokenForStaticAssets(s),o={method:"GET",mode:"cors"},s.credentials&&(o.credentials=s.credentials),s.headers&&(o.headers=s.headers),[4,fetch(s.url,o).then(function(A){if(A.ok)return A.json();throw new Error("HTTP ".concat(A.status,": ").concat(A.statusText," "))})];case 1:return[2,c.sent()]}})})},r.prototype._deleteAuthTokenForStaticAssets=function(e){e.url.startsWith("https://".concat(this.serviceOptions.staticAssetsDomain,"/").concat(Yn.stylePath))&&(delete e.headers[Yn.msClientIdHeaderName],delete e.headers[Yn.authorizationHeaderName])},r})(),F$e=function(){return"ENVIRONMENT"in window&&!!window.ENVIRONMENT.hmr},H$=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j$e=(function(){function r(e){this.map=e,this.indicators=new Set}return r.prototype.add=function(e){var t,n;e=Array.isArray(e)?e:[e];try{for(var i=H$(e),a=i.next();!a.done;a=i.next()){var o=a.value;this.indicators.has(o)||(this.indicators.add(o),o.attach(this.map))}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.clear=function(){var e=this;this.indicators.forEach(function(t){e.indicators.delete(t),t.remove()})},r.prototype.remove=function(e){var t,n;e=Array.isArray(e)?e:[e];try{for(var i=H$(e),a=i.next();!a.done;a=i.next()){var o=a.value;this.indicators.has(o)&&(this.indicators.delete(o),o.remove())}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.getIndicators=function(){return Array.from(this.indicators)},r.prototype._getCollectionDiv=function(){var e=this.map.getMapContainer().querySelector(".".concat(r.Css.collection));return e||((e=document.createElement("div")).setAttribute("aria-label","map data"),e.setAttribute("role","listbox"),e.classList.add(r.Css.collection),this.map.getMapContainer().appendChild(e)),e},r.Css={collection:"accessible-indicator-collection-container"},r})(),Q$e=window&&window.__extends||(function(){var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(n,i){n.__proto__=i}:function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}))(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),qm=window&&window.__assign||function(){return(qm=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}).apply(this,arguments)},H$e=window&&window.__awaiter||function(r,e,t,n){return new(t=t||Promise)(function(i,a){function o(A){try{c(n.next(A))}catch(f){a(f)}}function s(A){try{c(n.throw(A))}catch(f){a(f)}}function c(A){var f;A.done?i(A.value):((f=A.value)instanceof t?f:new t(function(y){y(f)})).then(o,s)}c((n=n.apply(r,e||[])).next())})},z$e=window&&window.__generator||function(r,e){var t,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(A){var f=[c,A];if(t)throw new TypeError("Generator is already executing.");for(;a=o&&f[o=0]?0:a;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,(f=i?[2&f[0],i.value]:f)[0]){case 0:case 1:i=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3]))a.label=f[1];else if(f[0]===6&&a.label<i[1])a.label=i[1],i=f;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(f)}}f=e.call(r,a)}catch(y){f=[6,y],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}},q$e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},K$e=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},zI=window&&window.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return{value:(r=r&&n>=r.length?void 0:r)&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cQ=(function(r){function e(t,n){var i,a,o=r.call(this)||this,s=(o.removed=!1,o.loaded=!1,o.ready=!1,o._resizeCallback=function(){return o.resize()},!0);o._updateGlobalDefaults(n),o.serviceOptions=new JD().merge(n),o.styleOptions=new j$().merge(n),o.trafficOptions=new UN,o.styles=new U$e(o,o.serviceOptions),o.insights=new sGe(o.serviceOptions),o.serviceOptions.authOptions.subscriptionKey&&(o.serviceOptions.authOptions.subscriptionKey=encodeURIComponent(o.serviceOptions.authOptions.subscriptionKey)),i=o.serviceOptions.authOptions.clientId||(o.serviceOptions.authOptions.subscriptionKey?o.serviceOptions.authOptions.subscriptionKey.replace(/.(?=.{3,}$)/g,"*"):"invalid-setting"),o.insights&&o.insights.setAuthenticatedUserContext(o.serviceOptions.sessionId,i),arguments[2]&&F$e()?(a=arguments[2],o.ready=!0,o.loaded=!0):(i={antialias:o.styleOptions.antialias,attributionControl:!1,container:t,fadeDuration:o.serviceOptions.fadeDuration,localIdeographFontFamily:o.serviceOptions.localIdeographFontFamily,preserveDrawingBuffer:o.styleOptions.preserveDrawingBuffer,refreshExpiredTiles:o.serviceOptions.refreshExpiredTiles,renderWorldCopies:o.styleOptions.renderWorldCopies,trackResize:!1,transformRequest:function(y,C){var x={url:y};return C==="Tile"||C==="Source"?(y.includes(Yn.legacyDomainPlaceHolder)&&o.insights&&o.insights.trackEvent({name:"TileLoad"}),o._substituteDomainLanguageViewAndSignInRequest(y,x)):C!=="Style"&&C!=="SpriteJSON"&&C!=="SpriteImage"&&C!=="Glyphs"||o.styles._transformStyleRequest(y,x),o.serviceOptions.transformRequest&&jne(x,o.serviceOptions.transformRequest(x.url,C)),x}},a=new Oh.Map(i));try{o.map=a,o.authentication=new G3e(o),o.controls=new $3e(o),o.events=new W3e(o),o.imageSprite=new X3e(o),o.layers=new n$e(o),o.markers=new Z3e(o),o.sources=new a$e(o),o.popups=new i$e(o),o.indicators=new j$e(o),o.map.getContainer().classList.add(e.Css.container),o.map.getCanvasContainer().classList.add(e.Css.canvasContainer),o.map.getCanvas().classList.add(e.Css.canvas),o._detectHighContrast(),o.copyrightControl=new uGe({showFeedbackLink:o.styleOptions.showFeedbackLink,showLogo:o.styleOptions.showLogo,customAttribution:o.styleOptions.customAttribution}),o.controls.add(o.copyrightControl,{position:kh.NonFixed}),o.logoControl=new dGe({showLogo:o.styleOptions.showLogo}),o.controls.add(o.logoControl,{position:kh.BottomLeft});var c=o.authentication?o.authentication.initialize():Promise.resolve();if(o.removed)return o;var A=function(){o.loaded=!0,o.map.off("load",A)},f=(o.map.on("load",A),function(){o.ready=!0,o.map.off("styledata",f),o.events.invoke("ready",{map:o,type:"ready"})});o.map.on("styledata",f),o._setAutoResize(o.styleOptions.autoResize),o.map.showTileBoundaries=o.styleOptions.showTileBoundaries,o.localizedStringsPromise=DN.getStrings(o.styleOptions.language),c.then(function(){return o.styles.definitions()}).then(function(y){if(!o.removed){if(o.authentication&&!o.authentication.getToken())throw new Error("AuthenticationManager finished initializing, but no token is available");o.serviceOptions["enable-accessibility"]&&o.accessibleMapDelegate.addToMap(),o._setStyleComponents(o.styleOptions),o.copyrightDelegate&&o.copyrightDelegate.addToMap()}}).catch(function(y){y=y instanceof Error?y:new Error(y),o.insights.trackException({error:y}),y={map:o,type:"error",error:y},o.events.invoke("error",y)}),o.setCamera(qm(qm({minZoom:1},n),{type:"jump",duration:0})),o.incidentDelegate=new CGe(o),o.flowDelegate=new _Ge(o),o.accessibleMapDelegate=new vGe(o),o.userInteractionDelegate=new BGe(o,n),o.userInteractionDelegate.addToMap(),o.copyrightDelegate=new FGe(o,o.copyrightControl,o.styleOptions)}catch(y){throw s=!1,o.insights.trackException({error:y instanceof Error?y:new Error(y)}),y}finally{o.insights.trackEvent({name:"MapLoad"},{success:s,supported:jU(),supportedWithPerformance:jU({failIfMajorPerformanceCaveat:!0})}),o.insights.flush()}return o}return Q$e(e,r),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.removed},enumerable:!1,configurable:!0}),e.prototype.getCanvas=function(){return this.map.getCanvas()},e.prototype.getCanvasContainer=function(){return this.map.getCanvasContainer()},e.prototype.getMapContainer=function(){return this.map.getContainer()},e.prototype.getServiceOptions=function(){return ia(this.serviceOptions,JD._cloneCustomizer)},e.prototype.setServiceOptions=function(t){this.serviceOptions=new JD().merge(this.serviceOptions,t),this.serviceOptions["enable-accessibility"]?this.accessibleMapDelegate.addToMap():this.accessibleMapDelegate.removeFromMap(),t=this.styles.serviceOptions.mapConfiguration!==this.serviceOptions.mapConfiguration||this.styles.serviceOptions.staticAssetsDomain!==this.serviceOptions.staticAssetsDomain||this.styles.serviceOptions.styleDefinitionsVersion!==this.serviceOptions.styleDefinitionsVersion||this.styles.serviceOptions.domain!==this.serviceOptions.domain||this.styles.serviceOptions.styleAPIVersion!==this.serviceOptions.styleAPIVersion,this.styles.serviceOptions=this.serviceOptions,t&&(this.styles.initPromise=null,this.setStyle({}))},e.prototype.addRequestTransformer=function(t){this.serviceOptions.addTransformer(t)},e.prototype.removeRequestTransformer=function(t){this.serviceOptions.removeTransformer(t)},e.prototype.setCamera=function(t,n){if(n===void 0&&(n=!1),"padding"in t||"offset"in t||"bounds"in t){var i,s=new f$e().merge({maxZoom:this.getCamera().maxZoom},t),a=this._generateSafeBounds(s.bounds),c={padding:s.padding,offset:s.offset,maxZoom:s.maxZoom};if(!(i=this.map.cameraForBounds(a,c)))throw o={message:"The map cannot be fit to the current canvas with the given CameraBoundsOptions.",containerWidth:(o=(o=this.map)==null?void 0:o.getContainer())==null?void 0:o.clientWidth,containerHeight:o?.clientHeight,safeBounds:a,cameraForBoundsOptions:c},new Error(JSON.stringify(o));"pitch"in t&&(i.pitch=t.pitch),"bearing"in t&&(i.bearing=t.bearing),"minPitch"in t&&this.map.setMinPitch(t.minPitch),"maxPitch"in t&&this.map.setMaxPitch(t.maxPitch),"minZoom"in t&&this.map.setMinZoom(t.minZoom),a=this._generateSafeBounds(s.maxBounds)}else c=new m$e().merge(this.getCamera(),t),c.centerOffset&&2<=c.centerOffset.length&&(o=c.centerOffset,(s=oT([c.center],c.zoom))[0][0]+=o[0],s[0][1]+=o[1],c.center=o8(s,c.zoom)[0]),i={center:c.center,zoom:c.zoom,bearing:c.bearing,pitch:c.pitch,around:void 0},c.minZoom<1&&console.warn("Setting minZoom below 1 may result in an empty map when the zoom level is less than 1."),this.map.setMinZoom(c.minZoom),this.map.setMaxZoom(c.maxZoom),c.minPitch&&this.map.setMinPitch(c.minPitch),c.maxPitch&&this.map.setMaxPitch(c.maxPitch),this._invokeEvent("minzoomchanged",this.map.getMinZoom()),this._invokeEvent("maxzoomchanged",this.map.getMaxZoom()),a=this._generateSafeBounds(c.maxBounds);a?this.map.setMaxBounds(a):this.map.setMaxBounds(null);var o=new s$e().merge(t),s={duration:o.duration,easing:function(A){return A},offset:[0,0],animate:!0},c={fromControl:n};o.type==="jump"?this.map.jumpTo(i,c):o.type==="ease"?this.map.easeTo(qm(qm({},i),s),c):o.type==="fly"&&this.map.flyTo(qm(qm({},i),s),c)},e.prototype.setCameraBounds=function(t){this.setCamera(t)},e.prototype.getCamera=function(){var t=this.map.getBounds().getSouthWest().toArray(),n=this.map.getBounds().getNorthEast().toArray();return{zoom:this.map.getZoom(),center:this.map.getCenter().toArray(),bearing:this.map.getBearing(),pitch:this.map.getPitch(),bounds:new Ii(t,n),minZoom:this.map.getMinZoom(),maxZoom:this.map.getMaxZoom(),maxBounds:(t=this.map.getMaxBounds())==null?void 0:t.toArray().flat()}},e.prototype.setStyle=function(t,n){n===void 0&&(n=!0),delete t.preserveDrawingBuffer,t=new j$().merge(this.styleOptions,t),t.autoResize!==this.styleOptions.autoResize&&this._setAutoResize(t.autoResize),t.language!==this.styleOptions.language&&(this.localizedStringsPromise=DN.getStrings(t.language)),t.renderWorldCopies!==this.styleOptions.renderWorldCopies&&this.map.setRenderWorldCopies(t.renderWorldCopies),t.showFeedbackLink!==this.styleOptions.showFeedbackLink&&this.copyrightControl.setOptions({showFeedbackLink:t.showFeedbackLink}),t.customAttribution!==this.styleOptions.customAttribution&&this.copyrightControl.setOptions({customAttribution:t.customAttribution}),t.showLogo!==this.styleOptions.showLogo&&(this.copyrightControl.setOptions({showLogo:t.showLogo}),this.logoControl.setOptions({showLogo:t.showLogo})),t.showTileBoundaries!==this.styleOptions.showTileBoundaries&&(this.map.showTileBoundaries=t.showTileBoundaries),t.showBuildingModels&&console.warn("showBuildingModels is deprecated."),n=n&&this.styleOptions.language===t.language&&this.styleOptions.view===t.view,this.styleOptions=t,this._setStyleComponents(t,n)},e.prototype.getStyle=function(){return Vs(this.styleOptions)},e.prototype.addIcon=function(t,n){this.imageSprite.add(t,n)},e.prototype.addPins=function(t,i){var i=new x$e().merge(i),a=this.layers.getLayerById(i.name),o=!1;if(a||(o=!0,a=new QN("".concat(i.name,"-source"),i.name,{source:"".concat(i.name,"-source"),minZoom:i.minZoom,maxZoom:i.maxZoom,iconOptions:{anchor:"center",size:i.iconSize,image:["case",["has","icon"],["get","icon"],i.icon],ignorePlacement:!i.cluster,opacity:i.opacity},textOptions:{anchor:"center",textField:["case",["has","point_count"],["to-string",["get","point_count"]],["has","title"],["to-string",["get","title"]],i.title],font:["case",["has","point_count"],["literal",["StandardFontCondensed-Bold"]],["literal",[i.textFont]]],size:["case",["has","point_count"],20,i.fontSize],ignorePlacement:!i.cluster,opacity:i.opacity,offset:["case",["has","point_count"],["literal",[.5,-.45]],["literal",[i.textOffset[0]/16,i.textOffset[1]/16]]],color:i.fontColor}})),!(a instanceof QN))throw new Error("A layer with name '".concat(i.name,"' already exists but it is not a SymbolLayer.")+"A SymbolLayer should be used for rendering pins.");var s=a.getSource(),c=(typeof s=="string"?(A=s,s=this.sources.getById(A)):A=s.getId(),!1);if(s||(c=!0,s=new nd(A,{cluster:i.cluster})),!(s instanceof nd))throw new Error("The source with name '".concat(A,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");c&&this.sources.add(s),o&&this.layers.add(a,i.before);var A=new V0(t);i.overwrite?s.setShapes(A):s.add(A)},e.prototype.addCircles=function(t,i){var i=new v$e().merge(i),a=this.layers.getLayerById(i.name),o=!1;if(a||(o=!0,a=new eF("".concat(i.name,"-source"),i.name,{source:"".concat(i.name,"-source"),minZoom:i.minZoom,maxZoom:i.maxZoom,opacity:i.opacity,radius:["case",["has","radius"],["get","radius"],i.radius],color:["case",["has","color"],["get","color"],i.color],strokeColor:["case",["has","outlineColor"],["get","outlineColor"],i.outlineColor],strokeWidth:["case",["has","outlineWidth"],["get","outlineWidth"],i.outlineWidth]})),!(a instanceof eF))throw new Error("A layer with name '".concat(i.name,"' already exists but it is not a BubbleLayer.")+"A BubbleLayer should be used for rendering circles.");var s=a.getSource(),c=(typeof s=="string"?(A=s,s=this.sources.getById(A)):A=s.getId(),!1);if(s||(c=!0,s=new nd(A)),!(s instanceof nd))throw new Error("The source with name '".concat(A,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");c&&this.sources.add(s),o&&this.layers.add(a,i.before);var A=new V0(t);i.overwrite?s.setShapes(A):s.add(A)},e.prototype.addLinestrings=function(t,i){var i=new b$e().merge(i),a=this.layers.getLayerById(i.name),o=!1;if(a||(o=!0,a=new tF("".concat(i.name,"-source"),i.name,{source:"".concat(i.name,"-source"),minZoom:i.minZoom,maxZoom:i.maxZoom,lineCap:i.cap,lineJoin:i.join,strokeOpacity:i.opacity,strokeColor:["case",["has","color"],["get","color"],i.color],strokeWidth:["case",["has","width"],["get","width"],i.width]})),!(a instanceof tF))throw new Error("A layer with name '".concat(i.name,"' already exists but it is not a LineLayer.")+"A LineLayer should be used for rendering linestrings.");var s=a.getSource(),c=(typeof s=="string"?(A=s,s=this.sources.getById(A)):A=s.getId(),!1);if(s||(c=!0,s=new nd(A)),!(s instanceof nd))throw new Error("The source with name '".concat(A,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");c&&this.sources.add(s),o&&this.layers.add(a,i.before);var A=new V0(t);i.overwrite?s.setShapes(A):s.add(A)},e.prototype.addPolygons=function(t,i){var i=new E$e().merge(i),a=this.layers.getLayerById(i.name),o=!1;if(a||(o=!0,a=new rF("".concat(i.name,"-source"),i.name,{source:"".concat(i.name,"-source"),minZoom:i.minZoom,maxZoom:i.maxZoom,fillOpacity:i.opacity,fillColor:["case",["has","color"],["get","color"],i.color]})),!(a instanceof rF))throw new Error("A layer with name '".concat(i.name,"' already exists but it is not a PolygonLayer.")+"A PolygonLayer should be used for rendering linestrings.");var s=a.getSource(),c=(typeof s=="string"?(A=s,s=this.sources.getById(A)):A=s.getId(),!1);if(s||(c=!0,s=new nd(A)),!(s instanceof nd))throw new Error("The source with name '".concat(A,"' already exists but it is not a DataSource.")+"New data can only be added to a DataSource.");c&&this.sources.add(s),o&&this.layers.add(a,i.before);var A=new V0(t);i.overwrite?s.setShapes(A):s.add(A)},e.prototype.addRaster=function(t,a){var i,a=new T$e().merge(a),o=this.layers.getLayerById(a.name);if(!((o=o||new HN({maxZoom:a.maxZoom,minZoom:a.minZoom,opacity:a.opacity,tileSize:256,tileUrl:"{subdomain}"},a.name))instanceof HN))throw new Error("A layer with name '".concat(a.name,"' already exists but it is not a TileLayer.")+"A TileLayer should be used for rendering raster images.");if(o.getOptions().tileUrl!=="{subdomain}")throw new Error("A TileLayer with name '".concat(a.name,"' already exists but was configured ")+"for a single tile url [default for new TileLayer(...)].");(i=!a.overwrite&&o.getOptions().subdomains||[]).push.apply(i,K$e([],q$e(t),!1)),o._setOptionsNoUpdate({subdomains:i}),this.layers.add(o,a.before)},e.prototype.getLayers=function(){return this.layers.getLayers().map(function(t){return t.getId()})},e.prototype.removeLayers=function(t){var n,i;try{for(var a=zI(t),o=a.next();!o.done;o=a.next()){var s,c=o.value;this.layers.getLayerById(c)&&(this.layers.remove(c),s="".concat(c,"-source"),this.sources.getById(s))&&this.sources.remove(s)}}catch(A){n={error:A}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.addHtml=function(t,n){t.id||(t.id="marker_".concat(k_()));var i=new c8({htmlContent:t});return this.markers.add(i,n),t.id},e.prototype.removeHtml=function(t){this.markers.remove(t)},e.prototype.addEventListener=function(t,n,i){this.events._addLegacy(t,n,i)},e.prototype.removeEventListener=function(t,n,i){this.events._removeLegacy(t,n,i)},e.prototype.setUserInteraction=function(t){this.userInteractionDelegate.setOptions(t)},e.prototype.getUserInteraction=function(){return this.userInteractionDelegate.getOptions()},e.prototype.addControl=function(t,n){this.controls.add(t,n)},e.prototype.removeControl=function(t){this.controls.remove(t)},e.prototype.setTraffic=function(t){var n=this.trafficOptions.incidents,i=this.trafficOptions.flow;if(this.trafficOptions=new UN().merge(this.trafficOptions,t),this.controls.getControls().filter(function(a){return a instanceof Qne}).forEach(function(a){return a.updateButtonState()}),this.incidentDelegate&&(this.trafficOptions.incidents?n||this.incidentDelegate.addToMap():this.incidentDelegate.removeFromMap()),this.trafficOptions.flow&&this.trafficOptions.flow!=="none"){["absolute","relative-delay"].includes(this.trafficOptions.flow)&&console.warn("The 'absolute' and 'relative-delay' flow options are deprecated. Please use 'relative' instead.");try{this.trafficOptions.flow!==i&&this.flowDelegate.addToMap()}catch(a){throw this.trafficOptions.flow=i,a}}else this.flowDelegate.removeFromMap()},e.prototype.getTraffic=function(){return Vs(this.trafficOptions)},e.prototype.remove=function(){this.dispose()},e.prototype.clear=function(){this.popups.clear(),this.layers.clear(),this.sources.clear(),this.markers.clear(),this.indicators.clear()},e.prototype.dispose=function(){var t;for(this.clear(),this.map.remove(),(t=this.authentication)!=null&&t.dispose(),this.removed=!0,(t=this.resizeObserver)!=null&&t.disconnect(),this.resizeObserver=null;this.getMapContainer().firstChild;){var n=this.getMapContainer().firstChild;this.getMapContainer().removeChild(n)}},e.prototype.resize=function(t,n,i){typeof t!="number"&&typeof t!="string"||typeof n!="number"&&typeof n!="string"?i=t:(t=t,this.getMapContainer().style.height=typeof t=="number"?"".concat(t,"px"):t,this.getMapContainer().style.width=typeof n=="number"?"".concat(n,"px"):n),t=this.getMapContainer().style.overflow,this.getMapContainer().style.overflow="hidden",this.map.resize(i),this.getMapContainer().style.overflow=t},e.prototype.pixelsToPositions=function(t){var n,i,a=[];try{for(var o=zI(t),s=o.next();!s.done;s=o.next()){var c=s.value,A=this.map.unproject(c);a.push(new ru(A.lng,A.lat))}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.positionsToPixels=function(t){var n,i,a=[];try{for(var o=zI(t),s=o.next();!s.done;s=o.next()){var c=s.value,A=this.map.project(c);a.push(new iu(A.x,A.y))}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.areTilesLoaded=function(){return this.map.areTilesLoaded()},e.prototype.stop=function(){this.map.stop()},e.prototype.triggerRepaint=function(){this.map.triggerRepaint()},e.prototype.enableElevation=function(t,n){this.map.setTerrain(typeof t=="string"?{source:t,exaggeration:n}:{source:t.getId(),exaggeration:n})},e.prototype.disableElevation=function(){this.map.setTerrain(null)},e.prototype._getMap=function(){return this.map},e.prototype._rebuildStyle=function(t){return t===void 0&&(t=!0),H$e(this,void 0,void 0,function(){return z$e(this,function(n){return this.styles.setStyle(this.styleOptions,t),this.imageSprite._restoreImages(),[2]})})},e.prototype._isLoaded=function(){return this.loaded},e.prototype._isReady=function(){return this.ready},e.prototype._getLocalizedStrings=function(){return this.localizedStringsPromise},e.prototype._sendRequest=function(t,n,i){var a;return(a=typeof this.serviceOptions.transformRequest=="function"?this.serviceOptions.transformRequest(t,n):a)?fetch(a.url||t,{credentials:a.credentials,headers:qm(qm({},i),a.headers),method:"GET",mode:"cors"}):fetch(t,{headers:i,method:"GET",mode:"cors"})},e.prototype._substituteDomainLanguageViewAndSignInRequest=function(t,n){var i;(t.includes(Yn.legacyDomainPlaceHolder)||t.includes(Yn.domainPlaceHolder))&&(i=new RegExp("[^{]".concat(Yn.legacyDomainPlaceHolder,"[^}]")),t.match(i)&&(n.url=n.url.replace(Yn.legacyDomainPlaceHolder,Yn.domainPlaceHolder)),Kp.protoRegEx.test(this.serviceOptions.domain)?(i=n.url.indexOf(Yn.domainPlaceHolder),n.url=this.serviceOptions.domain+n.url.substring(i+Yn.domainPlaceHolder.length)):n.url=n.url.replace(Yn.domainPlaceHolder,this.serviceOptions.domain)),(n.url.toLocaleLowerCase().includes(this.serviceOptions.domain.toLocaleLowerCase())||n.url.toLocaleLowerCase().includes(this.serviceOptions.staticAssetsDomain.toLocaleLowerCase()))&&(i=this.authentication)!=null&&i.signRequest(n),t.includes(Yn.languagePlaceHolder)&&(n.url=n.url.replace(Yn.languagePlaceHolder,this.styleOptions.language)),t.includes(Yn.viewPlaceHolder)&&(n.url=this.styleOptions.view?n.url.replace(Yn.viewPlaceHolder,this.styleOptions.view):n.url.replace(Yn.viewPlaceHolder,"").replace("&".concat(Yn.viewParameter,"="),""))},e.prototype._setAutoResize=function(t){t?(this.resizeObserver||(this.resizeObserver=new ResizeObserver(this._resizeCallback)),this.resizeObserver.observe(this.map.getContainer())):this.resizeObserver&&this.resizeObserver.unobserve(this.map.getContainer())},e.prototype._setStyleComponents=function(t,n){var i=this;n===void 0&&(n=!0),this.removed||this.styles.definitions().then(function(a){var o,s,c=!0;if(i.styleOptions.style)try{for(var A=zI(a.configurations),f=A.next();!f.done;f=A.next()){var y=f.value;if(i.styleOptions.style===y.name){c=!1;break}}}catch(C){o={error:C}}finally{try{f&&!f.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}c&&(i.styleOptions.style=a.defaultConfiguration),i.styleOptions=t,i._rebuildStyle(n)})},e.prototype._updateGlobalDefaults=function(t){t&&(t.authOptions&&!QU()&&zre(t.authOptions),t.domain&&!Jre()&&qre(t.domain),t.styleDefinitionsPath&&!ene()&&Kre(t.styleDefinitionsPath),t.workerCount&&!tne()&&Vre(t.workerCount),t.maxParallelImageRequests&&!rne()&&Gre(t.maxParallelImageRequests),!t.subscriptionKey&&!t["subscription-key"]||QU()||Wre(t.subscriptionKey||t["subscription-key"]),!t.sessionId&&!t["session-id"]||ine()||Yre(t.sessionId||t["session-id"]),t.language&&!nne()&&$re(t.language),!t.userRegion&&!t.view||ane()||Zre(t.userRegion||t.view))},e.prototype._generateSafeBounds=function(t){if(t){var n=Ii.getSouth(t),i=Ii.getWest(t),a=Ii.getNorth(t),o=Ii.getEast(t);if(!(isFinite(n)&&isFinite(i)&&isFinite(a)&&isFinite(o)))throw new Error("The bounds specified are invalid: [".concat(t,"]"));for(;o<i;)o+=360;return new Ii([i,n,o,a])}return t},e.prototype._detectHighContrast=function(){var t,n;switch(Sze.getHighContrastMode()){case"invert":case"light":t=e.Css.hcLight,n="high_contrast_light";break;case"dark":t=e.Css.hcDark,n="high_contrast_dark"}t&&this.map.getContainer().classList.add(t),n&&this.styleOptions.style==="road"&&(this.styleOptions.style=n)},e.Css={canvasContainer:"atlas-map-canvas-container",canvas:"atlas-map-canvas",container:"atlas-map",hcDark:"high-contrast-dark",hcLight:"high-contrast-light"},e})(Hg),V$e=window&&window.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n,i,a=t.call(r),o=[];try{for(;(e===void 0||0<e--)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},G$e=window&&window.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||((n=n||Array.prototype.slice.call(e,0,i))[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))},$$e=(function(){function r(){this.detectHyperlinks=!0,this.parsePropertyPaths=!0}return r.applyTemplate=function(e,t){var n,i,a,o=this,s=document.createElement("div");return s.classList.add(r.Css.template),e&&(typeof(t=t||{}).singleDescription!="boolean"&&(t.singleDescription=!0),t.sandboxContent=typeof t.sandboxContent!="boolean"||t.sandboxContent,t.title&&typeof t.content=="string"&&(t.content.includes("{title}")||t.content.includes("{name}"))||(e.title?t.title="{title}":e.name&&(t.title="{name}")),typeof t.detectHyperlinks!="boolean"&&(t.detectHyperlinks=!0),typeof t.parsePropertyPaths!="boolean"&&(t.parsePropertyPaths=!0),t.textColor&&(s.style.color=t.textColor),t.fillColor&&(s.style.backgroundColor=t.fillColor),t.title&&((a=this._applyStringTemplate(e,t.title,t)).innerText=a.textContent||a.innerText||"",this._appendChild(s,a,r.Css.title)),(n=document.createElement("div")).classList.add(r.Css.content),Array.isArray(t.content)?0<t.content.length&&t.content[0].propertyPath?this._appendChild(n,this._generateContent(e,t.content,t),r.Css.item):t.content.forEach(function(c){o._appendChild(n,o._generateContent(e,c,t),r.Css.item)}):(i=0,a=void(e.description&&Object.keys(e).forEach(function(c){o._ignoreProperty(c,e[c])||i++})),i===1||t.singleDescription&&e.description||i===2&&e.Snippet?(a=document.createElement("div")).innerHTML=e.description:a=this._generateContent(e,t.content,t),this._appendChild(n,a,r.Css.item)),n.innerHTML!=="")&&(t.sandboxContent?s.appendChild(r._createSandboxedIframe(n,t)):s.appendChild(n)),s},r._createSandboxedIframe=function(i,t){var n=document.createElement("iframe"),i=(n.sandbox.add("allow-popups"),i.innerHTML),a=!1,y=100,o=550,s=10,f=(document.body.scrollWidth<=340&&(o=300,y=50),i.split(/<(tr|div|br|li|h[0-9]|p>)/)),A=Math.max.apply(Math,G$e([],V$e(f.map(function(C){return C.replace(/<[a-zA-Z0-9\s=\/]+>/g,"").length})),!1))-1,c=Math.ceil(3.5*A),A=(c<o&&(o=c,y=A),i.includes("<img")||i.includes("<video")?(a=!0,n.width="550px"):(c=-1<i.indexOf(r.Css.table)?25:20,s+=Math.max(.5*f.length*c,Math.ceil(i.replace(/<[a-zA-Z0-9\s=\/]+>/g,"").length/y)*c)),n.width=o+"px",n.height=a||280<s?"280px":s+"px",t.textColor?"color:".concat(t.textColor,";"):""),f=t.fillColor?"background-color:".concat(t.fillColor,";"):"",y='<html><head><title></title><meta charset="utf-8" /><meta http-equiv="x-ua-compatible" content="IE=Edge" />'+'<link rel="stylesheet" href="'.concat(r._cssUrl,'" type="text/css"/>')+"<style>html, body{margin:0;padding:0;".concat(A).concat(f,"}</style></head>")+'<body><div class="'.concat(r.Css.template,'" style="padding:0;width:').concat(o-20,'px">').concat(i,"</div></body></html>");return n.srcdoc===void 0?n.src="data:text/html;charset=utf-8,"+encodeURI(y):n.srcdoc=y,n},r._appendChild=function(e,t,n){t&&(n&&(t.className=(t.className?t.className+" ":"")+n),e.appendChild(t))},r._generateContent=function(e,t,n){return t?Array.isArray(t)?this._generatePropertyInfoTable(e,t,n):this._applyStringTemplate(e,t,n):(t=this._generateDynamicTableHtml(e,null,n))?((e=document.createElement("div")).innerHTML=t,e):null},r._applyStringTemplate=function(e,t,n){if(t){for(var i,a,o=t,s=this._placeholderRx.exec(t);s;)2<=s.length&&(i=this._getPropertyValue(e,s[1],n),o=o.replace(s[0],i)),s=this._placeholderRx.exec(t);if(o)return(o=o.trim()).includes("<")&&(o=o.replace(/[\r\n]+/g,"<br/>")),(a=document.createElement("div")).innerHTML=o,a}return null},r._getPropertyValue=function(e,t,n,i){var a=n.parsePropertyPaths?t.split("/"):[t],o=a.length;if(0<o&&e){var s=a[0],c=e[s];if(n.detectHyperlinks&&t==="link"&&(!i||i.hyperlinkFormat)){var A,f,y,C=[];if(Array.isArray(c)?c.forEach(function(D){D.href?C.push(D):typeof D=="string"&&C.push({href:D})}):c.href&&C.push(c),0<C.length)return i&&i.hyperlinkFormat?A=i.hyperlinkFormat:n&&n.hyperlinkFormat&&(A=n.hyperlinkFormat),f=A&&A.target?A.target:"_blank",y=[],C.forEach(function(D){D.title||A&&A.label||!D.rel||y.push(D.rel," - "),y.push('<a href="',D.href,'" target="',f,'">'),D.title?y.push(D.title):A&&A.label?y.push(A.label):y.push(D.href),y.push("</a>","<br/>")}),y.pop(),y.join("")}if(c!=null){for(var x=void 0,x=1;x<o&&(c=c[a[x]],s=a[x],c!=null);x++);if(x===o&&c!=null){if(e=void 0,(e=c.value!==void 0?c.value:c)instanceof Date)return i&&i.dateFormat?e.toLocaleString(void 0,i.dateFormat):n.dateFormat?e.toLocaleString(void 0,n.dateFormat):e.toISOString();if(typeof e=="object")return(k=this._generateDynamicTableHtml(e,a.slice(1),n))||"";if(typeof e=="number"){if(i){if(i.dateFormat)return new Date(e).toLocaleString(void 0,i.dateFormat);if(i.numberFormat)return e.toLocaleString(void 0,i.numberFormat)}else if(/(timestamp|date)/gi.test(s))return new Date(e).toISOString();return e.toLocaleString(void 0,n.numberFormat)}if(typeof e=="string"&&e!==""&&!/[\n\r<>\s]/g.test(e)&&(n.detectHyperlinks||i&&i.hyperlinkFormat)){var k,e=e.trim(),t=this._isUrlRx.test(e)||i&&i.hyperlinkFormat,N=this._isImageUrlRx.test(e)&&(t||e.startsWith("data:image")),M=this._emailRx.test(e);if(t||N||M)return t=void 0,k=void(i&&i.hyperlinkFormat?t=i.hyperlinkFormat:n&&n.hyperlinkFormat&&(t=n.hyperlinkFormat)),k=t&&t.target?' target="'.concat(t.target,'"'):' target="_blank"',i="".concat(t&&t.label?t.label:e),t&&t.scheme?e=t.scheme+e:M&&(e="mailto:"+e),n=t&&t.label?' alt="'.concat(t.label,'"'):"",(t&&t.isImage||N)&&(i='<img src="'.concat(e,'" style="max-width:100%"').concat(n,'"/>')),'<a href="'.concat(e,'"').concat(k,">").concat(i,"</a>")}return e.toString()}}}return""},r._generatePropertyInfoTable=function(e,t,n){var i,a;return e&&t&&0<t.length?((i=[]).push('<table class="'.concat((a=this).Css.table,'">')),t.forEach(function(o){var s=a._getPropertyValue(e,o.propertyPath,n,o);o.hideLabel?i.push('<tr><td colspan="2">',s,"</td></tr>"):(o=o.label||o.propertyPath.split("/")[0],i.push("<tr><th>",o,"</th><td>",s,"</td></tr>"))}),i.push("</table>"),(t=document.createElement("div")).innerHTML=i.join(""),t):null},r._generateDynamicTableHtml=function(e,t,n){var i,a,o,s,c=this;return!e||((i=[]).push('<table class="'.concat((a=this).Css.table,'">')),o=t&&0<t.length?t.join("/")+"/":"",s=0,Object.keys(e).forEach(function(A){c._ignoreProperty(A,e[A])||(i.push("<tr><th>",A,"</th><td>",a._getPropertyValue(e,o+A,n),"</td></tr>"),s++)}),s===0)?null:(i.push("</table>"),i.join(""))},r._ignoreProperty=function(e,t){switch(e){case"title":case"name":case"base":case"popupTemplate":case"anchor":case"icon":case"image":case"imageUrl":case"rotation":case"color":case"size":case"offset":case"strokeColor":case"strokeWidth":case"strokeOpacity":case"subType":case"fillColor":case"fillOpacity":case"visibility":case"visible":return!0;default:if(e.indexOf("_")===0||t==null||t==="")return!0}return!1},r._placeholderRx=/\{([a-zA-Z0-9_\/\s]+)\}/gi,r._isUrlRx=/^(http|https|ftp|tel|mailto):\/\//i,r._isImageUrlRx=/(^data:image|.png$|.jpg$|.jpeg$|.gif$|.bmp$|.svg|.tif|.tiff$)/i,r._emailRx=/^[^\.\s@:](?:[^\s@:]*[^\s@:\.])?@[^\.\s@]+(?:\.[^\.\s@]+)*$/,r._cssUrl=new Kp({domain:Gf.staticAssetsDomain,path:"sdk/javascript/mapcontrol/".concat(JO.getEndpointVersion(),"/atlas.min.css")}).toString(),r.Css={template:"azure-maps-control-popup-template",title:"azure-maps-control-popup-template-title",content:"azure-maps-control-popup-template-content",item:"azure-maps-control-popup-template-content-item",table:"azure-maps-control-popup-template-table"},r})();lV(),Object.freeze({__proto__:null,get AuthenticationType(){return no},get ControlPosition(){return kh},get ControlStyle(){return vc},HtmlMarker:c8,Map:cQ,Pixel:iu,Popup:Bw,PopupTemplate:$$e,Shape:Oo,_enableRTLTextPlugin:lV,_getAssetDomain:bLe,_getDomain:wLe,_hasMaxParallelImageRequests:rne,_hasSetAuthenticationOptions:QU,_hasSetDomain:Jre,_hasSetLanguage:nne,_hasSetSessionId:ine,_hasSetStyleDefinitionsPath:ene,_hasSetStyleDefinitionsVersion:_Le,_hasSetView:ane,_hasWorkerCount:tne,addImageTemplate:fLe,addProtocol:yLe,clearPrewarmedResources:gLe,control:XU,data:YC,getAllImageTemplateNames:pLe,getAuthenticationOptions:Pre,getDomain:qj,getImageTemplate:Xre,getLanguage:Fre,getMaxParallelImageRequests:Ure,getSessionId:jre,getStaticAssetsDomain:Ore,getStyleAPIVersion:Rre,getStyleDefinitionsPath:Mre,getStyleDefinitionsVersion:Lre,getSubscriptionKey:Qre,getUserRegion:lLe,getVersion:cLe,getView:Hre,getWorkerCount:Dre,internal:SLe,isSupported:uLe,layer:ZC,math:hHe,prewarm:mLe,removeProtocol:vLe,setAuthenticationOptions:zre,setDomain:qre,setLanguage:$re,setMaxParallelImageRequests:Gre,setSessionId:Yre,setStyleAPIVersion:ALe,setStyleDefinitionsPath:Kre,setStyleDefinitionsVersion:hLe,setSubscriptionKey:Wre,setUserRegion:Zre,setView:dLe,setWorkerCount:Vre,source:JU});const Y$e=()=>{const r=Z.useRef(null),[e,t]=Z.useState(null),[n,i]=Z.useState([]),[a,o]=Z.useState(null),[s,c]=Z.useState(!0),[A,f]=Z.useState(new Date),y="CjkwxWSlkIJBrkLJxh2G469pYElCVSCAmpwzMUhnoiEvIfHlWtPiJQQJ99BIACYeBjFvT24DAAAgAZMP3D2x";Z.useEffect(()=>{C(),k();const V=setInterval(C,3e4);return()=>clearInterval(V)},[]),Z.useEffect(()=>{e&&n.length>0&&N(n)},[e,n]);const C=()=>{try{const V=R6.map(he=>({...he,coordinates:x(),timestamp:he.timestamp||new Date().toISOString()}));i(V),f(new Date),e&&N(V)}catch(V){console.error("Error fetching reports:",V)}finally{c(!1)}},x=()=>{const V=[{lat:19.076,lng:72.8777,name:"Mumbai Coast"},{lat:13.0827,lng:80.2707,name:"Chennai Coast"},{lat:15.2993,lng:74.124,name:"Goa Coast"},{lat:11.9416,lng:79.8083,name:"Pondicherry Coast"},{lat:8.5241,lng:76.9366,name:"Kerala Coast"},{lat:20.2961,lng:85.8245,name:"Odisha Coast"},{lat:21.1458,lng:79.0882,name:"Nagpur Coast"},{lat:17.6868,lng:83.2185,name:"Visakhapatnam Coast"},{lat:12.2958,lng:76.6394,name:"Mysore Coast"},{lat:23.0225,lng:72.5714,name:"Ahmedabad Coast"}],he=V[Math.floor(Math.random()*V.length)],le=(Math.random()-.5)*.3,fe=(Math.random()-.5)*.3;return[he.lng+fe,he.lat+le]},k=()=>{if(r.current){const V=new cQ(r.current,{center:[78.9629,20.5937],zoom:5,minZoom:4,maxZoom:18,view:"Auto",authOptions:{authType:"subscriptionKey",subscriptionKey:y},style:"road",showLogo:!1,showFeedbackLink:!1,bounds:[68,6,97,37],padding:{top:50,bottom:50,left:50,right:50}});V.events.add("ready",()=>{console.log("Azure Maps loaded successfully"),t(V),c(!1),V.controls.add([new XU.ZoomControl,new XU.StyleControl({mapStyles:["road","satellite","road_shaded_relief","grayscale_dark"]})],{position:"top-right"}),n.length>0&&N(n)}),V.events.add("error",he=>{console.error("Azure Maps error:",he),c(!1)})}},N=V=>{if(!e)return;const he=V.filter(Ee=>{const _e=(Ee.hazardType||Ee.type||"").toLowerCase(),ke=(Ee.description||"").toLowerCase();return!["storm","pollution","weather","rain","wind"].some(ze=>_e.includes(ze)||ke.includes(ze))});if(he.length===0){console.log("No ocean hazard reports to display on map");return}const le="reportsDataSource_"+Date.now(),fe=new JU.DataSource(le);e.sources.add(fe),he.forEach(Ee=>{const _e=new YC.Feature(new YC.Point(Ee.coordinates),{id:Ee.id,title:Ee.hazardType||Ee.type,description:Ee.description,status:Ee.status,severity:Ee.severity,location:Ee.location,timestamp:Ee.timestamp,reporterName:Ee.reportedBy||"Anonymous"});fe.add(_e)});const Ne="bubble-layer_"+Date.now(),W=new ZC.BubbleLayer(fe,Ne,{radius:["case",["==",["get","severity"],"high"],16,["==",["get","severity"],"medium"],14,12],strokeWidth:["case",["==",["get","severity"],"high"],4,["==",["get","severity"],"medium"],3,2],strokeColor:["case",["==",["get","status"],"pending"],"#ffffff",["==",["get","status"],"verified"],"#ffffff",["==",["get","status"],"resolved"],"#ffffff","#ffffff"],color:["case",["==",["get","status"],"pending"],"#ef4444",["==",["get","status"],"verified"],"#f59e0b",["==",["get","status"],"resolved"],"#10b981","#6b7280"],blur:.2,opacity:["case",["==",["get","severity"],"high"],.9,["==",["get","severity"],"medium"],.8,.7],strokeOpacity:.9,pitchAlignment:"map",rotationAlignment:"map"});e.layers.add(W);const ue="glow-layer_"+Date.now(),de=new ZC.BubbleLayer(fe,ue,{radius:["case",["==",["get","severity"],"high"],20,["==",["get","severity"],"medium"],18,16],strokeWidth:0,color:["case",["==",["get","status"],"pending"],"#ef4444",["==",["get","status"],"verified"],"#f59e0b",["==",["get","status"],"resolved"],"#10b981","#6b7280"],opacity:.2,blur:.8});e.layers.add(de);const me="symbol-layer_"+Date.now(),Qe=new ZC.SymbolLayer(fe,me,{iconOptions:{image:["case",["==",["get","title"],"high-tide"],"pin-blue",["==",["get","title"],"jellyfish"],"pin-round-blue",["==",["get","title"],"oil-spill"],"pin-red",["==",["get","title"],"unusual-activity"],"pin-darkblue","pin-blue"],size:["case",["==",["get","severity"],"high"],1.2,["==",["get","severity"],"medium"],1,.8],anchor:"bottom",allowOverlap:!0,ignorePlacement:!1,opacity:.9},textOptions:{textField:["get","title"],color:"#ffffff",haloColor:"#000000",haloWidth:2,size:["case",["==",["get","severity"],"high"],12,["==",["get","severity"],"medium"],11,10],offset:[0,-2],allowOverlap:!1,textTransform:"uppercase"}});e.layers.add(Qe),e.events.add("click",W,Ee=>{if(Ee.shapes&&Ee.shapes.length>0){const _e=Ee.shapes[0].getProperties(),ke=Ee.shapes[0].getCoordinates();o({..._e,coordinates:ke});const We=new Bw({content:ce(_e),position:ke,pixelOffset:[0,-30],closeButton:!0,fillColor:"rgba(255, 255, 255, 0.95)",showPointer:!0});e.popups.clear(),e.popups.add(We),H(ke)}}),e.events.add("mouseenter",W,Ee=>{if(e.getCanvasContainer().style.cursor="pointer",Ee.shapes&&Ee.shapes.length>0){const _e=Ee.shapes[0].getCoordinates(),ke=Ee.shapes[0].getProperties(),We=new Bw({content:`
            <div class="p-2 bg-gray-900 text-white rounded-lg shadow-lg min-w-[200px]">
              <div class="flex items-center space-x-2 mb-1">
                <div class="w-3 h-3 rounded-full ${M(ke.status)}"></div>
                <span class="font-semibold text-sm">${ke.title}</span>
              </div>
              <p class="text-xs text-gray-300 mb-1">${ke.location}</p>
              <div class="flex items-center justify-between text-xs">
                <span class="capitalize ${D(ke.severity)}">${ke.severity} severity</span>
                <span class="text-gray-400">${ke.status}</span>
              </div>
            </div>
          `,position:_e,pixelOffset:[0,-50],closeButton:!1,showPointer:!1});e.popups.add(We),q(_e)}}),e.events.add("mouseleave",W,()=>{e.getCanvasContainer().style.cursor="grab",e.popups.getPopups().forEach(_e=>{_e.getOptions().closeButton||e.popups.remove(_e)}),$()})},M=V=>{switch(V){case"pending":return"bg-red-500";case"verified":return"bg-yellow-500";case"resolved":return"bg-green-500";default:return"bg-gray-500"}},D=V=>{switch(V){case"high":return"text-red-400";case"medium":return"text-yellow-400";case"low":return"text-green-400";default:return"text-gray-400"}},H=V=>{const he=new JU.DataSource("pulse_"+Date.now());e.sources.add(he);const le=new YC.Feature(new YC.Point(V));he.add(le);const fe=new ZC.BubbleLayer(he,"pulse_layer_"+Date.now(),{radius:30,color:"#0066CC",opacity:.6,strokeWidth:2,strokeColor:"#ffffff"});e.layers.add(fe);let Ne=30,W=.6;const ue=()=>{Ne+=2,W-=.03,W>0?(fe.setOptions({radius:Ne,opacity:W}),requestAnimationFrame(ue)):(e.layers.remove(fe),e.sources.remove(he))};ue()},q=V=>{console.log("Hover effect at:",V)},$=()=>{console.log("Removing hover effects")},ce=V=>{const he={pending:"bg-red-500 border-red-600",verified:"bg-yellow-500 border-yellow-600",resolved:"bg-green-500 border-green-600"},le={high:"text-red-600 bg-red-50 border-red-200",medium:"text-yellow-600 bg-yellow-50 border-yellow-200",low:"text-green-600 bg-green-50 border-green-200"},fe={pending:"",verified:"",resolved:""};return`
      <div class="bg-white rounded-2xl shadow-2xl border-0 overflow-hidden max-w-sm animate-fadeIn">
        <!-- Header with gradient background -->
        <div class="bg-gradient-to-r from-blue-600 to-blue-700 p-4 text-white relative overflow-hidden">
          <div class="absolute inset-0 bg-white/10 backdrop-blur-sm"></div>
          <div class="relative z-10">
            <div class="flex items-start justify-between mb-2">
              <div class="flex items-center space-x-2">
                <span class="text-2xl">${{"high-tide":"",jellyfish:"","oil-spill":"","unusual-activity":""}[V.title]||""}</span>
                <h3 class="text-lg font-bold capitalize">${V.title.replace("-"," ")}</h3>
              </div>
              <div class="flex items-center space-x-1">
                <span class="text-sm">${fe[V.status]}</span>
                <span class="px-2 py-1 rounded-full text-xs font-semibold ${he[V.status]} text-white border">
                  ${V.status.toUpperCase()}
                </span>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <span class="px-2 py-1 rounded-lg text-xs font-medium border border-white/30 ${le[V.severity]} bg-white/90">
                ${V.severity.toUpperCase()} SEVERITY
              </span>
            </div>
          </div>
          <!-- Animated wave pattern -->
          <div class="absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-r from-blue-500 to-cyan-500 opacity-30">
            <svg class="w-full h-full" viewBox="0 0 400 40" preserveAspectRatio="none">
              <path d="M0,20 Q100,0 200,20 T400,20 L400,40 L0,40 Z" fill="currentColor" class="animate-pulse"/>
            </svg>
          </div>
        </div>
        
        <!-- Content -->
        <div class="p-4 space-y-3">
          <p class="text-gray-700 text-sm leading-relaxed bg-gray-50 p-3 rounded-lg border-l-4 border-blue-500">
            ${V.description}
          </p>
          
          <div class="space-y-2">
            <div class="flex items-center space-x-2 p-2 bg-blue-50 rounded-lg">
              <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
              </svg>
              <span class="text-sm font-medium text-blue-800">${V.location}</span>
            </div>
            
            <div class="flex items-center space-x-2 p-2 bg-gray-50 rounded-lg">
              <svg class="w-4 h-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
              </svg>
              <span class="text-sm text-gray-600">${new Date(V.timestamp).toLocaleString()}</span>
            </div>
            
            <div class="flex items-center space-x-2 p-2 bg-gray-50 rounded-lg">
              <svg class="w-4 h-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
              </svg>
              <span class="text-sm text-gray-600">Reported by <strong>${V.reporterName}</strong></span>
            </div>
          </div>
          
          <!-- Action buttons -->
          <div class="flex space-x-2 pt-2 border-t border-gray-100">
            <button class="flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium py-2 px-3 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-1">
              <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path>
              </svg>
              <span>View Details</span>
            </button>
            <button class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs font-medium py-2 px-3 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-1">
              <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path>
              </svg>
              <span>Download</span>
            </button>
          </div>
        </div>
      </div>
      
      <style>
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px) scale(0.95); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      </style>
    `};return S.jsxs("div",{className:"min-h-screen bg-gray-50",children:[S.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-3 rounded-2xl",children:S.jsx(Ph,{className:"h-8 w-8 text-white"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interactive Hazard Map"}),S.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time ocean hazard tracking and monitoring"})]})]}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-xl px-4 py-2",children:[S.jsx("div",{className:`w-3 h-3 rounded-full ${s?"bg-yellow-500 animate-pulse":"bg-green-500"}`}),S.jsx("span",{className:"text-sm font-medium text-gray-700",children:s?"Loading...":`${n.length} Active Reports`})]}),S.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-xl px-4 py-2",children:[S.jsx(M6,{className:"h-4 w-4 text-gray-500"}),S.jsxs("span",{className:"text-sm text-gray-600",children:["Updated: ",A.toLocaleTimeString()]})]})]})]})})}),S.jsxs("div",{className:"relative",style:{height:"calc(100vh - 200px)"},children:[S.jsxs("div",{className:"absolute top-4 left-4 z-10 bg-white rounded-2xl shadow-lg border border-gray-200 p-4",children:[S.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-3",children:"Status Legend"}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),S.jsxs("span",{className:"text-sm text-gray-700",children:["Pending (",n.filter(V=>V.status==="pending").length,")"]})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),S.jsxs("span",{className:"text-sm text-gray-700",children:["Verified (",n.filter(V=>V.status==="verified").length,")"]})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),S.jsxs("span",{className:"text-sm text-gray-700",children:["Resolved (",n.filter(V=>V.status==="resolved").length,")"]})]})]})]}),s&&S.jsx("div",{className:"absolute inset-0 bg-white/90 flex items-center justify-center z-20 rounded-lg",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),S.jsx("p",{className:"text-gray-600 text-lg",children:"Loading map..."}),S.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Initializing Azure Maps"})]})}),S.jsx("div",{ref:r,className:"w-full h-full rounded-lg shadow-lg",style:{minHeight:"400px"}}),S.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-2xl shadow-lg border border-gray-200 p-4 max-w-sm",children:[S.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[S.jsx(Jc,{className:"h-5 w-5 text-blue-600"}),S.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Map Controls"})]}),S.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[S.jsx("p",{children:" Click markers for detailed information"}),S.jsx("p",{children:" Use mouse wheel to zoom in/out"}),S.jsx("p",{children:" Drag to pan around the map"}),S.jsx("p",{children:" Auto-refreshes every 30 seconds"}),S.jsxs("p",{children:[" Total markers: ",n.length]})]})]})]}),S.jsx("div",{className:"bg-white border-t border-gray-200",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-50 rounded-xl",children:[S.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:S.jsx(dv,{className:"h-5 w-5 text-red-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-red-600",children:n.filter(V=>V.status==="pending").length}),S.jsx("div",{className:"text-sm text-red-700",children:"Pending"})]})]}),S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 rounded-xl",children:[S.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:S.jsx(Jc,{className:"h-5 w-5 text-yellow-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-yellow-600",children:n.filter(V=>V.status==="verified").length}),S.jsx("div",{className:"text-sm text-yellow-700",children:"Verified"})]})]}),S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-xl",children:[S.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:S.jsx(QE,{className:"h-5 w-5 text-green-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-green-600",children:n.filter(V=>V.status==="resolved").length}),S.jsx("div",{className:"text-sm text-green-700",children:"Resolved"})]})]}),S.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-xl",children:[S.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:S.jsx(Ph,{className:"h-5 w-5 text-blue-600"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold text-blue-600",children:n.length}),S.jsx("div",{className:"text-sm text-blue-700",children:"Total Reports"})]})]})]})})})]})};function W$e(){return S.jsx(Hce,{children:S.jsx(zce,{children:S.jsx(hhe,{children:S.jsxs(Wle,{children:[S.jsxs(Tle,{children:[S.jsx(Ip,{path:"/login",element:S.jsx(ghe,{})}),S.jsx(Ip,{path:"/",element:S.jsx(F1,{children:S.jsx(mhe,{})})}),S.jsx(Ip,{path:"/reports",element:S.jsx(F1,{children:S.jsx(yhe,{})})}),S.jsx(Ip,{path:"/map",element:S.jsx(F1,{children:S.jsx(Y$e,{})})}),S.jsx(Ip,{path:"/about",element:S.jsx(F1,{children:S.jsx(_he,{})})}),S.jsx(Ip,{path:"/submit-report",element:S.jsx(WM,{requiredRole:"citizen",children:S.jsx(F1,{children:S.jsx(vhe,{})})})}),S.jsx(Ip,{path:"/gamification",element:S.jsx(WM,{requiredRole:"citizen",children:S.jsx(F1,{children:S.jsx(whe,{})})})}),S.jsx(Ip,{path:"/admin",element:S.jsx(WM,{requiredRole:"admin",children:S.jsx(N4e,{})})}),S.jsx(Ip,{path:"*",element:S.jsx(Lk,{to:"/",replace:!0})})]}),S.jsx(Qce,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastClassName:"!text-sm",bodyClassName:"!text-sm"})]})})})})}Dse.createRoot(document.getElementById("root")).render(S.jsx(Z.StrictMode,{children:S.jsx(W$e,{})}));export{Na as _,Z$e as c,Og as g};
